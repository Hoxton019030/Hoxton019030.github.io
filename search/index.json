[{"content":"å‰é™£å­å›è¨ºçš„æ™‚å€™çªç„¶æƒ³åˆ°é€™ç³»åˆ—å¥½ä¹…æ²’æ›´æ–°ï¼Œä¸Šæ¬¡æ›´æ–°å·²ç¶“æ˜¯å¿«ä¸€å¹´äº†ï¼Œæƒ³äº†æƒ³å¤§æ¦‚çŸ¥é“ç‚ºä»€éº¼ï¼Œä¸»è¦æ˜¯å¾é‚£æ¬¡æ‰“å®Œéª¨é‡˜å¾Œå…¶å¯¦å°±æ²’ä»€éº¼ç‰¹åˆ¥çš„è®ŠåŒ–ï¼Œæ˜¯çœŸçš„æ²’ä»€éº¼è‚‰çœ¼å¯è¦‹çš„è®ŠåŒ–é‚£ç¨®ï¼Œè¦å¯«å…¶å¯¦ä¹Ÿå¯«ä¸å‡ºå€‹å•¥ï¼Œç›´åˆ°æœ€è¿‘æ¯”è¼ƒå¤šæ±è¥¿å¯ä»¥å¯«ï¼Œæ–¼æ˜¯ä¾†è¨˜éŒ„ä¸€ä¸‹ã€‚\nå¤§æ¦‚æ˜¯äº”æœˆåˆçš„æ™‚å€™æˆ‘ç™¼ç¾æˆ‘çš„ä¸‹æ’éª¨é‡˜é¬†è„«äº†ï¼Œå°±æ˜¯æ–è‘—æ–è‘—ç™¼ç¾ã€Œå’¦ï¼Ÿæ€éº¼å¥½åƒå¯ä»¥æ‹”å‡ºä¾†äº†ã€ç•¶ä¸‹å¿ƒè£¡æµ®ç¾çš„ç¬¬ä¸€å€‹æƒ³æ³•å°±æ˜¯\nã€Œå®Œè›‹ï¼Œè©²ä¸æœƒé‚„è¦å†æ‰“ä¸€æ¬¡éª¨é‡˜å§ã€\næ‰€å¹¸ä¸‹æ¬¡å›è¨ºçš„æ™‚å€™ï¼Œå»–é†«å¸«çœ‹äº†çœ‹è·Ÿæˆ‘èªªå…ˆä¸ç”¨æ‰“æ²’é—œä¿‚ï¼Œç­‰åˆ°æ—¥å¾Œæœ‰éœ€è¦å†è£œå°±å¥½ï¼Œç•¶ä¸‹é “æ™‚è¦ºå¾—æœ‰é»åƒ¥å€–ï¼Œä½†é€™ç¨®åƒ¥å€–çš„å¿ƒæƒ…å¾ˆå¿«åˆæ€¥è½‰ç›´ä¸‹ï¼Œå»–é†«å¸«éš¨å¾Œä¾¿åœ¨æˆ‘çš„é–€ç‰™å…§å´é»ä¸Šäº†å…©é¡†éšœç¤™ç‰©ï¼Œè®“æˆ‘ä¸Šä¸‹ç‰™å®Œå…¨å’¬åˆä¸èµ·ä¾†ï¼Œé»å®Œçš„ç•¶ä¸‹é€£è©±éƒ½èªªä¸å¥½ï¼Œä»»ä½•è¦ç™¼ th éŸ³çš„å­—åŸºæœ¬ä¸Šéƒ½æ˜¯æœƒæ’ˆé¢¨çš„ç‹€æ…‹ï¼Œè€å¯¦èªªå»–é†«å¸«å¯èƒ½ä¹Ÿæœ‰é»å¿ƒç†è®Šæ…‹å§ï¼Œé‚„æ²’é»çš„æ™‚å€™éƒ½æ²’å•¥è·Ÿæˆ‘èŠå¤©ï¼Œæˆ‘é»å®Œå¢Šé«˜ç‰©å¾Œå°±é–‹å§‹è·Ÿæˆ‘èŠ\nã€Œä¸Šæ¬¡æœ‰æ²’æœ‰ä¸èˆ’æœå‘€ï¼Ÿã€ä¹‹é¡ä¹‹é¡çš„\nå›å»æŸ¥äº†ä¸‹ï¼Œé€™å€‹å¢Šé«˜ç‰©èªªæ˜¯è¦è®“æˆ‘çš„ç‰™é½’æ‹‰å‡ºä¾†ï¼Œæˆ‘çœ‹çš„æ™‚å€™ä¹Ÿæ˜¯æ»¿è‡‰å•è™Ÿã€‚é»å®Œå¢Šé«˜ç‰©çš„é‚£ä¸€å€‹ç¦®æ‹œæ˜¯æˆ‘äººç”Ÿä¸­æœ€ç•¸å½¢çš„ä¸€å€‹ç¦®æ‹œï¼Œå› ç‚ºæˆ‘çš„é–€ç‰™è¢«å¢Šé«˜ï¼Œä¸Šä¸‹ç‰™èƒ½æ¥è§¸åˆ°çš„é¢ç©åªæœ‰å¾Œç‰™çš„æŸå¹¾å¡Šäº¤æ¥é»ï¼Œé‚£æ®µæ™‚é–“æˆ‘åƒæ±è¥¿åŸºæœ¬ä¸Šéƒ½æ˜¯åŠååŠå’¬çš„ã€‚\néš¨å¾Œå¤§æ¦‚å…©å€‹ç¦®æ‹œå¾Œï¼ŒæŸå¤©ç…§é¡å­çš„æ™‚å€™çªç„¶ç™¼ç¾\nå’¦ï¼ï¼æˆ‘çš„è‡‰å‹å¥½åƒè®Šäº†ï¼æŸ¥äº†ä¸€ä¸‹å¥½åƒæ˜¯å› ç‚ºå•¥å‰ç‰™å¢Šé«˜ï¼Œæœƒè®“ä½ çš„ä¸‹å·´é‚„æ˜¯ä»€éº¼é¬¼çš„æ‹‰å‡ºä¾†é‚„æ˜¯ä»€éº¼ï¼Œç¸½ä¹‹æˆ‘çš„è‡‰å‹çµ‚æ–¼æœ‰æ”¹è®Šäº†ï¼åœ¨é€™å€‹å¸¶ç‰™å¥—å·²ç¶“éäº†ä¸€å¹´ä»ç„¶ä¸è¦‹èµ·è‰²çš„æˆ‘èº«ä¸Šï¼Œèƒ½æœ‰ä¸€ä¸é»å…’è®ŠåŒ–æˆ‘éƒ½è¬å¤©è¬åœ°ï¼Œ\nç„¶å¾Œæœ€å¾Œèªªä¸€ä¸‹å¸¶ç‰™å¥—é€™ä¸€å¹´çš„å¿ƒå¾—ï¼Œèªªä¸€èªªé‚„æ²’æˆ´å‰èˆ‡æˆ´å¾Œçš„ä¸€äº›å¿ƒå¾—\næˆ´ä¹‹å‰è¦ºå¾—çš„å•é¡Œ\n å¾ˆç—›ï¼Œä¸å¥½å’¬æ±è¥¿ è¦æ‹”ç‰™ï¼Œå¾ˆå¯æ€• æ¸…æ½”éº»ç…©  ä½†é€™äº›å•é¡Œæˆ‘æˆ´å®Œä¹‹å¾Œè¦ºå¾—é™¤äº†æ¸…æ½”éº»ç…©ä»¥å¤–ï¼Œæˆ‘éƒ½è¦ºå¾—é‚„å¥½ï¼Œå…¶å¯¦ä¹Ÿæ²’æƒ³åƒä¸­çš„ç—›ï¼Œæˆ‘å³ä½¿æ˜¯æœ€ç—›çš„æƒ…æ³ä¹Ÿæ²’æœ‰æ‹¿éä»€éº¼é£Ÿç‰©å‰ªåˆ€å‰ªé£Ÿç‰©åƒï¼Œæˆ–æ˜¯åƒæµè³ªé£Ÿå“éæ´»ï¼Œé ‚å¤šå°±æ˜¯åƒåƒé¥…é ­ã€è˜¿è””ç³•é€™ç¨®æ±è¥¿ã€‚\nè‡³æ–¼æ‹”ç‰™çš„è©±æˆ‘è¦ºå¾—ç¢ºå¯¦æ˜¯è »ä¸èˆ’æœçš„ï¼Œè€Œä¸”å‰›å¥½æ˜¯å››é¡†å¥åº·çš„ç‰™é½’ï¼Œæ‹”æ‰ç¢ºå¯¦æœ‰é»å¿ƒç–¼ï¼Œä½†çœŸçš„ä¸èˆ’æœçš„æˆ‘è¦ºå¾—é‚„æ˜¯éª¨é‡˜å°±æ˜¯äº†= =\næ¸…æ½”å€’æ˜¯çœŸçš„éº»ç…©ï¼ŒåŸæ¯”æˆ‘æ²’æˆ´ä¹‹å‰æƒ³çš„é‚„è¦éº»ç…©å¾—å¤šï¼Œä»¥ç‚ºå¯èƒ½åªæ˜¯æ¯æ¬¡åƒå®Œéƒ½è¦åˆ·ç‰™ï¼Œä½†å¯¦éš›ä¸Šå¾ˆå¤šé£Ÿç‰©ï¼Œä¾‹å¦‚è”¬èœã€ç²—çº–ç¶­çš„ç‰›è‚‰å¾ˆå®¹æ˜“å¡åœ¨ç‰™å¥—äº¤ç•Œè™•çš„åœ°æ–¹ï¼Œé‚£äº›åœ°æ–¹ä½ å³ä½¿ç”¨ç‰™åˆ·åˆ·ä¹Ÿä¸å¤ªå¥½è™•ç†ï¼Œå¤šåŠè¦é…åˆç‰™é–“åˆ·æˆ–æ˜¯æ²–ç‰™æ©Ÿæ‰æ¯”è¼ƒæ–¹ä¾¿è™•ç†ï¼Œä½¿å¾—æˆ‘ç¾åœ¨å¦‚æœåˆ°å°åŒ—æˆ–æ˜¯å‡ºé é–€ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯ä¸æœƒåƒæ±è¥¿çš„ï¼Œå› ç‚ºçœŸçš„å¤ªéº»ç…©ï¼Œé‚„è¦æ‰¾æ´—æ‰‹é–“å»åˆ·ç‰™ä»€éº¼çš„ï¼Œæ—äººçœ‹åˆ°æ‡‰è©²æœƒè¦ºå¾—æœ‰é»å™ï¼Œæ‰€ä»¥æˆ‘å¤šåŠéƒ½æ˜¯å¤–å¸¶æˆ–æ˜¯å®¶è£¡é™„è¿‘åƒä¸€åƒã€‚\nä»¥ä¸Šæ˜¯å¸¶ç‰™å¥—å¤§æ¦‚ä¸€å¹´å¤šåˆå¿«åŠå¹´çš„å¿ƒå¾—ï¼Œä»¥ä¸Šã€‚\n","date":"2025-07-27T19:31:15+08:00","image":"https://i.imgur.com/9Po80VH.png","permalink":"https://hoxtoncraft.com/p/%E7%89%99%E5%A5%97%E7%B4%80%E9%8C%84%E5%9B%9B/","title":"ç‰™å¥—ç´€éŒ„\u003cå››\u003e"},{"content":"ç·£èµ· æœ€è¿‘æœ‰å¾ˆå¤šéœ€è¦çœ‹å½±ç‰‡å­¸ç¿’çš„æ™‚é–“ï¼Œå¦‚æœåªæ˜¯ä¸€å…©éƒ¨é‚„å¥½ï¼Œä½†æ˜¯ç¸½å…±å¤§æ¦‚200å¤šå€‹å½±ç‰‡ï¼Œæ¯å€‹å½±ç‰‡é•·åº¦å¤§æ¦‚éƒ½1ã€2å°æ™‚ï¼Œä¸¦ä¸”å¯èƒ½æœ‰äº›å½±ç‰‡çš„é‡è³ªæ€§å¾ˆé«˜ï¼Œæ¯”å¦‚èªªå…©éƒ¨å½±ç‰‡è¬›çš„éƒ½æ˜¯Aä¸»é¡Œï¼Œå¤§æ¦‚80%å…§å®¹éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œåªæœ‰å°‘éƒ¨åˆ†çš„å…§å®¹æ˜¯ä¸åŒï¼Œç‚ºäº†é€™ä¸åŒçš„å…§å®¹å†æŠŠå¥½å¹¾åå€‹å°æ™‚çš„å½±ç‰‡çœ‹å®Œï¼Œé¡¯å¾—å¾—ä¸å„Ÿå¤±ï¼Œæ–¼æ˜¯æƒ³åˆ°ç¶²è·¯ä¸Šä¸‰ä¸äº”æ™‚éƒ½æœ‰åˆ†äº«è‡ªå·±æ˜¯å¦‚ä½•åšå‡ºå½±ç‰‡é€å­—ç¨¿çš„ï¼Œæ–¼æ˜¯ä¹Ÿä¾†ç ”ç©¶ä¸€ä¸‹ã€‚\nçµè«– è½‰æ›å½±ç‰‡å¦‚ä¸‹ï¼š\næœ€æ–°ã€‹ä¸¹å¨œçµ²é•·å¤§é•·èƒ–ï¼ æš´é¢¨åœˆã€Œç ´å£åŠ›å¼·ã€ä¼°æ˜æ™šè§¸é™¸\né€™å€‹æ–¹æ³•æˆ‘è¦ºå¾—å¦‚æœæˆ‘å¿ƒç›®ä¸­æ˜¯100åˆ†çš„è©±ï¼Œé€™å€‹æ–¹æ³•å¤§æ¦‚å¯ä»¥åšåˆ°85åˆ†ï¼Œæ•´é«”è½‰æ›çš„é€Ÿåº¦ï¼Œå¤§æ¦‚è½åœ¨15x~20xä¹‹é–“ï¼Œä¹Ÿå°±æ˜¯èªªæ¯1ç§’å¯ä»¥è½‰15ç§’åˆ°20ç§’çš„å½±ç‰‡ï¼Œä¸€å€‹å…©å°æ™‚é•·çš„å½±ç‰‡å¤§æ¦‚è½åœ¨500ç§’å·¦å³è½‰å®Œï¼Œç•¶ç„¶é€™æ˜¯å»ºç«‹åœ¨æˆ‘çš„å½±ç‰‡éƒ½æ˜¯ä¸­æ–‡ç‚ºä¸»ï¼Œä¸¦ä¸”åªæœ‰å–®ä¸€è¬›è€…çš„æƒ…å½¢ï¼Œä¹‹æ‰€ä»¥ä¸æ˜¯æ»¿åˆ†çš„åŸå› æ˜¯å› ç‚ºä¸­æ–‡çš„èªè¨€æ¨¡å‹å› ç‚ºè¨“ç·´ç´ æçš„é—œä¿‚ï¼Œæœƒåœ¨ç„¡äººè²çš„åœ°æ–¹åŠ ä¸Šä¸€äº›ç„¡é—œçš„è©å½™ï¼Œä»¥åŠå¶çˆ¾è½‰å‡ºä¾†çš„é€å­—ç¨¿æ˜¯ç©ºç™½çš„(ä¸æ’é™¤æ˜¯æˆ‘é›»è…¦é€²å…¥å¾…æ©Ÿå¾Œæ‰€å°è‡´çš„å•é¡Œ)ï¼Œæ•´é«”è€Œè¨€æˆ‘å°æ–¼è½‰å‡ºä¾†çš„å“è³ªç®—æ˜¯æ»¿æ„ï¼Œä¸­æ–‡çš„æº–ç¢ºåº¦å¤§æ¦‚åœ¨90%å·¦å³ï¼Œå°‘æ•¸éŒ¯èª¤çš„åœ°æ–¹åŸºæœ¬ä¸Šä¹Ÿå¯ä»¥çœ‹è‘—ç¨¿é‚„åŸå‡ºç•¶æ™‚çš„æ¨¡æ¨£ã€‚\né¡Œå¤–è©±ï¼Œé€™å€‹è½‰æ›é€Ÿåº¦ä¸ä¸€å®šæ˜¯ç·šæ€§çš„ï¼Œä½†ç›¸åŒçš„å½±ç‰‡åœ¨æˆ‘çš„M1 Proä¸Šè½‰æ›é€Ÿåº¦å¤§æ¦‚æ˜¯1x~2xå·¦å³ï¼Œæ‰€ä»¥é‚„æ˜¯å»ºè­°ç”¨Windowsè·ŸNVIDA Cudaä¾†è½‰æ›ï¼Œæœƒæ¯”è¼ƒå¿«ä¸€é»\nä½¿ç”¨çš„å·¥å…·èˆ‡ç’°å¢ƒ é€™æ¬¡ä½¿ç”¨èªè¨€æ˜¯Python3.11.0ï¼Œé…åˆçš„å¥—ä»¶æ˜¯Fast Whisperä»¥åŠyt-dlpï¼Œå‰è€…ç”¨ä¾†åšèªéŸ³è¾¨èªåŠé€å­—ç¨¿ï¼Œå¾Œè€…ç”¨ä¾†å¾Youtubeä¸Šä¸‹è¼‰å½±ç‰‡ã€‚ä¹‹æ‰€ä»¥ç”¨Fast Whisperè€Œä¸æ˜¯ç”¨Whisperçš„åŸå› æ˜¯å› ç‚ºFast Whisperæ¯”è¼ƒå¿«å•¦ï¼Œè©³ç´°å¯ä»¥çœ‹è¯­éŸ³è¯†åˆ«æ¨¡å‹å“ªå®¶å¼ºï¼Œfaster-whisperè¿˜æ˜¯openai-whisper\nç¡¬é«”çš„è©±å‰‡æ˜¯\n CPU: AMD Ryzen 5 7500F 6-Core Processorï¼Œ3701 Mhzï¼Œ6 å€‹æ ¸å¿ƒï¼Œ12 å€‹é‚è¼¯è™•ç†å™¨ RAM: 32G GPU: NVIDIA GeForce RTX 3060 Ti  å®‰è£ç›¸é—œå¥—ä»¶ faster-whisper 1  pip install faster-whisper   yt-dlp 1  py -m pip install yt-dlp   ffmpeg 1  brew install ffmpeg   Code ä¸å¾—ä¸èªªï¼Œç¾åœ¨æœ‰AIçœŸçš„æ˜¯è »æ–¹ä¾¿çš„ï¼Œä¸ç„¶é›£æƒ³åƒé€™æ±è¥¿è¦è‡ªå·±æ‰‹åˆ»å‡ºä¾†è¦èŠ±æˆ‘å¤šä¹…æ™‚é–“\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221  import subprocess import os import time import threading import re from faster_whisper import WhisperModel # è¨­å®šä½¿ç”¨è£ç½® device = \u0026#34;cuda\u0026#34; if os.environ.get(\u0026#34;CUDA_VISIBLE_DEVICES\u0026#34;) != \u0026#34;-1\u0026#34; else \u0026#34;cpu\u0026#34; print(f\u0026#34;ç›®å‰ä½¿ç”¨è£ç½®: {device}\u0026#34;) # è¼‰å…¥æ¨¡å‹ model = WhisperModel(\u0026#34;medium\u0026#34;, device=device, compute_type=\u0026#34;float16\u0026#34; if device == \u0026#34;cuda\u0026#34; else \u0026#34;int8\u0026#34;) # åˆæ³•åŒ–æª”å def sanitize_filename(name): name = re.sub(r\u0026#39;[\\\\/:*?\u0026#34;\u0026lt;\u0026gt;|\\n\\r]\u0026#39;, \u0026#39;_\u0026#39;, name) name = name.strip().rstrip(\u0026#39;.\u0026#39;) return name[:100] def get_playlist_title(playlist_url): try: result = subprocess.run([ \u0026#34;yt-dlp\u0026#34;, \u0026#34;--skip-download\u0026#34;, \u0026#34;--no-warning\u0026#34;, \u0026#34;--print\u0026#34;, \u0026#34;playlist_title\u0026#34;, playlist_url ], capture_output=True, text=True) lines = result.stdout.strip().splitlines() if lines: title = lines[0].strip() else: title = \u0026#34;playlist\u0026#34; print(f\u0026#34;DEBUG æ’­æ”¾æ¸…å–®æ¨™é¡Œï¼š{repr(title)}\u0026#34;) return title except Exception as e: print(f\u0026#34;âš ï¸ ç„¡æ³•å–å¾—æ’­æ”¾æ¸…å–®æ¨™é¡Œï¼š{e}\u0026#34;) return \u0026#34;playlist\u0026#34; def is_playlist_url(url): # yt-dlp æ”¯æ´çš„åˆ¤æ–·æ–¹æ³•ä¹‹ä¸€ï¼šç”¨ --flat-playlist æŠ“ idï¼Œæ²’æ±è¥¿å°±æ˜¯éæ’­æ”¾æ¸…å–® result = subprocess.run([\u0026#34;yt-dlp\u0026#34;, \u0026#34;--flat-playlist\u0026#34;, \u0026#34;--print\u0026#34;, \u0026#34;id\u0026#34;, url], capture_output=True, text=True) lines = result.stdout.strip().split(\u0026#39;\\n\u0026#39;) # å¦‚æœæœ‰å¤šç­†å½±ç‰‡idï¼Œä»£è¡¨æ˜¯æ’­æ”¾æ¸…å–®ï¼›åªæœ‰ä¸€ç­†å¯èƒ½æ˜¯å½±ç‰‡æˆ–ç©º # å–®ä¸€å½±ç‰‡æ™‚æœƒç›´æ¥æ˜¯å½±ç‰‡id # åˆ¤æ–·æ–¹æ³•ï¼šå¦‚æœèƒ½æŠ“åˆ°å¤šç­†idä¸”ä¸åªæœ‰ä¸€å€‹ï¼Œç•¶ä½œæ’­æ”¾æ¸…å–® # å¦‚æœæ²’æŠ“åˆ°idï¼Œéæ’­æ”¾æ¸…å–® if len(lines) \u0026gt; 1: return True else: return False # å–å¾—å½±ç‰‡æ¨™é¡Œ def get_video_title(video_url): try: result = subprocess.run([\u0026#34;yt-dlp\u0026#34;, \u0026#34;--get-title\u0026#34;, video_url], capture_output=True, text=True) return result.stdout.strip() except Exception as e: print(f\u0026#34;âš ï¸ ç„¡æ³•å–å¾—æ¨™é¡Œï¼š{e}\u0026#34;) return \u0026#34;unknown_title\u0026#34; # å–å¾—å½±ç‰‡ç§’æ•¸ def get_video_duration(video_url): try: result = subprocess.run([\u0026#34;yt-dlp\u0026#34;, \u0026#34;--print\u0026#34;, \u0026#34;duration\u0026#34;, video_url], capture_output=True, text=True) return int(result.stdout.strip()) except: return 0 # ä¸‹è¼‰éŸ³è¨Š def download_audio(url, output_path): os.makedirs(os.path.dirname(output_path), exist_ok=True) print(f\u0026#34;ä¸‹è¼‰éŸ³è¨Šä¸­ï¼š{url}\u0026#34;) result = subprocess.run([ \u0026#34;yt-dlp\u0026#34;, \u0026#34;-x\u0026#34;, \u0026#34;--audio-format\u0026#34;, \u0026#34;mp3\u0026#34;, \u0026#34;-o\u0026#34;, output_path, url ], capture_output=True, text=True) print(result.stdout) print(result.stderr) if result.returncode != 0: print(f\u0026#34;[éŒ¯èª¤] ä¸‹è¼‰å¤±æ•—ï¼š{url}\u0026#34;) return False return True # è½‰éŒ„ + é€²åº¦é¡¯ç¤º def transcribe_with_progress(file_path, language=\u0026#39;zh\u0026#39;): stop_flag = threading.Event() start_time = time.time() def progress_timer(): while not stop_flag.is_set(): elapsed = time.time() - start_time print(f\u0026#34;[é€²åº¦] è½‰éŒ„ä¸­... å·²é€²è¡Œ {int(elapsed)} ç§’\u0026#34;) time.sleep(5) print(f\u0026#34;é–‹å§‹è½‰éŒ„ï¼š{file_path}\u0026#34;) timer_thread = threading.Thread(target=progress_timer) timer_thread.start() try: segments_gen, info = model.transcribe(file_path, language=language) segments = list(segments_gen) print(f\u0026#34;è½‰éŒ„å®Œæˆï¼å…±å–å¾— {len(segments)} å€‹èªå¥æ®µè½\u0026#34;) except Exception as e: print(f\u0026#34;[éŒ¯èª¤] è½‰éŒ„å¤±æ•—ï¼š{e}\u0026#34;) segments, info = [], {} finally: stop_flag.set() timer_thread.join() return segments, info # å¯«å…¥é€å­—ç¨¿ def transcribe_audio(file_path, output_path): segments, info = transcribe_with_progress(file_path, language=\u0026#39;zh\u0026#39;) os.makedirs(os.path.dirname(output_path), exist_ok=True) with open(output_path, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: for segment in segments: f.write(f\u0026#34;[{round(segment.start, 2)}-{round(segment.end, 2)}] {segment.text}\\n\u0026#34;) if segments: total_audio_time = round(segments[-1].end, 2) print(f\u0026#34;èªéŸ³ç¸½é•·åº¦ï¼ˆå¯¦éš›è½‰éŒ„ï¼‰ï¼š{total_audio_time} ç§’\u0026#34;) # å–å¾—æ’­æ”¾æ¸…å–®ä¸­çš„æ‰€æœ‰å½±ç‰‡ ID def get_playlist_video_ids(playlist_url): result = subprocess.run([\u0026#34;yt-dlp\u0026#34;, \u0026#34;--flat-playlist\u0026#34;, \u0026#34;--print\u0026#34;, \u0026#34;id\u0026#34;, playlist_url], capture_output=True, text=True) return result.stdout.strip().split(\u0026#39;\\n\u0026#39;) # åˆä½µé€å­—ç¨¿ def merge_transcripts(transcript_dir, merged_filename=\u0026#34;merged_transcript.txt\u0026#34;): merged_path = os.path.join(transcript_dir, merged_filename) with open(merged_path, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as merged: transcript_files = sorted(f for f in os.listdir(transcript_dir) if f.endswith(\u0026#34;.txt\u0026#34;) and f != merged_filename) for fname in transcript_files: merged.write(f\u0026#34;\\n\\n===== {fname} =====\\n\u0026#34;) with open(os.path.join(transcript_dir, fname), \u0026#34;r\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: merged.write(f.read()) print(f\u0026#34;âœ… åˆä½µé€å­—ç¨¿å·²å®Œæˆï¼Œæª”æ¡ˆè·¯å¾‘ï¼š{merged_path}\u0026#34;) # ä¸»ç¨‹å¼ os.makedirs(\u0026#34;downloads\u0026#34;, exist_ok=True) os.makedirs(\u0026#34;transcripts\u0026#34;, exist_ok=True) with open(\u0026#34;video_playlist.txt\u0026#34;, \u0026#34;r\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: urls = [line.strip() for line in f if line.strip()] for url in urls: if is_playlist_url(url): raw_title = get_playlist_title(url) safe_title = sanitize_filename(raw_title) print(f\u0026#34;\\nğŸ“‚ é–‹å§‹è™•ç†æ’­æ”¾æ¸…å–®ï¼š{raw_title} ({url})\u0026#34;) playlist_download_dir = f\u0026#34;downloads/{safe_title}\u0026#34; playlist_transcript_dir = f\u0026#34;transcripts/{safe_title}\u0026#34; os.makedirs(playlist_download_dir, exist_ok=True) os.makedirs(playlist_transcript_dir, exist_ok=True) video_ids = get_playlist_video_ids(url) for idx, vid in enumerate(video_ids, 1): video_url = f\u0026#34;https://youtu.be/{vid}\u0026#34; print(f\u0026#34;\\nğŸï¸ ({idx}/{len(video_ids)}) è™•ç†å½±ç‰‡ï¼š{video_url}\u0026#34;) start_time = time.time() title = get_video_title(video_url) safe_video_title = sanitize_filename(title) output_file = os.path.join(playlist_transcript_dir, f\u0026#34;{safe_video_title}.txt\u0026#34;) if os.path.exists(output_file): print(f\u0026#34;âš ï¸ é€å­—ç¨¿å·²å­˜åœ¨ï¼Œè·³éå½±ç‰‡ï¼š{safe_video_title}\u0026#34;) continue # è·³éä¸‹è¼‰åŠè½‰éŒ„ duration = get_video_duration(video_url) mp3_path = os.path.join(playlist_download_dir, f\u0026#34;{safe_video_title}.mp3\u0026#34;) if not os.path.exists(mp3_path): if not download_audio(video_url, output_path=mp3_path): print(f\u0026#34;è·³éå½±ç‰‡ {video_url}ï¼Œä¸‹è¼‰å¤±æ•—\u0026#34;) continue transcribe_audio(mp3_path, output_file) elapsed = time.time() - start_time speed_ratio = duration / elapsed if elapsed \u0026gt; 0 else 0 print(f\u0026#34;âœ… å®Œæˆï¼š{output_file}\u0026#34;) print(f\u0026#34;ç¸½è€—æ™‚ï¼š{elapsed:.2f} ç§’ï¼Œå½±ç‰‡é•·åº¦ï¼š{duration} ç§’ï¼Œè½‰æ›é€Ÿåº¦æ¯”ï¼šç´„ {speed_ratio:.2f}x\u0026#34;) # æ’­æ”¾æ¸…å–®è™•ç†å®Œå¾Œåˆä½µé€å­—ç¨¿ merge_transcripts(playlist_transcript_dir) else: # å–®æ”¯å½±ç‰‡è™•ç† print(f\u0026#34;\\nğŸï¸ å–®æ”¯å½±ç‰‡è™•ç†ï¼š{url}\u0026#34;) start_time = time.time() title = get_video_title(url) safe_video_title = sanitize_filename(title) output_file = os.path.join(\u0026#34;transcripts\u0026#34;, f\u0026#34;{safe_video_title}.txt\u0026#34;) if os.path.exists(output_file): print(f\u0026#34;âš ï¸ é€å­—ç¨¿å·²å­˜åœ¨ï¼Œè·³éå½±ç‰‡ï¼š{safe_video_title}\u0026#34;) continue duration = get_video_duration(url) mp3_path = os.path.join(\u0026#34;downloads\u0026#34;, f\u0026#34;{safe_video_title}.mp3\u0026#34;) if not os.path.exists(mp3_path): if not download_audio(url, output_path=mp3_path): print(f\u0026#34;è·³éå½±ç‰‡ {url}ï¼Œä¸‹è¼‰å¤±æ•—\u0026#34;) continue transcribe_audio(mp3_path, output_file) elapsed = time.time() - start_time speed_ratio = duration / elapsed if elapsed \u0026gt; 0 else 0 print(f\u0026#34;âœ… å®Œæˆï¼š{output_file}\u0026#34;) print(f\u0026#34;ç¸½è€—æ™‚ï¼š{elapsed:.2f} ç§’ï¼Œå½±ç‰‡é•·åº¦ï¼š{duration} ç§’ï¼Œè½‰æ›é€Ÿåº¦æ¯”ï¼šç´„ {speed_ratio:.2f}x\u0026#34;)   å¿ƒå¾— ä¸å¾—ä¸èªªç¾åœ¨æœ‰é€™å€‹çœŸçš„å¥½æ–¹ä¾¿ï¼Œä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡å˜—è©¦ç”¨é€™ç¨®èªéŸ³è¾¨è­˜çš„æ¨¡å‹ï¼Œä¹‹å‰æœ€å¤šå°±åªæœ‰ç”¨éPremiereçš„èªéŸ³è¾¨è­˜è€Œå·²ï¼Œæ•ˆæœé›–ç„¶é‚„è¡Œï¼Œä½†ç¸½æ˜¯æœ‰é»ä¸€è¨€é›£ç›¡ã€‚é€™æ¬¡ä½¿ç”¨ä¸‹ä¾†çµæœç®—æ˜¯éå¸¸æ»¿æ„ï¼Œæ²’æƒ³åˆ°ç•¶å¹´è²·çš„3060 tiä»¥åŠç‚ºäº†é­”ç‰©çµäººæ›çš„CPUå±…ç„¶åœ¨é€™é‚Šæ´¾ä¸Šç”¨å ´^_^\n","date":"2025-07-04T18:27:37+08:00","image":"https://i.imgur.com/ThfgZmT.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E6%89%B9%E6%AC%A1%E8%99%95%E7%90%86youtube%E4%B8%8A%E7%9A%84%E5%BD%B1%E7%89%87%E8%BD%89%E6%88%90%E9%80%90%E5%AD%97%E7%A8%BF%E6%8F%90%E5%8D%87%E5%AD%B8%E7%BF%92%E6%95%88%E7%8E%87/","title":"å¦‚ä½•æ‰¹æ¬¡è™•ç†Youtubeä¸Šçš„å½±ç‰‡è½‰æˆé€å­—ç¨¿ï¼Œæå‡å­¸ç¿’æ•ˆç‡"},{"content":"Golangæ˜¯å€‹å…è¨±æ“ä½œPointer(æŒ‡æ¨™)çš„ç¨‹å¼èªè¨€ï¼Œå¸¸ç”¨çš„ç”¨æ³•è·ŸCã€C++é¡ä¼¼ï¼Œå¦‚ä¸‹å…©ç¨®\nï¼Šèˆ‡ï¼†ï¼Œåœ¨äº†è§£ä¹‹å‰è¦å…ˆçŸ¥é“ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯ä»¥ä¸‹è¦è¨è«–çš„éƒ½æ˜¯è¨˜æ†¶é«”çš„ä½å€èˆ‡å…¶å„²å­˜çš„å€¼ï¼Œæˆ‘å€‘ç”¨è³‡æ–™çµæ§‹ä¾†è¡¨ç¤ºï¼Œå¤§æ¦‚å°±æ˜¯é€™æ¨£\n1 2 3 4  class Memory{ Address address; Value value; }   *ï¼ˆè§£å¼•ç”¨é‹ç®—ç¬¦ï¼ŒDereference operatorï¼‰ * åœ¨ç­‰è™Ÿå³é‚Šï¼šå–å¾—æŒ‡æ¨™æ‰€æŒ‡çš„è¨˜æ†¶é«”çš„å€¼\n*åœ¨ç­‰è™Ÿå·¦é‚Šï¼šå®£å‘Šä¸€å€‹è¨˜æ†¶é«”ï¼Œå…¶å€¼ç‚ºå³é‚Šçš„è¨˜æ†¶é«”ä½å€\n ç•¶ä½œç‚ºè®Šæ•¸å®£å‘Šæ™‚ï¼Œä»£è¡¨açš„è³‡æ–™å‹åˆ¥æ˜¯å€‹æŒ‡é‡å‹åˆ¥ï¼Œaå­˜çš„æ˜¯ä¸€å€‹è¨˜æ†¶é«”ä½å€  1 2  int *a = new int (10) //aæœ¬èº«çš„åœ°å€ç‚º0x0001ï¼Œå…¶å„²å­˜çš„å€¼ç‚º0x0010 ç›¸ç•¶æ–¼é€™æ¨£ Memory(0x0001,0x0010)    ç•¶ * ç”¨æ–¼æŒ‡æ¨™å‰é¢æ™‚ï¼Œå®ƒä»£è¡¨çš„æ˜¯ è§£å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯å–å¾—æŒ‡æ¨™æ‰€æŒ‡å‘çš„è¨˜æ†¶é«”ä½ç½®çš„å€¼ã€‚ ä¾‹å¦‚ï¼Œ*a æœƒè¿”å›æŒ‡æ¨™ a æ‰€æŒ‡å‘ä½ç½®çš„å€¼ã€‚  1 2  cout \u0026lt;\u0026lt; a ; //açš„å€¼æ˜¯ 0x0010 cout \u0026lt;\u0026lt; *a; //*açš„å€¼æ˜¯ 10 é‚£å€‹10æ‰€å­˜çš„çš„è¨˜æ†¶é«”é•·é€™æ¨£ Memory(0x0010,10)   \u0026amp;ï¼ˆå–åœ°å€é‹ç®—ç¬¦ï¼ŒAddress-of operatorï¼‰ \u0026amp;åœ¨ç­‰è™Ÿå³é‚Šï¼šæ‹¿åˆ°è®Šæ•¸åœ¨è¨˜æ†¶é«”çš„ä½å€\n\u0026amp;åœ¨ç­‰è™Ÿå·¦é‚Šï¼šå®£å‘Šå¼•ç”¨ï¼Œå¹«æŸå€‹è®Šæ•¸å–åˆ¥åï¼Œä¸ä½”ç”¨æ–°è¨˜æ†¶é«”\nå–å¾—è®Šæ•¸çš„è¨˜æ†¶é«”åœ°å€ï¼ˆ\u0026amp;aï¼‰\n ç•¶ \u0026amp; ç”¨åœ¨è®Šæ•¸å‰é¢ï¼Œå®ƒè¡¨ç¤ºå–å¾—è©²è®Šæ•¸çš„è¨˜æ†¶é«”åœ°å€ã€‚ é€™æ˜¯ å–å€é‹ç®—å­ï¼Œå…¶ä½œç”¨æ˜¯è¿”å›è®Šæ•¸çš„åœ°å€ã€‚  1 2 3 4 5 6 7  int x = 10; // x Memory(0x0001,10)  int * y = \u0026amp;x; //y Memory(0x0002,0x0001)  int \u0026amp;z = x; // zå°±æ˜¯xï¼Œxå°±æ˜¯zï¼Œz ä¸æ˜¯ä¸€å¡Šæ–°çš„è¨˜æ†¶é«”ï¼Œè€Œæ˜¯ x é‚£ä¸€æ ¼çš„ã€Œå¦ä¸€å€‹åå­—ã€ã€‚  std::cout \u0026lt;\u0026lt; y; //å°å‡º 0x0001  std::cout \u0026lt;\u0026lt; \u0026amp;y; //å°å‡º 0x0002  std::cout \u0026lt;\u0026lt; *y; //å°å‡º 10   ","date":"2025-03-15T19:25:55+08:00","image":"https://i.imgur.com/QMDUdXZ.png","permalink":"https://hoxtoncraft.com/p/%E4%BB%A5c-%E7%90%86%E8%A7%A3golang%E6%8C%87%E6%A8%99/","title":"ä»¥C++ç†è§£GolangæŒ‡æ¨™"},{"content":"å¤–éƒ¨åˆç´„ å…§éƒ¨åˆç´„ å¤–éƒ¨åˆç´„ Externaly Owned Account (EOA): é¡ä¼¼MetaMuské‚£ç¨®éŒ¢åŒ…ï¼Œç”¨æ–¼äº¤æ˜“è³‡é‡‘ã€åˆå§‹åŒ–äº¤æ˜“ã€éƒ¨ç½²æ™ºèƒ½åˆç´„ã€æé ˜ï¼Œä¸¦ä¸”æ“æœ‰ä¸€å€‹ç§é‘°ä¾†ç®¡ç†å¸³æˆ¶\nå…§éƒ¨åˆç´„ Contract Account : æ¯”è¼ƒåƒæ˜¯åœ¨å€å¡Šéˆã€Œå…§ã€è‡ªå‹•åŒ–é‹ä½œçš„éŒ¢åŒ…ï¼Œæ²’æœ‰ç§é‘°ä¾†ç®¡ç†æ•´å€‹å¸³æˆ¶ï¼Œç¨‹å¼ç¢¼æ±ºå®šäº†æ•´å€‹åˆç´„å¸³æˆ¶çš„é‹ä½œ\nå°æ–¼Contract Account ä¾†èªªï¼Œåªè¦æ²’æœ‰åœ¨ç¨‹å¼ç¢¼ä¸Šå¯«ä¸ŠOwner æˆ–ç›¸é—œçš„æ“ä½œå®šç¾©ï¼Œé€™å€‹Contract Account å°±æœƒå¤±å»äººç‚ºçš„æ§åˆ¶ï¼Œä½†åä¹‹åªè¦æˆ‘å€‘å¯«ä¸Šå®Œå–„ã€å®Œæ•´çš„éŸ“å¼ä¹‹å¾Œï¼Œå°±å¯ä»¥é€éã€Œæ“æ§ç‰¹å®šå‡½å¼ã€é€™æ¨£ä¸€å€‹ã€Œç™¼é€äº¤æ˜“ã€çš„è¡Œç‚ºä¾†æ§åˆ¶åˆç´„ã€‚\næ›å¥è©±èªªå¦‚æœé€™å€‹åˆç´„è£¡é¢æœ‰éå¸¸å¤šä¾›ç‰¹å®šäººå£«æ“ä½œçš„åˆç´„ï¼Œé‚£éº¼é€™å€‹åˆç´„å¾å»£ç¾©ä¾†èªªä¾¿ä¸æ˜¯çœŸæ­£çš„å»ä¸­å¿ƒåŒ–ã€‚\nåœ¨å€å¡Šéˆä¸Šåªèƒ½ç”¨EOA åˆå§‹åŒ–äº¤æ˜“ï¼Œä¹Ÿå°±æ˜¯èªªåœ¨ä»»ä½•çš„äº’å‹•åšæˆä¸­ï¼Œåªè¦åŸé»æ˜¯EOAï¼Œæ¥ä¸‹ä¾†ç„¡è«–æ˜¯Contract Account æˆ–EOA çš†å¯èˆ‡å½¼æ­¤äº¤äº’é‹ä½œ\nè·¯å¾‘ç‚ºï¼šEOA-\u0026gt; Contract Account -\u0026gt; EOA -\u0026gt; EOA\nä¸å¯ç‚ºï¼šContract Account -\u0026gt; \u0026hellip;\nå‡½å¼èˆ‡åˆç´„äº’å‹•çš„æ–¹æ³• Balance\n å–å¾—ç•¶å‰åœ°å€çš„é¤˜é¡ï¼Œä»¥weiç‚ºå–®ä½ \u0026lt;address\u0026gt;.balance()  transfer\n æœ‰Gasé™åˆ¶ï¼Œæœ€å¤§2300ï¼Œé€™å€‹é™åˆ¶å¯ä»¥ç”¨ä¾†é˜²æ­¢é‡é€æ”»æ“Š(Re-Entrancy Attacks) \u0026lt;address payable\u0026gt;.transfer(uint256 account) æ­¤éŸ“å¼æœƒå¾åˆç´„è½‰å…¥å¸³è™Ÿ amount åƒ¹å€¼çš„ä»¥å¤ªå¹£ï¼Œé€™é‚Šéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç•¶æˆ‘å€‘æ²’æœ‰ç‰¹åˆ¥å®£å‘Šå–®ä½æ™‚ï¼Œuintçš„å‹æ…‹è®Šæ•¸è¼¸å…¥å€¼éƒ½æ˜¯ä»¥weiç‚ºå–®ä½ å¦‚æœåŸ·è¡Œå¤±æ•—æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œæ¥æ”¶å°è±¡è‹¥æ˜¯åˆç´„éœ€è¦æ³¨æ„å…¶ä¸­æ˜¯å¦æœ‰fallback functionå­˜åœ¨ å¾è‡ªå®¹åˆç´„å‚³é€ç›¸å°æ•¸é‡(ä»¥weiç‚ºå–®ä½)çš„ etherçµ¦æŒ‡å®šåœ°å€ã€‚åœ¨é€™è£¡å’Œæˆ‘å€‘å¹³å¸¸æ’°å¯«ç‰©ä»¶å°å‘ç¨‹å¼èªè¨€å¯«æ³•çš„æ–¹å‘ä¸å¤ªä¸€æ¨£ï¼Œå¯ä»¥ç¨å¾®æ³¨æ„ä¸€ä¸‹  send\n æœ‰Gasé™åˆ¶ï¼Œæœ€å¤§2300 \u0026lt;address payable\u0026gt;.send( uint 256 amount) returns (bool) æ­¤å‡½å¼æœƒå¾åˆç´„è½‰å…¥å¸³è™Ÿ amount åƒ¹å€¼ï¼Œweiå–®ä½çš„eth æ˜¯ä¸€å€‹å±¬æ–¼ .transferçš„ä½éšéƒ¨ä»¶ï¼Œå¦‚æœåŸ·è¡Œ.send å¤±æ•—çš„è©±ä¸æœƒæŠŠæ•´å€‹åˆç´„çµ‚æ­¢ï¼Œè€Œæ˜¯æœƒreturn false ä¸æœƒæ”¹è®Šä»»ä½•çš„ã€Œç‹€æ…‹ã€  call\n æ²’æœ‰Gasé™åˆ¶ï¼Œå’Œsendä¸€æ¨£ï¼Œå¦‚æœåŸ·è¡Œå¤±æ•—ä¸æœƒåœæ­¢è€Œæ˜¯return false æ˜¯è¼ƒç‚ºé©åˆè½‰å…¥åˆç´„çš„ç‹€æ³ä½¿ç”¨ï¼Œå› çˆ²call å¯ä»¥èª¿æ•´Gasï¼Œä¹Ÿå¯ä»¥è¨»æ˜Function Signature ä¾†èˆ‡è½‰å…¥åˆç´„çš„Functionåšå°æ¥ \u0026lt;address\u0026gt;.call(bytes memory) returns ( bool, bytes memory) \u0026lt;address\u0026gt;.calll{value: amount} (bytes memory) åŠŸèƒ½é¡ä¼¼ \u0026lt;address\u0026gt;.transfer æœƒå¾åˆç´„è½‰å…¥å¸³è™Ÿ amount åƒ¹å€¼çš„eth \u0026lt;address\u0026gt;.call{gas: amount }(byte memory)å¯ä»¥èª¿æ•´ä¾›çµ¦çš„Gasæ•¸é‡ï¼Œä¸¦ä¸”returnä¸€å€‹boolå€¼  delegatecall\n å’ŒcallåŸºæœ¬ä¸€æ¨£ï¼Œåªæ˜¯ä½¿ç”¨delegate callæ™‚ä¸èƒ½ä½¿ç”¨ valueï¼Œä½†å¯é™„å¸¶è¨»æ˜Gas  staticcall\n å’ŒcallåŸºæœ¬ä¸€æ¨£ï¼Œåªæ˜¯ä½¿ç”¨æ™‚ä¸èƒ½æ”¹è®Šcontractçš„ä»»ä½•ç‹€æ…‹(state)  ç‚ºäº†ä¿è­‰åŒ¯æ¬¾æˆ–æ˜¯ææ¬¾æ™‚çš„å®‰å…¨æ€§ï¼Œå¯¦ä½œä»¥ä¸Šå‡½å¼æ™‚ï¼Œæˆ‘å€‘éƒ½å¿…é ˆä¸æ®µåœ°æª¢æŸ¥å›çµæœ(Return æˆ– Console Window çš„è³‡è¨Š)\nå¿…é ˆè¦çŸ¥é“çš„æ˜¯ï¼Œcall, delegatecall, statical ä»¥ä¸Šä¸‰è€…éƒ½å±¬æ–¼åº•å±¤å‘¼å«ï¼Œå¯ä»¥å‘¼å«gasåƒæ•¸ï¼Œè€Œä¸”åœ¨ç™¼ç”ŸéŒ¯èª¤æ™‚ä¸æœƒæ‹‹å‡ºç•°å¸¸ï¼Œåªæœƒå›å‚³falseã€‚æ­¤ä¸‰è€…éƒ½æ˜¯éå¸¸åº•å±¤çš„å‡½æ•¸ï¼Œæ‰€ä»¥è¦å‹é‡é¿å…ç›´æ¥åœ¨æˆ‘å€‘çš„æ™ºèƒ½åˆç´„ hard-code gasï¼Œé™¤éæˆ‘å€‘ç¢ºå®šçœŸçš„è¦é€™éº¼åš\n","date":"2025-02-24T09:52:51+08:00","image":"https://i.imgur.com/L4XH96m.jpeg","permalink":"https://hoxtoncraft.com/p/solidity%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Solidityå­¸ç¿’ç­†è¨˜"},{"content":"æœ€è¿‘åˆå›å»è³‡ç­–æœƒç•¶åŠ©æ•™äº†ï¼Œæœ‰åŒå­¸å•æˆ‘èªªæ€éº¼éƒ¨ç½²SpringBoot çš„å°ˆæ¡ˆåˆ°é›²ç«¯ä¸Šé¢ï¼Œç„¶å¾Œå»ºç«‹èµ·é›²ç«¯è³‡æ–™åº«ï¼Œ æ‰€ä»¥é€™ç¯‡æ–‡ç« æ‰“ç®—è¨˜éŒ„ä¸€ä¸‹ç›¸é—œçš„æ­¥é©Ÿ\né¦–å…ˆæˆ‘å€‘å…ˆé€²åˆ°AWSçš„DashBoardï¼Œ ç„¶å¾Œæˆ‘å€‘çœ‹åˆ°ä¸€å€‹å«åšLightSailçš„æ±è¥¿ï¼Œæˆ‘å€‘é»é–‹å®ƒé€™é‚Šå…ˆç°¡å–®è¬›ä¸€ä¸‹LightSailè·Ÿä¸€èˆ¬çš„EC2æœ‰ä»€éº¼æ¨£çš„å·®åˆ¥ï¼Œä¸€èˆ¬EC2è·Ÿï¼¬ightSailå·®åˆ¥åœ¨æ–¼ä»–çš„è¨‚è£½åŒ–ç¨‹åº¦æ¯”è¼ƒé«˜ç„¶å¾Œå¯ä»¥é¸æ“‡çš„æ±è¥¿æ¯”è¼ƒå¤šï¼Œä½†æœ‰æ™‚å€™åœ¨ä¸€é–‹å§‹é…ç½®çš„è©±æœƒè®“äººæœ‰é»æ‘¸ä¸è‘—é ­ç·’ï¼Œæ‰€ä»¥æˆ‘å€‘é€™é‚Šç°¡å–®åœ°ç”¨LightSailä¾†æ¨¡æ“¬ä¸€ä¸‹é—œæ–¼é›²ç«¯éƒ¨ç½²çš„éƒ¨åˆ† å› ç‚ºæˆ‘å€‘çš„ç›®çš„åªæ˜¯è¦é™„ä¸Šé›²ç«¯ï¼Œæ‰€ä»¥é€™éƒ¨åˆ†é¸æ“‡å“ªå€‹å…·é«”ä¾†è¬›éƒ½æ²’å·®\né›²ç«¯æœå‹™å™¨ Lightsail éƒ¨ç½² é¸æ“‡create Instance\næŒ‰ç…§ä»¥ä¸‹åœ–ç‰‡é¸æ“‡å°æ‡‰çš„é¸é …ï¼Œæ³¨æ„SSH keyè¦è¨˜å¾—Downloadä¸‹ä¾†\nå‰µå»ºå¥½å¾Œçš„ç•«é¢é•·é€™æ¨£ï¼Œå…¶ä¸­è¦è¨˜å¾—æŠŠIPv4 Firewallçš„tcp portçµ¦æ‰“é–‹\nå…·é«”ä¾†çœ‹å°±åƒé€™æ¨£\nå¦‚æ­¤ä¸€ä¾†åªè¦SpringBoot éƒ¨ç½²åœ¨Awså¾Œå°±å¯ä»¥è¨ªå•äº†ï¼Œè‡³æ–¼å¦‚ä½•éƒ¨ç½²ï¼Œå¯ä»¥åƒè€ƒ\nhttps://hoxtonhsu.com/p/githubaction-%E6%90%AD%E9%85%8Daws%E7%9A%84cicd-ymal%E6%AA%94-%E9%99%84%E4%B8%8A%E8%A8%BB%E8%A7%A3/\nå¦‚ä½•é€£ä¸ŠAws Lightsailçš„æ¸¬è©¦æœå‹™å™¨ æœ‰å…©ç¨®æ–¹å¼\nä½¿ç”¨Aws lightsailå…§å»ºçš„connect using ssh æœ€ç°¡å–®ï¼Œä½†é€Ÿåº¦å¾ˆæ…¢ï¼Œé™¤éå¾ˆæ‡¶ï¼Œä¸ç„¶ä¸å»ºè­°\nä½¿ç”¨æœ¬åœ°sshé€£ç·š è¼¸å…¥æŒ‡ä»¤\n1  ssh -i \u0026#34;/Users/hoxton/Documents/ec2-key.pem\u0026#34; ec2-user@35.77.99.80   å…¶ä¸­ec2-key.pemå°±æ˜¯åœ¨å‰µå»ºæ™‚è¦ä½ ä¸‹è¼‰çš„keyï¼Œé€™æ¨£å°±å¯ä»¥å›‰ï¼\né›²ç«¯è³‡æ–™åº« RDS éƒ¨ç½² é»æ“ŠRDSå¾Œé»é¸create database\næŒ‰ç…§ä¸‹é¢çš„é¸é …å‰µå»ºå…è²»çš„é›²ç«¯è³‡æ–™åº«ï¼Œå…¶ä¸­è¦æ³¨æ„ï¼Œå¦‚æœæ˜¯æ¸¬è©¦ç’°å¢ƒçš„è©±è¦æŠŠpublic Accessæ‰“é–‹ï¼Œæ‰“é–‹çš„è©±æˆ‘å€‘çš„é›»è…¦æ‰å¯ä»¥è¨ªå•è³‡æ–™åº«ï¼Œå¦‚æœä¸æ‰“é–‹çš„è©±å°±åªæœ‰ec2çš„instanceå¯ä»¥è¨ªå•åˆ°é›²ç«¯è³‡æ–™åº«\né…ç½®Inbound Rule ä½¿å¾—æœ¬åœ°é€£å¾—ä¸Šæ¸¬è©¦ä¼ºæœå™¨ å‰µå»ºå¥½RDSå¾Œï¼Œè¨˜å¾—è¦å»Security Group rulesé€™é‚Šèª¿æ•´ä¸€ä¸‹ Inbound Ruleçš„é‚è¼¯\nå…·é«”é€£ç·šæ–¹å¼ ","date":"2025-01-02T08:05:29+08:00","image":"https://i.imgur.com/whP4tpY.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E9%83%A8%E7%BD%B2springboot%E5%B0%88%E6%A1%88%E8%88%87%E9%9B%B2%E7%AB%AF%E8%B3%87%E6%96%99%E5%BA%AB%E5%9C%A8aws%E4%B8%8A%E9%9D%A2/","title":"å¦‚ä½•éƒ¨ç½²SpringBootå°ˆæ¡ˆèˆ‡é›²ç«¯è³‡æ–™åº«åœ¨Awsä¸Šé¢"},{"content":"å‰é™£å­æœ‰å­¸ç”Ÿæƒ³è©¦è‘—éƒ¨å±¬å…§å®¹åˆ°é›²æœå‹™å™¨ä¸Šï¼Œæ¯æ¬¡çœ‹ä»–è¦Updateå…§å®¹ä¸Šå»å°±è¦ºå¾—å¥½éº»ç…©ï¼Œåˆè¦æ‰“åŒ…åˆè¦scpçš„ï¼Œæˆ‘å¾ˆæƒ³å¹«ä»–å€‘åšCICDï¼Œä½†æ˜¯æˆ‘çš„CICDåªæœƒJenkinsè·ŸGitlab CICDï¼Œå°æ–¼Github actionçš„èªçŸ¥å¯èªªæ˜¯å°‘ä¹‹åˆå°‘ã€‚\né›–ç„¶èªªæˆ‘é€™å€‹Blogæœ¬èº«çš„æ›´æ–°ä¹Ÿæ˜¯ç”¨Github Actionè™•ç†çš„å•¦ï¼Œæ–¼æ˜¯æ‰“ç®—è¶é€™å€‹æ©ŸæœƒæŠŠGithub Actionçš„å…§å®¹å¥½å¥½å­¸ç¿’ä¸€æ¬¡ï¼ŒGithub Actionæœ¬èº«çš„æ¦‚å¿µæˆ‘è¦ºå¾—ä¹Ÿä¸é›£ï¼Œç†Ÿæ‚‰äº†jenkinsè·ŸGitlab CICDå¾Œè¦ä¸Šæ‰‹ä¹Ÿä¸æ˜¯å¤ªå›°é›£çš„äº‹æƒ…ï¼Œä½†æˆ‘è¦ºå¾—éº»ç…©çš„é»æ˜¯Github Actionæœ¬èº«çš„runnerä¸èƒ½è®“æˆ‘Sshé€£ä¸Šå»çœ‹ç‹€æ³ï¼Œæœ‰æ™‚å€™æœ‰äº›æ±è¥¿åªèƒ½çå­æ‘¸è±¡ï¼Œæ…¢æ…¢è©¦ã€‚\næ•´å€‹Actionçš„é‚è¼¯å…¶å¯¦å¾ˆç°¡å–®ï¼Œå°±æ˜¯åœ¨Github Runnerä¸­æŠŠå°ˆæ¡ˆçš„å…§å®¹Cloneä¸‹ä¾†ä¸¦ä¸”ç”¨mavenæ‰“åŒ…ã€‚æ¥è‘—ç”¨SshæŠŠjaræª”ä¸Ÿåˆ°awsçš„æœå‹™å™¨ï¼Œä¹‹æ‰€ä»¥ä¸ç”¨Dockerçš„åŸå› æ˜¯å› ç‚ºæˆ‘æ‡¶ï¼Œã„ã„ã„\nYAML 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169  name:Deploy to EC2# onæ˜¯ç”¨ä¾†æŒ‡å®šå“ªäº›æœƒè§¸ç™¼CICDçš„on:# ç•¶æœ‰å…§å®¹pushè‡³mainæ™‚è§¸ç™¼push:branches:- main# ç•¶æœ‰å…§å®¹åˆä½µè‡³ mainæ™‚è§¸ç™¼# pull_request:# branches:# - main# types:# - merged # ç•¶ PR è¢«åˆä½µæ™‚è§¸ç™¼# åŠ äº† workflow_dispatch:æ‰å¯ä»¥æ‰‹å‹•è§¸ç™¼CICDworkflow_dispatch:# å¯¦éš›CICDåŸ·è¡Œçš„ä¸åŒjobjobs:# SET_UPæ˜¯JOBçš„åç¨±ï¼Œä¸‹é¢çš„DEPLOYåŒç†SET_UP:# runs-on æŒ‡å®šé€™å€‹ci cd è¦é‹è¡Œåœ¨ä»€éº¼æ¨£çš„ç’°å¢ƒruns-on:ubuntu-latest# é€™å€‹SET_UP jobå¯¦éš›åŸ·è¡Œçš„stepssteps:- name:log before checkoutruns:|echo \u0026#34;ç•¶å‰ç›®éŒ„ $(pwd)\u0026#34; echo \u0026#34;checkoutä¹‹å‰çš„æª”æ¡ˆ $(ls)\u0026#34;# è®“ GitHub Actions åŸ·è¡Œå·¥ä½œæµç¨‹æ™‚å¯ä»¥è¨ªå•ä¸¦æ“ä½œå„²å­˜åº«ä¸­çš„ä»£ç¢¼ã€‚- name:Checkout Code# uses ç›¸ç•¶æ–¼github action æä¾›çš„apiï¼Œè£¡é¢å°è£äº†ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚èªªé€™å€‹actions/checkout@v3 å°±æ˜¯åŸ·è¡Œäº†git clone ç•¶å‰ci cdçš„ç¨‹å¼ç¢¼uses:actions/checkout@v3- name:log after checkoutruns:|echo \u0026#34;ç•¶å‰ç›®éŒ„ $(pwd)\u0026#34; echo \u0026#34;checkoutä¹‹å¾Œçš„æª”æ¡ˆ $(ls)\u0026#34;# è¨­å®šJavaç‰ˆæœ¬- name:Set up JDKuses:actions/setup-java@v3with:java-version:\u0026#39;21\u0026#39;distribution:\u0026#39;temurin\u0026#39;# æ‰“åŒ…SpringBootå°ˆæ¡ˆ- name:Build with Mavenrun:mvn clean package -DskipTests# è™•ç†ec2 key- name:Add EC2 private keyrun:|echo \u0026#34;${{ secrets.EC2_PRIVATE_KEY }}\u0026#34; \u0026gt; ec2-key.pem chmod 600 ec2-key.pem# github actionä¸åŒJOBä¹‹é–“çš„æª”æ¡ˆç„¡æ³•å…±äº«ï¼Œéœ€è¦ä¸Šå‚³åˆ°artifactæ‰èƒ½å…±äº«- name:Upload private key as artifactuses:actions/upload-artifact@v3with:name:ec2-keypath:ec2-key.pem# github actionä¸åŒJOBä¹‹é–“çš„æª”æ¡ˆç„¡æ³•å…±äº«ï¼Œéœ€è¦ä¸Šå‚³åˆ°artifactæ‰èƒ½å…±äº«- name:Upload JAR as artifactuses:actions/upload-artifact@v3with:name:jar-filepath:target/rentWeb-0.0.1-SNAPSHOT.jar # DEPLOYæ˜¯JOBçš„åç¨±ï¼Œä¸Šé¢çš„SET_UPåŒç†DEPLOY:# runs-on æŒ‡å®šé€™å€‹ci cd è¦é‹è¡Œåœ¨ä»€éº¼æ¨£çš„ç’°å¢ƒruns-on:ubuntu-latest# ç¢ºä¿ DEPLOY æœƒåœ¨ SET_UP å®Œæˆå¾ŒåŸ·è¡Œneeds:SET_UP # é€™å€‹DEPLOY jobå¯¦éš›åŸ·è¡Œçš„stepssteps:# å¾artifactä¸‹è¼‰ec2- name:Download EC2 private keyuses:actions/download-artifact@v3with:name:ec2-key# è¨­å®šec2-key-pemçš„æ¬Šé™- name:Set correct permissions for private keyrun:|chmod 600 ec2-key.pem# å¾artifactä¸‹è¼‰JAR- name:Download JAR fileuses:actions/download-artifact@v3with:name:jar-file# å¯¦éš›é€£ç·šåˆ°EC2ä¸¦ä¸”éƒ¨å±¬- name:Deploy to EC2# é‹è¡Œæ™‚æ‰€éœ€çš„ç’°å¢ƒè®Šæ•¸ï¼Œè©³ç´°çš„æœƒåœ¨secretsä¸­è¨­ç½®env:AWS_IP:${{ secrets.AWS_IP }}AZURE_DB_HOST:${{ secrets.AZURE_DB_HOST }}AZURE_DB_PASSWORD:${{ secrets.AZURE_DB_PASSWORD }}AZURE_DB_USERNAME:${{ secrets.AZURE_DB_USERNAME }}CHANNEL_ID:${{ secrets.CHANNEL_ID }}CHANNEL_SECRET_KEY:${{ secrets.CHANNEL_SECRET_KEY }}CLIENT_ID:${{ secrets.CLIENT_ID }}CLIENT_SECRET:${{ secrets.CLIENT_SECRET }}GOOGLEAPIKEY:${{ secrets.GOOGLEAPIKEY }}HASH_IV:${{ secrets.HASH_IV }}HASH_KEY:${{ secrets.HASH_KEY }}MERCHANT_ID:${{ secrets.MERCHANT_ID }}RECAPTCHA_SECRET_KEY:${{ secrets.RECAPTCHA_SECRET_KEY }}RECAPTCHA_SITE_KEY:${{ secrets.RECAPTCHA_SITE_KEY }}run:|echo \u0026#34;$(date):é–‹å§‹éƒ¨å±¬...\u0026#34; # æª¢æŸ¥ Java ç‰ˆæœ¬ echo \u0026#34;æª¢æŸ¥ Java å®‰è£æƒ…æ³...\u0026#34; # StrictHostKeyChecking=no é¿å…è·³å‡ºæ˜¯å¦é€£ç·šçš„ç•«é¢ # ssh -o StrictHostKeyChecking=no -i ec2-key.pem ec2-user@${AWS_IP} \u0026#34;java -version\u0026#34; # è¤‡è£½ JAR æª”æ¡ˆ echo \u0026#34;$(date): è¤‡è£½ JAR æª”æ¡ˆ...\u0026#34; echo \u0026#34;ç›®æ¨™çš„ç›®éŒ„ $(pwd)\u0026#34; echo \u0026#34;è¤‡è£½å‰çš„å…§å®¹ $(ls)\u0026#34; # æŠŠæª”æ¡ˆæ”¾åˆ°/home/ec2-user/app/ä¸¦å‘½åç‚ºrentWeb-0.0.1-SNAPSHOT.jar scp -o StrictHostKeyChecking=no -i ec2-key.pem rentWeb-0.0.1-SNAPSHOT.jar ec2-user@${AWS_IP}:/home/ec2-user/app/rentWeb-0.0.1-SNAPSHOT.jar echo \u0026#34;è¤‡è£½å¾Œçš„å…§å®¹ $(ls)\u0026#34; # åŸ·è¡Œéƒ¨ç½²å‘½ä»¤ ssh -o StrictHostKeyChecking=no -i ec2-key.pem ec2-user@${AWS_IP} \u0026lt;\u0026lt; \u0026#39;EOF\u0026#39; cd /home/ec2-user/app echo \u0026#34;$(date): æº–å‚™åœæ­¢ç•¶å‰é‹è¡Œçš„javaç¨‹å¼...\u0026#34; pkill -f \u0026#39;java -jar\u0026#39; || true sleep 5 # æª¢æŸ¥ JAR æª”æ¡ˆ echo \u0026#34;ç¢ºèª JAR æª”æ¡ˆè©³ç´°å…§å®¹...\u0026#34; ls -l rentWeb-0.0.1-SNAPSHOT echo \u0026#34;$(date): é–‹å§‹éƒ¨å±¬...\u0026#34; # ç›´æ¥åŸ·è¡Œä»¥æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯ java -jar rentWeb-0.0.1-SNAPSHOT.jar \\ --azure.db.host=${{ secrets.AZURE_DB_HOST }} \\ --azure.db.password=${{ secrets.AZURE_DB_PASSWORD }} \\ --azure.db.username=${{ secrets.AZURE_DB_USERNAME }} \\ --channelid=${{ secrets.CHANNEL_ID }} \\ --channelsecretkey=${{ secrets.CHANNEL_SECRET_KEY }} \\ --client_id=${{ secrets.CLIENT_ID }} \\ --client_secret=${{ secrets.CLIENT_SECRET }} \\ --googleapikey=${{ secrets.GOOGLEAPIKEY }} \\ --hashiv=${{ secrets.HASH_IV }} \\ --hashkey=${{ secrets.HASH_KEY }} \\ --merchantid=${{ secrets.MERCHANT_ID }} \\ --reCaptchaSecretKey=${{ secrets.RECAPTCHA_SECRET_KEY }} \\ --reCaptchaSiteKey=${{ secrets.RECAPTCHA_SITE_KEY }} \\ --redirect_uris=http://localhost:5173/member-center \\ --verifyurl=https://www.google.com/recaptcha/api/siteverify \u0026gt; rentWeb-0.0.1-SNAPSHOT.log 2\u0026gt;\u0026amp;1 \u0026amp; sleep 5 # æª¢æŸ¥ç¨‹åºå’Œæ—¥èªŒ if pgrep -f \u0026#39;java -jar\u0026#39;; then echo \u0026#34;éƒ¨å±¬æˆåŠŸ\u0026#34; tail -n 50 rentWeb-0.0.1-SNAPSHOT.log else echo \u0026#34;éƒ¨å±¬å¤±æ•—\u0026#34; echo \u0026#34;Last 50 lines of log:\u0026#34; tail -n 50 rentWeb-0.0.1-SNAPSHOT.log exit 1 fi  åœ¨Github åŠ ä¸Šç’°å¢ƒè®Šæ•¸ Secrets åœ¨é€™é‚ŠåŠ ä¸Šç’°å¢ƒè®Šæ•¸(Secrets)ï¼Œå€‹äººå»ºè­°ä¸å»ºè­°ç”¨Variableå•¦\nå…¶ä¸­çš„AWS_SECRET_ACCESS_KEY AWS_ACCESS_KEY_ID å‰‡æ˜¯åœ¨IAM useråº•ä¸‹ç”³è«‹\nGithub Action å¯¦éš›é‹è¡Œç‹€æ³ åœ¨github actionä¸­åŸ·è¡Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13  steps:- name:log before checkoutruns:|echo \u0026#34;ç•¶å‰ç›®éŒ„ $(pwd)\u0026#34; echo \u0026#34;checkoutä¹‹å‰çš„æª”æ¡ˆ $(ls)\u0026#34;# è®“ GitHub Actions åŸ·è¡Œå·¥ä½œæµç¨‹æ™‚å¯ä»¥è¨ªå•ä¸¦æ“ä½œå„²å­˜åº«ä¸­çš„ä»£ç¢¼ã€‚- name:Checkout Code# uses ç›¸ç•¶æ–¼github action æä¾›çš„apiï¼Œè£¡é¢å°è£äº†ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚èªªé€™å€‹actions/checkout@v3 å°±æ˜¯åŸ·è¡Œäº†git clone ç•¶å‰ci cdçš„ç¨‹å¼ç¢¼uses:actions/checkout@v3- name:log after checkoutruns:|echo \u0026#34;ç•¶å‰ç›®éŒ„ $(pwd)\u0026#34; echo \u0026#34;checkoutä¹‹å¾Œçš„æª”æ¡ˆ $(ls)\u0026#34;  å…¶é‹è¡Œç‹€æ³å¦‚ä¸‹ï¼Œä¹Ÿå°±æ˜¯èªªåœ¨Github actionçš„è™›æ“¬æ©Ÿï¼Œå¯¦éš›çš„ç›®éŒ„æ‡‰è©²æ˜¯é•·é€™æ¨£\n1  /home/runner/work/rent_BackendOfTheFrontend/rent_BackendOfTheFrontend   åŸ·è¡Œå®Œæˆçš„æ¨£å­\n","date":"2025-01-02T04:08:26+08:00","image":"https://i.imgur.com/Q4khHpn.png","permalink":"https://hoxtoncraft.com/p/githubaction-%E6%90%AD%E9%85%8Daws%E7%9A%84cicd-ymal%E6%AA%94-%E9%99%84%E4%B8%8A%E8%A8%BB%E8%A7%A3/","title":"GitHubAction æ­é…Awsçš„CICD ymalæª” é™„ä¸Šè¨»è§£"},{"content":"æˆ‘æ˜¯2022å¹´å¾è³‡ç­–æœƒç•¢æ¥­çš„ï¼Œåˆ°ç¾åœ¨å·²ç¶“éäº†å…©å¹´äº†ï¼Œ é€™å…©å¹´é–“åšäº†ä¸å°‘äº‹ï¼Œä¹ŸçŠ¯äº†ä¸å°‘éŒ¯ï¼Œæ–¼æ˜¯æ±ºå®šå¯«ä¸€ç¯‡æ–‡ç« ä¾†è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹é€™å…©å¹´ä¾†æˆ‘æ‰€çŠ¯ä¸‹çš„ä¸€äº›æ¯”è¼ƒç™½ç—´çš„éŒ¯èª¤ï¼Œè®“å¤§å®¶å¯ä»¥é‘‘å¾€çŸ¥ä¾†ï¼Œ\n åœ¨ç™¼æ¿å‰ä¸€åˆ»æ‰æ•´ç†code  åœ¨ç™¼ç‰ˆå‰ä¸€åˆ»æ•´ç†è‡ªå·±çš„ç¨‹å¼ç¢¼æˆ‘è¦ºå¾—æ˜¯æˆ‘é€™é™£å­çŠ¯ä¸‹æ¯”è¼ƒç™½ç—´çš„éŒ¯ï¼Œæˆ‘é‚„è »å¸¸åœ¨é–‹ç™¼æ™‚é–“çµæŸå¾Œä¸å»æ•´ç†ã€å„ªåŒ–ç¨‹å¼ç¢¼ï¼Œæ¯”å¦‚èªªä¸€äº›formattingçš„æ±è¥¿å‘€ï¼Œæˆ–æ˜¯ä¸€äº›è®Šæ•¸çš„å‘½åã€if-elseçš„å„ªåŒ–ã€logçš„æ‰“å°ä¹‹é¡çš„ï¼Œç­‰åˆ°æœ€å¾ŒQAæ¸¬è©¦å®Œä¹‹å¾Œæˆ‘æ‰å»åšé€™é¡å‹çš„èª¿æ•´ã€‚è€å¯¦èªªå…¶å¯¦æˆ‘éš±éš±ç´„ç´„æœ‰è¦ºå¾—é€™æ¨£ä¸å¤ªå¥½ï¼Œä½†æœ‰æ™‚å€™é–‹ç™¼é€±æœŸæ¯”è¼ƒç·Šæ¹Šã€åˆæˆ–è€…æ˜¯æƒ³å·æ‡¶çš„æ™‚å€™å°±æœƒåœ¨è¦ç™¼å¸ƒçš„å‰ä¸€å¤©æ‰åœ¨æ•´ç†ï¼Œä¸€ç›´ä»¥ä¾†é€™æ¨£å­éƒ½æ²’å•é¡Œï¼Œç›´åˆ°å‰é™£å­æˆ‘åœ¨ç™¼ç‰ˆå‰æ•´ç†codeçš„æ™‚å€™ï¼Œå› ç‚ºæŸå€‹enumé¡è£¡é¢æœ‰äº›å€¼å·²ç¶“ä¸éœ€è¦äº†ï¼Œæˆ‘ä¾¿è‡ªä½œè°æ˜çš„æŠŠç”¨ä¸åˆ°çš„å€¼åˆªæ‰ï¼Œç„¶å¾Œé‡æ–°èª¿æ•´enumçš„ç·¨è™Ÿï¼Œæˆ‘é‚„å¾ˆè°æ˜çš„å»çœ‹æœ‰æ²’æœ‰æ–¹æ³•å»ç”¨åˆ°é€™ä¸€äº›ç•°å‹•çš„enumï¼Œä½†intelliJå°±é¡¯ç¤ºæ²’æœ‰ï¼Œå¾Œä¾†ç™¼ä½ˆæ­£å¼ç’°å¢ƒä¹‹å¾Œç™¼ç¾å®Œè›‹ï¼Œæ±è¥¿è·‘ä¸å‡ºä¾†ï¼Œå›é ­trace codeçš„æ™‚å€™æ‰ç™¼ç¾æˆ‘çš„é‚£å€‹enumé›–ç„¶æ²’æœ‰ç›´æ¥å»ä½¿ç”¨è£¡é¢çš„å€¼ï¼Œä½†å‡ºéŒ¯çš„é‚£å€‹æ–¹æ³•æœ‰å°é‚£æ•´å€‹enumåšfor-eachï¼Œä½¿å¾—æˆ‘èª¿æ•´äº†enumçš„ç·¨è™Ÿå¾Œï¼ŒæŸäº›ifæ˜¯é€²ä¸å»çš„ï¼Œå¾Œä¾†åˆç·Šæ€¥ç™¼ç‰ˆè™•ç†é€™å•é¡Œã€‚\nå›é ­ä¾†çœ‹ç™¼ç¾é€™å•é¡Œä¸»è¦åŸå› å°±æ˜¯æˆ‘æ‰‹è³¤^_^ï¼Œä¸å»æ”¹å°±æ²’äº‹ï¼Œä½†æ›´æ·±å±¤çš„åŸå› æ‡‰è©²æ˜¯æˆ‘è¦åœ¨ç¨‹å¼ç¢¼é€²å…¥QAéšæ®µå‰å°±æŠŠä¸€äº›codeåšå„ªåŒ–ï¼Œè€Œä¸æ˜¯åœ¨QAçµæŸå¾Œèª¿æ•´ï¼Œç­‰åˆ°ç™¼ç‰ˆå‰ä¸€åˆ»æ‰åœ¨èª¿æ•´codeæ˜¯ä¸€ä»¶å¾ˆå±éšªçš„äº‹æƒ…ï¼ˆæˆ‘çš„ä¸»ç®¡åœ¨æ¯æ¬¡å¿«ç™¼ç‰ˆå‰éƒ½æœƒèªªè¦ç™¼ç‰ˆäº†ï¼Œä¸è¦å†åŠ æ–°çš„æ±è¥¿ï¼‰ï¼Œä¸€ä¾†é¢¨éšªå¾ˆé«˜ï¼Œå®¹æ˜“å‡ºéŒ¯ï¼ŒäºŒä¾†å¦‚æœä¸Šç·šä¹‹å¾Œå‡ºéŒ¯ï¼ŒQAä¹Ÿæœƒè¢«é€£å¸¶å’è²¬ï¼Œçµæœå°å¤§å®¶éƒ½ä¸å¥½ã€‚\nRetriveè³‡æ–™æ™‚æ²’æœ‰åšåˆ†é   èº«ç‚ºä¸€å€‹èœé›ï¼Œåšæœ€å¤šçš„äº‹æƒ…å°±æ˜¯èŠ±å¼çš„æŠŠè³‡æ–™åº«çš„å„ç¨®æ±è¥¿ä¸Ÿå‡ºä¾†ï¼Œåœ¨æˆ‘åšçš„é€™å…©å¹´å…§ï¼Œæˆ‘éš±éš±ç´„ç´„æœ‰æ„Ÿè¦ºåˆ°ï¼Œåªè¦æ¶‰åŠæœ‰é—œlistçš„apiï¼Œé™¤ééœ€æ±‚ä¸Šå°±æœ‰é™åˆ¶èªªå›å‚³å¹¾ç­†ï¼ˆæ¯”å¦‚èªªyoutubeçš„æ¨è–¦å½±ç‰‡å›ºå®šå°±æ˜¯10ç­†ï¼‰ï¼Œéƒ½å¯ä»¥åœ¨åˆæœŸå°±ç”¨åˆ†é å»è™•ç†ã€‚åœ¨æˆ‘ä¹‹å‰çš„é–‹ç™¼è¿­ä»£ä¸­ï¼Œå¸¸å¸¸æœƒé‡åˆ°ä¹‹å‰åšçš„retrive apiï¼Œç™¼ç¾æ­£å¼ç’°å¢ƒçš„é‡ç´šæœ‰é»å¤§ï¼Œè¿”å›çš„è³‡æ–™è®Šå¤šäº†ï¼Œåˆæˆ–è€…æ˜¯èªªè¦é©é…androidã€iosç³»çµ±ï¼Œè®“å…§å®¹å‹•æ…‹renderï¼Œé€™æ™‚å€™å¸¸å¸¸å°±éœ€è¦æŠŠèˆŠçš„apiå†é‡æ–°èª¿æ•´æˆåˆ†é ï¼Œä¸€ä¾†ä¸€å¾€å‰ç«¯åˆéœ€è¦é‡æ–°ä¸²æ¥ä¸€æ¬¡ï¼Œå¾Œä¾†åšä¹…äº†å°±ç™¼ç¾èˆ‡å…¶é€™æ¨£ï¼Œä¸å¦‚åœ¨ä¸€é–‹å§‹å°±è¨­è¨ˆæˆåˆ†é çš„å½¢å¼ä»¥å› æ‡‰æœªä¾†ä¸åŒéœ€æ±‚çš„æ“´å¢ï¼Œåšæˆåˆ†é çš„å½¢å¼ä¹Ÿå¯ä»¥åœ¨åƒæ•¸çš„éƒ¨åˆ†é™åˆ¶ä½¿ç”¨è€…å°è³‡æ–™åº«queryçš„loadingï¼Œä¸è‡³æ–¼ä¸€æ¬¡è¿”å›å€‹å¥½å¹¾ç™¾ç­†çµ¦ç”¨æˆ¶ã€‚ç›®å‰é€™æ¨£æ“ä½œä¸‹ä¾†éƒ½æ²’ä»€éº¼å¤ªå¤§çš„å•é¡Œï¼Œå”¯ä¸€æ¯”è¼ƒéº»ç…©çš„éƒ¨åˆ†å¤§æ¦‚å°±æ˜¯åˆ†é çš„å…§å®¹æ”¾redisæœ‰é»ä½”ç©ºé–“å§ï¼Œæˆ‘æ˜¯ç”¨Key+page+sizeçš„æ–¹å¼å»åšé€™å€‹rediså¿«å–çš„ï¼Œç›®å‰é‚„æ²’æƒ³åˆ°ä»€éº¼æ›´å¥½çš„åšæ³•ã€‚\næ²’æœ‰ç”¨explainå»çœ‹æ•ˆèƒ½  é€™ç®—æ˜¯æˆ‘æ¯”è¼ƒèœçš„å•é¡Œï¼Œæˆ‘æ˜¯ä¸€è·¯æ›äº†å¥½å¹¾å®¶å…¬å¸æ‰æœ‰äººè·Ÿæˆ‘èªªæœ‰å€‹æ±è¥¿å«explainï¼Œå¯ä»¥åœ¨è·‘sqlçš„æ™‚å€™çœ‹çœ‹åˆ°åº•é€™æ¢sqlæœƒä¸æœƒèµ°åˆ°indexï¼Œæœƒä¸æœƒæœ‰æ•ˆèƒ½å•é¡Œï¼Œåƒæˆ‘ä¹‹å‰å°±å¯«éä¸€æ¢çµåˆæ¨¡ç³ŠæŸ¥è©¢çš„è¶…æ…¢sqlï¼Œä¸Šç·šå¾Œç›´æ¥è¢«å™´åˆ°æ­ªé ­\nhttps://hoxtonhsu.com/p/%E5%9C%A8sql%E4%B8%AD%E4%BD%BF%E7%94%A8or%E6%98%AF%E4%B8%80%E4%BB%B6%E9%9D%9E%E5%B8%B8%E5%8D%B1%E9%9A%AA%E7%9A%84%E4%BA%8B%E6%83%85/\nå¾æ­¤ä¹‹å¾Œåªè¦å¯«ç¨å¾®æ¯”è¼ƒé•·çš„sqlï¼Œéƒ½æœƒç¿’æ…£æ€§exlpainï¼Œçœ‹ä¸€ä¸‹åˆ°åº•æœƒä¸æœƒå‡ºå•é¡Œã€‚\næ“´å¢éœ€æ±‚æ™‚ï¼Œå»èª¿æ•´ç¾æœ‰çš„æ¶æ§‹  éƒ½èªªé–‹ç™¼çš„æ™‚å€™æœ€å¥½æ˜¯éµå¾ªé–‹æ”¾å°é–‰åŸå‰‡ï¼Œæ›¸æˆ‘æœ‰çœ‹éã€é¢è©¦çš„æ™‚å€™æˆ‘ä¹Ÿå›ç­”å¾—å‡ºä¾†ï¼Œä½†å¯¦éš›æ“ä½œçš„æ™‚å€™æˆ‘é‚„æ˜¯çŠ¯äº†é€™å€‹å¾ˆç™½ç—´çš„éŒ¯ï¼Œç•¶æ™‚æœ‰å€‹éœ€æ±‚æ˜¯å¸Œæœ›æŸäº›æ–°èæˆ‘å€‘å¯ä»¥ç¿»è­¯å®Œå¾Œåšæˆå¤šèªè¨€ï¼Œç„¶å¾Œå¸Œæœ›é€™äº›æ–‡ç« å¯ä»¥è¢«å…±åŒç®¡ç†ï¼Œæ¯”å¦‚æˆ‘é»é–‹æ–°èç·¨è™Ÿ1ï¼Œå°±æœƒæœ‰é€™æ–°èçš„ä¸­æ–‡ç‰ˆã€è‹±æ–‡ç‰ˆé€™æ¨£å­ï¼Œæ–¹ä¾¿ç¶­è­·äººå“¡ç¶­è­·é€™äº›å…§å®¹ï¼Œç•¶æ™‚æˆ‘æ˜¯è² è²¬åšé€™å€‹èª¿æ•´åŠŸèƒ½çš„ï¼Œç•¶æ™‚è³‡æ–™åº«è¨­è¨ˆå¾ˆå–®ç´”ï¼Œå°±ä¸€å€‹newsçš„tableç„¶å¾Œæœ‰è‡ªå¢éµã€æ¨™é¡Œã€å…§å®¹ã€èªè¨€ã€å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆçˆ¬èŸ²ä¸‹ä¾†çš„ï¼Œé¿å…é‡è¤‡çˆ¬ï¼‰ï¼Œæˆ‘ç•¶æ™‚çš„æƒ³æ³•å¾ˆç°¡å–®ï¼Œå°±æ˜¯è®“é€™äº›è¢«ç¿»è­¯çš„å¤šèªè¨€æ–°èå’ŒåŸå…ˆçš„æ–°èæœ‰å…±åŒçš„å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆäº‹å¾Œå›ä¾†çœ‹é€™å•é¡Œè¶…å¤§ï¼‰ï¼Œå¦‚æ­¤ä¸€ä¾†åªè¦å‚³è­˜åˆ¥ç¢¼ï¼Œå¾Œç«¯å°±èƒ½åå‡ºç›¸é—œçš„å¤šèªè¨€æ–°èè³‡æ–™ã€‚\nå¾Œä¾†å¾ˆå¿«æ¨‚çš„åšä¸€åšï¼Œå¯«å‘€å¯«ï¼Œç­‰åˆ°QAéšæ®µçš„æ™‚å€™ï¼Œé€™å€‹æ–°åŠ çš„åŠŸèƒ½æ²’å•é¡Œï¼Œä½†é—œè¯åˆ°æ–°èçš„é é¢è³‡æ–™æˆ–å¤šæˆ–å°‘éƒ½å‡ºéŒ¯äº†ï¼Œæ¯”å¦‚èªªè§€çœ‹æ•¸ã€ç€è¦½æ•¸ã€æ–‡ç« æ¨™é¡Œé»é€²å»å›å‚³çš„å…§å®¹ç­‰ç­‰ï¼Œå› ç‚ºç•¶æ™‚çš„è¨­è¨ˆå°±æ˜¯æ•´å¼µè¡¨æ˜¯ä¸æœƒå‡ºç¾æœ‰é‡è¤‡çš„è­˜åˆ¥ç¢¼çš„ï¼Œå¦‚æœæœ‰çš„è©±ï¼Œmybatisçš„é‚£æ®µå°±æœƒå‡ºå•é¡Œï¼Œåˆæˆ–è€…æ˜¯èªªä¹‹å‰çš„äººå–è³‡æ–™æ˜¯ç”¨get(0)çš„æ–¹å¼ä¾†å–ï¼Œé‚£å°±æœƒå°è‡´å–å‡ºä¾†çš„è³‡æ–™ä¸ä¸€å®šæ˜¯é‚£å€‹èªç³»çš„ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æ–°èçš„éƒ¨åˆ†å¹¾ä¹éƒ½å£çš„å·®ä¸å¤šäº†ï¼Œä½†é–‹ç™¼ä¹Ÿå·²ç¶“åˆ°å°¾è²ï¼Œåªèƒ½ç¡¬è‘—é ­çš®æŠŠæ‰€æœ‰è·Ÿæ–°èæœ‰é—œçš„codeå…¨éƒ¨éƒ½èª¿æ•´ä¸€éã€‚\né€™æ±è¥¿å¦‚æœé‚„æœ‰æ©Ÿæœƒè®“æˆ‘åšä¸€éï¼Œæˆ‘æ‡‰è©²æœƒæƒ³è¦é‡æ–°é–‹å¼µè¡¨ï¼ŒæŠŠå¤šèªè¨€çš„æ–‡ç« å…§å®¹ã€æ¨™é¡Œã€è­˜åˆ¥ç¢¼æ”¾åœ¨é€™å¼µè¡¨è£¡é¢ï¼Œè€Œä¸æ˜¯å°èˆŠçš„è¡¨åšä¿®æ”¹= =\nç¼ºå°‘logæ‰“å°ç´€éŒ„  åœ¨è³‡ç­–æœƒé‚„æœ‰å¾Œé¢å·¥ä½œæ™‚ï¼Œå…¶å¯¦æˆ‘å¤§éƒ¨åˆ†çš„é–‹ç™¼éƒ½æ˜¯åœ¨è‡ªå·±çš„é›»è…¦ä¸Šæ“ä½œå®Œæˆï¼Œç”šè‡³èªªé‚„æ²’æœ‰æ­£å¼å°å¤–çš„ç”¢å“ï¼Œå› æ­¤å°æ–¼æ‰“å°logé€™ä»¶äº‹æƒ…æ²’æœ‰å¾ˆé‡è¦–ï¼Œåˆ°äº†ç¾åœ¨é€™å®¶å…¬å¸ï¼Œç”±æ–¼åƒèˆ‡çš„å¥½å¹¾å€‹å°ˆæ¡ˆéƒ½æœ‰ä¸Šæ­£å¼ç’°å¢ƒï¼Œç„¶å¾Œdebugä¹Ÿåªèƒ½é€élogç´€éŒ„ä¾†debugï¼Œå› æ­¤å¯«logå°±è®Šæˆä¸€ä»¶é‡è¦çš„äº‹æƒ…ï¼Œæˆ‘è‡ªå·±ç¸½çµå‡ºä¾†é—œæ–¼æ‰“å°logçš„ä¸€äº›å¿ƒå¾—\n Errorçš„éƒ¨åˆ†éƒ½è¦æ‰“å°ï¼Œéƒ½å…ˆæ‰“å°ä¸€ä¸‹ï¼Œé¿å…åˆ°æ™‚å€™å‡ºå•é¡Œå¾ˆé›£è¿½è¹¤ï¼Œä¸¦ä¸”è¦æŠŠå‡ºéŒ¯æ™‚çš„è®Šæ•¸ã€åƒæ•¸ä¹Ÿæ‰“å°å‡ºä¾†ï¼Œç¢ºèªçœ‹çœ‹åˆ°åº•æ˜¯ä»€éº¼æ¨£çš„åƒæ•¸æ‰æœƒå°è‡´é€™æ¨£çš„å•é¡Œ Create, Update , Deleteç›¸é—œçš„æ“ä½œä¹Ÿå¯ä»¥æ‰“å°ä¸€ä¸‹ï¼Œå¦‚æœæ­£å¼ç’°å¢ƒå‡ºå•é¡Œï¼Œè‡³å°‘å¯ä»¥çœ‹logè¿½è¹¤çœ‹çœ‹æ˜¯ä»€éº¼æ™‚å€™æœ‰äººåšäº†ä»€éº¼æ“ä½œæ‰€å¼•èµ·çš„ Retriveçš„æ“ä½œçš„è©±æˆ‘è¦ºå¾—æ‰“å°çš„éœ€æ±‚ç›¸å°ä¾†è¬›æ¯”è¼ƒä½ï¼Œå°¤å…¶Retriveæ˜¯å€‹è »é »ç¹çš„æ“ä½œï¼Œæ‰“å°ä¸‹å»çš„è©±å¯èƒ½æ•´é çš„logè¨˜éŒ„éƒ½æ˜¯ä¸€äº›Retriveç›¸é—œçš„å…§å®¹ ç„¶åä¸€äº›æ–°ä¸Šç·šçš„å…§å®¹ï¼Œæ¯”å¦‚èªªæ–°å¢ä»€éº¼ç´…åˆ©é»æ•¸å‘€ä¹‹é¡ä¹‹é¡çš„ï¼Œæˆ‘æœƒæƒ³è¦å†å¤šæ‰“å°ä¸€äº›sizeç›¸é—œçš„è³‡æ–™ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥ç›´æ¥å¾logè¨˜éŒ„çœ‹å‡ºç›®å‰è³‡æ–™å¢é•·çš„å¹…åº¦ï¼Œå¦‚æœè³‡æ–™å¢é•·å¾ˆå¿«å°±ä»£è¡¨å¯èƒ½æ˜¯å€‹ç†±é»ï¼Œéœ€è¦å¤šæ³¨æ„é¿å…æœ‰æ•ˆèƒ½ç“¶é ¸ï¼ŒæŠ‘æˆ–æ˜¯èªªéœ€è¦åŠ ä¸€äº›å¿«å–å±¤é™ä½sql session çš„æ¬¡æ•¸  ä»¥ä¸Šå¤§æ¦‚æ˜¯æˆ‘è¦ºå¾—å·¥ä½œé€™å…©å¹´æ¯”è¼ƒå°è±¡æ·±åˆ»çŠ¯çš„éŒ¯ï¼Œå’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼\n","date":"2024-12-30T23:02:40+08:00","image":"https://i.imgur.com/aERQWYn.jpeg","permalink":"https://hoxtoncraft.com/p/%E5%9B%9E%E9%A1%A7%E8%BD%89%E8%81%B7%E9%80%99%E5%85%A9%E5%B9%B4%E6%89%80%E7%8A%AF%E4%B8%8B%E7%9A%84%E9%8C%AF%E8%AA%A4/","title":"å›é¡§è½‰è·é€™å…©å¹´æ‰€çŠ¯ä¸‹çš„éŒ¯èª¤"},{"content":"Web3jå®‰è£ å¹¹ï¼Œé€™æ±è¥¿è¶…éº»ç…©ï¼Œåªæ”¯æ´Java17ä»¥ä¸Šç‰ˆæœ¬ï¼Œä½†ä¸çŸ¥é“ç‚ºå•¥æˆ‘æ˜æ˜éƒ½ç”¨17äº†é‚„æ˜¯ä¸çµ¦æˆ‘å®‰è£ï¼Œç„¶å¾ŒéŒ¯èª¤æç¤ºåªæœƒè·³é‡èªª\n1  Looks like there was an error while trying to download web3j   å±¬å¯¦ç™½ç—´\nå¾Œä¾†å¼„äº†è€åŠå¤©å¾Œæˆ‘æ±ºå®šæ‰‹å‹•å®‰è£\nhttps://github.com/hyperledger-web3j/web3j-cli/releases/tag/v1.6.1\nè§£å£“ç¸®ä¸‹ä¾†æ˜¯binè·Ÿlibè³‡æ–™å¤¾\næˆ‘é¸æ“‡å°‡é€™å€‹è³‡æ–™å¤¾æ”¾åˆ° /usr/local åº•ä¸‹\næ¥è‘—è¼¸å…¥\n1  vim ~/.zshrc   æŠŠç’°å¢ƒè®Šæ•¸é…ç½®ä¸€ä¸‹\n1 2  export WEB3J_HOME=/usr/local/web3j-1.6.1 export PATH=$PATH:$WEB3J_HOME/bin   é€™æ¨£è¼¸å…¥\n1  web3j -v   å°±å¯ä»¥åŸ·è¡Œäº†\nkeystoreæª”æ¡ˆèªªæ˜ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  { \u0026#34;address\u0026#34;: \u0026#34;016562a3a1914f81cbcef12cc660272b64a27e13\u0026#34;, //é€™æ˜¯ä»¥å¤ªåŠéŒ¢åŒ…çš„åœ°å€ï¼ˆå…¬é‘°çš„å“ˆå¸Œå€¼ï¼‰ã€‚ \u0026#34;id\u0026#34;: \u0026#34;03c93764-e059-4ed7-ab9e-b5c53d4192c9\u0026#34;, //ä¸€å€‹å”¯ä¸€çš„ UUIDï¼Œç”¨æ–¼æ¨™è­˜é€™å€‹ Keystore æ–‡ä»¶ã€‚ \u0026#34;version\u0026#34;: 3, //è¡¨ç¤ºé€™æ˜¯ Keystore æ–‡ä»¶çš„ V3 æ ¼å¼ï¼Œå¸¸è¦‹æ–¼ç¾ä»£ä»¥å¤ªåŠå·¥å…·ã€‚ \u0026#34;crypto\u0026#34;: { \u0026#34;cipher\u0026#34;: \u0026#34;aes-128-ctr\u0026#34;, //aes-128-ctr \u0026#34;ciphertext\u0026#34;: \u0026#34;5313921d6065080a4d6b902c497902d93260ec5a63f95b2ddda7a6f810c0bcd3\u0026#34;, //é€™æ˜¯åŠ å¯†å¾Œçš„ç§é‘°ã€‚ \u0026#34;cipherparams\u0026#34;: { \u0026#34;iv\u0026#34;: \u0026#34;730c233b03d01746827bff6a8e1f1a60\u0026#34; //åŒ…å«åŠ å¯†éç¨‹ä¸­çš„åˆå§‹åŒ–å‘é‡ (IV)ï¼š }, \u0026#34;kdf\u0026#34;: \u0026#34;scrypt\u0026#34;, //ç”ŸæˆåŠ å¯†å¯†é‘°çš„å¯†é‘°è¡ç”Ÿå‡½æ•¸ (Key Derivation Function)ã€‚ \u0026#34;kdfparams\u0026#34;: { \u0026#34;dklen\u0026#34;: 32, //è¡ç”Ÿå¯†é‘°çš„é•·åº¦ï¼Œé€™è£¡æ˜¯ 32 å­—ç¯€ã€‚ \u0026#34;n\u0026#34;: 262144, // scrypt çš„åƒæ•¸ï¼Œç”¨æ–¼æ§åˆ¶è¨ˆç®—çš„é›£åº¦ï¼Œæä¾›é¡å¤–çš„å®‰å…¨æ€§ã€‚ \u0026#34;p\u0026#34;: 1, // scrypt çš„åƒæ•¸ï¼Œç”¨æ–¼æ§åˆ¶è¨ˆç®—çš„é›£åº¦ï¼Œæä¾›é¡å¤–çš„å®‰å…¨æ€§ã€‚ \u0026#34;r\u0026#34;: 8, // scrypt çš„åƒæ•¸ï¼Œç”¨æ–¼æ§åˆ¶è¨ˆç®—çš„é›£åº¦ï¼Œæä¾›é¡å¤–çš„å®‰å…¨æ€§ã€‚ \u0026#34;salt\u0026#34;: \u0026#34;bde8a27f12dd1441bd626040f633d01f2234c6cf6a22a57e658f51d6da66c1ca\u0026#34; //åŠ é¹½å€¼ï¼Œç”¨æ–¼é˜²æ­¢å½©è™¹è¡¨æ”»æ“Šã€‚å½©è™¹è¡¨æ”»æ“Šæ˜¯ä¸€ç¨®é‡å°å¯†ç¢¼æˆ–åŠ å¯†è³‡æ–™çš„ç ´è§£æŠ€è¡“ï¼Œåˆ©ç”¨äº†é å…ˆè¨ˆç®—å¥½çš„å“ˆå¸Œå€¼è¡¨ä¾†å¿«é€Ÿåæ¨å‡ºåŸå§‹æ•¸æ“šã€‚å®ƒæ˜¯ä¸€ç¨®æ™‚é–“èˆ‡ç©ºé–“çš„æ¬Šè¡¡æŠ€è¡“ï¼Œç”¨ä¾†ç ´è§£å“ˆå¸Œå‡½æ•¸ï¼ˆä¾‹å¦‚ç”¨æ–¼å¯†ç¢¼å­˜å„²çš„ SHA-256ã€MD5 ç­‰ï¼‰çš„çµæœã€‚ }, \u0026#34;mac\u0026#34;: \u0026#34;dd8cc31766ccb7c855e7b12883a86d781d4697f248c214e51c603098671fb939\u0026#34; //ä¸€å€‹è¨Šæ¯é©—è­‰ç¢¼ï¼Œç”¨æ–¼é©—è­‰æ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ã€‚ } }   ","date":"2024-12-13T15:28:37+08:00","image":"https://i.imgur.com/OYei4FW.png","permalink":"https://hoxtoncraft.com/p/%E5%8D%80%E5%A1%8A%E9%8F%88%E6%8A%80%E8%A1%93%E5%AD%B8%E7%BF%92/","title":"å€å¡ŠéˆæŠ€è¡“å­¸ç¿’"},{"content":"å‰è¨€ æœ€è¿‘ä¸çŸ¥é“ç‚ºä»€éº¼ï¼Œçªç„¶è¢«æ´¾å»åšä¸‰æ–¹é©—è­‰äº†ï¼Œèªªèµ·ä¾†é€™ç¨®æ¯”è¼ƒé«˜æŠ€è¡“çš„äº‹æƒ…ä¸æ‡‰è©²äº¤çµ¦æˆ‘é€™ç¨®èœé›ä¾†åšçš„èªªï¼Œå¯èƒ½æ˜¯ç•¶å¤ªä¹…çš„ç±³èŸ²çµ‚æ–¼è¢«æŠ“åˆ°äº†å§ï¼Œã„ã„\nå¾Œä¾†åœ¨åšçš„æ™‚å€™ç™¼ç¾Telegramé€ä¾†çš„è³‡æ–™è£¡é¢æœ‰åŒ…å«ä¸€äº›èªè­‰è³‡è¨Šï¼Œå¤§æ¦‚å°±åƒé€™æ¨£ï¼Œæœ‰å€‹hashCodeå¯ä»¥è®“å¾Œç«¯å»æ ¡é©—è³‡æ–™çš„å®Œæ•´æ€§ï¼Œæˆ‘è©¦è‘—è«‹ChatGPTåšé€™éƒ¨åˆ†çš„æ ¡é©—ï¼Œä½†è·‘äº†å¹¾æ¬¡éƒ½ä¸å¤ªè¡Œã€‚å¾Œä¾†æ˜¯å¾ç¶²è·¯ä¸Šçœ‹åˆ°æœ‰æ®µgolangçš„codeï¼Œæ‹¿éä¾†èª¿æ•´æˆJavaç›¸é—œçš„codeæ‰æˆåŠŸï¼Œå…·é«”çš„ç¨‹å¼ç¢¼æˆ‘é™„åœ¨ä¸‹é¢\nä½†ä¸‹é¢é‚£æ®µç¨‹å¼ç¢¼æˆ‘åŒäº‹æé†’æœ‰å€‹å•é¡Œï¼Œå°±æ˜¯æˆ‘æ²’æœ‰å°auth_dateå»æ ¡é©—ï¼Œé‚£å€‹æ—¥æœŸä»£è¡¨çš„æ˜¯Oauthè­‰æ›¸ç™¼çµ¦ä½ çš„æ™‚é–“é»ï¼Œåƒé€™é‚Šçš„1732760301è½‰æˆDateå°±æ˜¯2024-11-28çš„æ—¥æœŸï¼Œå¾Œç«¯é€™é‚Šå…¶å¯¦é‚„è¦å»æ ¡é©—èªªé€™å€‹auth_dateæ˜¯å¦æœ‰éæœŸï¼Œé¿å…ç”¨æˆ¶ä¸€ç›´æ‹¿èˆŠçš„Oauthè³‡æ–™ä¾†ç™»å…¥\n1 2 3 4 5 6 7  { \u0026#34;id\u0026#34;:6591452147, \u0026#34;first_name\u0026#34;:\u0026#34;Hoxton\u0026#34;, \u0026#34;username\u0026#34;:\u0026#34;Hoxton1337\u0026#34;, \u0026#34;auth_date\u0026#34;:1732760301, \u0026#34;hash\u0026#34;:\u0026#34;b8548f86c4646fbac42cd2e0ed35db2cb0ef25a058d7701135cd9492d03260d3\u0026#34; }   Java Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83  /** * é€étgAuthResult decodeå‡ºåŒ…å«çš„Hashï¼Œèˆ‡Bot Token é€²è¡Œé©—è­‰ï¼Œå…·é«”æ­¥é©Ÿå¦‚ä¸‹ * 1. å°‡tgAuthResulté€²è¡ŒBase64 decode * 2. å»é™¤æ‰å›å‚³çš„HashCode * 3. æŒ‰ç…§å­—æ¯é †åºå»æ’åºé€™äº›key-value * 4. è¨ˆç®—Bot Tokençš„ sha256 * 5. è¨ˆç®—HMAC_Sha256ï¼Œæ˜æ–‡æ˜¯ä¸Šé¢Bot Tokençš„sha256ï¼Œkeyæ˜¯Bot Tokenï¼Œç„¶å¾Œå°‡çµæœè½‰æ›æˆHex * 6. æ¯”è¼ƒä¸Šé¢å¾—åˆ°çš„Hexå’Œå›å‚³çš„HashCodeæ˜¯å¦ä¸€è‡´ * * @param tgAuthResult * @return */ @Slf4j public class TestMain { private static final String BOT_TOKEN = \u0026#34;Tokenæ”¾é€™é‚Š\u0026#34;; public static void main(String[] args) throws NoSuchAlgorithmException { String tgAuthResult = \u0026#34;oauthå›å‚³çš„tgAuthResultæ”¾é€™é‚Šï¼Œæ‡‰è©²æœƒæ˜¯ä¸€æ®µbase64çš„ç·¨ç¢¼æ–‡å­—\u0026#34;; // Step 1: æŠŠBase64ç·¨ç¢¼è½‰æˆäººé¡å¯ä»¥è®€çš„æ–‡å­—  String decodedData = new String(Base64.getDecoder().decode(tgAuthResult)); JsonObject jsonObject = JsonParser.parseString(decodedData).getAsJsonObject(); // Step 2: å–å‡ºhashå€¼ï¼Œä¸¦æŠŠHashå¾jsonObjectä¸­ç§»é™¤  String receivedHash = jsonObject.get(\u0026#34;hash\u0026#34;).getAsString(); jsonObject.remove(\u0026#34;hash\u0026#34;); // Remove hash from the map before verification  // Step 3: æŠŠè³‡æ–™å»åšè™•ç†ï¼Œè®“å»é™¤äº†hashçš„jsonå­—ä¸²ï¼Œç”¨è‹±æ–‡å­—æ¯å¤§å°çš„æ–¹å¼åšæ’åº  TreeMap\u0026lt;String, String\u0026gt; sortedData = new TreeMap\u0026lt;\u0026gt;(); for (Map.Entry\u0026lt;String, com.google.gson.JsonElement\u0026gt; entry : jsonObject.entrySet()) { if (!entry.getKey().equals(\u0026#34;hash\u0026#34;)) { // Make sure \u0026#34;hash\u0026#34; is excluded from sortedData  sortedData.put(entry.getKey(), entry.getValue().getAsString()); } } StringBuilder dataString = new StringBuilder(); for (Map.Entry\u0026lt;String, String\u0026gt; entry : sortedData.entrySet()) { if (dataString.length() \u0026gt; 0) dataString.append(\u0026#34;\\n\u0026#34;); dataString.append(entry.getKey()).append(\u0026#34;=\u0026#34;).append(entry.getValue()); } //è¨ˆç®—HMAC // String secretKey = BOT_TOKEN;  MessageDigest digest = MessageDigest.getInstance(\u0026#34;SHA-256\u0026#34;); byte[] secretKey = digest.digest(BOT_TOKEN.getBytes(StandardCharsets.UTF_8)); String calculatedHash = calculateHMAC(dataString.toString(), secretKey); // Step 5:èªè­‰hash  if (calculatedHash.equals(receivedHash)) { log.info(\u0026#34;Verification successful! User authenticated.\u0026#34;); } else { log.warn(\u0026#34;Verification failed! Data may have been tampered with.\u0026#34;); } } public static String calculateHMAC(String data, byte[] key) { try { SecretKeySpec keySpec = new SecretKeySpec(key, \u0026#34;HmacSHA256\u0026#34;); Mac mac = Mac.getInstance(\u0026#34;HmacSHA256\u0026#34;); mac.init(keySpec); byte[] hashBytes = mac.doFinal(data.toString().getBytes(StandardCharsets.UTF_8)); // Convert bytes to hex format using Apache Commons Codec  return bytesToHex(hashBytes); } catch (Exception e) { throw new RuntimeException(\u0026#34;Failed to calculate HMAC\u0026#34;, e); } } private static String bytesToHex(byte[] bytes) { StringBuilder hexString = new StringBuilder(); for (byte b : bytes) { hexString.append(String.format(\u0026#34;%02x\u0026#34;, b)); } return hexString.toString(); } }   Trivial å¦‚ä½•æŸ¥çœ‹æŒ‰éˆ•æ‰€å°å‘çš„WebAppæ˜¯å“ªå€‹ åœ¨é–‹ç™¼Telegram Botçš„æ™‚å€™ï¼Œå¯èƒ½æœƒæƒ³è¦æŸ¥çœ‹ç›®å‰é€™äº›æŒ‰éˆ•èƒŒå¾Œå°æ‡‰çš„Urlæ˜¯ä»€éº¼ï¼Œä½†å¾ˆæ˜é¡¯Telegramæ˜¯ç„¡æ³•æŸ¥çœ‹é€™äº›å…§å®¹çš„\n(æ²’è¾¦æ³•å³éµä¹Ÿæ²’è¾¦æ³•å«å‡ºå•¥é–‹ç™¼è€…å·¥å…·)\nä½†å…¶å¯¦æˆ‘å€‘å¯ä»¥é€éç¶²é ç‰ˆçš„Telegramä¾†æŸ¥çœ‹é€™äº›æŒ‰éˆ•çš„urlå–”ï¼\n","date":"2024-10-31T10:06:03+08:00","image":"https://i.imgur.com/iwVZdqj.png","permalink":"https://hoxtoncraft.com/p/%E9%97%9C%E6%96%BCtelegram-oauth-%E5%A6%82%E4%BD%95%E5%9C%A8java%E4%B8%AD%E9%A9%97%E8%AD%89hash%E7%9A%84%E6%AD%A3%E7%A2%BA%E6%80%A7-%E9%99%84%E4%B8%8Ajavacode/","title":"é—œæ–¼Telegram Oauth å¦‚ä½•åœ¨Javaä¸­é©—è­‰Hashçš„æ­£ç¢ºæ€§ (é™„ä¸ŠJavaCode)"},{"content":"å‰é™£å­æœ‹å‹æªåœ˜ç©éŠæˆ²æ™‚ï¼Œåˆé™·å…¥èª°è¦ç•¶Hostçš„å•é¡Œï¼Œè¨˜å¾—é«˜ä¸­å¤§å­¸æ™‚ï¼Œéƒ½æ˜¯ä¸€å€‹ç¶²è·¯æ¯”è¼ƒå¥½çš„äººç•¶hostï¼Œå…¶ä»–äººå»é€£ï¼Œé€™ç¨®æ–¹å¼çš„ç¼ºé»ä¹Ÿå¾ˆæ˜é¡¯ï¼Œå°±æ˜¯é›»è…¦å¿…é ˆè¦é‹è¡Œè‘—ï¼Œä¸€ä½†é—œæ©Ÿå¾Œæˆ‘å€‘å°±éœ€è¦åœ¨ç¾¤çµ„Tagå°æ–¹ï¼Œè«‹ä»–ä¸Šç·šé–‹æˆ¿ã€‚\næ–¼æ˜¯æˆ‘çªç„¶æƒ³åˆ°äº†Awsçš„æœå‹™ï¼Œé‚è¼¯ä¸Šä¾†è¬›æˆ‘æ‡‰è©²å¯ä»¥åœ¨Awsä¸Šé¢é‹è¡Œä¸€å€‹ä¼ºæœå™¨çš„çµ‚ç«¯ï¼Œç„¶å¾Œæˆ‘å€‘é€éAwsçš„å›ºå®šIpå»é€£ç·šï¼Œé€™æ¨£æˆ‘å€‘å°±è§£æ±ºäº†é–‹æˆ¿å•é¡Œï¼Œä¸¦ä¸”ä¹Ÿä¸éœ€è¦ä»°è³´æŸæŸäººä¸Šç·šæ‰èƒ½ç©ï¼Œé™¤æ­¤ä¹‹å¤–ä¹Ÿä¸ç”¨è™•ç†è‡ªå·±é–‹ä¼ºæœå™¨è¦å¼„çš„ä¸€å †rounterè¨­å®šã€Http Forwardingä¹‹é¡çš„ï¼ŒæŸ¥äº†ä¸€ä¸‹ç™¼ç¾Awsæœ¬èº«å°±æœ‰ä¸€å€‹å«åšlightsailçš„åŠŸèƒ½ï¼Œæœ¬è³ªå°±æ˜¯ä¸€å€‹æ›´è¼•é‡åŒ–çš„Ec2ï¼Œä¸æ”¯æ´ç´°ç·»çš„å¾®èª¿ï¼Œä½†å¥½è™•å°±æ˜¯ä¸éœ€è¦å¤ªå¤šåŸºç¤çŸ¥è­˜ï¼Œåªéœ€è¦ç¨å¾®è¨­ç½®ä¸€ä¸‹å°±èƒ½åœ¨Awsä¸Šå¿«é€Ÿéƒ¨ç½²ã€‚\nLightsail Lightsailæ˜¯ä¸€å€‹Awsçš„æœå‹™ï¼Œä¸»è¦æ˜¯è™•ç†è¼•é‡åŒ–çš„éœ€æ±‚ï¼Œæä¾›äº†ä¸€äº›å›ºå®šå¼çš„é›²ç«¯æ©Ÿå™¨æ¨¡æ¿ã€‚åŠé–“ä¹Ÿæœ‰ä¸€äº›é¡ä¼¼çš„ç”¢å“ï¼Œæ¯”å¦‚èªªDigital Oceançš„Dropletï¼Œä½†æ˜¯Digital Oceané›¢å°ç£æœ€è¿‘çš„ä¼ºæœå™¨åœ¨æ–°åŠ å¡ï¼Œè€ŒAwsæœ€è¿‘çš„ä¼ºæœå™¨å‰‡æ˜¯åœ¨æ—¥æœ¬ï¼Œä¸€ä¾†ä¸€å¾€ä¹‹ä¸‹Awsç¢ºå¯¦æ˜¯æ›´å¥½çš„é¸æ“‡ã€‚\næ ¹æ“šæ‰€é¸çš„æ–¹æ¡ˆä¸åŒï¼Œlightsailçš„æ”¶è²»ä¹Ÿä¸åŒï¼Œæˆ‘é¸æ“‡çš„æ˜¯4G memory 2æ ¸Cpuï¼Œé€™æ¨£ä¸€å€‹æœˆæ˜¯24å…ƒï¼Œç›¸ç•¶æ–¼æ¯å•Ÿå‹•ä¸€å°æ™‚éœ€è¦å°å¹£1å…ƒ\nå‰µç«‹LightSailçš„Instance   Instance Locationé¸æ—¥æœ¬\n  ä½œæ¥­ç³»çµ±é¸æ“‡Amazon Linux 2023ï¼Œé€™æ˜¯Amazonçš„ä¸€å€‹LTSç‰ˆæœ¬çš„Linuxï¼ŒåŸç”Ÿæ”¯æ´è¼ƒå®Œæ•´çš„Awsæœå‹™\n  Sizeçš„è©±é¸æ“‡4Gè¨˜æ†¶é«” 2æ ¸CPU çš„é…ç½®ï¼Œé€™æ¨£ç¸½å…±æœƒæ”¶$24é‚ï¼Œæ›ç®—å°å¹£çš„è©±å¤§æ¦‚å°±æ˜¯é‹è¡Œä¸€å°æ™‚ä¸€å¡ŠéŒ¢ï¼Œå¦‚æœå·²ç¶“ç©å®Œäº†ï¼Œè¨˜å¾—å°‡é€™å€‹instance snapshotå‚™ä»½ä¸‹ä¾†ï¼Œç„¶å¾Œåˆªé™¤æ•´å€‹instanceï¼Œå› ç‚ºlightsailåªè¦instanceå­˜åœ¨ï¼Œä¸è«–é‹è¡Œèˆ‡å¦éƒ½æœƒæ”¶è²»ï¼Œé€™é»è·ŸEc2æœ‰å·®ï¼ŒEc2æ˜¯åªè¦stopå¾Œå°±ä¸æœƒç¹¼çºŒæ”¶è²»äº†ã€‚ä½†æˆ‘Ec2è·Ÿlightsailå…©é‚Šæ¯”è¼ƒäº†ä¸€ä¸‹ï¼ŒåŒæ¨£æ˜¯2æ ¸4Gçš„é…ç½®ï¼ŒEc2çš„æ”¶è²»æœƒç•¥é«˜lightsail 30%~50%å·¦å³ï¼Œlightsailç›¸è¼ƒä¹‹ä¸‹æ˜¯å€‹è¼ƒEcoçš„é¸æ“‡\n  Identify-your instance å°±æ˜¯ä¸€å€‹å®¢è£½åŒ–çš„åç¨±ï¼Œå°±æ˜¯ä½ æ„›å«å•¥å°±å«å•¥ï¼Œæˆ‘é€šå¸¸æ˜¯å«OOO game serverå•¦\n  éƒ½é¸å¥½å¾Œå°±æŒ‰ä¸‹Create Instance\nå¯ä»¥åœ¨Dashboardçš„åœ°æ–¹çœ‹åˆ°instance\né»é€²instanceå¾Œï¼Œæˆ‘å€‘éœ€è¦åˆ°networkingçš„åœ°æ–¹è¨­ç½®å…©å€‹æ±è¥¿\n å›ºå®šIpï¼Œé€™æ¨£ä½ é‡å•Ÿinstnaceå¾Œçš„ipæœƒä¿æŒä¸è®Šï¼Œé¿å…Ipåœ°å€äº‚å‹•ï¼Œå°è‡´ä½ æœ‹å‹æ¯æ¬¡é€£ç·šéƒ½æœ‰å•é¡Œ é–‹å•Ÿé˜²ç«ç‰†çš„portï¼Œè®“å¤–éƒ¨çš„é€£ç·šå¯ä»¥é€£åˆ°instane  è¨­ç½®å›ºå®šIp è¦æ³¨æ„çš„æ˜¯é€™å€‹å›ºå®šIpå…¶å¯¦æ˜¯æœƒæ”¶è²»çš„ï¼Œåªæ˜¯æˆ‘å€‘ç›®å‰è®“å®ƒattchåœ¨ä¸€å€‹instanceä¸‹æ‰ä¸æ”¶è²»ï¼Œæ—¥å¾Œå¦‚æœåˆªé™¤instanceæ™‚ï¼Œè¨˜å¾—ä¹Ÿè¦å°‡å›ºå®šIpçµ¦åˆªæ‰\né–‹å•Ÿé˜²ç«ç‰†Port é€™éƒ¨åˆ†è¦æŸ¥ä¸€ä¸‹ï¼Œçœ‹ä½ è¦ç©çš„éŠæˆ²çš„Portæ˜¯å“ªå€‹Portå°±é–‹å•Ÿ\né€™æ¨£è¨­ç½®å°±å®Œæˆäº†\né€²å…¥lightsailçš„instance é»æ“ŠConnect using SSHï¼Œå°±æœƒè·³ä¸€å€‹çµ‚ç«¯æ©Ÿ\né€™å€‹å°±æ˜¯æˆ‘å€‘å»ºç«‹çš„instanceï¼Œé€™æ™‚å€™å°±æ˜¯çœ‹æ¯å€‹éŠæˆ²æ¶è¨­ä¼ºæœå™¨çš„æ–¹å¼æ˜¯æ€éº¼æ¶çš„ï¼Œå¦‚æœæœ‰æ”¯æ´linuxæ¶è¨­ä¼ºæœå™¨çš„è©±å°±æŒ‰ç…§ä»–èªªçš„åšï¼Œå¦‚æœæ²’æœ‰çš„è©±å¯èƒ½å°±è¦ç”¨dockerä¾†æ¨¡æ“¬windowsçš„ç’°å¢ƒï¼Œé€™é‚Šä»¥å¤œæ—å´›èµ·Vrisingé€™æ¬¾éŠæˆ²ç‚ºä¾‹\nåœ¨instanceå®‰è£docker ä¾åºåŸ·è¡Œ\n1  sudo yum update   1  sudo yum install docker   1  sudo usermod -a -G docker ec2-user   é€™å€‹å‘½ä»¤ sudo usermod -a -G docker ec2-user ç”¨æ–¼å°‡ä¸€å€‹ç”¨æˆ¶æ·»åŠ åˆ°ä¸€å€‹ç‰¹å®šçš„ç”¨æˆ¶çµ„ã€‚è®“æˆ‘å€‘ä¾†è©³ç´°è§£æé€™å€‹å‘½ä»¤ï¼š\n sudo: ä»¥è¶…ç´šç”¨æˆ¶ï¼ˆrootï¼‰æ¬Šé™åŸ·è¡Œå¾Œé¢çš„å‘½ä»¤ã€‚ usermod: é€™æ˜¯ä¸€å€‹ç”¨æ–¼ä¿®æ”¹ç”¨æˆ¶å¸³æˆ¶å±¬æ€§çš„å‘½ä»¤ã€‚ -a: é€™å€‹é¸é …ä»£è¡¨\u0026quot;append\u0026quot;ï¼ˆæ·»åŠ ï¼‰ã€‚å®ƒç¢ºä¿ç”¨æˆ¶è¢«æ·»åŠ åˆ°æ–°çµ„è€Œä¸è¢«å¾å…¶ä»–çµ„ä¸­ç§»é™¤ã€‚ -G: æŒ‡å®šè¦å°‡ç”¨æˆ¶æ·»åŠ åˆ°çš„è£œå……çµ„ï¼ˆsecondary groupï¼‰ã€‚ docker: é€™æ˜¯è¦å°‡ç”¨æˆ¶æ·»åŠ åˆ°çš„çµ„åã€‚ ec2-user: é€™æ˜¯è¦è¢«ä¿®æ”¹çš„ç”¨æˆ¶åã€‚  ç¶œåˆèµ·ä¾†ï¼Œé€™å€‹å‘½ä»¤çš„ä½œç”¨æ˜¯ï¼šå°‡ ec2-user ç”¨æˆ¶æ·»åŠ åˆ° docker ç”¨æˆ¶çµ„ä¸­ï¼ŒåŒæ™‚ä¿ç•™è©²ç”¨æˆ¶åŸæœ‰çš„çµ„æˆå“¡èº«ä»½ã€‚\né€™å€‹å‘½ä»¤é€šå¸¸åœ¨è¨­ç½® Docker ç’°å¢ƒæ™‚ä½¿ç”¨ï¼Œç‰¹åˆ¥æ˜¯åœ¨ Amazon EC2 å¯¦ä¾‹ä¸Šã€‚å°‡ç”¨æˆ¶æ·»åŠ åˆ° docker çµ„å…è¨±è©²ç”¨æˆ¶åŸ·è¡Œ Docker å‘½ä»¤è€Œç„¡éœ€æ¯æ¬¡éƒ½ä½¿ç”¨ sudoã€‚\nåŸ·è¡Œæ­¤å‘½ä»¤å¾Œï¼Œec2-user éœ€è¦ç™»å‡ºä¸¦é‡æ–°ç™»éŒ„ï¼Œæˆ–è€…é‡æ–°å•Ÿå‹•ç³»çµ±ï¼Œæ‰èƒ½ä½¿æ–°çš„çµ„æˆå“¡èº«ä»½ç”Ÿæ•ˆã€‚\né€™å€‹å‘½ä»¤çš„ä½¿ç”¨å ´æ™¯é€šå¸¸æ˜¯åœ¨è¨­ç½®é–‹ç™¼æˆ–éƒ¨ç½²ç’°å¢ƒæ™‚ï¼Œç‚ºäº†æ–¹ä¾¿é–‹ç™¼è€…æˆ–ç³»çµ±ç®¡ç†å“¡ä½¿ç”¨ Docker è€Œä¸å¿…æ¯æ¬¡éƒ½è¼¸å…¥ sudoã€‚\n1  sudo pip3 install docker-compose   1  sudo systemctl enable docker.service   å‘½ä»¤ sudo systemctl enable docker.service ç”¨æ–¼è¨­ç½® Docker æœå‹™åœ¨ç³»çµ±å•Ÿå‹•æ™‚è‡ªå‹•å•Ÿå‹•ã€‚è®“æˆ‘å€‘è©³ç´°è§£æé€™å€‹å‘½ä»¤ï¼š\n sudo: ä»¥è¶…ç´šç”¨æˆ¶ï¼ˆrootï¼‰æ¬Šé™åŸ·è¡Œå¾Œé¢çš„å‘½ä»¤ã€‚ systemctl: é€™æ˜¯ systemd åˆå§‹åŒ–ç³»çµ±çš„ä¸»è¦å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ–¼æ§åˆ¶ systemd ç³»çµ±å’Œæœå‹™ç®¡ç†å™¨ã€‚ enable: é€™å€‹å­å‘½ä»¤ç”¨æ–¼å•Ÿç”¨ä¸€å€‹æœå‹™å–®å…ƒï¼Œä½¿å…¶åœ¨ç³»çµ±å•Ÿå‹•æ™‚è‡ªå‹•å•Ÿå‹•ã€‚ docker.service: é€™æ˜¯è¦å•Ÿç”¨çš„æœå‹™å–®å…ƒçš„åç¨±ï¼Œåœ¨é€™è£¡æŒ‡çš„æ˜¯ Docker æœå‹™ã€‚  åŸ·è¡Œé€™å€‹å‘½ä»¤å¾Œï¼Œç³»çµ±æœƒï¼š\n å‰µå»ºå¿…è¦çš„ç¬¦è™Ÿéˆæ¥ï¼Œå°‡ Docker æœå‹™å–®å…ƒæ–‡ä»¶éˆæ¥åˆ° systemd çš„è‡ªå‹•å•Ÿå‹•ç›®éŒ„ä¸­ã€‚ é‡æ–°é…ç½® systemdï¼Œä½¿å…¶åœ¨ä¸‹æ¬¡ç³»çµ±å•Ÿå‹•æ™‚åŠ è¼‰ä¸¦å•Ÿå‹• Docker æœå‹™ã€‚  é€™å€‹å‘½ä»¤çš„ä¸»è¦ä½œç”¨æ˜¯ç¢ºä¿ Docker å®ˆè­·é€²ç¨‹ï¼ˆDocker daemonï¼‰åœ¨ç³»çµ±å•Ÿå‹•æ™‚è‡ªå‹•é‹è¡Œï¼Œç„¡éœ€æ‰‹å‹•å•Ÿå‹•ã€‚é€™å°æ–¼ä¾è³´ Docker é‹è¡Œçš„æœå‹™å’Œæ‡‰ç”¨ç¨‹åºä¾†èªªéå¸¸é‡è¦ï¼Œå› ç‚ºå®ƒç¢ºä¿äº† Docker ç’°å¢ƒåœ¨ç³»çµ±å•Ÿå‹•å¾Œç«‹å³å¯ç”¨ã€‚\nä½¿ç”¨é€™å€‹å‘½ä»¤çš„å…¸å‹å ´æ™¯åŒ…æ‹¬ï¼š\n åœ¨æœå‹™å™¨æˆ–é–‹ç™¼æ©Ÿå™¨ä¸Šè¨­ç½® Docker ç’°å¢ƒ ç¢ºä¿ Docker ç›¸é—œçš„æŒçºŒé›†æˆ/æŒçºŒéƒ¨ç½²ï¼ˆCI/CDï¼‰æµç¨‹èƒ½å¤ åœ¨ç³»çµ±é‡å•Ÿå¾Œè‡ªå‹•æ¢å¾© åœ¨éœ€è¦æŒçºŒé‹è¡Œ Docker å®¹å™¨çš„ç”Ÿç”¢ç’°å¢ƒä¸­ä½¿ç”¨  éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€™å€‹å‘½ä»¤åªæ˜¯å•Ÿç”¨äº†æœå‹™ï¼Œä¸¦ä¸æœƒç«‹å³å•Ÿå‹• Dockerã€‚å¦‚æœä½ æƒ³ç«‹å³å•Ÿå‹• Docker æœå‹™ï¼Œä½ éœ€è¦é‹è¡Œ sudo systemctl start docker.serviceã€‚\n1  sudo systemctl start docker.service   å•Ÿå‹•dockeræœå‹™\n1  sudo systemctl status docker.service   ç¢ºèªdockeré‹è¡Œç‹€æ…‹ï¼Œçœ‹åˆ°é€™å€‹ç•«é¢å°±ä»£è¡¨dockerå•Ÿå‹•æˆåŠŸäº†\nåŸ·è¡Œä¼ºæœå™¨docker æˆ‘é€™é‚Šé¸ç”¨çš„æ˜¯vrisingçš„ä¼ºæœå™¨ï¼Œä½¿ç”¨é€™å€‹äººæä¾›çš„docker\nhttps://github.com/TrueOsiris/docker-vrising\nåœ¨instanceä¸Šé‹è¡Œ\n1 2 3 4 5 6 7 8 9 10  docker run -d --name=\u0026#39;vrising\u0026#39; \\ --net=\u0026#39;bridge\u0026#39; \\ --restart=unless-stopped \\ -e TZ=\u0026#34;Europe/Paris\u0026#34; \\ -e SERVERNAME=\u0026#34;trueosiris-V\u0026#34; \\ -v \u0026#39;/path/on/host/server\u0026#39;:\u0026#39;/mnt/vrising/server\u0026#39;:\u0026#39;rw\u0026#39; \\ -v \u0026#39;/path/on/host/persistentdata\u0026#39;:\u0026#39;/mnt/vrising/persistentdata\u0026#39;:\u0026#39;rw\u0026#39; \\ -p 9876:9876/udp \\ -p 9877:9877/udp \\ \u0026#39;trueosiris/vrising\u0026#39;   é€™æ¨£å°±å¯ä»¥å›‰\nå‚™ä»½instance å¦‚æœéŠæˆ²ä¸ç©äº†ï¼Œå¯ä»¥é¸æ“‡å°‡æ•´å€‹instanceå‚™ä»½èµ·ä¾†ï¼Œç­‰åˆ°ä¹‹å¾Œè¦ç”¨çš„æ™‚å€™å†restore\nå¾©åŸinstance é¸æ“‡å¾©åŸinstanceï¼Œæœƒå¾©åŸä¸€å€‹ç•¶åˆsnapshotèµ·ä¾†çš„instanceï¼Œé€™æ¨£å°±å¯ä»¥é‡æ–°é–‹å§‹ç©å›‰\n","date":"2024-10-03T14:34:43+08:00","image":"https://i.imgur.com/JKvJ1yL.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8aws-lightsail-%E7%B5%90%E5%90%88-docker-%E5%BB%BA%E7%AB%8B%E9%81%8A%E6%88%B2%E4%BC%BA%E6%9C%8D%E5%99%A8/","title":"å¦‚ä½•ä½¿ç”¨Aws LightSail çµåˆ docker å»ºç«‹éŠæˆ²ä¼ºæœå™¨"},{"content":"å‰é™£å­åœ¨å­¸ç¿’Dubboå»ºç«‹åˆ†å¸ƒå¼æœå‹™æ™‚ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼åœ¨æˆ‘çš„Macbookä¸Šä¸€ç›´å•Ÿç”¨ä¸äº†dubboæœå‹™ï¼Œæ¯æ¬¡è¦å•Ÿå‹•consumeræ™‚ï¼Œç¸½æ˜¯æœƒå‡ºç¾\nConnection refused: /100.64.0.1:20885\né¡¯ç¤ºèªªæˆ‘çš„consumer serviceé€£ä¸ä¸Šå»ï¼Œé€™æœŸé–“è©¦éæ›´æ›portï¼Œæ›´æ”¹zookeeper Ipç­‰ç­‰ä¹‹é¡çš„æ‰‹æ®µï¼Œéƒ½æ²’æœ‰è¾¦æ³•è§£æ±ºï¼Œä¸Šç¶²æœå°‹äº†ä¸€ä¸‹ä¹Ÿæ²’æœ‰äººé‡åˆ°é¡ä¼¼çš„å•é¡Œã€‚\nè©­ç•°çš„æ˜¯åŒæ¨£çš„codeè·Ÿzookeeperé…ç½®ï¼Œæˆ‘åœ¨æˆ‘çš„Windowsé›»è…¦ä¸Šé¢ä»¥åŠæœ‹å‹çš„é›»è…¦ä¸Šé¢éƒ½èƒ½æˆåŠŸé‹è¡Œåˆ†å¸ƒå¼ç³»çµ±ï¼ŒæˆåŠŸRPCèª¿ç”¨ï¼Œæ‰€ä»¥æƒ³å¿…æ˜¯æˆ‘çš„macbookæœ‰ä»€éº¼åœ°æ–¹è·Ÿå¤§å®¶ä¸ä¸€æ¨£ï¼Œæ‰æœƒä¸€ç›´è®“æˆ‘çš„dubboå»é€£ç·šåˆ°100.64.0.1é€™å€‹Ip\nå¾Œä¾†ä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ï¼Œç¢ºèªé€™å€‹100.64.0.1æ˜¯å€‹ç§æœ‰åœ°å€ç©ºé–“ï¼Œä¸»è¦æ˜¯æä¾›çµ¦GCNATä¾†ä½¿ç”¨çš„ï¼Œä½†æˆ‘ç™¾æ€ä¸å¾—å…¶è§£ç‚ºä»€éº¼æˆ‘dubboçš„æœå‹™æœƒè·‘åˆ°100.64.0.1é€™å€‹IPã€‚\nå¸¶è‘—é€™æ¨£çš„ç–‘å•æˆ‘å»å•äº†ä¹‹å‰åœ¨å¾¡è«¾çš„åŒäº‹å˜å“¥ï¼Œå˜å“¥ä¸æ„§æ˜¯åŒ—ç§‘ä¹‹å…‰ï¼Œä»–å…ˆè¦æˆ‘åœ¨èƒ½é‹è¡Œçš„Windowsé›»è…¦ä¸ŠåŸ·è¡Œä¸€å€‹cmd\n1  nslookup 100.64.0.1   çœ‹åˆ°é€™çµæœæˆ‘é “æ™‚æç„¶å¤§æ‚Ÿï¼Œé€™å€‹EAAæ˜¯æˆ‘å€‘å…¬å¸çš„ä¸€å€‹http proxyï¼Œæˆ‘å€‘é€£ä¸ŠEAAå¾Œæ‰å¯ä»¥è¨ªå•å…¬å¸çš„å…§ç¶²ç’°å¢ƒï¼Œå› ç‚ºæˆ‘çš„windowsè·Ÿ\nmacéƒ½æœ‰è£é€™å€‹æ±è¥¿ï¼Œåªæ˜¯æˆ‘çš„ä¸»åŠ›æ©Ÿéƒ½æ˜¯macï¼Œæ‰€ä»¥é è¨­éƒ½æ˜¯æ‰“é–‹çš„ï¼Œè€ŒwindowsåŸºæœ¬ä¸Šéƒ½æ˜¯é—œé–‰çš„ç‹€æ…‹ï¼Œè€Œæˆ‘æœ‹å‹çš„é›»è…¦æ›´ä¸å¯èƒ½æœ‰EAAï¼Œæ‰€ä»¥ç¨‹å¼ç„¡æ³•åœ¨æˆ‘çš„macbookä¸Šè·‘èµ·ä¾†ï¼Œè€Œå…¶ä»–é›»è…¦éƒ½å¯ä»¥ï¼Œå°±æ˜¯é€™å€‹EAAåœ¨æï¼Œä¸çŸ¥é“ç‚ºä»€éº¼æœƒä¸€ç›´æŠŠæˆ‘çš„dubboæœå‹™è¨»å†Šåˆ°100.64.0.1é€™å€‹ipåº•ä¸‹ï¼Œå¹¹\nå¾Œä¾†åœ¨macbookä¸ŠæŠŠeaaé—œæ‰å¾Œå°±å¯ä»¥é‹è¡Œäº†ï¼Œè¬è¬å˜å“¥\n","date":"2024-09-27T16:55:54+08:00","image":"https://i.imgur.com/0TwMboK.png","permalink":"https://hoxtoncraft.com/p/%E4%BD%BF%E7%94%A8dubbo%E9%80%B2%E8%A1%8C%E5%88%86%E5%B8%83%E7%B3%BB%E7%B5%B1%E5%AD%B8%E7%BF%92%E4%B9%8B100.64.0.1%E5%95%8F%E9%A1%8Cdebug%E7%B4%80%E9%8C%84/","title":"ä½¿ç”¨Dubboé€²è¡Œåˆ†å¸ƒç³»çµ±å­¸ç¿’ä¹‹100.64.0.1å•é¡ŒDebugç´€éŒ„"},{"content":"Golangçš„Mainæ–¹æ³• 1 2 3 4 5 6  package main func main() { print(\u0026#34;Hello, World!\u0026#34;) }   Javaèˆ‡Golangçš„ä¸åŒ-å®£å‘Šè®Šæ•¸ é€™æ‡‰è©²æ˜¯å¤§å®¶æœ€å¿«èªç‚ºJavaè·ŸGolangä¸åŒçš„åœ°æ–¹ï¼Œåœ¨Javaä¸­ï¼Œæ’‡é™¤æ‰Java10åŠ å…¥çš„ var å®£å‘Šï¼ŒJavaçš„è®Šæ•¸å®£å‘Šæ ¼å¼å¤§ç•¥å¦‚ä¸‹ï¼Œä¹Ÿæ²’æœ‰å…¶ä»–æ–¹å¼å®£å‘Šäº†\n1  Integer age = 10;   åœ¨Golangä¸­å‰‡æ˜¯æœ‰ä¸‰ç¨®ä¸åŒçš„æ–¹å¼å»å®£å‘Šä¸€å€‹è®Šæ•¸\næ¨™æº–è®Šé‡å®£å‘Š  æ¨™æº–è®Šé‡è²æ˜ï¼Œé€™å€‹æœ€é¡ä¼¼Javaï¼Œèˆ‡Javaä¸åŒåœ¨æ–¼å‰é¢åŠ äº†ä¸€å€‹varï¼Œä¸¦ä¸”æ˜¯å…ˆè²æ˜è®Šé‡åç¨±å†å®£å‘Šå‹åˆ¥  1  var age int = 10   é¡å‹æ¨æ–·å®£å‘Š é¡å‹æ¨æ–·å®£å‘Šï¼Œæœ‰é»é¡ä¼¼javascriptçš„å®£å‘Šï¼Œè®“ç·¨è­¯å™¨è‡ªå·±å»æ¨æ–·ageçš„å‹åˆ¥ç‚ºint  1  var age =10   çŸ­è®Šé‡å®£å‘Š çŸ­è®Šé‡å®£å‘Š(ç°¡çŸ­è³¦å€¼)ï¼Œgolangå¸¸è¦‹çš„ç°¡ä¾¿è²æ˜æ–¹å¼ï¼Œç”±æ–¼varé€™å€‹è©å¤ªé »ç¹å‡ºç¾äº†ï¼Œå°±ç”¨:=ä¾†å–ä»£å®ƒ  1  age :=10    çŸ­è®Šé‡è²æ˜(:=)åªå…è¨±åœ¨å‡½å¼å…§éƒ¨ä½¿ç”¨ï¼Œå¦‚æœæ˜¯package Levelçš„å‰‡ä¸è¡Œ\n varé‚„æœ‰ä¸€ç¨®Javaæ²’æœ‰çš„ç”¨æ³•ï¼Œå°±æ˜¯ã€Œå®£å‘Šä¸²åˆ—ã€å¯ä»¥ç”¨é€™ç¨®æ–¹å¼ä¸€æ¬¡å®£å‘Šå¤šå€‹è®Šæ•¸\n1 2 3 4 5 6 7 8 9 10  func main() { var ( age = 10 name = \u0026#34;John\u0026#34; salary string ) print(age) print(name) print(salary) }   Javaèˆ‡Golangçš„ä¸åŒ-æœªä½¿ç”¨çš„å€åŸŸè®Šæ•¸æœƒå°è‡´ç·¨è­¯éŒ¯èª¤ åœ¨Golangä¸­ï¼Œç‚ºäº†ç¨‹å¼ç¢¼çš„ç²¾ç°¡ï¼Œæ˜¯ã€Œä¸å…è¨±æœ‰æœªä½¿ç”¨çš„è®Šæ•¸ã€å­˜åœ¨æ–¼ç¨‹å¼ç¢¼ä¹‹ä¸­çš„ï¼Œæ¯”å¦‚èªªåœ¨Javaä¸­ï¼Œæˆ‘å€‘å¯èƒ½æœ‰æ™‚å€™åœ¨å‡½å¼å…§éƒ¨è²æ˜äº†ä¸€å€‹orderIdï¼Œä½†ä¹…äº†æœªä½¿ç”¨å°±ç¹¼çºŒè®“å®ƒå­˜åœ¨ä¸‹å»ã€‚\n1 2 3 4 5  public void saveItem(){ ... String orderId = orderDao.getOrderId(); return void; }   ä½†åœ¨Golangä¸­ï¼Œæ˜¯ä¸å…è¨±é€™æ¨£çš„è¡Œç‚ºçš„ï¼Œç·¨è­¯å™¨è·ŸIDEéƒ½æœƒè·Ÿä½ èªªã€ŒUnused variable \u0026lsquo;orderId\u0026rsquo;ã€\nä½†æœªè¢«ä½¿ç”¨çš„å¸¸æ•¸æ˜¯å…è¨±çš„\n1 2 3 4 5 6  const sum = 20 * 10 func main() { print(\u0026#34;Hello\u0026#34;) }   Golangçš„åŸºæœ¬å‹æ…‹  å¸ƒæ—ï¼šä¸»è¦å°±æ˜¯Trueè·ŸFalseï¼Œåœ¨Golangè£¡é¢é€™æ¨£å®£å‘Šï¼Œè·ŸJavaå·®ä¸å¤š  1 2 3 4  func main() { var isOK bool = true print(isOK) }    å­—ç¬¦ä¸²ï¼šä¸»è¦ç”¨æ³•ä¹Ÿè·ŸJavaå·®ä¸å¤š  1 2 3 4 5  func main() { var name string = \u0026#34;Hoxton\u0026#34; print(name) }     æ•´æ•¸ï¼šè·ŸJavaåªæœ‰ä¸€å€‹intä¸åŒï¼ŒGolangçš„æ•´æ•¸åŒ…å«äº†int, int8, int16, int32, int 64, uint, unit8, uint16, uint32, uint 64ï¼Œinté–‹é ­çš„å°±ä»£è¡¨æ˜¯signed(å¸¶æ­£è² è™Ÿ)ï¼Œè€Œuintå°±ä»£è¡¨unsigned(æœªå¸¶æ­£è² è™Ÿçš„)ã€‚int8å°±ä»£è¡¨äº† -128~127ï¼Œuint8å°±ä»£è¡¨0-255ï¼Œä»¥æ­¤é¡æ¨ã€‚\né€šå¸¸å°±æ˜¯å…ˆä½¿ç”¨ int å°±å¯ä»¥äº†ï¼Œåœ¨ä¸åŒç³»çµ±ä¸Šçš„ int ä»£è¡¨çš„ç¯„åœä¸ä¸€æ¨£ï¼Œå¦‚æœæ˜¯32ä½å…ƒçš„intç¯„åœå°±æ˜¯-231~+231ï¼Œå¦‚æœæ˜¯64ä½å…ƒçš„ç³»çµ±å‰‡æ˜¯-263~+263ï¼Œ\n  1 2 3 4  func main(){ var age int = 27 print(age) }    æµ®é»ï¼šè·ŸJavaåªæœ‰ä¸€å€‹floatçš„ä¸ä¸€æ¨£ï¼Œgolangåˆ†æˆfloat 32 ä»¥åŠ float64 ï¼Œé€™é‚Šé™¤éç‰¹æ®ŠåŸå› ä¹Ÿæ˜¯ç„¡è…¦é¸æ“‡ä½¿ç”¨float64ï¼Œå°±å¯ä»¥äº†ã€‚é—œæ–¼ç²¾åº¦çš„å•é¡Œç•¶ç„¶ä¹Ÿè·Ÿæ‰€æœ‰çš„ç¨‹å¼èªè¨€ä¸€æ¨£ï¼Œæœƒæœ‰ç²¾åº¦ä¸Ÿå¤±çš„å•é¡Œï¼Œé€²å¾—ä¸è¦ä½¿ç”¨å®ƒä¾†è¡¨é”é‡‘é¡  1 2 3 4 5  func main() { var size float64 = 5.0 print(size) }    è¤‡æ•¸ï¼šä¸å¯èƒ½å§ï¼Œä½ ä¸å¯èƒ½æƒ³åœ¨golangä¸Šä½¿ç”¨è¤‡æ•¸å§ï¼Œç”±æ–¼golangæœ¬èº«ä¸æ”¯æ´çŸ©é™£ï¼Œä»¥åŠç¨®ç¨®çš„ä¸€äº›åŸå› ï¼Œå¦‚æœä½ æƒ³åœ¨golangè£¡é¢é€²è¡Œé€™äº›é‹ç®—ï¼Œå¯ä»¥è€ƒæ…®ä½¿ç”¨Gonumé€™å€‹ç¨‹å¼åŒ…ï¼Œä½†åœ¨Golangä¸Šé€²è¡Œè¤‡æ•¸é‹ç®—æ˜¯å€‹ä¸å¤ªé©åˆçš„è¡Œç‚ºï¼Œå·²ç¶“æœ‰äººåœ¨è¨è«–æœƒåœ¨æœªä¾†çš„ç‰ˆæœ¬ç§»é™¤Golangå°è¤‡æ•¸çš„æ”¯æ´äº†  Javaèˆ‡Golangçš„ä¸åŒ-ä¸å…è¨±è‡ªå‹•å‹æ…‹è½‰æ› åœ¨Javaä¸­ï¼Œæˆ‘å€‘æ˜¯å…è¨±ä¸åŒå‹åˆ¥çš„æ•¸å­—ç›¸åŠ çš„ï¼Œæ¯”å¦‚èªª\n1 2 3 4 5 6  public static void main(String[] args) { float height =10.0f; int width = 20; System.out.println(height+width); //å°å‡º 30.0  }   ä½†åœ¨Golangä¸­ï¼Œé€™ç¨®äº‹æƒ…æ˜¯ä¸å…è¨±çš„ï¼ŒGolangä¸å…è¨±è®Šæ•¸çš„è‡ªå‹•å‹æ…‹æå‡\n1 2 3 4 5  func main() { var height int = 10 var weight float64 = 20.5 print(height + weight) }   ç”šè‡³ç·¨è­¯å™¨æœ¬èº«å°±æœƒå ±éŒ¯ï¼Œæé†’ä½ \nã€ŒInvalid operation: height + weight (mismatched types int and float64)ã€\nJavaèˆ‡Golangçš„ä¸åŒ-å®£å‘Šä¸€å€‹finalè®Šæ•¸ä½¿ç”¨çš„æ˜¯consté—œéµå­— 1 2 3 4  func main() { const greeting = \u0026#34;hello\u0026#34; print(greeting) }   æœ‰å€‹è·ŸJavaæ¯”è¼ƒä¸ä¸€æ¨£çš„æ˜¯ï¼Œåœ¨Javaä¸­å¦‚æœæˆ‘å€‘å®£å‘Šä¸€å€‹ç‚ºfinalçš„å¸¸æ•¸ï¼Œæˆ‘å€‘é€šå¸¸æœƒç”¨All UPCASEçš„æ–¹å¼å‘½åï¼Œå¦‚\n1 2  private final INTEGER AGE_LIMIT=100 private final BIGDICEL TAX_RATE=0.5   ä½†åœ¨golangä¸­ï¼Œä½¿ç”¨package levelç­‰ç´šçš„å®£å‘Šåç¨±çš„ç¬¬ä¸€å€‹å­—æ¯çš„å¤§å°å¯«ï¼Œæœƒè¢«ç”¨ä¾†ç¢ºèªé€™å€‹å¸¸æ•¸èƒ½ä¸èƒ½è¢«ç¨‹å¼åŒ…å¤–é¢çš„ç¨‹å¼ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œé¦–å­—æ¯çš„å¤§å°å¯«èˆ‡å¦æœƒæ§åˆ¶å¸¸æ•¸çš„private of publicï¼Œå› æ­¤å¦‚æœä½ çš„å¸¸æ•¸ä¸æ˜¯ä¸€å€‹globalçš„å¸¸æ•¸ï¼Œè«‹ä¸è¦ç”¨å¤§å¯«é–‹é ­ä¾†å‘½å\nè¤‡åˆå‹åˆ¥-Arrayã€Mapã€Struct Array å®£å‘Šæ–¹å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  func main() { //1. ç¬¬ä¸€ç¨®å®£å‘Šï¼Œå®£å‘Šé™£åˆ—é•·åº¦ï¼Œä¸å®£å‘Šé™£åˆ—å…§éƒ¨å…ƒç´   var array [3]int //2. ç¬¬äºŒç¨®å®£å‘Šï¼Œå®£å‘Šé™£åˆ—é•·åº¦ï¼Œå®£å‘Šé™£åˆ—å…§éƒ¨å…ƒç´   var array2 = [3]int{1, 2, 3} //3. ç¬¬ä¸‰ç¨®å®£å‘Šï¼Œä¸å®£å‘Šé™£åˆ—é•·åº¦ï¼Œå®£å‘Šé™£åˆ—å…§éƒ¨å…ƒç´   var array3 = [...]int{1, 2, 3, 4, 5} print(array[0]) print(array2[0]) print(array3[0]) }   Goçš„Arrayç›¸è¼ƒæ–¼Javaä¾†èªªéå¸¸ä¸å¥½ç”¨ï¼Œä¸€å€‹æœ€é‡è¦çš„æ¦‚å¿µæ˜¯ï¼ŒGoçš„é™£åˆ—å¤§å°æ˜¯é™£åˆ—å‹æ…‹çš„ä¸€éƒ¨åˆ†ï¼Œæ„å‘³è‘—é•·åº¦ç‚º4çš„é™£åˆ—å’Œé•·åº¦ç‚º5çš„é™£åˆ—ï¼Œé›–ç„¶çœ‹èµ·ä¾†éƒ½æ˜¯é™£åˆ—ï¼Œä½†å®ƒå€‘å…¶å¯¦æœ‰ä¸ä¸€æ¨£çš„å‹æ…‹ã€‚ä»¥Javaä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥å¯«ä¸€å€‹æ–¹æ³•ï¼Œæ‰“å°å‡ºæ‰€æœ‰çš„å­—ä¸²é™£åˆ—å…ƒç´ \n1 2 3 4 5 6 7 8 9 10 11 12 13 14  public class Main { public static void main(String[] args) { String [] arr = {\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;}; String [] arr2 ={\u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;, \u0026#34;f\u0026#34;}; printArray(arr); printArray(arr2); } static public void printArray(String[] arr) { for (int i = 0; i \u0026lt; arr.length; i++) { System.out.println(arr[i]); } } }   ä½†åœ¨Golangä¸­ï¼Œæˆ‘å€‘æ˜¯æ²’è¾¦æ³•é€™æ¨£å­çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  func main() { //1. ç¬¬ä¸€ç¨®å®£å‘Šï¼Œå®£å‘Šé™£åˆ—é•·åº¦ï¼Œä¸å®£å‘Šé™£åˆ—å…§éƒ¨å…ƒç´  \tvar array [3]int //2. ç¬¬äºŒç¨®å®£å‘Šï¼Œå®£å‘Šé™£åˆ—é•·åº¦ï¼Œå®£å‘Šé™£åˆ—å…§éƒ¨å…ƒç´  \tvar array2 = [3]int{1, 2, 3} //3. ç¬¬ä¸‰ç¨®å®£å‘Šï¼Œä¸å®£å‘Šé™£åˆ—é•·åº¦ï¼Œå®£å‘Šé™£åˆ—å…§éƒ¨å…ƒç´  \tvar array3 = [...]int{1, 2, 3, 4, 5} print(array[0]) print(array2[0]) print(array3[0]) printArray(array) printArray(array2) printArray(array3) } // arr []int é€™æ¨£å…¶å¯¦æ˜¯å®£å‘Šslice // arr [3] int é€™æ¨£æ˜¯å®£å‘Šarray func printArray(arr []int) { for _, value := range arr { fmt.Print(value, \u0026#34; \u0026#34;) } fmt.Println() }   ã€ŒCannot use \u0026lsquo;array3\u0026rsquo; (type [5] int) as the type [] intã€\nå¦‚æœä½ è¦ä½¿ç”¨çš„è©±ï¼Œå¯ä»¥å°‡printArrayåƒçš„åƒæ•¸è®Šç‚ºé™£åˆ—é•·åº¦ç‚º3çš„åƒæ•¸ï¼Œä½†é€™æ¨£ï¼Œé•·åº¦ç‚º5çš„array3é‚„æ˜¯ä¸èƒ½ä½¿ç”¨\næ›´å¥½çš„Array-Slice æ—¢ç„¶Arrayé€™éº¼é›£ç”¨ï¼Œé‚£æˆ‘å€‘æœ‰æ™‚å€™æœƒéœ€è¦Arrayçš„æ€§è³ªåšä¸€äº›è™•ç†æ™‚è©²æ€éº¼åšå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨Sliceï¼ŒSliceæ˜¯Golangæœ€å¯¦ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œæ¯”è¼ƒä¸€ä¸‹Sliceè·ŸArrayå…©è€…çš„å·®åˆ¥\n Sliceçš„å®£å‘Šä¸éœ€è¦æŒ‡å®šå¤§å°  1 2 3 4 5 6 7 8 9  func main() { //æœ‰å®£å‘Šå¤§å°ï¼Œæ˜¯array \tvar array = [3]int{1, 2, 3} //ç„¡æŒ‡å®šå¤§å°ï¼Œæ˜¯slice \tvar slice = []int{4, 5, 6} fmt.Println(array, slice) }   Sliceæœªè³¦å€¼æ™‚æœƒæ˜¯nil (ä¸€ç¨®åƒJava nullä½†åˆä¸å…¨ç„¶æ˜¯nullçš„æ±è¥¿ï¼Œä»£è¡¨çš„æ˜¯æŸäº›å‹æ…‹ç¼ºå€¼)  1  var slice []int   Sliceä¸èƒ½æ‹¿ä¾†è·Ÿnilä»¥å¤–çš„æ±è¥¿åš==, !=çš„æ¯”è¼ƒï¼Œæœƒå‡ºç¾ç·¨è­¯éŒ¯èª¤ï¼Œåªèƒ½è·Ÿnilåšæ¯”è¼ƒ  1 2 3 4 5 6  func main() { var slice1 = []int{4, 5, 6} var slice2 = []int{4, 5, 6} print(slice1 == slice2) }   sliceæœ‰å®¹é‡çš„æ¦‚å¿µï¼Œæ‰€è¬‚å®¹é‡ï¼Œç›¸è¼ƒæ–¼sliceçš„é•·åº¦ï¼Œå°±é¡ä¼¼Javaä¸­ArrayListçš„è‡ªå‹•æ“´å®¹ä¸€æ¨£ã€‚ç•¶æˆ‘å€‘å®£å‘Šä¸€å€‹sliceæ™‚ï¼Œå…¶å¯¦æ˜¯åœ¨è¨˜æ†¶é«”ä¸­é¸å–ä¸€å¡Šé€£çºŒçš„ç©ºé–“ä¾†å¯«å…¥é€™äº›å€¼ï¼Œè€Œå®¹é‡å°±æ˜¯é€™å€‹é€£çºŒç©ºé–“çš„å¤§å°ã€‚ç•¶ä½ çš„å®¹é‡ç­‰æ–¼sliceé•·åº¦æ™‚ï¼Œgolangå°±æœƒå»è‡ªå‹•é…ç½®æ›´å¤§çš„å®¹é‡ä¾†é©é…å®ƒ  Sliceçš„ç”¨æ³•  lenï¼šå–å¾—é•·åº¦  1 2 3 4  func main() { var slice1 = []int{4, 5, 6} print(len(slice1)) }     capï¼šå–å¾—ç›®å‰sliceçš„é€£çºŒè¨˜æ†¶é«”å®¹é‡ï¼Œå¾ˆå°‘ç”¨ï¼Œé€šå¸¸æ˜¯ç”¨ä¾†æª¢æŸ¥sliceæ˜¯å¦å¤§åˆ°é›£ä»¥å®¹ä¸‹æ–°è³‡æ–™\n  appendï¼šåŠ å€¼é€²å»sliceï¼Œã€Œä¸€å®šæœƒå¢åŠ sliceçš„é•·åº¦ã€ï¼Œä¸¦ä¸”æœƒæŠŠå€¼å¡åˆ°æœ€å¾Œä¸€ä½ï¼Œæœ‰å¯èƒ½å°è‡´å‰é¢çš„å€¼å…¨éƒ¨éƒ½ç‚º0\n  1 2 3 4 5 6 7 8 9  func main() { var slice1 = []int{4, 5, 6} println(len(slice1)) //é•·åº¦ç‚º3 \tslice1 = append(slice1, 7) println(len(slice1)) //é•·åº¦ç‚º4 }    makeï¼šå®£å‘Šsliceçš„é•·åº¦ï¼Œå®£å‘Šsliceçš„å®¹é‡  1 2 3 4 5 6 7 8 9  func main() { // åƒ…å®£å‘Šé•·åº¦ï¼Œä¸å®£å‘Šå®¹é‡ \tvar slice1 = make([]int, 5) println(len(slice1)) //é•·åº¦ç‚º5  // é•·åº¦ç‚º5ï¼Œå®¹é‡ç‚º10  var slice2 = make([]int, 5, 10) }   å¦‚ä½•å¾ˆGoçš„å®£å‘Šä¸€å€‹slice æ ¸å¿ƒç›®æ¨™å°±æ˜¯æ¸›å°‘sliceçš„æ“´å¢æ¬¡æ•¸ï¼Œå¦‚æœsliceå®Œå…¨ä¸éœ€è¦æ“´å¢ï¼Œé‚£å°±ä½¿ç”¨varä¸¦ä¸”ä¸è¨­å€¼ä¾†å»ºç«‹nil slice\n1  var data [] int   åˆæˆ–è€…æ˜¯èªªä½ çš„sliceæœ‰ä¸€äº›åˆå§‹å€¼ï¼Œæˆ–æ˜¯sliceçš„å€¼ä¸æœƒè®Šï¼Œé‚£éº¼sliceå¸¸å€¼æ˜¯å€‹å¾ˆå¥½çš„é¸æ“‡\n1  data := []int{2,4,6,8}   é‚„æœ‰ä¸€ç¨®æƒ…æ³æ¯”è¼ƒè¤‡é›œï¼Œå°±æ˜¯ä½ ã€Œå¤§æ¦‚ã€çŸ¥é“sliceæœ‰å¤šå¤§ï¼Œä½†ä¸ç¢ºå®šå…·é«”çš„å€¼æ˜¯å¤šå°‘ï¼Œæ¯”å¦‚èªªä½ å¯èƒ½ä¸€å€‹å•†å“å¯èƒ½æœ‰ä¸åŒé¡è‰²ï¼Œä½ çŸ¥é“æœ€å°‘æœ‰ä¸€å€‹ï¼Œæœ€å¤šä¸è¶…éåäºŒå€‹ï¼Œé‚£ä½ è¦å°‡sliceå®£å¸ƒæˆå¤šå°‘å‘¢ï¼Ÿ\nWellï¼Œé€™æœ‰ä¸‰ç¨®æµæ´¾çš„åšæ³•\n å¦‚æœå°‡sliceç•¶æˆä¸€å€‹ç·©è¡å€ä¾†ç”¨ï¼Œé‚£å°±æŒ‡å®šä¸€å€‹éé›¶é•·åº¦  1 2 3 4 5  func main() { var itemColor = make([]string, 6) println(len(itemColor)) println(cap(itemColor)) }   å¦‚æœã€Œç²¾ç¢ºã€çš„çŸ¥é“æƒ³è¦çš„å¤§å°ï¼Œé‚£å¯ä»¥æŒ‡å®šé•·åº¦ï¼Œä¸¦æª¢ç´¢sliceä¾†è¨­å®šå€¼ï¼Œä½†é€™å•é¡Œçš„ç¼ºé»åœ¨æ–¼ï¼Œå¦‚æœä½ æŒ‡å®šäº†éŒ¯èª¤çš„å¤§å°ï¼Œè¦å˜›sliceçš„çµå°¾æœ‰è¨±å¤šé›¶å€¼ï¼Œè¦å˜›sliceæœƒå­˜å–ä¸å­˜åœ¨çš„å…ƒç´ è§¸ç™¼panic æœ€æ¨è–¦çš„ä½œæ³•å‰‡æ˜¯åœ¨makeæ™‚ï¼Œé•·åº¦è¨­å®šç‚º0ï¼Œä¸¦æŒ‡å®šå®¹é‡ï¼Œå¦‚æ­¤ä¸€ä¾†å¯ä»¥ä½¿ç”¨appendä¾†å°‡itemåŠ å…¥sliceä¸­ï¼Œé€™ç¨®åšæ³•æ¯”èµ·å‰å…©ç¨®æœƒç¨å¾®æ…¢ä¸€é»ï¼Œä½†å®ƒé€ æˆBugçš„æ©Ÿç‡æœ€ä½  1 2 3 4 5  func main() { var itemColor = make([]string, 0,12) println(len(itemColor)) println(cap(itemColor)) }   Sliceçš„åˆ‡å‰² sliceé¡§åæ€ç¾©å°±æ˜¯åˆ‡å‰²ï¼Œç”¨æ³•æœ‰é»åƒpythonï¼Œå°±åƒé€™æ¨£\n1 2 3 4 5 6 7  func main() { slice := []int{1, 2, 3, 4, 5, 6, 7} //: çš„å·¦é‚Šå³é‚Šä¸å¯«ï¼Œå°±ä»£è¡¨æ˜¯ç¬¬ä¸€ä½è·Ÿæœ€å¾Œä¸€ä½ \tfmt.Println(slice[1:]) fmt.Println(slice[:1]) fmt.Println(slice[:]) }   æ³¨æ„ï¼Œ å¾sliceå–sliceå‡ºä¾†ï¼Œä¸æœƒè£½é€ å‰¯æœ¬ï¼Œè€Œæ˜¯é¡ä¼¼Javaçš„æ·ºæ‹·è²ä¸€æ¨£ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå­ slice é‚„æœ‰ä¸€äº›ç‰¹æ€§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  func main() { father := []int{1, 2, 3, 4, 5} child := father[:3] fmt.Println(\u0026#34;father:\u0026#34;, father) fmt.Println(\u0026#34;child:\u0026#34;, child) child = append(child, 30) fmt.Println(\u0026#34;father:\u0026#34;, father) fmt.Println(\u0026#34;child:\u0026#34;, child) }   åŸ·è¡Œå®Œé€™æ®µç¨‹å¼ç¢¼ï¼Œä½ æœƒç™¼ç¾ä¸€äº›ä»¤äººè²»è§£çš„äº‹æƒ…\n father: [1 2 3 4 5] child: [1 2 3] father: [1 2 3 30 5] child: [1 2 3 30]\n é€™å…¶ä¸­çš„åŸå› æœ‰é»è¤‡é›œï¼Œå¤§æ„å¤§æ¦‚æ˜¯ï¼Œç•¶ä½ å¾ä¸€å€‹sliceä¸­å–å‡ºå¦ä¸€å€‹sliceæ™‚ï¼Œå­sliceçš„å®¹é‡æ˜¯åŸå§‹sliceçš„å®¹é‡æ¸›å»å­sliceåœ¨åŸå§‹sliceå…§çš„ä½ç§»(offset)ã€‚ä¹Ÿå°±æ˜¯èªªï¼ŒåŸå§‹sliceæœªä½¿ç”¨çš„å®¹é‡ä¹Ÿæœƒèˆ‡ä»»ä½•å­sliceå…±äº«ã€‚\nsliceçš„æ³¨æ„äº‹é … ç¸½ä¹‹ï¼Œç‚ºäº†é¿å…ç”¢ç”Ÿä¸€äº›å¥‡æ€ªçš„ç¾è±¡ï¼Œçµ•å°ä¸è¦åŒæ™‚ä½¿ç”¨appendèˆ‡å­sliceï¼Œè¦å†æ¬¡å¼·èª¿ï¼Œçˆ¶å­sliceæœƒå…±ç”¨åŒä¸€æ®µè¨˜æ†¶é«”ï¼Œè€Œä¸”ä¿®æ”¹å…¶ä¸­ä¸€å€‹ï¼Œéƒ½æœƒå½±éŸ¿å¦ä¸€å€‹ï¼Œä¸è¦åœ¨åˆ‡å‰²sliceå¾Œä¿®æ”¹å®ƒå€‘ï¼ï¼ï¼\nsliceçš„è¤‡è£½ å¦‚æœæƒ³è¦æ“æœ‰ç¨ç«‹çš„sliceï¼Œå¯ä»¥ä½¿ç”¨copyå‡½æ•¸\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  func main() { father := []int{1, 2, 3, 4, 5} child := make([]int, 5) num := copy(child, father) fmt.Println(num) fmt.Println(\u0026#34;father:\u0026#34;, father) fmt.Println(\u0026#34;child:\u0026#34;, child) child = append(child, 30) fmt.Println(\u0026#34;father:\u0026#34;, father) fmt.Println(\u0026#34;child:\u0026#34;, child) }   Map Golang Mapçš„å®£å‘Šè·ŸJavaä¸å¤ªç›¸åŒ\n1  HashMap\u0026lt;String, Integer\u0026gt; map = new HashMap\u0026lt;String, Integer\u0026gt;();   è€ŒGoå‰‡æ˜¯\n1 2 3  var stringMap = map[string]int{} stringMap := map[string]int{} stringMap := map[string]int{\u0026#34;one\u0026#34;: 1, \u0026#34;two\u0026#34;: 2, \u0026#34;three\u0026#34;: 3}   è€ŒMapè·ŸSliceä¹Ÿæœ‰ä¸€äº›ç‰¹æ€§æ˜¯å…±é€šçš„\nå¦‚\n Mapä¹Ÿæœƒè‡ªå‹•æ“´å…… å¯ä»¥ä½¿ç”¨makeä¾†æŒ‡å®šMapçš„é•·åº¦ ä¹Ÿå¯ä»¥èª¿ç”¨lenå¾—çŸ¥é•·åº¦ Mapçš„é›¶å€¼æ˜¯nil Mapç„¡æ³•è¢«æ¯”è¼ƒï¼Œåªèƒ½ç”¨ä¾†æª¢æŸ¥æ˜¯å¦ç­‰æ–¼nil  Golangçš„Mapèˆ‡Javaçš„Mapç”¨æ³•å¤§ç½®é›·åŒï¼Œä½†é‚„æ˜¯æœ‰ä¸€äº›å·®åˆ¥ï¼Œä»¥ä¸‹èªªæ˜å·®ç•°çš„éƒ¨åˆ†\nJavaèˆ‡Golangçš„ä¸åŒ-é€—è™Ÿok(comma ok)çš„å¯«æ³• ç°¡å–®ä¾†è¬›å°±æ˜¯ç”¨ä¾†é©—è­‰mapä¸­æ˜¯å¦å­˜åœ¨æŸå€‹Keyå€¼ï¼Œå¦‚ä¸‹\n1 2 3 4 5 6 7  func main() { studentMap := map[int]string{1: \u0026#34;Hoxton\u0026#34;, 2: \u0026#34;Ian\u0026#34;, 3: \u0026#34;Jenny\u0026#34;, 4: \u0026#34;Jenny\u0026#34;, 5: \u0026#34;Jenny\u0026#34;} v, ok := studentMap[1] fmt.Println(v, ok) v2, ok2 := studentMap[6] fmt.Println(v2, ok2) }   æ‰“å°çš„çµæœ\n1 2  Hoxton true false   é€™ç¨®é€—è™Ÿokçš„å¯«æ³•ï¼Œæœƒå°‡mapçš„çµæœæŒ‡æ´¾çµ¦å…©å€‹è®Šæ•¸ï¼Œç¬¬ä¸€å€‹æœƒæ˜¯ç´¢å¼•çš„å€¼ï¼Œç¬¬äºŒå€‹å‰‡æ˜¯boolï¼Œåç¨±é€šå¸¸ç‚ºokï¼Œä»£è¡¨ç´¢å¼•éµæ˜¯å¦å­˜åœ¨æ–¼mapä¸­\nJavaèˆ‡Golangçš„ä¸åŒ-Golangä¸­ä¸å­˜åœ¨setï¼Œä½¿ç”¨Mapä¾†æ¨¡æ“¬æ“ä½œ å¤§æ„å°±æ˜¯ç”¨Mapä¸èƒ½é‡è¤‡çš„æ€§è³ªä¾†å»åšé¡ä¼¼Setçš„æ“ä½œ\n1 2 3 4 5 6 7 8 9 10 11 12  func main() { orderIdMap := map[int]bool{} orderIdSlice := []int{1, 2, 3, 3, 3, 3} for _, orderId := range orderIdSlice { // éå†åˆ‡ç‰‡ \tif _, ok := orderIdMap[orderId]; !ok { // å¦‚æœmapä¸­ä¸å­˜åœ¨è¯¥orderId \torderIdMap[orderId] = true // æ·»åŠ åˆ°mapä¸­ \t} } fmt.Println(orderIdMap) }   Struct  Structè·ŸClassæœ‰ä»€éº¼å·®åˆ¥å‘¢ï¼Ÿå¾ˆç°¡å–®ï¼Structæ²’æœ‰ç¹¼æ‰¿çš„æ¦‚å¿µï¼x\n Goå®£å‘Šä¸€å€‹structï¼Œä»¥åŠè³¦å€¼çš„æ–¹å¼å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  func main() { type person struct { Name string age int Pet string } hoxton := person{Name: \u0026#34;hoxton\u0026#34;, age: 22, pet: \u0026#34;dog\u0026#34;} fmt.Println(hoxton) ian := person{Name: \u0026#34;ian\u0026#34;, age: 22} fmt.Println(ian) }   Javaæœ‰åŒ¿åClassï¼Œé‚£éº½golangç•¶ç„¶ä¹Ÿæ˜¯ä¸æœƒéŒ¯éçš„\n1 2 3 4 5 6 7 8 9 10  func main() { pet := struct { Name string Type string }{Name: \u0026#34;red\u0026#34;, Type: \u0026#34;dog\u0026#34;} fmt.Println(pet.Type) }   å¦‚æœæœ‰å…©å€‹structï¼Œä»–å€‘çš„å…§éƒ¨çš„Fieldåç¨±ã€Fieldæ•¸é‡ã€Fieldé †åºã€Fieldå‹åˆ¥ç­‰ç­‰ï¼Œå…¨éƒ¨éƒ½ç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„åªæœ‰structåç¨±ä¸ä¸€æ¨£ï¼Œé‚£éº¼é€™å…©å€‹structæ˜¯å¯ä»¥ç›¸äº’è½‰æ›çš„\nGoçš„æ§åˆ¶çµæ§‹-If, For If Goçš„Ifé‚„è »æ­£å¸¸çš„ï¼Œå¦‚ä¸‹ï¼Œè·Ÿå…¶ä»–èªè¨€çš„å·®åˆ¥åœ¨æ–¼æ¢ä»¶çš„éƒ¨åˆ†æ²’æœ‰åŠ ä¸Šå°æ‹¬è™Ÿè€Œå·²\n1 2 3 4 5 6 7 8 9 10 11 12  func main() { number := rand.Intn(10) if number == 0 { fmt.Println(number, \u0026#34; number Is 0\u0026#34;) } else if number \u0026gt; 5 { fmt.Println(number, \u0026#34;number is greater than 5\u0026#34;) } else { fmt.Println(number, \u0026#34;number is less than 5 , but not 0\u0026#34;) } }   å¦å¤–\nGolangé‚„æ”¯æŒä¸€ç¨®ç‰¹æ®Šçš„è®Šæ•¸å®£å‘Šæ–¹å¼ï¼Œå°±æ˜¯åœ¨ifä¸­å®£å‘Šè®Šæ•¸ï¼Œçœ‹èµ·ä¾†å°±åƒé€™æ¨£\n1 2 3 4 5 6 7 8 9 10  func main() { //å°‡numberå®£å‘Šåœ¨ifæ¢ä»¶ä¸­ï¼Œé€™å€‹numberå°‡åœ¨ifçµæŸå¾Œæ¶ˆå¤± \tif number := rand.Intn(10); number == 0 { fmt.Println(number, \u0026#34; number Is 0\u0026#34;) } else if number \u0026gt; 5 { fmt.Println(number, \u0026#34;number is greater than 5\u0026#34;) } else { fmt.Println(number, \u0026#34;number is less than 5 , but not 0\u0026#34;) } }   Golangä¸­çš„For ç¶“å…¸ä¸æ•—æ¬¾ 1 2 3 4 5  func main() { for i := 0; i \u0026lt; 10; i++ { fmt.Println(i) } }   åªæœ‰æ¢ä»¶å¼çš„for å…¶å¯¦å°±å¾ˆåƒå…¶ä»–èªè¨€çš„while\n1 2 3 4 5 6 7 8  func main() { i := 0 for i \u0026lt; 10 { fmt.Println(i) i++ } }   ç„¡ç›¡çš„For å¤§éƒ¨åˆ†æƒ…æ³é€™å€‹Foréƒ½æ¯«ç„¡ç”¨è™•ï¼Œä½†å¯ä»¥è®“ä½ æ‡·å¿µ1980å¹´ä»£BASICèªè¨€çš„æµªæ¼«\u0026hellip;\n1 2 3 4 5 6  func main() { for { i := 0 fmt.Println(i) } }   å°‘æ•¸æœ‰ç”¨çš„æƒ…æ³æ˜¯ï¼Œå¯ä»¥ç”¨ä¾†æ¨¡ä»¿Javaä¸­çš„Do\n1 2 3 4 5 6  public static void main(String[] args) { int n = 0; do { System.out.println(\u0026#34;n = \u0026#34; + n); } while (n \u0026gt; 0); }   1 2 3 4 5 6 7 8 9  func main() { for { i := 0 fmt.Println(i) if !(i \u0026gt; 0) { break } } }   For-Range (Golangæœ€æ¨è–¦çš„Forå¯«æ³•) é¡ä¼¼javaä¸­çš„åŠ å¼·å‹Forè¿´åœˆ\n1 2 3 4 5 6 7  func main() { evenVal := []int{2, 4, 6, 8, 10} for index, value := range evenVal { fmt.Println(index, value) } }   æœƒè¼¸å‡º\nå‰µå»ºGolangçš„Webæ¡†æ¶ Gin  éš¨ä¾¿å‰µå»ºä¸€å€‹Golang new Project æ¥è‘—åœ¨çµ‚ç«¯è¼¸å…¥  1  go get -u github.com/gin-gonic/gin   Golangçš„é…ç½®é …ç®¡ç†å™¨-Viper 1  go get github.com/spf13/viper   ","date":"2024-09-15T13:25:46+08:00","image":"https://i.imgur.com/gJZakWC.png","permalink":"https://hoxtoncraft.com/p/%E5%B8%B6%E8%91%97java%E8%A8%98%E6%86%B6%E8%BD%89%E7%94%9F%E7%82%BAgolang%E5%B7%A5%E7%A8%8B%E5%B8%AB/","title":"å¸¶è‘—Javaè¨˜æ†¶è½‰ç”Ÿç‚ºGolangå·¥ç¨‹å¸«"},{"content":"è³‡æ–™ä¾†æºï¼šç”±ç°¡ç´„åˆ—æ¢¯å½¢å¼åˆ¤æ–·è¡Œç©ºé–“åŸºåº•\n","date":"2024-08-17T11:30:23+08:00","image":"https://i.imgur.com/lVeZDy5.png","permalink":"https://hoxtoncraft.com/p/%E8%AD%89%E6%98%8E%E5%88%97%E9%81%8B%E7%AE%97%E4%B8%8D%E6%94%B9%E8%A1%8C%E9%97%9C%E4%BF%82/","title":"è­‰æ˜åˆ—é‹ç®—ä¸æ”¹è¡Œé—œä¿‚"},{"content":"å­¸ç¿’ä¾†æº æœ¬æ–‡åƒè€ƒè‡³\nã€ã€æ¼”ç¤ºã€‘SpringBoot+Dubbo+ZooKeeper å¿«é€Ÿæ­å»ºã€‘ https://www.bilibili.com/video/BV1XK411f7jL/?share_source=copy_web\u0026amp;vd_source=b38b089ffe2c29ef61bebcff0f458ed8\nå‰è¨€ å…¥è·äº†ä¸€å¹´ä¾†ï¼ŒDubboä¸€ç›´æ˜¯ä¸€å€‹æˆ‘å¾ˆæƒ³å­¸ç¿’ï¼Œä½†åˆä¸çŸ¥é“ä½•å¾ä¸‹æ‰‹çš„å·¥å…·ï¼Œé€™ä¸€å¹´ä¾†æ–·æ–·çºŒçºŒçœ‹äº†\nã€é»‘é©¬ç¨‹åºå‘˜Dubboå¿«é€Ÿå…¥é—¨ï¼ŒJavaåˆ†å¸ƒå¼æ¡†æ¶dubboæ•™ç¨‹ã€‘ https://www.bilibili.com/video/BV1VE411q7dX/?share_source=copy_web\u0026amp;vd_source=b38b089ffe2c29ef61bebcff0f458ed8\nã€åƒé”‹æ•™è‚²Javaå¾®æœåŠ¡æ¶æ„æ•™ç¨‹(SpringBoot+Dubbo+Zookeeper)ã€‘ https://www.bilibili.com/video/BV18b411v7Xr/?share_source=copy_web\u0026amp;vd_source=b38b089ffe2c29ef61bebcff0f458ed8\nä¹‹é¡ä¹‹é¡çš„æ•™å­¸ï¼Œä½†é€™äº›å½±ç‰‡è¦å˜›éæ™‚ï¼Œè¦å˜›å‰é¢æœ‰ä¸€å¤§ä¸²è¤‡é›œç¹ç‘£çš„é…ç½®ï¼Œæˆ‘å¾€å¾€åœ¨ä¸€é–‹å§‹çš„æ™‚å€™å°±å¡é—œï¼Œæœ€å¾Œä¸äº†äº†çŸ¥ï¼Œæƒ³å»çœ‹dubboå®˜æ–¹çš„æ–‡ä»¶ï¼Œæ˜æ˜ä¸Šé¢å¯«å¿«é€Ÿå…¥é–€ï¼Œçµæœæ–‡ä»¶ä¹Ÿæ˜¯éæ™‚ï¼Œæ±ç¼ºè¥¿ç¼ºçš„ï¼Œæ ¹æœ¬æ²’è¾¦æ³•ç”¨ï¼Œå¾Œä¾†é‚„é‡åˆ°ZooKeeperç„¡æ³•å®‰è£åœ¨M1çš„å•é¡Œï¼Œéœé‚£é–“çœŸçš„è¬å¿µä¿±ç°ï¼Œç›´åˆ°æœ€è¿‘åˆç‡ƒèµ·ç†±æƒ…ï¼Œæ±ºå®šå†ä¾†å­¸ä¸€æ¬¡ã€‚\né–‹é ­é‚„æ˜¯ä¸€æ¨£çš„å¡é—œï¼Œæ­£ç•¶æˆ‘æƒ³æ”¾æ£„çš„æ™‚å€™æˆ‘é»é–‹äº†ã€æ¼”ç¤ºã€‘SpringBoot+Dubbo+ZooKeeper å¿«é€Ÿæ­å»ºï¼Œå¿ƒè£¡æƒ³èªªæ­»é¦¬ç•¶æ´»é¦¬é†«ï¼Œæ²’æƒ³åˆ°å±…ç„¶çœŸçš„æˆåŠŸäº†ï¼\nåŸå§‹ç¢¼ https://github.com/Hoxton019030/Dubbo-Practice\nä¸ç¢ºå®šæ—¥å¾Œæœƒä¸æœƒæœ‰å…¶ä»–çš„æ“ä½œï¼Œå¯ä»¥checkoutåˆ°34205e76be46971e92eac34d6bb1a4cbb26bb435åœ¨æ“ä½œæœƒæ¯”è¼ƒä¿éšªã€‚\næ•™å­¸ Zookeeperé…ç½® é¦–å…ˆå®‰è£zoo-keeperï¼Œå®‰è£çš„æ–¹å¼è«‹åƒè€ƒåƒè¿´ç™¾è½‰çš„ZooKeeperå®‰è£ã€‚æŠŠzooKeeperå•Ÿå‹•èµ·ä¾†ï¼Œæœƒçœ‹åˆ°é€™æ¨£å­çš„ç•«é¢\nmacçš„å•Ÿå‹•æ–¹å¼æ˜¯åˆ°/binåº•ä¸‹è¼¸å…¥\n1  ./zkServer.sh start   ç„¶å¾Œå¯ä»¥å†ç”¨\n1  ./zkCli.sh   é€²åˆ°Zookeeperä¸­æŸ¥çœ‹ä¸€äº›å…§å®¹\nå¦‚\n1  ls /   æŸ¥çœ‹zookeeperç›®å‰è¨»å†Šäº†å“ªäº›å…§å®¹ï¼Œé€™é‚Šçš„å€¼è·Ÿdubbo.application.name æœ‰é—œ\n1  ls/services   æŸ¥çœ‹å…·é«”è¨»å†Šäº†å“ªäº›@DubboService\n1  ls /dubbo   æ¥è‘—é–‹å•ŸIDEAï¼Œå»ºç«‹SpringBootå°ˆæ¡ˆï¼Œç”±æ–¼Dubboæ˜¯å€‹åˆ†å¸ƒå¼çš„RPCæ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘å€‘é€™é‚Šé¸æ“‡å‰µå»ºå…©å€‹æ¨¡å¡Šï¼Œdubbo-provider dubbo-cousumerä¾†å­¸ç¿’ï¼Œæœƒæ¯”è¼ƒè²¼è¿‘çœŸå¯¦çš„é–‹ç™¼æƒ…æ³ï¼Œå‰µå»ºå¤šæ¨¡å¡Šè¦è¨˜å¾—å°‡çˆ¶æ¨¡å¡Šçš„srcè³‡æ–™å¤¾åˆªé™¤ï¼Œå¦å‰‡æœƒæœ‰å•é¡Œï¼Œå¯ä»¥åƒè€ƒSideProjecté–‹ç™¼(2)-å°è‚¡ç›£æ§Webï¼Œè£¡é¢æœ‰æˆ‘è¡€æ·šçš„æ•™è¨“\næˆ‘å€‘å…ˆå°‡ç›¸é—œçš„Mavenä¾è³´å¼•å…¥ï¼Œç”±æ–¼æˆ‘æ¯”è¼ƒæ‡¶ï¼Œæˆ‘æŠŠå¤§éƒ¨åˆ†çš„ä¾è³´éƒ½å¯«åœ¨çˆ¶æ¨¡å¡Šçš„POMä¸­\nMavené…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;packaging\u0026gt;pom\u0026lt;/packaging\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.3.2\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-practice\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;name\u0026gt;dubbo-practice\u0026lt;/name\u0026gt; \u0026lt;description\u0026gt;dubbo-practice\u0026lt;/description\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;licenses\u0026gt; \u0026lt;license/\u0026gt; \u0026lt;/licenses\u0026gt; \u0026lt;developers\u0026gt; \u0026lt;developer/\u0026gt; \u0026lt;/developers\u0026gt; \u0026lt;scm\u0026gt; \u0026lt;connection/\u0026gt; \u0026lt;developerConnection/\u0026gt; \u0026lt;tag/\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;/scm\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;17\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-devtools\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/org.apache.dubbo/dubbo-spring-boot-starter --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.dubbo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.2.14\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/org.apache.dubbo/dubbo-registry-zookeeper --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.dubbo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-registry-zookeeper\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.2.14\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;excludes\u0026gt; \u0026lt;exclude\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/exclude\u0026gt; \u0026lt;/excludes\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt;   å…©å€‹å­æ¨¡å¡Šçš„POMæˆ‘ä¹Ÿæä¾›ä¸€ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-practice\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-provider\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;name\u0026gt;dubbo-provider\u0026lt;/name\u0026gt; \u0026lt;description\u0026gt;dubbo-provider\u0026lt;/description\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;licenses\u0026gt; \u0026lt;license/\u0026gt; \u0026lt;/licenses\u0026gt; \u0026lt;developers\u0026gt; \u0026lt;developer/\u0026gt; \u0026lt;/developers\u0026gt; \u0026lt;scm\u0026gt; \u0026lt;connection/\u0026gt; \u0026lt;developerConnection/\u0026gt; \u0026lt;tag/\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;/scm\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;17\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-practice\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-consumer\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;name\u0026gt;dubbo-consumer\u0026lt;/name\u0026gt; \u0026lt;description\u0026gt;dubbo-consumer\u0026lt;/description\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;licenses\u0026gt; \u0026lt;license/\u0026gt; \u0026lt;/licenses\u0026gt; \u0026lt;developers\u0026gt; \u0026lt;developer/\u0026gt; \u0026lt;/developers\u0026gt; \u0026lt;scm\u0026gt; \u0026lt;connection/\u0026gt; \u0026lt;developerConnection/\u0026gt; \u0026lt;tag/\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;/scm\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;17\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dubbo-provider\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt;   Propertiesé…ç½®é¡ 1 2 3 4 5 6 7  spring.application.name=user server.port=8081 dubbo.application.name=consumer-app dubbo.registry.address=zookeeper://localhost:2181 # æŒ‡å®š Dubbo å”è­°çš„æœå‹™ç«¯å£è™Ÿ # ç•¶å‰æœå‹™æä¾›è€…æœƒåœ¨ 20881 ç«¯å£ä¸Šå•Ÿå‹•ï¼Œç”¨æ–¼æ¥æ”¶æ¶ˆè²»è€…çš„é ç¨‹èª¿ç”¨è«‹æ±‚ dubbo.protocol.port=20881   1 2 3 4 5 6 7  spring.application.name=dubbo-provider server.port=8082 dubbo.application.name=provider-app dubbo.registry.address=zookeeper://localhost:2181 # æŒ‡å®š Dubbo å”è­°çš„æœå‹™ç«¯å£è™Ÿ # ç•¶å‰æœå‹™æä¾›è€…æœƒåœ¨ 20880 ç«¯å£ä¸Šå•Ÿå‹•ï¼Œç”¨æ–¼æ¥æ”¶æ¶ˆè²»è€…çš„é ç¨‹èª¿ç”¨è«‹æ±‚ dubbo.protocol.port=20880   ç¨‹å¼é…ç½® æˆ‘å€‘é¦–å…ˆå…ˆå¯«dubbo-providerçš„å…§å®¹ï¼Œå¯«å…©å€‹classï¼Œä¸€å€‹æ˜¯interfaceï¼Œä¸€å€‹å»å¯¦ç¾å®ƒï¼Œæœƒå›å‚³ä¸€å€‹Helloå‡ºå»\nå•Ÿå‹•é¡é…ç½® å…¶ä¸­@DubboServiceé€™å€‹å°±ç›¸ç•¶æ–¼å°‡é€™å€‹classçš„èª¿ç”¨è¨»å†Šåˆ°zookeeperä¸­(é€™åŠŸèƒ½ç­‰ç­‰æœƒæ•™)\nç”±æ–¼æ˜¯providerï¼Œæ‰€ä»¥è¦è¨˜å¾—åœ¨å•Ÿå‹•é¡ä¸ŠåŠ ä¸Š\n@EnableDubbo\næ¥è‘—ä¾†å¯«dubbo-consumerï¼Œæˆ‘å€‘å¯«ä¸€å€‹controllerå°±å¥½ï¼Œç”¨ä¾†æ¥æ”¶helloServiceå›å‚³çš„å€¼ï¼Œä¸¦è¿”å›å‡ºå»ï¼Œé€™æ¨£å°±å¯ä»¥äº†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  package com.example.dubboconsumer.controller; import com.example.dubboprovider.service.HelloService; import lombok.extern.slf4j.Slf4j; import org.apache.dubbo.config.annotation.DubboReference; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RestController; @RestController @Slf4j public class HelloController { @DubboReference private HelloService helloService; @GetMapping(\u0026#34;/hello\u0026#34;) public String getHello(){ log.info(\u0026#34;å‘¼å«æ§åˆ¶å™¨\u0026#34;); return helloService.sayHello(); } }   å¯«æ³•å°±åƒé€™æ¨£ï¼Œä¸æ˜¯ä½¿ç”¨@Autowiredä¾†è¨»å†Šbeanï¼Œè€Œæ˜¯ä½¿ç”¨@DubboRefereceä¾†èª¿ç”¨RPCï¼Œæ¥è‘—å°‡å…©å€‹æ¨¡å¡Šå•Ÿå‹•å¾Œå°±å¯ä»¥äº†ï¼éå¸¸ç°¡å–®åˆè¼•ä¾¿çš„Dubboå°±å®Œæˆäº†ï¼\nä½¿ç”¨ZooKeperCliæŸ¥çœ‹è¨»å†Šçš„æœå‹™ bin/zkCli.cmdçš„é»é–‹\nå°±å¯ä»¥çœ‹åˆ°ç›®å‰è¨»å†Šçš„æœå‹™äº†\n","date":"2024-07-31T15:00:22+08:00","image":"https://i.imgur.com/1MgicUX.png","permalink":"https://hoxtoncraft.com/p/dubbo%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Dubboå¿«é€Ÿæ­å»ºå­¸ç¿’ç­†è¨˜"},{"content":"åª½çš„ï¼Œå¥®æˆ°äº†ä¸€å¹´çµ‚æ–¼å®‰è£æˆåŠŸäº†= =\nç´€éŒ„ä¸€ä¸‹Zookeeperå®‰è£åˆ°åº•å¥¹åª½å¤šç³ï¼Œä»¥ä¸‹ç´€éŒ„Windowså®‰è£ï¼ŒMacçš„æˆ‘ä¸æƒ³è™•ç†äº†= =\n åˆ°https://zookeeper.apache.org/index.html å®‰è£ å®‰è£å®Œå¾Œè§£å£“ç¸®ï¼Œè£¡é¢é•·é€™æ¨£ï¼Œç„¶å¾Œå¹«æˆ‘å‰µå»ºdataè·Ÿlogè³‡æ–™å¤¾  æ¥è‘—é»é–‹confï¼ŒæŠŠzoo_sample.cfgè¤‡è£½ï¼Œè²¼ä¸Šï¼Œé‡æ–°å‘½åzoo.cfg   ç·¨è¼¯zoo.cfgï¼Œç·¨è¼¯dataDirä»¥åŠæ–°å¢dataLogDirï¼Œéƒ½è®“å®ƒå€‘æŒ‡å‘æ­¥é©Ÿ2æ‰€å‰µå»ºçš„å…©å€‹è³‡æ–™å¤¾\né€™é‚Šä¹ŸæŒ‡å®šä¸€ä¸‹portè™Ÿï¼Œé¿å…ä½”ç”¨8080ï¼ŒçœŸçš„æ˜¯åƒåœ¾zooKeeperï¼Œå•é¡Œä¸€å †\n  å›åˆ°binï¼Œé»é–‹zkServer.cmdï¼Œèª¿æ•´ä¸€äº›å…§å®¹ï¼ŒæŠŠcall JAVAæ”¹æˆjavaï¼Œç„¶å¾Œåœ¨æœ€åº•ä¸‹å¢åŠ ä¸€å€‹pauseï¼Œå¦‚æœéŒ¯èª¤çš„è©±é‚„å¯ä»¥çœ‹ä¸€ä¸‹éŒ¯èª¤è¨Šæ¯\n  é€™æ¨£å­æ‡‰è©²å°±å¯ä»¥äº†= =\n","date":"2024-07-31T11:33:29+08:00","image":"https://i.imgur.com/FQIqGZl.png","permalink":"https://hoxtoncraft.com/p/%E5%8D%83%E8%BF%B4%E7%99%BE%E8%BD%89%E7%9A%84zookeeper%E5%AE%89%E8%A3%9D/","title":"åƒè¿´ç™¾è½‰çš„ZooKeeperå®‰è£"},{"content":"2024/7/19è·‘å»æ‰“äº†ä¸‹æ’éª¨é‡˜ï¼Œåœ¨æ‰“ä¹‹å‰æˆ‘æœ‰å•é†«ç”Ÿèªªæœƒä¸æœƒå¾ˆç—›ï¼Œé†«ç”Ÿèªªä¸æœƒï¼Œæˆ‘èªªé‚£ç‚ºä»€éº¼æˆ‘ä¸Šæ¬¡æ‰“é€™éº¼ç—›ï¼Œæ„Ÿè¦ºå¿«sæ‰äº†ï¼Œé†«ç”Ÿå¾ˆéœ‡é©šçš„è·Ÿæˆ‘èªªæ€éº¼æœƒï¼Œæ–¼æ˜¯æˆ‘æŠŠç—‡ç‹€è·Ÿé†«ç”Ÿèªªå®Œå¾Œï¼Œé†«ç”Ÿéœ²å‡ºä¸€å€‹ä¸å¯ç½®ä¿¡çš„è¡¨æƒ…ï¼Œã€ŒçœŸçš„å—ï¼Ÿä½ æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è½åˆ°é€™éº¼åš´é‡çš„ç—…äººï¼Œé‚£ä½ é‚„è¦æ‰“ä¸‹æ’éª¨é‡˜å—ï¼Ÿä¸æ‰“ä¹Ÿæ²’é—œä¿‚ï¼Œæˆ‘å€‘å¯ä»¥æ›å…¶ä»–çš„æ–¹å¼å»æ‹‰ä¸‹æ’ç‰™é½’ã€‚ã€\nç¶“éäº†å¤§æ¦‚ä¸€åˆ†é˜å¼·çƒˆçš„æ€æƒ³é¬¥çˆ­å¾Œï¼Œæƒ³äº†æƒ³ï¼Œè¦ºå¾—è‡ªå·±éƒ½èŠ±äº†é€™17è¬ï¼Œç•¶ç„¶æ˜¯èƒ½æ‰“çš„éƒ½çµ¦æˆ‘æ‰“ä¸Šå»ï¼Œèƒ½ç”¨çš„éƒ½çµ¦æˆ‘ç”¨ï¼Œä¸ç„¶æ€éº¼é«”æœƒæˆ‘é€™å€‹ç‰™å¥—çš„å«é‡‘é‡ï¼Œç„¶å¾Œä¹Ÿæƒ³èªªå¦‚æœä¸ç”¨éª¨é‡˜çš„è©±ï¼Œç”¨æ›¿ä»£æ–¹æ¡ˆæ•ˆæœå¤§æ¦‚ä¹Ÿå¾ˆé›£åƒéª¨é‡˜é€™éº¼æ–¹ä¾¿å¿«é€Ÿï¼Œæ–¼æ˜¯æˆ‘çœ‹è‘—é†«ç”Ÿèªªã€Œæ²’é—œä¿‚ï¼Œå°±æ‰“å§ï¼Œæˆ‘æƒ³çœ‹çœ‹æ˜¯ä¸æ˜¯çœŸçš„é€™éº¼ç—›ï¼Œä¸å¯èƒ½é€™éº¼è¡°å§ã€ç¾åœ¨æƒ³ä¸€æƒ³æˆ‘ä¹Ÿæ˜¯éº»é›€å•„äº†ç‰›å±è‚¡ï¼Œé›€å¯¦ç‰›é€¼å‘€\næ¥è‘—å°±æ‰“äº†éº»è—¥ï¼Œåœ¨éª¨é‡˜é€²å…¥ç‰™é½¦å¾Œï¼Œæˆ‘çªç„¶æ„Ÿè¦ºåˆ°ä¸€å€‹æ€ªæ€ªçš„æ„Ÿè¦ºã€å½·å½¿æˆ‘çš„ç‰™é½¦é–‹å§‹åœ¨æ—‹è½‰\nã€Œé†«\u0026hellip;é†«ç”Ÿï¼Œå…ˆæš«åœä¸€ä¸‹ã€\næˆ‘æ„Ÿè¦ºé†«ç”Ÿæ¯è½‰ä¸€æ¬¡ï¼Œæˆ‘ä¸‹æ’çš„é–€ç‰™ç‰™æ ¹è™•å°±è½‰ä¸€ä¸‹ï¼Œæ„Ÿè¦ºåƒæœ‰ä¸€æ ¹è¶…ç¡¬è¶…ç·Šçš„æ©¡çš®ç­‹åœ¨æ‹‰å‹•æˆ‘çš„ç‰™æ ¹ï¼Œ\næˆ‘è·Ÿé†«ç”Ÿèªªäº†ä¸€ä¸‹æˆ‘çš„æ„Ÿå—ï¼Œé†«ç”Ÿå†æ¬¡éœ²å‡ºä¸å¯ç½®ä¿¡çš„è¡¨æƒ…ï¼Œæˆ‘çœ‹ä»–ç³å­”åœ°éœ‡çš„æ¨£å­ï¼Œæˆ‘æƒ³ä»–ä¸€å®šè¦ºå¾—æˆ‘å¾ˆé›£æå§ï¼Œå“\nå¾Œä¾†åœ¨é†«ç”Ÿæ…¢æ…¢è½‰ã€æ…¢æ…¢è½‰çš„processä¸‹ï¼Œæˆ‘ä¸‹æ’çš„éª¨é‡˜ç¸½ç®—æ˜¯æ‰“å¥½äº†ï¼Œæ¥è‘—å°±å«è»Šå›å®¶ï¼Œåƒäº†å…©é¡†æ­¢ç—›è—¥é€Ÿé€Ÿå…¥ç¡ã€‚é€™æ¬¡å›å»çš„æ„Ÿè¦ºçœŸçš„æ²’æœ‰åƒç¬¬ä¸€æ¬¡é‚£æ¨£ç—›åˆ°æˆ‘æƒ³æ­»ï¼Œåªæ˜¯æœ‰æ„Ÿè¦ºé ­æœ‰è¼•è¼•çš„ç—›çš„æ„Ÿè¦ºï¼Œæ­£ç•¶æˆ‘ä»¥ç‚ºä¸€åˆ‡æ²’äº‹æ™‚ï¼Œåˆ°éš”å¤©èµ·åºŠæˆ‘å¾€é¡å­ä¸€ç…§ï¼Œçœ‹åˆ°çš„æ™¯è±¡å·®é»æ²’ç˜‹æ‰= =\næˆ‘çœ‹çš„éª¨é‡˜ä¸æ˜¯åƒæˆ‘åœ¨youtubeçœ‹åˆ°çš„é‚£ç¨®æ¨£å­ï¼Œä¸æ˜¯ä¸€å€‹æ’åœ¨ç‰™é½¦ä¸Šçš„é‡˜å­ï¼Œè€Œæ˜¯ä¸€å€‹æ’åœ¨ç‰™é½¦ä¸Šçš„é‰¤å­ï¼Œå¤–è§€å°±åƒæ˜¯ä¸€å€‹éœ²ç‡Ÿå›ºå®šå¸³ç¯·çš„é‰¤å­ä¸€æ¨£ï¼Œæ„Ÿè¦ºå°±åƒæ˜¯ä¸€å€‹ç¸®å°ç‰ˆçš„å¥ªé­‚é‹¸æ‹æ”ç¾å ´åœ¨æˆ‘çš„å˜´ä¸­ï¼Œçœ‹åˆ°é€™å€‹æ™¯è±¡æˆ‘é “æ™‚å€’æŠ½ä¸€å£æ¶¼æ°£ï¼Œå¿ƒä¸­æš—è‡ªç½µäº†ä¸€è²å¹¹ä½ å¨˜ï¼ŒçœŸçš„åœ¨ææˆ‘ã€‚\nå¾€å¾Œçš„ä¸€å€‹ç¦®æ‹œæˆ‘ç„¡æ™‚ç„¡åˆ»ä¸è¢«é‚£æ ¹é‰¤å­é‰¤ç ´æˆ‘çš„ä¸‹å”‡ï¼Œè€Œä¸”ç•¶æˆ‘æƒ³æŠŠé‰¤å­å¾å‚·å£ä¸­æ‹¿å‡ºä¾†æ™‚ï¼Œåˆæœƒå†å‹¾èµ·æˆ‘çš„è‚‰ï¼Œæˆ‘å¿…é ˆå¾—è¦èª¿æ•´åˆ°ä¸€å€‹ç‰¹æ®Šçš„è§’åº¦æ‰èƒ½å®‰å…¨çš„uninstallé‚£å€‹é‰¤å­ï¼Œé¿å…å®ƒç›´æ¥é€£çš®å¸¶è‚‰çš„æŠŠæˆ‘çš„ä¸‹å”‡æ’•è£‚ã€‚\nå¤§æ¦‚åˆ°äº†ä¸‹å€‹ç¦®æ‹œï¼ŒæŸä¸€å¤©æˆ‘åƒæ«»æ¡ƒçš„æ™‚å€™ä¸å°å¿ƒæŠŠç¹³æ­£å™¨çµ¦Kä¸‹ä¾†ï¼Œä¸å¾—å·²è¦å¾ä¸­å£¢å›åˆ°å°åŒ—å›è¨ºï¼Œå†å›è¨ºçš„æ™‚å€™é†«ç”Ÿæ°é–‹äº†æˆ‘çš„ä¸Šé¡ï¼Œæˆ‘åˆå’¿å’¿å•Šå•Šäº†ä¸€è²ï¼Œè·Ÿé†«ç”Ÿåæ‡‰èªªæˆ‘ç¾åœ¨ä¸å¤ªèƒ½æ‰“é–‹æˆ‘çš„å˜´å·´ï¼Œæˆ‘çš„éª¨é‡˜é‚£é‚Šæœƒç—›ã€‚\né†«ç”Ÿçœ‹äº†ä¸€ä¸‹å¾Œè·Ÿæˆ‘èªªï¼Œã€Œå™¢ï¼ŒHoxtonå…ˆç”Ÿï¼Œä½ é€™å€‹éª¨é‡˜é½ï¼Œå®ƒé™·åˆ°è‚‰è£¡é¢äº†å•¦ï¼Œç­‰æ–¼èªªä½ ç¾åœ¨ä¸‹ç‰™é½¦è·Ÿä½ çš„ä¸‹å˜´å”‡é»å†ä¸€èµ·äº†ã€\næˆ‘ã€Œ\u0026hellip;å¹¹ä½ å¨˜é›æ°å’§ã€\nã€Œä½†æ˜¯é€™å€‹ä¸ç”¨é‡æ‰“å•¦ï¼Œå°±æ˜¯æˆ‘å€‘ç­‰ä¸€ä¸‹è¦æ‰“éº»é†‰ï¼Œç„¶å¾ŒæŠŠä½ çš„è‚‰å¾€ä¸‹æ°ï¼Œç„¶å¾Œé€™æ¨£å°±å¯ä»¥äº†å•¦é½ã€\nå“ï¼Œæˆ‘åªèƒ½èªªæ‰“éª¨é‡˜çœŸçš„ä¸å¦‚æ‰“æ­»æˆ‘\n","date":"2024-07-30T17:02:21+08:00","image":"https://i.imgur.com/XsKASOm.png","permalink":"https://hoxtoncraft.com/p/%E7%89%99%E5%A5%97%E7%B4%80%E9%8C%84%E4%B8%89/","title":"ç‰™å¥—ç´€éŒ„\u003cä¸‰\u003e"},{"content":"â€‹\nå‰é™£å­å·¥ä½œå¯¦åœ¨æ˜¯å¤ªå¿™äº†ï¼Œå¯«äº†å¾ˆå¤šå¾ˆçˆ›çš„codeå‡ºä¾†ï¼Œç„¶å¾Œæ•ˆèƒ½å¾ˆå·®ï¼Œä¾è³´å¾ˆå¤šï¼Œåˆ†å±¤ä¹Ÿä¸å¤ æ¸…æ™°ï¼Œè®“æˆ‘æƒ³åˆ°ä¹‹å‰åœ¨å¾¡è«¾æ™‚å°±æœ‰å¯¦è¸éçš„TDDï¼Œç•¶æ™‚æˆ‘èªªçš„ä¸€å£å¥½codeï¼ŒèªªTDDå¯ä»¥å¹«åŠ©æ¶æ§‹ã€é‡æ§‹ï¼Œæœ‰åŠ©æ–¼åœ¨çˆ›codeå‡ºç¾æ™‚æå‰å—…åˆ°å®ƒçš„å‘³é“ï¼Œä½†å¾å¾¡è«¾é›¢è·å¾Œæˆ‘å°±æ²’å†å¯«éå–®å…ƒæ¸¬è©¦äº†ï¼Œã„ã„ã€‚\nä¹‹å‰åœ¨æ¥æ¡ˆå…¬å¸æ™‚æ˜¯èªªå¯«å–®å…ƒæ¸¬è©¦æœƒä¸çµ±ä¸€ï¼Œæœ‰äººæœ‰å¯«æœ‰äººæ²’å¯«ï¼Œä¸å¥½è·Ÿå®¢æˆ¶äº¤ä»£ï¼Œæ›åˆ°ç¾åœ¨å°‹é ‚æ™‚å‰‡æ˜¯å°ˆæ¡ˆå¤ªå¤§ï¼Œé–‹ç™¼é€²åº¦å¤ªè¶•ï¼Œæˆ‘å°±æœ‰é»æ‡¶å¾—å¯«äº†ï¼Œå†åŠ ä¸Šä¸€é–‹å§‹é …ç›®å…¶å¯¦æœ‰å¾ˆå¤šDependencyä¸å­˜åœ¨æˆ‘å€‘é€™é‚Šï¼Œå­˜åœ¨ä¼ºæœå™¨é‚£ï¼Œå¯«å–®å…ƒæ¸¬è©¦çš„æ„é¡˜å°±ç›´ç·šä¸‹é™äº†\nç›´åˆ°æœ€è¿‘å¯«äº†ä¸€å¨çˆ›codeè¢«Kå¾—æ»¿é ­åŒ…ï¼Œæ±ºå®šè¦ä¾†è§£æ±ºä¸€ä¸‹é€™å€‹å•é¡Œï¼Œä½†åœ¨å‰›é–‹å§‹æ™‚å°±é‡åˆ°ä¸€å€‹å•é¡Œï¼Œé …ç›®çš„@Dubboç„¡æ³•è¢«SpringBootçš„@Mockçµ¦mockæ‰\n1 2 3 4 5  public class UserController { @DubboReference UserDubboService userDubboService; }   1 2 3 4 5 6 7 8  @RunWith(MockitoJUnitRunner.class) @Slf4j public class UserControllerTest { @InjectMocks UserController userController; @Mock //é€™å€‹æœƒæ‹‹å‡ºnull point exception  UserDubboService userDubboService; }   é€™å•é¡Œåœ¨GitHubä¸Šä¹Ÿæœ‰äººåæ˜ \nspring-boot-test @MockBean å¯¹ dubbo-reference å¤±æ•ˆ\nå¾Œä¾†è©¦éå¾ˆå¤šæ–¹å¼ï¼Œæ¯”å¦‚èªªæŠŠ@AutowiredåŠ åœ¨UserDubboServiceä¸Šé¢ï¼Œæˆ–æ˜¯æŠŠDubboServiceInterfaceåŠ ä¸Š@Componentè¨»è§£éƒ½æ²’è¾¦æ³•å®Œæˆï¼Œæœ€å¾Œæ˜¯ä½¿ç”¨äº†åå°„(Reflection)å»åå‘æ³¨å…¥é€™å€‹Beané€²å»\nCodeå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  @RunWith(MockitoJUnitRunner.class) @Slf4j public class UserControllerTest { @InjectMocks UserController userController; //@Mock ä¸ç”¨åœ¨é€éMockitoå»æ³¨å…¥æ¸¬è©¦ä¾è³´  UserDubboService userDubboService; @Before public void setUp() throws IllegalAccessException, NoSuchFieldException { userDubboService = Mockito.mock(UserDubboService.class); // ä½¿ç”¨åå°„æ³¨å…¥ glUserService  Field field = userController.getClass().getDeclaredField(\u0026#34;userDubboService\u0026#34;); field.setAccessible(true); field.set(userController, userDubboService); } }   å°±å¯ä»¥åœ¨å‘¼å«userControlleræ™‚ï¼Œå»mockæ‰@DubboReferenceçš„beanäº†\n","date":"2024-07-26T17:52:54+08:00","image":"https://i.imgur.com/e12IsXC.png","permalink":"https://hoxtoncraft.com/p/dubbo%E5%9C%A8%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6%E5%A6%82%E4%BD%95%E6%B3%A8%E5%85%A5dubboreference-%E9%81%BF%E5%85%8Dnull-point-exception/","title":"Dubboåœ¨å–®å…ƒæ¸¬è©¦å¦‚ä½•æ³¨å…¥@DubboReference é¿å…Null Point Exception"},{"content":"é–‹é ­ é€™é™£å­å…¬å¸æœ‰å€‹æ–°éœ€æ±‚ï¼Œèªªè¦åšä¸€å€‹çŸ­é€£çµçš„åŠŸèƒ½ï¼Œå¸Œæœ›å¯ä»¥è®“æœƒå“¡åˆ†äº«å½¼æ­¤ä¹‹é–“çš„æŠ•è³‡çµ„åˆï¼Œä¾‹å¦‚æˆ‘å¯ä»¥åˆ†äº«æˆ‘çš„æŠ•è³‡çµ„åˆçµ¦åˆ¥äººï¼Œåˆ¥äººé»é€²ä¾†å¾Œå°±å¯ä»¥çœ‹åˆ°æˆ‘åº•ä¸‹æœ‰ä»€éº¼è‚¡ç¥¨ï¼Œç„¶å¾Œå¾Œå°è¦æœ‰åœ°æ–¹ç´€éŒ„æ¯å€‹ç”¨æˆ¶åˆ†äº«ç¢¼çš„è¨ªå•æ¬¡æ•¸ï¼Œç„¶å¾Œé‚„æœ‰QrCoedçš„åŠŸèƒ½ï¼Œæˆ‘ç•¶æ™‚å¿ƒè£¡æƒ³\nã€Œå–”å–”å–”ï¼Œé‚£å¤§æ¦‚å°±æ˜¯å¯«å€‹Get APIï¼Œæœ€å¾ŒReponseç”¨Http Code 303åšé‡å®šå‘ï¼ŒlocationæŒ‡å®šåˆ°ç”¨æˆ¶çš„æŠ•è³‡çµ„åˆå‰ç«¯é é¢å°±å¯ä»¥äº†ã€\næ–¼æ˜¯æˆ‘å¯«äº†ä¸€å€‹å¤§æ¦‚é€™æ¨£å­çš„codeå‡ºå»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  @GetMapping(\u0026#34;/portfolio/{uid}\u0026#34;) public ResponseEntity\u0026lt;Void\u0026gt; redirect(@PathVariable(\u0026#34;uid\u0026#34;) String uid) throws URISyntaxException { String baseUrl = \u0026#34;http://yahoofinancial/user/portfolio/\u0026#34;; //å»æª¢æŸ¥redisä¸­æœ‰æ²’æœ‰é€™å€‹uidçš„å€¼  Integer integer = redisTool.getkeyValue(uid, Integer.class); if(integer!=null){ //å¦‚æœæœ‰çš„è©±å°±+1  redisTool.setkeyValue(uid, integer + 1); return ResponseEntity.status(HttpStatus.TEMPORARY_REDIRECT).location(new URI(baseUrl+uid)).build(); } //æ²’æœ‰çš„è©±å°±å»æŸ¥çœ‹çœ‹æœ‰æ²’æœ‰é€™å€‹äºº  if(integer==null){ //å…ˆå»æª¢æŸ¥è³‡æ–™åº«çœŸçš„æœ‰é€™å€‹user  User user =userService.findByUid(uid); //å¦‚æœæœ‰çš„è©±å°±+1  if(user!=null){ //ç‚ºé€™å€‹å€¼+1ï¼Œä¸¦æ”¾å›redisä¸­  redisTool.setkeyValue(uid, integer + 1); return ResponseEntity.status(HttpStatus.TEMPORARY_REDIRECT).location(new URI(baseUrl+uid)).build(); } //æ²’æœ‰å°±è¿”å›é¦–é çµ¦ä»–  else{ return ResponseEntity.status(HttpStatus.TEMPORARY_REDIRECT).location(new URI(baseUrl)).build(); } } return ResponseEntity.status(HttpStatus.TEMPORARY_REDIRECT).location(new URI(baseUrl)).build(); }   ç„¶å¾Œåœ¨é…ç½®æª”è£¡æŠŠé€™å€‹APIè¨­æˆç™½åå–®ï¼Œä¸éœ€è¦ç™»å…¥å°±å¯ä»¥ä½¿ç”¨ï¼Œæ¥è‘—è·Ÿå‰ç«¯é…åˆï¼Œæ–¼æ˜¯ç”¨æˆ¶æŒ‰ä¸‹äº†ã€Œåˆ†äº«æˆ‘çš„æŠ•è³‡çµ„åˆã€å¾Œï¼Œåœ¨å‰ç«¯é é¢å°±æœƒç”¢ç”Ÿé€™æ¨£çš„ç•«é¢\nç„¶å¾ŒQAéäº†æ²’å•é¡Œï¼Œæ¥è‘—é€™æ±è¥¿å°±ä¸Šç”Ÿç”¢äº†\nå¤§ä½¬åæ‡‰ æ¥è‘—ä¸Šç”Ÿç”¢çš„éš”å¤©ï¼Œæˆ‘å°±åœ¨å¤§ç¾¤è£¡è¢«Tagäº†\nã€ŒHoxtonï¼Œä½ å¯«é€™ä»€éº¼æ´¨ï¼Ÿã€\né–‹ç©ç¬‘çš„ï¼Œå¤§ä½¬å€‘ä¸æœƒé€™æ¨£è¬›ï¼Œå¤§æ„å¤§æ¦‚å°±æ˜¯èªªï¼Œæˆ‘é€™å€‹ç¸®ç¶²å€çš„åŠŸèƒ½ï¼Œæ ¹æœ¬æ²’æœ‰ç¸®åˆ°ä»€éº¼æ±è¥¿ï¼Œé‚„æ˜¯å¾ˆé•·ï¼Œè€Œä¸”ä¹Ÿæ²’æœ‰ä¸€å€‹æ©Ÿåˆ¶å»è™•ç†ç”¨æˆ¶ä¸€ç›´å»æ´—åˆ†äº«ç¢¼ï¼Œè¡é«˜åˆ†äº«æ¬¡æ•¸çš„æ©Ÿåˆ¶ï¼Œä¸¦ä¸”é‚€è«‹ç¢¼æ˜¯ç”¨uidçš„æ–¹å¼å»å‚³éï¼Œå¾ˆå®¹æ˜“å°±æœƒè¢«ç”¨æˆ¶çŒœåˆ°ï¼Œè®“ä»–å€‘äº‚æ‰“ï¼Œå†åŠ ä¸Šæˆ‘åœ¨ç¬¬ä¸€æ­¥å°±å»æƒè³‡æ–™åº«ï¼Œä¸¦å°‡Apiè¨­æˆç™½åå–®ï¼Œæ›è¨€ä¹‹åªè¦æœ‰äººå¤ é–’ï¼Œä»–å°±å¯ä»¥ç”¨ç¨‹å¼ä¸€ç›´å°æˆ‘å€‘ä¼ºæœå™¨ç™¼é€I/Oï¼Œä¸€ç›´æ‰“ï¼Œæ‰“åˆ°æˆ‘å€‘å´©æ½°ã€‚\næ–¼æ˜¯å¤§ä½¬æä¾›äº†å¹¾å€‹è¦æ±‚ï¼Œè¦æˆ‘å»è™•ç†\n çŸ­ç¶²å€å¤ªé•·ï¼Œæƒ³è¾¦æ³•ç¸®çŸ­ Api ä¸è¦ç›´æ¥ç”¨uid è¦åŠ å¯† ä¸è¦è®“ç”¨æˆ¶ä¸€ç›´åˆ·åˆ†äº«ç¢¼ï¼Œè¡é«˜åˆ†äº«æ•¸  æ”¹é€²æ–¹å¼ çŸ­ç¶²å€ç¸®çŸ­ é¦–å…ˆè¦è§£æ±ºçš„å°±æ˜¯çŸ­ç¶²å€å¤ªé•·é€™ä»¶äº‹æƒ…ï¼Œæˆ‘åŸå…ˆæ˜¯æƒ³èªªå¯ä»¥æŠŠapiçš„prefixæ‹†æ‰ï¼Œä½†æƒ³æƒ³é€™æ–¹æ³•çœŸçš„æœ‰é»å¤ªç™½ç™¡äº†ï¼Œæˆ‘å•äº†ä¸€ä¸‹æˆ‘çš„å¥½åŒäº‹ï¼Œä»–å»ºè­°æˆ‘å¯ä»¥è®“å‰ç«¯å‡ºä¸€å€‹é é¢\nhttp://financa/sharecode/XXXXX\nçŸ­é€£çµå°±æ˜¯ç”¢ç”Ÿé€™å€‹ç¶²å€ï¼Œç•¶ç”¨æˆ¶è¨ªå•é€™å€‹é é¢æ™‚ï¼Œæœƒå»æ‰“æˆ‘çš„APIï¼Œæ‰“å®Œå¾Œå†ç”±å‰ç«¯è½‰é é¢åˆ°ä»–å€‘æŠ•è³‡çµ„åˆçš„å‰ç«¯é é¢ï¼Œæ›è¨€ä¹‹ï¼Œå°±æ˜¯è®“\napi/finance/profolio/share/{PathVariable}\né€™å€‹APIä¸è¦å†åšè½‰ç¶²å€çš„äº‹æƒ…ï¼Œè½‰ç¶²å€çš„æ“ä½œè®“å‰ç«¯å»è™•ç†ï¼Œå¾Œç«¯åªéœ€è¦å°ˆå¿ƒå»ç´€éŒ„è¨ªå•é‡å°±å¥½ã€‚\nUidåŠ å¯† é€™å€‹æˆ‘å…¶å¯¦ä¸€é–‹å§‹ä¸å¤ªç†è§£ç‚ºå•¥è¦ç‰¹åœ°åŠ å¯†ï¼ŒåŸå‰‡ä¸Šä¾†èªªä¸€å€‹uidå°±æ˜¯å°æ‡‰åˆ°ä¸€å€‹base62ï¼Œé‚£é€™æ¨£é‚„æœ‰ä»€éº¼æ„ç¾©å—ï¼Ÿå¾Œä¾†ç™¼ç¾é‡å°uidåŠ å¯†å¯¦åœ¨æ˜¯å¥½è™•å¤šå¤š\n å¯ä»¥åœ¨decryptçš„æ™‚å€™å°±åšåƒæ•¸æª¢æŸ¥ï¼Œä¸åˆè¦çš„ç›´æ¥rejectæ‰ï¼Œä¸éœ€è¦ç¶“è³‡æ–™åº« å› ç‚º1å°1çš„é—œä¿‚ï¼Œä¸éœ€è¦å†æŠŠåŠ å¯†å¾Œçš„base62å­˜åˆ°è³‡æ–™åº«ä¸­ï¼Œå¦‚æ­¤ä¸€ä¾†ä¹Ÿå°‘äº†å¾ˆå¤šå…¥åº«æª¢ç´¢çš„æ“ä½œï¼Œé™ä½I/Oé–‹éŠ·  ç”±æ–¼é€™å€‹åŠ å¯†çš„åŠ å…¥ï¼Œå¯ä»¥èªªæ˜¯å¾æºé ­ä¸Šé¿å…äº†å¾ˆå¤šæƒ¡æ„æ‰“APIçš„æ“ä½œ\né˜»æ“‹æœ‰äººä¸€ç›´åˆ·åˆ†äº«æ•¸ é€™é‚Šæˆ‘çš„æƒ³æ³•æ˜¯ï¼Œå› ç‚ºæˆ‘å€‘çš„å‰ç«¯æœƒæŠŠç”¨æˆ¶çš„ip requestä¹Ÿå¸¶é€²ä¾†ï¼Œæ‰€ä»¥æˆ‘æŠŠip è·Ÿ share code æ”¾åˆ°redisä¸­æˆç‚ºä¸€å€‹éµï¼Œä¸¦æŠŠå­˜çºŒæœŸé–“è¨­æˆä¸€å°æ™‚ï¼Œæ„å³é€™å€‹ipä¸€å°æ™‚åªèƒ½å¢åŠ é€™å€‹share codeä¸€æ¬¡åˆ†äº«æ•¸ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œåªè¦æ˜¯åŒä¸€å€‹ipä¸€å°æ™‚å…§çš„è¨ªå•æˆ‘å°±ä¸ç´€éŒ„+1ï¼Œé¿å…äº†é‡è¤‡åˆ·çš„å¯èƒ½æ€§\næ›´æ–°å®Œå¾Œçš„codeé•·é€™æ¨£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  public ResponseEntity redirect(String shortUrl, Request request, User user){ String ip = request.getIp(); //é€™é‚Šè§£å¯†å¤±æ•—å°±ç›´æ¥throwéŒ¯èª¤å‡ºå»  String uid =DESEncrypt.decrypt(shortUrl, ENCRYPT_KEY); //é€™é‚Šåœ¨ç”¨ç”¨æˆ¶çš„ipåšåˆ¤æ–·çŸ­é€£çµçš„è¨ªå•æ¬¡æ•¸  //æˆ‘è¨­ç½®1å°æ™‚ä½œç‚ºå–®æ¬¡è¨ªå•çš„å€é–“  //æ„å³ç›¸åŒçš„Ip ä¸€å°æ™‚å…§è¨ªå•åªè¨˜éŒ„ä¸€æ¬¡  if(ip !=null){ String redisKey = String.format(SHARE_CODE_CACHE,uid,ip); Date date = redisTool.get(redisKey, Date.class); //å¦‚æœredisä¸­æ²’æœ‰dateå€¼ï¼Œä»£è¡¨é€™å€‹Ipéå»ä¸€å°æ™‚å…§æ²’æœ‰è¨ªå•éï¼Œå°‡é€™å€‹IpåŠ å…¥åˆ°redisä¸­ï¼Œè¨­ç½®ä¸€å°æ™‚åˆ°æœŸæ™‚é–“(60*60)  //ä¸¦å°‡é€™å€‹uidçš„è¨ªå•æ¬¡æ•¸+1  if(date!=null){ //è¨­ç½®Ip key çš„ç·©å­˜ï¼Œttlç‚º1å°æ™‚ï¼Œé¿å…é‡è¤‡åˆ·è¨ªå•æ¬¡æ•¸  //keyçš„valueè¨­ç½®æˆnew Date() å…¶å¯¦æ²’å•¥ç‰¹åˆ¥æ„ç¾©ï¼Œä½†æ‡¶å¾—æ”¹äº†ï¼Œåªè¦æ”¾å€‹å€¼é€²å»éƒ½ok  redisTool.set(redisKey,new Date(),60*60); //åˆ¤æ–·uidæ˜¯å¦åœ¨redisä¸­æœ‰ç´€éŒ„è¨ªå•æ¬¡æ•¸+1ï¼Œå¦‚æœæœ‰çš„è©±å°±åŠ ï¼Œæ²’çš„è©±å°±å‰µå»º  ClcikStatisticDO clcikStatisticDO = redisTool.getObject(SHARE_CODE_CLICK, uid, ClcikStatistic.class); if (clcikStatisticDO != null) { clcikStatisticDO.setClickTime(clcikStatisticDO.getClickTime() + 1); clcikStatisticDO.setLastClickTime(new Date()); redisTool.put(SHARE_CODE_CLICK, uid, clcikStatisticDO); log.info(\u0026#34;Ip :{} åœ¨ {}è¨ªå•äº† æœƒå“¡ {} çš„æŠ•è³‡é é¢ï¼Œè¨ªå•æ•¸+1\u0026#34; ,ip,DateUtils.format(new Date(), \u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;),clcikStatisticDO.getUsername()); } else { User user = userService.findById(uid); //æ‰¾ä¸åˆ°uid é‚£å°±ç›´æ¥å›å‚³  if(User==null){ return builder.success().build(); } ClcikStatistic clcikStatistic = new ClcikStatistic(); clcikStatistic.setUsername(user.getUsername()); clcikStatistic.setShareCode(uid); clcikStatistic.setClickTime(1); clcikStatistic.setCreateTime(new Date()); clcikStatistic.setLastClickTime(new Date()); redisTool.put(SHARE_CODE_CLICK, uid, clcikStatistic); log.info(\u0026#34;Ip :{} åœ¨ {}è¨ªå•äº† æœƒå“¡ {} çš„æŠ•è³‡é é¢ï¼Œè¨ªå•æ•¸+1\u0026#34; ,ip,DateUtils.format(new Date(), \u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;),user.getUsername()); } } } log.info(\u0026#34;Ip:{} æ–¼ {} è¨ªå• {}\u0026#34;,ip,DateUtils.format(new Date(), \u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;),uid); return ResponseEntity.ok().build(); }   ","date":"2024-06-21T14:08:42+08:00","image":"https://i.imgur.com/F9zafh3.png","permalink":"https://hoxtoncraft.com/p/%E7%9F%AD%E9%80%A3%E7%B5%90%E9%96%8B%E7%99%BC%E5%88%86%E4%BA%AB/","title":"çŸ­é€£çµé–‹ç™¼åˆ†äº«"},{"content":"é€™é™£å­å·¥ä½œä¸Šçš„æ™‚å€™åˆé‡åˆ°ä¸€å€‹è¦å¾å…©å€‹Listä¸­æ‰¾å‡ºç›¸åŒIdï¼Œç„¶å¾Œ Assign çµ¦å°æ–¹çš„é‚£ç¨®ï¼Œæ­£ç•¶æˆ‘æº–å‚™å†å¯«å€‹Double-ForEachä¾†è§£æ±ºé€™å€‹å•é¡Œæ™‚ï¼Œè…¦ä¸­çªç„¶è¢«é€™ç¨®å¾ˆé†œçš„å¯«æ³•çµ¦å™å¿ƒåˆ°äº†ï¼Œé “æ™‚é–“åœ¨æƒ³\nã€Œè‚¯å®šæœ‰æ›´å¥½çš„æ–¹å¼å§ã€\næ–¼æ˜¯å°±æƒ³åˆ°äº†HashMapï¼Œæˆ‘çŸ¥é“å–å‡ºMapçš„æ™‚é–“è¤‡é›œåº¦ç‚ºO(1)ï¼Œä½†é€™æ˜¯ä¿è­‰éƒ½æ˜¯O(1)å—ï¼Ÿé‚„æ˜¯èªªåªæœ‰ç”¨indexæŸ¥æ‰¾ï¼Œä¾‹å¦‚get(1)é€™ç¨®æ‰å¿«å‘¢ï¼Ÿè€å¯¦èªªæˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¦å¤–æˆ‘å¦‚æœè¦ç”¨HashMapï¼Œæˆ‘å‹¢å¿…è¦å…ˆæŠŠListçš„å…§å®¹putåˆ°Mapä¸­ï¼Œé‚£é€™æ¨£è·Ÿæˆ‘ç›´æ¥ç”¨Double-ForEachæŸ¥æ‰¾ä¾†è¬›ï¼Œæ˜¯ä¸æ˜¯æœƒæ›´æ…¢å‘¢ï¼Ÿæ–¼æ˜¯ä»Šå¤©æ‰“ç®—ä¾†ç ”ç©¶ä¸€ä¸‹ï¼Œæˆ‘çš„æƒ³æ³•å¾ˆç°¡å–®ï¼Œå‰µé€ 10,000,000å€‹UIDï¼Œä¸¦åˆ†åˆ¥æ”¾åˆ°Listè·ŸMapï¼Œæœ€å¾Œå–å‡ºæœ€å¾Œæ–°å¢çš„UIDï¼Œä¾†æ¯”è¼ƒå…©è€…ä¹‹é–“çš„é€Ÿåº¦\nç¨‹å¼ç¢¼å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  public static void main(String[] args) { System.out.println(\u0026#34;é–‹å§‹åŸ·è¡Œ\u0026#34;); HashMap\u0026lt;String, String\u0026gt; stringStringHashMap = new HashMap\u0026lt;\u0026gt;(); List\u0026lt;String\u0026gt; uuidList = new ArrayList\u0026lt;\u0026gt;(); String theLastUid=\u0026#34;\u0026#34;; long inputStartTime = System.currentTimeMillis(); for(int i =0;i\u0026lt;10_000_000;i++){ String uid = new UID().toString(); stringStringHashMap.put(uid,uid); uuidList.add(uid); theLastUid=uid; } long inputEndTime = System.currentTimeMillis(); System.out.println(\u0026#34;è³‡æ–™å¡å®Œè€—æ™‚\u0026#34; +(inputEndTime - inputStartTime)); System.out.println(\u0026#34;=======\u0026#34;); long mapStartTime = System.currentTimeMillis(); String mapString = stringStringHashMap.get(theLastUid); long mapEndTime = System.currentTimeMillis(); System.out.println(\u0026#34;Mapè€—æ™‚ :\u0026#34;+(mapEndTime - mapStartTime)); System.out.println(\u0026#34;Mapæ’ˆå‡ºä¾†çš„\u0026#34; + mapString); System.out.println(\u0026#34;=======\u0026#34;); long listStartTime = System.currentTimeMillis(); String finalTheLastUid = theLastUid; String listString = uuidList.stream().filter(s -\u0026gt; s.equals(finalTheLastUid)).findFirst().orElse(null); long listEndTime = System.currentTimeMillis(); System.out.println(\u0026#34;Listè€—æ™‚ :\u0026#34;+(listEndTime - listStartTime)); System.out.println(\u0026#34;Listæ’ˆå‡ºä¾†çš„ = \u0026#34; + listString); }   æœ€å¾Œè¼¸å‡ºçš„çµæœ\n1 2 3 4 5 6 7 8  é–‹å§‹åŸ·è¡Œ è³‡æ–™å¡å®Œè€—æ™‚2228 ======= Mapè€—æ™‚ :0 Mapæ’ˆå‡ºä¾†çš„-122815f4:190363175b6:1717 ======= Listè€—æ™‚ :103 Listæ’ˆå‡ºä¾†çš„ = -122815f4:190363175b6:1717   æ²’æƒ³åˆ°MapæŸ¥è©¢çš„é€Ÿåº¦å±…ç„¶æ˜¯Listçš„ç„¡é™å€ï¼é‚£æ¥ä¸‹ä¾†æˆ‘è¦é©—è­‰çœ‹çœ‹ï¼ŒMapé›–ç„¶æ¯”è¼ƒå¿«ï¼Œä½†æ˜¯åœ¨å¡è³‡æ–™é€™ä»¶äº‹æƒ…ä¸Šé¢ï¼Œæœƒä¸æœƒMapæ¶ˆè€—çš„æ™‚é–“æ¯”Listé‚„å¤šï¼Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  public static void main(String[] args) { System.out.println(\u0026#34;é–‹å§‹åŸ·è¡Œ\u0026#34;); HashMap\u0026lt;String, String\u0026gt; stringStringHashMap = new HashMap\u0026lt;\u0026gt;(); List\u0026lt;String\u0026gt; uuidList = new ArrayList\u0026lt;\u0026gt;(); String theLastUid=\u0026#34;\u0026#34;; long inputStartTime = System.currentTimeMillis(); for(int i =0;i\u0026lt;10_000_000;i++){ String uid = new UID().toString(); stringStringHashMap.put(uid,uid); } long inputEndTime = System.currentTimeMillis(); System.out.println(\u0026#34;Mapè³‡æ–™å¡å®Œè€—æ™‚\u0026#34; +(inputEndTime - inputStartTime)); System.out.println(\u0026#34;=======\u0026#34;); long inputStartTime2 = System.currentTimeMillis(); for(int i =0;i\u0026lt;10_000_000;i++){ String uid = new UID().toString(); uuidList.add(uid); theLastUid=uid; } long inputEndTime2 = System.currentTimeMillis(); System.out.println(\u0026#34;Listè³‡æ–™å¡å®Œè€—æ™‚\u0026#34; +(inputEndTime2 - inputStartTime2)); }   1 2 3 4  é–‹å§‹åŸ·è¡Œ Mapè³‡æ–™å¡å®Œè€—æ™‚2288 ======= Listè³‡æ–™å¡å®Œè€—æ™‚1656   å¯ä»¥çœ‹åˆ°æˆ‘çš„æƒ³æ³•ç¢ºå¯¦æ²’éŒ¯ï¼Œå¡åˆ°hashMapç¢ºå¯¦æ¯”å–®ç´”å¡åˆ°Listè€—æ™‚é‚„è¦é•·ï¼Œå› ç‚ºé‚„è¦è™•ç†å“ˆå¸Œç¢°æ’çš„å•é¡Œï¼Œä½†ç›¸å°ä¾†èªªï¼ŒMapè·ŸListå¡é€²å»çš„æ€§èƒ½å·®ç•°ä¸¦æ²’æœ‰åˆ°æœå°‹çš„å·®ç•°é‚£éº¼å¤§ï¼Œè€Œä¸”é€™åªæ˜¯åœ¨åªéœ€è¦æœå°‹ä¸€æ¬¡çš„å ´æ™¯ï¼Œå¦‚æœå–®ä¸€æ–¹æ³•æœ‰éœ€è¦æœå°‹å…©æ¬¡çš„è©±ï¼Œé‚£éº¼è¨­å®šæˆMapç¢ºå¯¦æ˜¯å€‹ä¸éŒ¯çš„è§£æ³•ã€‚\n","date":"2024-06-20T22:48:07+08:00","image":"https://i.imgur.com/fioKvTX.png","permalink":"https://hoxtoncraft.com/p/%E4%BD%BF%E7%94%A8map%E4%BE%86%E6%89%BE%E7%9C%9F%E7%9A%84%E6%AF%94list%E9%82%84%E5%BF%AB%E5%97%8E/","title":"ä½¿ç”¨Mapä¾†æ‰¾çœŸçš„æ¯”Listé‚„å¿«å—"},{"content":"GitHubç¶²å€åœ¨ ï¼šhttps://github.com/Hoxton019030/591_rent_google_apps_script_fullauto\néˆæ„Ÿä¾†è‡ªæ–¼ï¼šè¶…ç°¡å–®ä¸€éµæ¨æ’­ 591 ç§Ÿå±‹è³‡è¨Šå®Œå…¨å… Codingï¼é€é Google Sheet èˆ‡ LINE Notify\nä½ å­å€¦äº†ä¸€ç›´F5åˆ·æ–°ç¶²é æŸ¥çœ‹æœ‰æ²’æœ‰æ–°çš„è³‡æ–™å—ï¼Ÿä½ å­å€¦äº†æ¯æ¬¡å¥½çš„ç‰©ä»¶éƒ½è¢«åˆ¥äººæ¶èµ°å—ï¼Ÿåˆ¥æ“”å¿ƒï¼Œ591è‡ªå‹•åŒ–ä»–ä¾†äº†\nä½¿ç”¨äº†Google Apps Scriptä½œç‚ºè‡ªå‹•åŒ–çš„è¨­ç½®ï¼Œä¸¦å³æ™‚å‚³é€Lineé€šçŸ¥åˆ°ä½ çš„æ‰‹æ©Ÿï¼Œè®“ä½ æ°¸é å¯ä»¥é ˜å…ˆåˆ¥äººä¸€æ­¥ï¼\nä½¿ç”¨æ•™å­¸  é¦–å…ˆè¨ªå•é€™å€‹Google Sheeté é¢  https://docs.google.com/spreadsheets/d/1Pngp5EAy1oElm5phF2S-I02llRuTgc8ULklcdBci2h4/edit?usp=sharing\nä¸¦é¸æ“‡å»ºç«‹å‰¯æœ¬\nè¨ªå•ä½ å‰›å‰›çš„å‰¯æœ¬ï¼Œä¸¦é¸æ“‡Apps Script  åˆ°591ä¸­é¸æ“‡è‡ªå·±æƒ³è¦çš„ç§Ÿå±‹æ¢ä»¶ï¼ŒæŠŠç¶²å€è¤‡è£½ä¸‹ä¾†  æŠŠç¶²å€è²¼ä¸Šåˆ°Apps Scriptä¸­  æ¥è‘—ç”³è«‹Line Token æŠŠLine Tokenå¡é€²å»ï¼Œè«‹è¨˜å¾—é€™å€‹Tokenä¸è¦å¤–æµï¼Œå¦‚æœç”¨ä¸åˆ°ä¹Ÿè«‹è¨˜å¾—åˆªæ‰  é»æ“Š Line Notify\né¸æ“‡ç™»å…¥\né¸æ“‡å€‹äººé é¢\né¸æ“‡ç™¼è¡Œæ¬Šæ–ï¼Œç„¶å¾Œå‘½åä¸€ä¸‹ï¼Œæœ€å¾Œé¸æ“‡ä½ è¦æ¨é€åˆ°å“ªå€‹èŠå¤©å®¤ï¼Œå»ºè­°å¯ä»¥é¸æ“‡ã€Œé€é1å°1èŠå¤©æ¥æ”¶LINE NOTIFYçš„é€šçŸ¥ã€\nè¤‡è£½æ¬Šæ–\né»æ“Šè§¸ç™¼æ¢ä»¶  çµæœå±•ç¤º  ","date":"2024-05-28T01:42:08+08:00","image":"https://i.imgur.com/dYtFfAi.png","permalink":"https://hoxtoncraft.com/p/591%E7%B5%90%E5%90%88google-apps-script-%E8%87%AA%E5%8B%95%E5%82%B3%E9%80%81line/","title":"591çµåˆGoogle Apps Script è‡ªå‹•å‚³é€Line"},{"content":"æœ€è¿‘æ‰¾æˆ¿å­çœŸçš„æ‰¾å¾—å¥½ç´¯ï¼Œå¶ç„¶é–“åœ¨ç¶²è·¯ä¸Šçœ‹åˆ°è¶…ç°¡å–®ä¸€éµæ¨æ’­ 591 ç§Ÿå±‹è³‡è¨Šå®Œå…¨å… Codingï¼é€é Google Sheet èˆ‡ LINE Notifyï¼Œæƒ³è¦æ‹¿ä¾†ç”¨å»ç™¼ç¾å¥½åƒ\nå·²ç¶“å¤±æ•ˆäº†ï¼Œæƒ³è¦ç¶­è­·ä¸€ä¸‹ç™¼ç¾è‡ªå·±å®Œå…¨ä¸æ‡‚é€™äº›æ±è¥¿ï¼Œæ–¼æ˜¯ç§‰æŒè‘—èƒ½åå°±ä¸èººï¼Œèƒ½èººå°±ä¸åçš„æ‡¶äººå¿ƒæ…‹ï¼Œæ±ºå®šè¦ä¾†ç ”ç©¶ä¸€ä¸‹æ€éº¼åˆ©ç”¨GASè·ŸLine Notifyä¾†é”åˆ°åªè¦æœ‰æ›´æ–°è³‡æ–™ï¼Œå°±æœƒç™¼é€Lineé€šçŸ¥çµ¦æˆ‘çš„åŠŸèƒ½ã€‚\nå¿«é€Ÿä¸Šæ‰‹ åè©å®šç¾©   SpreadSheetï¼šè©¦ç®—è¡¨ï¼Œå…¶å¯¦å°±æ˜¯ä½ çœ‹å¾—çš„é€™æ•´å€‹Google Excelï¼Œå°æ‡‰åˆ°ä¸‹é¢çš„Hoxton App Script Practice\n  Sheetï¼šå·¥ä½œç°¿ï¼Œå·¥ä½œè¡¨ï¼Œå°±é¡ä¼¼åˆ†é çš„æ±è¥¿å•¦\n  å¤¢é–‹å§‹çš„åœ°æ–¹ åæ­£å…ˆéš¨ä¾¿å‰µå€‹è©¦ç®—è¡¨å§\næ¥è‘—åœ¨Google Sheetçš„æ´»é ç°¿ä¸­ï¼Œé¸æ“‡Apps Script\nåœ¨é€™é‚Šï¼Œå°±æœƒçœ‹åˆ°ä¸€å€‹é¡ä¼¼javascriptçš„æ±è¥¿ï¼Œä½†æ˜¯æ˜¯.gsçµå°¾çš„ï¼Œæ¥ä¸‹ä¾†æœƒçµ¦å¹¾æ®µCodeï¼Œè®“ä½ æ„Ÿå—ä¸€ä¸‹gsé€™å€‹æ±è¥¿æ˜¯æ€éº¼é‹ä½œçš„\næ‰“å°å‡ºç›®å‰æ“ä½œçš„SpreadSheetåç¨± 1 2 3 4 5 6 7 8 9 10 11  function myFunction() { // ç²å–ç•¶å‰æ´»å‹•çš„é›»å­è¡¨æ ¼  var spreadSheet = SpreadsheetApp.getActiveSpreadsheet(); // ç²å–ç•¶å‰æ´»å‹•çš„é›»å­è¡¨æ ¼åç¨±  var spreadSheetName = spreadSheet.getName(); // è¼¸å‡ºé›»å­è¡¨æ ¼çš„åç¨±  console.log(spreadSheetName); }   æ‰“å°å‡ºåº•ä¸‹åˆ†é çš„åç¨± 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  function myFunction() { // ç²å–ç•¶å‰æ´»å‹•çš„é›»å­è¡¨æ ¼  var spreadSheet = SpreadsheetApp.getActiveSpreadsheet(); // ç²å–ç•¶å‰æ´»å‹•çš„å·¥ä½œè¡¨  var sheet = spreadSheet.getActiveSheet(); // ç²å–æ‰€æœ‰å·¥ä½œè¡¨  var sheets = spreadSheet.getSheets(); // è¼¸å‡ºæ‰€æœ‰å·¥ä½œè¡¨çš„åç¨±  for (var i = 0; i \u0026lt; sheets.length; i++) { console.log(sheets[i].getName()); } }   æŠŠSheetçš„A1æ¬„ä½æ”¹æˆHello World 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  function myFunction() { // ç²å–ç•¶å‰æ´»å‹•çš„é›»å­è¡¨æ ¼  var spreadSheet = SpreadsheetApp.getActiveSpreadsheet(); // ç²å–ç•¶å‰æ´»å‹•çš„é›»å­è¡¨æ ¼åç¨±  var spreadSheetName = spreadSheet.getName(); // è¼¸å‡ºé›»å­è¡¨æ ¼çš„åç¨±  console.log(spreadSheetName); // ç²å–ç•¶å‰æ´»å‹•çš„å·¥ä½œè¡¨  var sheet = spreadSheet.getSheetByName(\u0026#34;æˆ‘æ˜¯ç¬¬ä¸€å€‹Sheet\u0026#34;); // åœ¨ A1 å–®å…ƒæ ¼ä¸­è¨­ç½®å€¼ç‚º \u0026#34;Hello World\u0026#34;  sheet.getRange(\u0026#34;A1\u0026#34;).setValue(\u0026#34;Hello World\u0026#34;); }   è¨­ç½®è‡ªå‹•åŸ·è¡Œçš„æ’ç¨‹å™¨ é¸æ“‡Trigger\næŒ‰ç…§ä¸‹åœ–çš„é †åºå»åŸ·è¡Œ\né€™æ¨£å°±å¯ä»¥äº†ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å¯«ä¸€æ®µCodeï¼ŒæŠŠA1æ¬„ä½çš„å€¼æ”¹æˆç•¶å‰æ™‚é–“\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  function myFunction() { // ç²å–ç•¶å‰æ´»å‹•çš„é›»å­è¡¨æ ¼  var spreadSheet = SpreadsheetApp.getActiveSpreadsheet(); // ç²å–ç•¶å‰æ´»å‹•çš„å·¥ä½œè¡¨  var sheet = spreadSheet.getSheetByName(\u0026#34;æˆ‘æ˜¯ç¬¬ä¸€å€‹Sheet\u0026#34;); // ç²å–ç•¶å‰æ—¥æœŸ  var now = new Date(); // å®šç¾©æ—¥æœŸæ ¼å¼  var formattedDate = Utilities.formatDate(now, Session.getScriptTimeZone(), \u0026#34;yyyy MM dd HH:mm:ss\u0026#34;); // åœ¨ A1 å–®å…ƒæ ¼ä¸­è¨­ç½®æ ¼å¼åŒ–å¾Œçš„æ—¥æœŸ  sheet.getRange(\u0026#34;A1\u0026#34;).setValue(formattedDate); }   çµåˆLine Notify æ¯åˆ†é˜è·Ÿæˆ‘èªªç¾åœ¨å¹¾æ™‚å¹¾åˆ† é¦–å…ˆåˆ°\nhttps://notify-bot.line.me/zh_TW/\nç¶²ç«™ç”³è«‹ä¸€å€‹å€‹äººToken\nç„¶å¾Œæœƒçµ¦ä½ ä¸€å€‹Tokenï¼Œè¤‡è£½ä¸‹ä¾†\næŠŠä»¥ä¸‹çš„Codeè²¼åˆ°ä½ çš„ç¨‹å¼ä¸­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  function myFunction() { // ç™¼é€æ¶ˆæ¯  sendLineNotify(new Date()) } function sendLineNotify(message){ var token =\u0026#34;abcdefghijklmnopqrstuvwxyz\u0026#34; var options = { \u0026#34;method\u0026#34; : \u0026#34;post\u0026#34;, \u0026#34;payload\u0026#34; : {\u0026#34;message\u0026#34; : message}, \u0026#34;headers\u0026#34; : {\u0026#34;Authorization\u0026#34; : \u0026#34;Bearer \u0026#34; + token} }; UrlFetchApp.fetch(\u0026#34;https://notify-api.line.me/api/notify\u0026#34;, options); }   æ¥è‘—æŒ‰åŸ·è¡Œï¼Œå°±æœƒç™¼é€šçŸ¥çµ¦ä½ å›‰^_^ æœ‰æ²’æœ‰å¾ˆç°¡å–®å‘€\n","date":"2024-05-22T23:49:06+08:00","image":"https://i.imgur.com/V6lmUtX.png","permalink":"https://hoxtoncraft.com/p/%E7%82%BA%E4%BA%86%E7%A7%9F%E6%88%BF%E5%AD%90%E8%80%8C%E5%AD%B8%E7%9A%84gasgoogle-apps-script/","title":"ç‚ºäº†ç§Ÿæˆ¿å­è€Œå­¸çš„GAS(Google Apps Script)"},{"content":"Amazon Web Server ä»‹ç´¹ Amazon EC2 æ¶ä¼ºæœå™¨çš„ï¼Œå‹•æ…‹æ“´å……çš„VPS\nAmazon RDS æ”¾è³‡æ–™åº«çš„\nAmazon S3 CDNçš„åŠŸèƒ½ï¼Œå¯ä»¥æ”¾åœ–ç‰‡ç­‰ç­‰çš„éœæ…‹è³‡æº\nIAM Identify And Access Management, Global Service\nRoot Accountæ˜¯ä½ å‰µè¾¦å¸³æˆ¶æ™‚å°±å‰µå»ºï¼Œè€ŒUserså‰‡æ˜¯é€™å€‹çµ„ç¹”æˆ–æ˜¯ç¾¤çµ„è£¡é¢çš„ç”¨æˆ¶\nIMA åœ¨é€²è¡ŒIMAçš„è¨­å®šæ™‚ï¼Œå³ä¸Šè§’çš„å€åŸŸæœƒè¢«é–å®šæˆã€ŒGlobalã€ï¼Œå› ç‚ºIAMçš„è¨­å®šæ˜¯å…¨å±€ç”Ÿæ•ˆçš„\né€²è¡Œç·´ç¿’æ™‚ï¼Œé¦–å…ˆå…ˆå‰µç«‹ä¸€å€‹Userï¼Œå› ç‚ºæˆ‘å€‘æ‰€å‰µå»ºçš„Awså¸³è™Ÿéƒ½æ˜¯Root User\nå‰µå»ºä½¿ç”¨è€…\næŒ‡å®šä½¿ç”¨è€…çš„é¡å‹ï¼Œå¯†ç¢¼å‹æ…‹\nå‰µå»ºå¥½ä¹‹å¾Œï¼Œå¯ä»¥ä½¿ç”¨é€™é‚Šçš„Urlç™»å…¥Account Idåœ¨é€™é‚ŠæŸ¥çœ‹\nç™»å…¥ç•«é¢\nå‰µå»ºç¾¤çµ„ï¼Œå‰µå»ºå®Œä¹‹å¾Œè¨˜å¾—è¦å‹¾å–”ï¼Œæˆ‘é€™é‚Šå¿˜äº†æˆªåœ–ã€‚å‰µå»ºå®Œã€åŠ å®Œå¾Œï¼Œé€™å€‹ç¾¤çµ„çš„Userå°±æœ‰Adminçš„æ¬Šé™äº†\nIMA Policy ä½¿ç”¨JSONä¾†åšUserçš„Groupçš„è¨­å®šï¼Œå®šç¾©äº†å„ç¨®Permissionsï¼Œç¯„ä¾‹å¦‚ä¸‹\n Version: Policy Languageçš„ç‰ˆæœ¬ï¼Œé€šå¸¸éƒ½æ˜¯2012-10-12 Idï¼šä¸€å€‹è­˜åˆ¥ç¢¼ï¼Œå¯å¡«å¯ä¸å¡« Statementï¼šå¿…å¡«çš„ï¼Œå¯ä»¥æ˜¯ä¸€å€‹æˆ–æ˜¯å¤šå€‹ Sidï¼šæ¯å€‹Statementçš„Idï¼Œé¸å¡«çš„ Effectï¼šAllow æˆ–æ˜¯ Deny Principal: é€™å€‹å¸³æˆ¶éµå¾ªçš„æ˜¯å“ªå€‹policy Actionï¼šEffectæ‰€Allowæˆ–Denyçš„ Resourceï¼šActionæ‰€ä½¿ç”¨çš„resouces Conditionï¼šEffectç”Ÿæ•ˆçš„æ¢ä»¶ é¸å¡«  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  { \u0026#34;Version\u0026#34;:\u0026#34;2012-10-17\u0026#34;, \u0026#34;Id\u0026#34;:\u0026#34;S3-Account-Permissions\u0026#34; \u0026#34;Statement\u0026#34;:[ { \u0026#34;Sid\u0026#34;:\u0026#34;1\u0026#34;, \u0026#34;Effect\u0026#34;:\u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;:{ \u0026#34;AWS\u0026#34;:[\u0026#34;arn:aws:iam:123456789012:root\u0026#34;] }, \u0026#34;Action\u0026#34;:\u0026#34;ec2:Describe*\u0026#34;, \u0026#34;Resource\u0026#34;:\u0026#34;*\u0026#34; },{ \u0026#34;Effect\u0026#34;:\u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;:\u0026#34;elasticloadbalncing:Describe*\u0026#34;, \u0026#34;Resouce\u0026#34;:\u0026#34;*\u0026#34; }.{ \u0026#34;Effect\u0026#34;:\u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;:[ \u0026#34;cloudwatch:ListMetrics\u0026#34;, \u0026#34;coludwatch:GetMetricStatistics\u0026#34;, \u0026#34;cloudwatch:Describe*\u0026#34; ], \u0026#34;Resouce\u0026#34;:\u0026#34;*\u0026#34; } ] }   Policyçš„è©³ç´°è¨­å®š å¯ä»¥é»æ“Šå³é‚Šçš„PoliciesæŸ¥çœ‹\né»æ“Šå³é‚Šçš„Jsonå°±æœƒé¡¯ç¤ºå‡ºä»–çš„Jsoné•·ä»€éº¼æ¨£å­\n1 2 3 4 5 6 7 8 9 10  { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] }   Jsonèˆ‡Actionçš„å°æ‡‰ï¼Œå¯ä»¥ä½¿ç”¨WildCardä¾†åŒ¹é…\nç•¶ç„¶ä½ ä¹Ÿæ˜¯å¯ä»¥è‡ªå·±Customeè‡ªå·±çš„Policeå•¦\nAws Command Line Interface å®‰è£ åˆ°å®˜ç¶²ä¸‹è¼‰å°æ‡‰çš„ç‰ˆæœ¬\nhttps://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html å®‰è£å¥½å¾Œåœ¨Terminalä¸­è¼¸å…¥ï¼Œå°±å¯ä»¥çœ‹åˆ°å°æ‡‰çš„è³‡æ–™äº†\n1  aws --version   å‰µå»ºAccessKey è·Ÿæ‰€æœ‰çš„Access Keyä¸€æ¨£ï¼Œé€™äº›Keyä¹Ÿåªæœƒåœ¨é€™é‚Šé¡¯ç¤ºé€™ä¸€æ¬¡ï¼Œä¹‹å¾Œå°±ä¸æœƒå†é¡¯ç¤ºäº†\nè¼¸å…¥ä¾†è¨­å®š\n1  aws configure   åˆ—å‡ºIAM User List 1  aws   Cloud Shell å…¶å¯¦å°±æ˜¯ä¸€å€‹é›²ç«¯Termianlï¼Œè·ŸDigital Oceançš„é‚£å€‹å·®ä¸å¤š\nIAM Role æœ‰äº› AWS æœå‹™éœ€è¦ä»£è¡¨ä½ åŸ·è¡Œæ“ä½œï¼Œç‚ºæ­¤ï¼Œæˆ‘å€‘å°‡ä½¿ç”¨ IAM è§’è‰²åˆ†é…æ¬Šé™çµ¦ AWS æœå‹™\nSome AWS service will need to perform actions on your behalf. To do so, you assign permissions to AWS services with IAM Roles.\nå®Œæˆï¼\nç‚ºAwsè¨­ç½®å¸³å–®æé†’ è¨˜å¾—å…ˆç”¨Rootå¸³è™Ÿï¼ŒæŠŠIAM user and role access to Billing Information\né¸æ“‡Billing And Cost Management\nå°±èƒ½çœ‹åˆ°é€™æ¨£çš„ç•«é¢\né¸æ“‡Bill å¯ä»¥çœ‹åˆ°ç›®å‰çš„å¸³å–®ç‹€æ³\nåœ¨æœ€ä¸‹é¢æœ‰å€‹charge By serviceï¼Œå¯ä»¥æŸ¥çœ‹å“ªäº›æœå‹™å„è‡ªèŠ±äº†ä»€éº¼å…§å®¹\nå¯¦éš›é€²å…¥å¸³å–®è­¦å‘Š(Alert)çš„éƒ¨åˆ†å‰‡æ˜¯å¾é€™é‚Š\né¸æ“‡å³é‚Šæ©˜è‰²çš„ceate a budget\né¸æ“‡Zero Spend Budgetï¼Œé€™æ¨£å¦‚æœåªè¦æœ‰è¢«æ”¶åˆ°è²»ï¼Œå°±æœƒç«‹åˆ»å¯„ä¿¡çµ¦æˆ‘å€‘ï¼Œè¦æˆ‘å€‘è™•ç†\né‚„æœ‰é€™ç¨®å¦‚æœæœˆå¸³å–®è¶…é10å¡Šï¼Œå°±ç™¼é€šçŸ¥çµ¦æˆ‘å€‘çš„\nEC2(Elastic Compute Cloud) å½ˆæ€§é›²ç«¯é‹ç®— æ˜¯å€‹IAAS(Infrastructure as a Service)\nEC2æœ‰ä»€éº¼åŠŸèƒ½å‘¢\n ç§Ÿç”¨è™›æ“¬æ©ŸElastic Compute Cloud(EC2) å„²å­˜è³‡æ–™ Elastic Block Store(EBS) è² è¼‰å‡è¡¡Elastic Load Balance(ELB) Scaling the service using an Auto-Scaling Group(ASG)  ä¸€äº›EC2çš„é¡å‹ï¼Œç•¶ç„¶ä¸åªæœ‰ä»¥ä¸‹é€™äº”ç¨®ï¼Œé‚„æœ‰å¾ˆå¤šï¼Œåªæ˜¯åˆ—å‡ºäº”ç¨®ä½œåƒè€ƒ\nå‰µå»ºEC2 é¸æ“‡å‰µå»ºKey Pair\né‚„æœ‰ç¶²è·¯çš„éƒ¨åˆ†ï¼Œè¦æŠŠä¸‹é¢çš„Allow Http traffic from the Internetï¼Œé€™æ¨£æ‰å¯ä»¥éƒ¨å±¬Webæœå‹™\næ¥ä¸‹ä¾†æ‹‰åˆ°æœ€åº•ä¸‹ï¼Œæœ‰å€‹User Dataï¼Œä½†æˆ‘è¦ºå¾—å‘½åçš„ä¸æ˜¯å¾ˆå¥½ï¼Œé€™é‚Šå…¶å¯¦å°±æ˜¯æŒ‡å®šEC2åˆæ¬¡å•Ÿå‹•æ™‚çš„åŸ·è¡Œè…³æœ¬æ˜¯ä»€éº¼ï¼Œæˆ‘å€‘å¯ä»¥è¤‡è£½ä»¥ä¸‹çš„å…§å®¹åˆ°EC2ç•¶ä¸­\n1 2 3 4 5 6 7 8  #!/bin/bash # Use this for your user data (script from top to bottom) # install httpd (Linux 2 version) yum update -y yum install -y httpd systemctl start httpd systemctl enable httpd echo \u0026#34;\u0026lt;h1\u0026gt;Hello World from $(hostname -f)\u0026lt;/h1\u0026gt;\u0026#34; \u0026gt; /var/www/html/index.html   é¸å¥½äº†ä¹‹å¾Œå°±å¯ä»¥æŒ‰å‰µå»ºäº†ï¼Œå‰µå»ºå®Œä¹‹å¾Œé»é¸æˆ‘å€‘å‰›å‰›å‰µå»ºçš„instanceï¼Œå°±å¯ä»¥çœ‹åˆ°è©³ç´°çš„å…§å®¹\né–‹å•Ÿçš„Portï¼Œä¸€äº›securityçš„å…§å®¹\nä½ ä¹Ÿå¯ä»¥é€šéè¨ªå•ä½ å‰µå»ºçš„Public Ip ä¾†çœ‹åˆ°ä½ å‰›å‰›User Data çš„å…§å®¹\nä¸ƒç¨®ä¸åŒçš„EC2 Instance https://aws.amazon.com/tw/ec2/instance-types/\nInstanceçš„å‘½åé‚è¼¯  m5.2xlarge\n m: instance class\n5: generation ä¸–ä»£\n2xlarge: size within the instance class ï¼Œé€šå¸¸ä»£è¡¨äº†å¤šå¤§çš„è¨˜æ†¶é«”ã€ç¡¬ç¢Ÿç©ºé–“ã€CPU\n  General Purpose\né€šå¸¸ç”¨ä¾†åšWeb Serveræˆ–æ˜¯Code Repository\n  Compute Optimized\nè³‡æ–™è™•ç†ã€é«˜è¨ˆç®—ã€æ©Ÿå™¨å­¸ç¿’ã€éŠæˆ²ä¼ºæœå™¨çš„Instance\n  Memory Optimized\nå¯ä»¥å¾ˆå¿«åœ°æŠŠæ±è¥¿æ”¾åˆ°Memoryä¸­ï¼Œé©åˆç”¨ä¾†ä½œç‚ºè³‡æ–™åº«å„²å­˜çš„Instanceï¼Œæˆ–æ˜¯æ”¾ä¸€äº›å°Real-Timeå³æ™‚æ€§è¼ƒé«˜çš„è³‡æ–™\n  Storage Optimzed\nå°æ–¼é«˜è®€å¯«å¾ˆæœ‰ä¸€å¥—ï¼Œé©åˆç”¨åœ¨é«˜é »äº¤æ˜“(OLTP)ç³»çµ±ã€é—œè¯ã€éé—œè¯å¼è³‡æ–™åº«\n  Security Groups ä¸€å€‹é¡ä¼¼é˜²ç«ç‰†çš„æ±è¥¿ï¼ŒæŠŠEC2 ç¹èµ·ä¾†\nç›¸åŒSecurity Groupçš„Instanceå¯ä»¥ç›¸äº’é€šè¨Š\næ‰€è¬‚çš„Inbound Rulesè·ŸOutbound ruleså°±æ˜¯å‚³å…¥è¦å‰‡èˆ‡å‚³å‡ºè¦å‰‡\nå¯ä»¥æŒ‰å³ä¸Šè§’çš„Edit Inbound Rules ç·¨è¼¯ä¸€ä¸‹è¦å‰‡ï¼Œå‘æˆ‘é€™é‚Šå°±æŠŠHttpçš„è¦å‰‡åŠ é€²ä¾†\nå¸¸è¦‹çš„Port  22: SSHé€£ç·š 21: FTPé€£ç·š 22ï¼šé€éSSHä¾†ä½¿ç”¨FTPä¸Šå‚³æª”æ¡ˆ 80ï¼šHTTP 443ï¼šHTTPS 3389ï¼šRDP ç™»å…¥Windows Instance  å¦‚ä½•SSHé€²å»æˆ‘çš„EC2 Instance é¦–å…ˆé›»è…¦è£¡é¢è¦æœ‰ä½ RSDçš„å¯†é‘°æª”ï¼Œä¸¦ç¢ºä¿ä½ çš„Securityå…è¨±SSHé€£ç·š\nç„¶å¾Œçµåˆä½ çš„Public Ip\nèªæ³• ec2-useræ˜¯å‰µå»ºinstanceæ™‚å°±æœƒå¹«æˆ‘å€‘å‰µå»ºçš„ä¸€å€‹user\n1  ssh -i Aws-2024-05-11.pem ec2-user@43.206.215.70   é€™æ¨£å°±è¡Œå›‰ï¼Œå¦‚æœä¸è¡Œçš„è©±å¯èƒ½è¦ç”¨chmodèª¿ä¸€ä¸‹æ¬Šé™\nEBS EBS Volume é¡ä¼¼è³‡æ–™åº«çš„æ±è¥¿ï¼Œå¯ä»¥å„²å­˜è³‡æ–™çš„æ±è¥¿\nåƒè€ƒç¶²å€ ã€Udemyä»˜è´¹è¯¾ç¨‹ã€‘Ultimate AWS Certified Solutions Architect Associate AWSè®¤è¯è¯¾ç¨‹\nã€AWSã€‘äº‘è®¡ç®—è¯¾ç¨‹å…¨é›†ï¼ˆæ›´æ–°ä¸­\n[AWS][æ•™å­¸] AWSåŸºæœ¬ä½¿ç”¨#01. AWSå…è²»æ–¹æ¡ˆä»‹ç´¹\n","date":"2024-05-11T14:25:03+08:00","image":"https://i.imgur.com/lluhyyC.png","permalink":"https://hoxtoncraft.com/p/aws%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"AWSå­¸ç¿’ç­†è¨˜"},{"content":"å®‰è£ Mac Homebrew 1  brew install nginx   å•Ÿå‹•èˆ‡åœæ­¢ å•Ÿå‹• 1  brew services start nginx   æˆ–\n1  ngnix   æˆåŠŸå¾Œè¨ªå•\nhttp://localhost:8080/\nå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•«é¢\nå¯ä»¥è¼¸å…¥\n1  ps -ef |grep nginx   1 2 3 4 5 6 7  ps -ef | grep nginx æ˜¯ä¸€ä¸ªç”¨äºåœ¨ macOS æˆ–ç±» Unix ç³»ç»Ÿä¸­æŸ¥æ‰¾æ­£åœ¨è¿è¡Œçš„ nginx è¿›ç¨‹çš„å‘½ä»¤ã€‚å®ƒçš„ä½œç”¨å¦‚ä¸‹ï¼š ps: è¿™ä¸ªå‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰è¿è¡Œçš„è¿›ç¨‹åˆ—è¡¨ã€‚ -ef: è¿™æ˜¯ ps å‘½ä»¤çš„é€‰é¡¹ï¼Œå…¶ä¸­ -e ç”¨äºæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼Œ-f ç”¨äºæ˜¾ç¤ºå…¨é¢çš„è¿›ç¨‹ä¿¡æ¯ã€‚ |: è¿™æ˜¯ç®¡é“ç¬¦ï¼Œå®ƒå°† ps -ef å‘½ä»¤çš„è¾“å‡ºå‘é€åˆ°ä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ grep nginx: è¿™ä¸ªå‘½ä»¤ç”¨äºè¿‡æ»¤åŒ…å«å…³é”®å­— \u0026#34;nginx\u0026#34; çš„è¡Œï¼Œåªæ˜¾ç¤ºä¸ nginx ç›¸å…³çš„è¿›ç¨‹ã€‚ å› æ­¤ï¼Œps -ef | grep nginx çš„ä½œç”¨æ˜¯æ˜¾ç¤ºæ‰€æœ‰åŒ…å« \u0026#34;nginx\u0026#34; å…³é”®å­—çš„è¿›ç¨‹ï¼Œå¸®åŠ©ä½ æ‰¾å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„ nginx è¿›ç¨‹ã€‚   çœ‹åˆ°nginxçš„åŸ·è¡Œç‹€æ³\nåœæ­¢ 1  nginx -s signal   å„ªé›…åœæ­¢ 1  nginx -s quit   ç«‹åˆ»åœæ­¢ 1  nginx -s stop   é‡è¼‰é…ç½®æ–‡ä»¶ 1  nginx -s reload   é‡æ–°æ‰“é–‹æ—¥èªŒæ–‡ä»¶ 1  nginx -s reopen   Ngnixä»‹ç´¹ åšè² è¼‰å‡è¡¡ã€åå‘ä»£ç†ã€è™›æ“¬ä¸»æ©Ÿçš„ä¸€å€‹ä¸­é–“ä»¶\nå¯ä»¥è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹é€²ç¨‹\n1  ps -ef |grep nginx   1 2 3 4 5 6 7  ps -ef | grep nginx æ˜¯ä¸€ä¸ªç”¨äºåœ¨ macOS æˆ–ç±» Unix ç³»ç»Ÿä¸­æŸ¥æ‰¾æ­£åœ¨è¿è¡Œçš„ nginx è¿›ç¨‹çš„å‘½ä»¤ã€‚å®ƒçš„ä½œç”¨å¦‚ä¸‹ï¼š ps: è¿™ä¸ªå‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰è¿è¡Œçš„è¿›ç¨‹åˆ—è¡¨ã€‚ -ef: è¿™æ˜¯ ps å‘½ä»¤çš„é€‰é¡¹ï¼Œå…¶ä¸­ -e ç”¨äºæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼Œ-f ç”¨äºæ˜¾ç¤ºå…¨é¢çš„è¿›ç¨‹ä¿¡æ¯ã€‚ |: è¿™æ˜¯ç®¡é“ç¬¦ï¼Œå®ƒå°† ps -ef å‘½ä»¤çš„è¾“å‡ºå‘é€åˆ°ä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚ grep nginx: è¿™ä¸ªå‘½ä»¤ç”¨äºè¿‡æ»¤åŒ…å«å…³é”®å­— \u0026#34;nginx\u0026#34; çš„è¡Œï¼Œåªæ˜¾ç¤ºä¸ nginx ç›¸å…³çš„è¿›ç¨‹ã€‚ å› æ­¤ï¼Œps -ef | grep nginx çš„ä½œç”¨æ˜¯æ˜¾ç¤ºæ‰€æœ‰åŒ…å« \u0026#34;nginx\u0026#34; å…³é”®å­—çš„è¿›ç¨‹ï¼Œå¸®åŠ©ä½ æ‰¾å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„ nginx è¿›ç¨‹ã€‚   Master Process \u0026amp; Worker Process Master è² è²¬è®€å–ä»¥åŠé©—è­‰æ–‡ä»¶ã€ç®¡ç†woker processï¼Œåªæœ‰ä¸€å€‹\nWorker è² è²¬è™•ç†å¯¦éš›è«‹æ±‚ï¼Œå¯ä»¥æœ‰å¾ˆå¤šå€‹\nå¦‚ä½•æ›´æ”¹Ngnixçš„å•Ÿå‹•ç•«é¢ï¼Œé…ç½®index.htmlç­‰éœæ…‹è³‡æº è¼¸å…¥ï¼Œæ‰¾åˆ°é…ç½®æª”çš„ä½ç½®\n1  nigix -t   æ¥è‘—è¼¸å…¥æ‰“é–‹ç·¨è¼¯\n1  code /opt/homebrew/etc/nginx/nginx.conf   é€™é‚Šå°±æ˜¯æª”æ¡ˆé…ç½®çš„ä½ç½®\n![image-20240510151026498](/Users/hoxtonashes/Library/Application Support/typora-user-images/image-20240510151026498.png)\næ¥è‘—æ‰¾çœ‹çœ‹Nginxçš„å®‰è£ç›®éŒ„\n1  cd /opt/homebrew/Cellar/nginx/1.25.5   ä¿®æ”¹é€™å€‹æª”æ¡ˆ\n1  code /opt/homebrew/Cellar/nginx/1.25.5/html/index.html   å°±å¯ä»¥äº†ï¼Œå¦‚æœè¦ä½ˆç½®è‡ªå·±çš„ç¶²é ä¹Ÿæ˜¯æ”¾åˆ°ä¸€å€‹çš„ç›®éŒ„åº•ä¸‹å³å¯\nèª¿æ•´Workeræ•¸é‡ 1  code /opt/homebrew/etc/nginx/nginx.conf   é‡æ–°åŠ è¼‰\n1  nginx -s reload   1  ps -ef |grep nginx   Worker æ•¸é‡è·Ÿcpu æ ¸å¿ƒæ•¸é‡ä¸€è‡´æœƒæ¯”è¼ƒå¥½ï¼Œæˆ–æ˜¯è¨­ç½®æˆauto\nNginxé…ç½®æ–‡ä»¶ä»‹ç´¹ https://www.bilibili.com/video/BV1mz4y1n7PQ?p=5\u0026amp;spm_id_from=pageDriver\u0026amp;vd_source=422eafa6570139128e44a83238959fa0\nåº•ä¸‹çš„æ¯å€‹Serverå¡Šå°±æ˜¯ä¸€å€‹è™›æ“¬ä¸»æ©Ÿ\næˆ‘å€‘å¯ä»¥å…ˆå°‡æ•´å€‹é…ç½®æ–‡ä»¶æ¸…ç©ºï¼Œå¾é ­å¯«ä¸€éé…ç½®æ–‡ä»¶ä¾†å­¸ç¿’\næ­¤æ™‚æƒ³å•Ÿå‹•ä¹Ÿå•Ÿå‹•ä¸äº†ï¼Œæœƒè·Ÿæˆ‘å€‘èªªå°‘äº†eventå€å¡Š\nè£œä¸Šå¾Œå°±å¯ä»¥æˆåŠŸå•Ÿå‹•\n1 2 3  events{ }   ä½†å•Ÿå‹•å¾Œæœƒç™¼ç¾ï¼Œæˆ‘å€‘çš„nginxæ²’æœ‰ç›£è½ä»»ä½•portè™Ÿ\nå› æ­¤æˆ‘å€‘éœ€è¦å†é…ç½®http æ¨¡å¡Š\n1 2 3 4 5 6 7 8 9  events{} http{ # å®šç¾©çš„æ˜¯è™›æ“¬æœå‹™å™¨ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šserver server { listen 8087; server_name localhost; } }   æ­¤æ™‚å¦‚æœæˆ‘å€‘æœ‰åœ¨html/è³‡æ–™å¤¾åº•ä¸‹é…ç½®index.html å°±æœƒé¡¯ç¤ºé‚£å€‹htmlçš„å…§å®¹ï¼Œå¦‚æœæ²’æœ‰å°±ä¸é¡¯ç¤ºï¼Œé¡¯ç¤º403é€™æ¨£\nä¹Ÿå¯ä»¥é…ç½®å¯«æ­»çš„è¿”å›å€¼ 8089\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  events{} http{ # å®šç¾©çš„æ˜¯è™›æ“¬æœå‹™å™¨ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šserver server { listen 8087; server_name localhost; } server { listen 8089; server_name localhost; return 200 \u0026#34;Hoxton Hello\u0026#34;; } }   é…ç½®é‡å®šå‘ å¯ä»¥ç”¨\n1 2 3 4 5 6 7  server { listen 8087; server_name localhost; location /temp{ return 307 index.html; } }   çš„æ–¹å¼\næˆ–æ˜¯ç”¨rewrite\n1 2 3 4 5  server { listen 8087; server_name localhost; rewrite /temp index.html }   ä½•è¬‚æ­£å‘ä»£ç†ï¼Œä½•è¬‚åå‘ä»£ç† æ­£å‘ä»£ç† æ­£å‘ä»£ç†å°±æ˜¯é¡ä¼¼VPNï¼Œé€éä¸€å€‹ä»£ç†ç¯€é»å»å¹«æˆ‘è¨ªå•ç¶²ç«™ï¼Œä¾‹å¦‚ä¸­åœ‹çš„ç¿»ç‰†\nåå‘ä»£ç† å°å¤–æŒ‡æš´éœ²ä¸€å€‹ç«¯å£ï¼Œä½†èƒŒå¾Œå¯èƒ½æœ‰å¥½å¹¾å€‹ç«¯å£ï¼Œä»£ç†çš„æ˜¯æœå‹™ç«¯\nä½¿ç”¨Javaä¾†é…ç½®ç¶²å€ï¼Œç†è§£åå‘ä»£ç† å…ˆé…ç½®3å€‹ä¸åŒçš„port (8081,8082,8083)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  package org.hoxton; import com.sun.net.httpserver.HttpExchange; import com.sun.net.httpserver.HttpHandler; import com.sun.net.httpserver.HttpServer; import java.io.IOException; import java.io.OutputStream; public class Main { public static void main(String[] args) throws Exception { int port = 8081; HttpServer server = HttpServer.create(new java.net.InetSocketAddress(port), 0); server.createContext(\u0026#34;/\u0026#34;, new MyHandler()); server.setExecutor(null); // ä½¿ç”¨é»˜è®¤çš„æ‰§è¡Œå™¨  server.start(); System.out.println(\u0026#34;Server is listening on port \u0026#34; + port); } static class MyHandler implements HttpHandler { @Override public void handle(HttpExchange exchange) throws IOException { String response = \u0026#34;Hello, World!\u0026#34;; exchange.sendResponseHeaders(200, response.getBytes().length); OutputStream os = exchange.getResponseBody(); os.write(response.getBytes()); os.close(); } } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  package org.hoxton; import com.sun.net.httpserver.HttpExchange; import com.sun.net.httpserver.HttpHandler; import com.sun.net.httpserver.HttpServer; import java.io.IOException; import java.io.OutputStream; public class Main2 { public static void main(String[] args) throws Exception { int port = 8082; HttpServer server = HttpServer.create(new java.net.InetSocketAddress(port), 0); server.createContext(\u0026#34;/\u0026#34;, new MyHandler()); server.setExecutor(null); // ä½¿ç”¨é»˜è®¤çš„æ‰§è¡Œå™¨  server.start(); System.out.println(\u0026#34;Server is listening on port \u0026#34; + port); } static class MyHandler implements HttpHandler { @Override public void handle(HttpExchange exchange) throws IOException { String response = \u0026#34;Hello, World!\u0026#34;; exchange.sendResponseHeaders(200, response.getBytes().length); OutputStream os = exchange.getResponseBody(); os.write(response.getBytes()); os.close(); } } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  package org.hoxton; import com.sun.net.httpserver.HttpExchange; import com.sun.net.httpserver.HttpHandler; import com.sun.net.httpserver.HttpServer; import java.io.IOException; import java.io.OutputStream; public class Main3 { public static void main(String[] args) throws Exception { int port = 8083; HttpServer server = HttpServer.create(new java.net.InetSocketAddress(port), 0); server.createContext(\u0026#34;/\u0026#34;, new MyHandler()); server.setExecutor(null); // ä½¿ç”¨é»˜è®¤çš„æ‰§è¡Œå™¨  server.start(); System.out.println(\u0026#34;Server is listening on port \u0026#34; + port); } static class MyHandler implements HttpHandler { @Override public void handle(HttpExchange exchange) throws IOException { String response = \u0026#34;Hello, World!\u0026#34;; exchange.sendResponseHeaders(200, response.getBytes().length); OutputStream os = exchange.getResponseBody(); os.write(response.getBytes()); os.close(); } } }   ä¿®æ”¹é…ç½®æª”æ¡ˆï¼Œé…ç½®å¦‚ä¸‹ï¼ŒæŠŠ8081 8082 8083 è¨­ç½®ä¸€ä¸‹ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œè¨ªå•\nhttp://localhost:8080/app\næ™‚ï¼Œå°±æœƒä»£ç†åˆ°é€™ä¸‰å€‹portè™Ÿ(é è¨­æ˜¯è¼ªè©¢)ï¼Œè¦‹ä¸‹æ–¹Gif\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#34;$request\u0026#34; \u0026#39; # \u0026#39;$status $body_bytes_sent \u0026#34;$http_referer\u0026#34; \u0026#39; # \u0026#39;\u0026#34;$http_user_agent\u0026#34; \u0026#34;$http_x_forwarded_for\u0026#34;\u0026#39;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; upstream backend_hoxton{ server 127.0.0.1:8081; server 127.0.0.1:8082; server 127.0.0.1:8083; } #gzip on; server { listen 8080; server_name localhost; } }   ä¹Ÿå¯ä»¥è¨­ç½®æ¬Šé‡(weight) ä¾†èª¿æ•´\n1 2 3 4 5  upstream backend_hoxton{ server 127.0.0.1:8081 weight =3; server 127.0.0.1:8082; server 127.0.0.1:8083; }   ä¹Ÿå¯ä»¥ä½¿ç”¨ip_hashï¼Œé€™æ¨£ç›¸åŒçš„è«‹æ±‚å°±æœƒè¢«è½‰åˆ°ä¸€æ¨£çš„portè™Ÿäº†ï¼Œé€™å‹•ä½œä¹Ÿå°±æ˜¯è®“nginxæŠŠæµé‡å°åˆ°æŒ‡å®šçš„æœå‹™é›†ç¾¤\n1 2 3 4 5 6  upstream backend_hoxton{ ip_hash; server 127.0.0.1:8081 weight =3; server 127.0.0.1:8082; server 127.0.0.1:8083; }   é…ç½®Pathè¦æ³¨æ„çš„å…§å®¹ï¼Œé¿å…ä¸ç•¶è¨ªå• ä½†é€™å€‹æ–¹æ³•éå¸¸ä¸å®‰å…¨ï¼ç­‰æ–¼èªªæˆ‘å€‘å¯ä»¥è®“ç”¨æˆ¶ç”¨é€™æ¨£çš„æ–¹å¼è¨ªå•æˆ‘å€‘æœå‹™å™¨çš„å…§å®¹ã€‚\næ¯”å¦‚èªªæˆ‘å€‘å¯èƒ½åªæƒ³æš´éœ²http://localhost:8080/app/index.htmlé€™å€‹æ–‡ä»¶ï¼Œä½†å¦‚æœå¯«æˆ\n1 2 3  location /appï½› proxy_pass http://backend_ hoxton ï½   ç”¨æˆ¶å¯ä»¥è¨ªå•\nhttp://localhost:8080/apple/index.html\nhttp://localhost:8080/app/screctKey\nç­‰ç­‰çš„å…§å®¹ï¼Œæ‰€ä»¥æˆ‘å€‘æœ€å¥½ç”¨å…¨é™å®šçš„æ–¹å¼ï¼Œé™å®šè¨ªå•çš„è³‡æºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£å‰‡è¡¨é”å¼ä¾†é™å®šï¼Œé€™é‚Šé‚„æœ‰å¾ˆå¤šçš„å…§å®¹ï¼Œæ¯”å¦‚èªªå‰ç¶´é…å°é‚„æœ‰ä»€éº¼æ±è¥¿ä¹‹é¡çš„ï¼Œå°±ä¸å±•é–‹äº†ã€‚\n1 2 3  location /appï½› proxy_pass http://backend_ hoxton ï½   è™›æ“¬ä¸»æ©Ÿ ç›®çš„æ˜¯åœ¨ä¸€å°ä¸»æ©Ÿä¸Šé¢é…ç½®å¤šå€‹ç«™é»ï¼Œ\nå¸¸ç”¨å‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬ 1  nginx -v\t  æŸ¥çœ‹é‹è¡Œç‹€æ…‹ 1  service nginx status   æŸ¥çœ‹Nginxé…ç½® 1  nginx -V   æŸ¥çœ‹Nginxé…ç½®æ–‡ä»¶ 1  nigix -t   åƒè€ƒç¶²å€ https://www.bilibili.com/video/BV1mz4y1n7PQ?p=3\u0026amp;vd_source=422eafa6570139128e44a83238959fa0\nhttps://www.bilibili.com/video/BV1TZ421b7SD/?spm_id_from=333.337.search-card.all.click\u0026amp;vd_source=422eafa6570139128e44a83238959fa0\n","date":"2024-05-08T17:43:33+08:00","image":"https://i.imgur.com/h4PsSxV.jpeg","permalink":"https://hoxtoncraft.com/p/nginx/","title":"Nginx"},{"content":"â€‹\nå»¶çºŒä¸Šä¸€ç¯‡\næœ¬æ–‡æœƒç”¨åˆ°çš„é€£çµ\nHow to Integrate Elastic Search With Spring Boot CRUD Project| Spring Boot | Elasticsearch| EnggAdda\né€™æ±è¥¿çš„å‘çœŸçš„å¾ˆå¤š\nspringBoot Elastic Search é‚„æœ‰ç›¸é—œçš„å¥—ä»¶ç‰ˆæœ¬å¿…é ˆä¸€è‡´\nç‰ˆæœ¬è¨­ç½®èˆ‡Maven Elastic Search \u0026amp; Kibana ç‰ˆæœ¬ æˆ‘å€‹äººä½¿ç”¨çš„è¨­ç½®å¦‚ä¸‹\nElastic Search: 8.13.2\nKibana:8.13.2\nMaven 1 2 3 4 5 6 7 8 9 10 11  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.elasticsearch.client\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;elasticsearch-rest-high-level-client\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;7.4.0\u0026lt;/version\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;artifactId\u0026gt;log4j-api\u0026lt;/artifactId\u0026gt; \u0026lt;groupId\u0026gt;org.apache.logging.log4j\u0026lt;/groupId\u0026gt; \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; \u0026lt;/dependency\u0026gt;   SprignBootç‰ˆæœ¬ SpringBoot:3.2.5\nSpringBootèˆ‡Elasticé€£ç·šè¨­å®š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  import org.apache.http.HttpHost; import org.elasticsearch.client.RestClient; import org.elasticsearch.client.RestHighLevelClient; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration public class ElasticSearchConfig { private String host =\u0026#34;localhost\u0026#34;; private Integer port=9200; /** * å¦‚æœ@Beanæ²¡æœ‰æŒ‡å®šbeançš„åç§°ï¼Œé‚£ä¹ˆè¿™ä¸ªbeançš„åç§°å°±æ˜¯æ–¹æ³•å */ @Bean public RestHighLevelClient restHighLevelClient() { return new RestHighLevelClient( RestClient.builder( new HttpHost(host, port, \u0026#34;http\u0026#34;) ) ); } }   åŸºæœ¬æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  import jakarta.annotation.Resource; import lombok.extern.slf4j.Slf4j; import org.elasticsearch.action.search.SearchRequest; import org.elasticsearch.action.search.SearchResponse; import org.elasticsearch.client.RequestOptions; import org.elasticsearch.client.RestHighLevelClient; import org.elasticsearch.index.query.BoolQueryBuilder; import org.elasticsearch.index.query.QueryBuilders; import org.elasticsearch.search.SearchHit; import org.springframework.stereotype.Service; @Service @Slf4j public class ElasticSearchService { @Resource private RestHighLevelClient client; public void test() throws IOException { BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery(); SearchRequest indices = new SearchRequest().indices(\u0026#34;news_headlines\u0026#34;); SearchResponse search = client.search(indices, RequestOptions.DEFAULT); SearchHit[] hits = search.getHits().getHits(); for (SearchHit hit : hits) { log.info(hit.getSourceAsString()); } } }   ","date":"2024-04-29T18:00:50+08:00","image":"https://i.imgur.com/PKZTCYE.png","permalink":"https://hoxtoncraft.com/p/springboot%E6%95%B4%E5%90%88elasticsearch/","title":"SpringBootæ•´åˆElasticSearch"},{"content":"åœ¨æ–°çš„å…¬å¸è£¡é¢ï¼Œå°æ–¼commit é‚„æœ‰åˆ†æ”¯å…¶å¯¦æ˜¯æ²’å•¥è¦ç¯„çš„ï¼Œå¦‚æœæˆ‘è³‡ç­–æœƒå‰›ç•¢æ¥­ï¼Œæ‡‰è©²æœƒè¦ºå¾—é€™å®¶å…¬å¸æ²’æœ‰è¦ç¯„ï¼Œä½†æˆ‘ç¾åœ¨æœƒè¦ºå¾—ä¸è¦ç¯„å¯èƒ½ä¹Ÿæ˜¯å¥½äº‹ï¼Œç•¢ç«Ÿæˆ‘å¯¦éš›å»å·¥ä½œæ™‚ï¼ŒçœŸçš„æœƒå»ç¿»commit çš„æ¬¡æ•¸å°‘ä¹‹åˆå°‘ã€‚\nä½†æ™‚é–“ä¹…äº†ç™¼ç¾é€™æ¨£ä¹Ÿæœ‰äº›å•é¡Œï¼Œæ¯”å¦‚èªªæˆ‘æœƒæœ‰å¾ˆå¤šcommit æ˜¯\n1 2 3 4 5 6 7  log log log log çœ‹çœ‹å•é¡Œ çœ‹çœ‹è®Šæ•¸æ˜¯å•¥ log log   é€™ç¨®åŸºæœ¬ä¸Šæ²’å•¥ç”¨çš„è³‡è¨Šï¼Œæˆ‘çœ‹äº†ä¹Ÿæœƒæœ‰é»ä¸å¥½æ„æ€ï¼Œå†åŠ ä¸Šä¹‹å‰æœ‰åŒäº‹å•æˆ‘é€™æ®µcodeæ”¹äº†ä»€éº¼ï¼Œçµæœæˆ‘åªæœ‰å¯«ä¸€å€‹ã€ŒéŒ¯èª¤ä¿®æ­£ã€å°±commitå‡ºå»äº†ï¼Œç•¶ä¸‹é‚„æ˜¯æœ‰é»é›£å ªçš„ã€‚\nå¾Œä¾†æ›¾ç¶“æœ‰æ®µæ™‚é–“æƒ³è¦èªçœŸæŠŠcommit å…§å®¹å¯«ä¸€ä¸‹ï¼Œä½†æœ‰æ™‚å€™åˆæ²’ä»€éº¼å¥½éˆæ„Ÿï¼Œä¸çŸ¥é“å¯«ä»€éº¼ï¼Œå¿ƒè£¡å°±æƒ³è‘—\nã€ŒChatGPTé€™éº¼å±Œï¼Œæ€éº¼ä¸è®“ä»–ä¾†å¹«æˆ‘å¯« commit ã€\nç„¡ç¨æœ‰å¶ï¼Œç¶²è·¯ä¸Šå°±æœ‰ä¸€ä½å¤§ç¥å¯«äº†å€‹libï¼Œå¯ä»¥ç”¨ä¾†ç”¢ç”Ÿgit commit çš„å…§å®¹\nç”¨ ChatGPT è‡ªå‹•å¹«é–‹ç™¼è€…ç”¢ç”Ÿ Commit Message\nå®‰è£ å®‰è£æ–¹å¼åœ¨GIthubçš„READMEä¸­æœ‰é€£çµ\n1 2  brew tap appleboy/tap brew install codegpt   å®‰è£å¥½å¾Œå¯ä»¥è¼¸å…¥\n1  codegpt version   ä¾†æŸ¥çœ‹ç‰ˆæœ¬\nè¨­å®š Codegpt å®‰è£å®Œå¾Œéœ€è¦è¨­å®šä¸€äº›åƒæ•¸ï¼Œæ¯”å¦‚èªªopenAIçš„tokenï¼Œé€™éƒ¨åˆ†å°±éœ€è¦èŠ±æ–°å°å¹£è³¼è²·ï¼Œæˆ‘æ˜¯è²·5é‚çš„tokenä¾†ç”¨ï¼Œç›®å‰ç”¨äº†å¿«ä¸€å€‹æœˆï¼Œå¤§æ¦‚æ¶ˆè€—0.2é‚è€Œå·²ï¼Œç›¸ç•¶åˆ’ç®—\nhttps://platform.openai.com/settings/organization/general\nè¨­å®šapi key 1 2  codegpt config set openai.provider \u0026#34;openai\u0026#34; codegpt config set openai.api_key \u0026#34;sk-xxxxxxx\u0026#34;   ç„¶å¾Œé‚„æœ‰ä¸€äº›è¨­å®šï¼Œå¯ä»¥åœ¨\n1  vim $HOME/.config/codegpt/.codegpt.yaml   ä¸­è¨­å®šï¼Œæ¯”å¦‚èªª\nè¨­å®šcommit èªè¨€ 1  codegpt config set output.lang \u0026#34;zh-tw\u0026#34;   è¨­å®šgit_diffçš„è¡Œæ•¸ 1  codegpt commit --preview --diff_unified 1   é€™åƒæ•¸æœƒæ±ºå®šcodegptæœƒå¹«ä½ ç”¢ç”Ÿçš„comitè¨Šæ¯çš„æº–ç¢ºåº¦ï¼Œåƒè—è‰²çš„éƒ¨åˆ†å°±æ˜¯æŠ“5è¡Œçš„codeï¼Œæ‰€ä»¥å¯èƒ½æœƒåŒ…æ‹¬ä½ æ²’å¯«çš„å…§å®¹ï¼Œè€Œé¸æ“‡1çš„è©±å°±æ˜¯ç´…è‰²çš„éƒ¨åˆ†ï¼Œæœƒç”¢ç”Ÿè¼ƒç‚ºç²¾æº–çš„commit (åƒç…§before \u0026amp; after)\nä½¿ç”¨ ä½¿ç”¨\n1  codegpt commit   è‡ªå‹•ç”¢ç”Ÿcommitè¨Šæ¯\næˆ–æ˜¯è¼¸å…¥\n1  codegpt commit --preview   ä¾†é è¦½\nç•¶ç„¶ä¹Ÿå¯ä»¥é€égit hookä¾†ä½¿ç”¨\nä½¿ç”¨GitHookä¾†èª¿ç”¨codegpt(ä¸æ¨è–¦) è¼¸å…¥å®‰è£\n1  codegpt hook install   è¼¸å…¥è§£é™¤å®‰è£\n1  codegpt hook uninstall   é€™å€‹æŒ‡ä»¤æœƒåœ¨ä½ å°ˆæ¡ˆçš„ .git/hooksåº•ä¸‹ç”¢ç”Ÿä¸€å€‹ prepare-commit-msg\nå…§å®¹å¦‚ä¸‹\n1  codegpt commit --file $1 --preview   å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘æ¯æ¬¡è¼¸å…¥\ngit commit æ™‚ï¼Œå°±æœƒè‡ªå‹•å‘¼å«codegptå¹«æˆ‘å€‘ç”¢ç”Ÿcommit äº†\nä½†é€™å…¶å¯¦æœ‰å€‹å•é¡Œï¼Œprepare-commit-msgé€™å€‹hookï¼Œæœƒåœ¨æ‰€æœ‰åŸ·è¡Œgit commitçš„æ“ä½œå¾ŒåŸ·è¡Œï¼Œç•¶ç„¶ä¹ŸåŒ…åˆ®pullè·Ÿmergeï¼Œåƒé€™äº›æ™‚å€™æˆ‘å€‘æ˜¯ä¸éœ€è¦èª¿ç”¨codegpt çš„åŠŸèƒ½çš„ï¼Œä½†æˆ‘ç ”ç©¶äº†ä¸€ä¸‹git hookç™¼ç¾æ²’æœ‰é€™å€‹åŠŸèƒ½ï¼Œç¶“éäº†å¹¾å¤©çš„ç ”ç©¶ï¼Œç™¼ç¾è¦æ»¿è¶³æˆ‘çš„éœ€æ±‚åªèƒ½é€ébash aliasï¼Œè©³è¦‹ä¸‹ç¯‡\n ç•¶æˆ‘éœ€è¦æ™‚æ‰èª¿ç”¨codegpt commitï¼Œæˆ‘ä¹Ÿè¦ä¿ç•™ git commit çš„åŠŸèƒ½ mergeè·Ÿpullæ™‚éƒ½ä¸è¦èª¿ç”¨codegpt æˆ‘è¦èƒ½å¤ ç·¨è¼¯codegpt çš„commitå…§å®¹ï¼Œä¸èƒ½ç›´æ¥å¹«æˆ‘å„²å­˜  å°‡codegpt åšæˆalias ä¾†èª¿ç”¨codegpt(æ¨è–¦) ç·¨è¼¯ bashrc\n1  vim ~/.bash_profile   å°‡é€™æ®µè¤‡è£½ä¸Šå»\n1  alias auto-commit=\u0026#39;codegpt commit \u0026amp;\u0026amp; git commit --amend\u0026#39;   ç„¶å¾Œå„²å­˜ï¼Œå›åˆ°terminalä¸­é‡æ–°åˆ·æ–°\n1  source ~/.bash_profile   å¦‚æ­¤ä¸€ä¾†ç•¶\n1  git add .   å¾Œï¼Œå°±èƒ½å¤ è¼¸å…¥\n1  auto-commit   ä¾†åŸ·è¡Œcodegptäº†å–”\n","date":"2024-04-26T18:20:02+08:00","image":"https://i.imgur.com/o0SuW5w.png","permalink":"https://hoxtoncraft.com/p/%E6%87%89%E7%94%A8codegpt%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9Fcommit/","title":"æ‡‰ç”¨codegptå¿«é€Ÿç”¢ç”Ÿcommit"},{"content":"å¤§æ¦‚åœ¨4/3çš„æ™‚å€™è·‘å»æ‰“äº†ä¸Šé¡çš„å…©é¡†éª¨é‡˜ï¼Œåœ¨æ‰“ä¹‹å‰æœ‰çœ‹äº†å¾ˆå¤šæ°´ç®¡ä»”è·ŸBiliBiliçš„å½±ç‰‡ï¼Œæ„Ÿè¦ºéª¨é‡˜å¥½åƒä¹Ÿæ²’æœ‰æƒ³åƒä¸­çš„å¯æ€•ï¼Œç•¢ç«Ÿæœƒæ‰“éº»è—¥ï¼Œæ‰“äº†éº»ä¹‹å¾Œæ‡‰è©²æ˜¯ä¸æœƒç—›åˆ°å“ªè£¡å»å§ï¼Œå¤©çœŸçš„æˆ‘ç•¶æ™‚å°±æ˜¯é€™éº¼èªç‚ºã€‚\n4/3æ‰“éª¨é‡˜ç•¶å¤©é‚„æ˜¯æœ‰é»ç·Šå¼µï¼Œåä¸Šæ‰‹è¡“æ¤…ç•¶ä¸‹é‚„æ˜¯æœ‰é»å°ç·Šå¼µï¼Œå¾Œä¾†æ‰“äº†éº»è—¥ï¼Œé†«ç”Ÿå°±æŠŠéª¨é‡˜æ’é€²äº†æˆ‘çš„ä¸Šé¡éª¨ä¸­ï¼Œç‚ºä»€éº¼èªªæ’å…¥å‘¢ï¼Œå› ç‚ºç•¶æ™‚å…¶å¯¦æ²’æœ‰ä»€éº¼æ—‹è½‰çš„æ„Ÿè¦ºï¼Œæ„Ÿè¦ºæˆ‘çš„éª¨é ­å°±åƒä¸€å¡Šè±†è…ä¸€æ¨£ï¼Œå’»å’»å’»çš„å°±è¢«æ’é€²ä¾†äº†\u0026gt; ///// \u0026lt;\nå¤§æ¦‚æ•´å€‹éç¨‹ä¸åˆ°1åˆ†é˜å§ï¼Œä¸Šé¡çš„å…©é¡†éª¨é‡˜å°±å·²ç¶“æ‰“å®Œäº†ï¼Œæˆ‘ç•¶ä¸‹é‚„æœ‰é»å¤±æœ›ï¼Œæƒ³èªªæ‰“éª¨é‡˜æ‡‰è©²è¦æ˜¯å€‹é©šå¿ƒå‹•é­„ï¼Œåšå’¿æ­æ­çš„éç¨‹ã€‚åœ¨è¨ºæ‰€çš„é¡å­ç…§äº†ä¸€ä¸‹ä¹‹å¾Œæ„Ÿè¦ºä¹Ÿæ˜¯è »ç‰¹åˆ¥çš„ï¼Œè‡ªå·±çš„èº«ä¸Šè«åå…¶å¦™å°±è¢«ç©¿å­”äº†ï¼Œçªç„¶æƒ³åˆ°ä¹‹å‰åœ¨ç¶²è·¯ä¸Šçœ‹çš„é‚£äº›æœ‰ç©¿å­”ç™–å¥½çš„äººï¼Œè‡ªå·±é‚„æ˜¯ç„¡æ³•ç†è§£åœ¨èº«ä¸Šé‘½å€‹æ´çš„ç—›è‹¦ã€‚\nå›å»ä¹‹å¾Œå°±é–‹å§‹å¾ˆæ­£å¸¸çš„å·¥ä½œï¼Œç›´åˆ°å…©ä¸‰å€‹å°æ™‚éå¾Œï¼Œæˆ‘çªç„¶æ„Ÿè¦ºåˆ°å·¦å³å…©é‚Šé ­éª¨é–‹å§‹æœ‰ç¨®ç–¼ç—›æ„Ÿè”“å»¶ä¸Šä¾†ï¼Œç›´è‡³æˆ‘çš„å¤ªé™½ç©´ã€‚äº”å€‹å°æ™‚å¾Œï¼Œæˆ‘æ„Ÿè¦ºæˆ‘çš„é ­åƒæ˜¯æœ‰å…©å€‹é›»é‘½åœ¨é‘½æˆ‘çš„å·¦å³å¤ªé™½ç©´ä¸€æ¨£ï¼Œä¸¦ä¸”ä¼´éš¨è‘—ä¸é©çš„ä¸Šé¡ç–¼ç—›ï¼Œé‚£æ„Ÿè¦ºå°±å¾ˆåƒæ˜¯ä½ åœ¨å¤§åŠ›å’¬ä¸€é»ï¼Œä½ çš„ä¸Šé¡éª¨å°±æœƒåƒè»Šç¦ç¾å ´ä¸€æ¨£å››åˆ†äº”è£‚ã€‚é‚£æ™‚å€™æˆ‘å¤§æ¦‚æ¯éš”å…©å€‹å°æ™‚å°±åƒå…©é¡†æ­¢ç—›è—¥ï¼Œä¸ç„¶ç—›åˆ°æ ¹æœ¬ç¡ä¸è‘—ï¼Œåœ¨æˆ‘æ˜è¿·çš„æ™‚å€™ä¸€ç›´æƒ³è‘—é‚£äº›åœ¨ç¶²è·¯ä¸Šèªªæ‰“éª¨é‡˜ä¸ç—›çš„ï¼Œæˆ‘å¸Œæœ›ä½ å€‘ä¸å¾—å¥½æ­»^_^ï¼Œæ ¹æœ¬ç—›æ­»ï¼Œå¹¹ä½ åª½çš„ã€‚\nbtw éª¨é‡˜ç—›äº†ä¸€å¤©å…¶å¯¦å°±å·®ä¸å¤šï¼ŒçœŸçš„ä¸é©çš„æ˜¯å¾ŒçºŒéª¨é‡˜ä¸€ç›´æ‘©æ“¦åˆ°æˆ‘çš„å£è…”é»è†œï¼Œå°è‡´æˆ‘çš„é»è†œç ´äº†ä¸€å€‹0.5å…¬åˆ†çš„è¶…å¤§å‚·å£ï¼ŒæŠ¹è—¥çš„ç•¶ä¸‹çœŸå¾—å“­å‡ºä¾†ï¼Œæ¯”éª¨é‡˜é‚„æ…˜\n","date":"2024-04-16T15:05:38+08:00","image":"https://i.imgur.com/BV6bKbq.png","permalink":"https://hoxtoncraft.com/p/%E7%89%99%E5%A5%97%E7%B4%80%E9%8C%84%E4%BA%8C/","title":"ç‰™å¥—ç´€éŒ„\u003cäºŒ\u003e"},{"content":"èªªæ˜ 1 2 3 4 5 6 7 8  INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_101\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Salary bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated); INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_102\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Event bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated); INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_103\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Recharge bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated); INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_104\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Test account bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated); INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_105\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Compensation bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated); INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_106\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Other bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated); INSERT INTO global_zz.gl_language_dic (config_key, language, config_value, module, id) VALUES (\u0026#39;ADJUST_TYPE_201\u0026#39;, \u0026#39;en\u0026#39;, \u0026#39;Decrease bonus\u0026#39;, \u0026#39;activity-dic\u0026#39;, generated);   Explainæ˜¯MySQLä¸­ç”¨ä¾†è¨ºæ¸¬åŸ·è¡Œæ•ˆèƒ½çš„ä¸€å€‹æ»¿å¥½ç”¨çš„å·¥å…·çš„ï¼Œç”¨æ³•å¤§æ¦‚å°±æ˜¯åœ¨SQLèªå¥å‰åŠ ä¸ŠExplainå°±å¯ä»¥ï¼Œä¾‹å¦‚\n1  explain select * from user   é€™æ¨£å­ï¼Œå°±æœƒè·³å‡ºè¨±å¤šçš„æ¬„ä½\n   id select_type table partitions type possible_keys key key_len ref rows filtered Extra     1 SIMPLE url null ALL null null null null 200 100 null    æ¥ä¸‹ä¾†æœƒèªªæ˜å„å€‹æ¬„ä½ä»£è¡¨çš„æ„æ€\nId: ä»£è¡¨SQLçš„åŸ·è¡Œé †åº\nSelect_typeï¼šæœ‰å››ç¨®å¯èƒ½\n Simpleï¼šç°¡å–®æŸ¥è©¢ Primaryï¼šä»£è¡¨æ˜¯è¤‡é›œæŸ¥è©¢ä¸­ï¼Œæœ€å¤–å±¤çš„é‚£å€‹Select Subqueryï¼šä»£è¡¨çš„æ˜¯è¤‡é›œæŸ¥è©¢ä¸­è£¡é¢çš„é‚£å€‹Select Derivedï¼šæ´¾ç”ŸæŸ¥è©¢ï¼Œä»£è¡¨fromå¾Œé¢è·Ÿè‘—çš„æŸ¥è©¢èªå¥  Tableï¼šæŸ¥äº†å“ªäº›è¡¨\nPartitionsï¼šä¸å¤ªé‡è¦\nTypeï¼šæœ€ç‚ºé‡è¦çš„å±¬æ€§ï¼Œä»£è¡¨Sqlä½¿ç”¨ä»€éº¼æ¨£çš„æ–¹å¼å»æŸ¥è©¢è³‡æ–™åº«æ•¸æ“šï¼Œç”±å¥½åˆ°å·®åˆ†åˆ¥æ˜¯\nSystem\u0026gt;const\u0026gt;eq_ref\u0026gt;ref\u0026gt;range\u0026gt;index\u0026gt;all\nå¦‚æœæ˜¯Nullä»£è¡¨ä¸éœ€è¦è¨ªå•è¡¨ï¼Œå¯ä»¥å¾ç´¢å¼•éµä¸­æ‰¾å‡ºä¾†\n\u0026hellip;\næˆ‘çš„å¤©ï¼Œæˆ‘å¯«åˆ°ä¸€åŠç™¼ç¾æˆ‘çš„åƒè€ƒè³‡æ–™å¯«çš„å·²ç¶“è‡´è‡»å®Œç¾äº†ï¼Œçœ‹åƒè€ƒè³‡æ–™å°±å¯ä»¥äº†\nåƒè€ƒè³‡æ–™ https://blog.csdn.net/bugNoneNull/article/details/107489256\n","date":"2024-04-06T03:03:13+08:00","image":"https://i.imgur.com/cNCBPDA.png","permalink":"https://hoxtoncraft.com/p/mysql%E4%B8%AD%E7%9A%84explain%E4%B9%8B%E8%AA%AA%E6%98%8E/","title":"MySqlä¸­çš„explainä¹‹èªªæ˜"},{"content":"åœ¨2024/3/19è™Ÿä¹‹å‰å¦‚æœä½ å•æˆ‘ï¼Œæˆ‘è²·éæœ€è²´çš„æ±è¥¿æ˜¯å•¥ï¼Œæˆ‘æœƒè·Ÿä½ èªªæ˜¯æˆ‘é‚£è‡ºåƒåœ¾Macbookï¼Œä½†åœ¨2024/3/20éå¾Œï¼Œæˆ‘è²·éæœ€è²´çš„æ±è¥¿æ˜¯ç‰™é½’çŸ¯æ­£ï¼ŒèŠ±äº†æˆ‘17è¬^_^ã€‚\næ‹”å®Œäº†å››é¡†å°è‡¼é½’ï¼Œéäº†å…©å€‹ç¦®æ‹œä¸Šäº†ä¸Šæ’çŸ¯æ­£å™¨ï¼Œå‰›ä¸Šå»çš„æ„Ÿæƒ³ï¼Œå¤§æ¦‚å°±æ˜¯æ„Ÿè¦ºæœ‰å¾ˆå¤šæ ¹æ‰‹æŒ‡å¾å„å€‹æ–¹å‘ä¸€ç›´æŒ‰è‘—ä½ çš„ç‰™é½’ï¼Œé™¤æ­¤ä¹‹å¤–æ²’å¤ªå¤§çš„æ„Ÿè¦ºï¼ŒåŸæœ¬ä»¥ç‚ºæœƒç—›åˆ°ç¡ä¸è‘—çš„ï¼Œä½†å¯¦éš›ä¸Šä¸å»å’¬ã€ç¢°ã€æ•²ä»–ï¼Œæ˜¯ä¸æœƒè‡ªç™¼è¡Œç–¼ç—›çš„ï¼Œä½†ç¢ºå¯¦ä¸å¤ªèƒ½å’¬æ±è¥¿ï¼Œæˆ‘çœ‹ç¶²è·¯ä¸Šå¾ˆå¤šäººèªªé…¸è»Ÿï¼Œæˆ‘æ„Ÿè¦ºå€’æ¯”è¼ƒåƒæ˜¯ç‰™é½¦ç™¼ç‚çš„æ„Ÿè¦ºï¼Œå’¬æ±è¥¿å°±æœƒå¾ˆç—›ï¼Œæ‰€ä»¥é€™å¹¾å¤©æˆ‘å¤§éƒ¨åˆ†éƒ½æ˜¯é è‘—éº¥ç•¶å‹çš„ç‰ç±³æ¿ƒæ¹¯éç”Ÿæ´»ï¼Œä»Šå¤©æœ‰é †ä¾¿å«äº†é¡†è˜‹æœæ´¾ï¼Œå£“æˆä¸€å¡Šä¸€å¡Šçš„ï¼Œé€åˆ°æœ€å¾Œä¸€é¡†ç‰™é½’é‚£é‚Šå’¬ï¼Œç›®å‰æ„Ÿè¦ºæ²’å¤ªå¤§å•é¡Œ= =\nç„¶å¾Œæˆ‘çŸ¯æ­£æ˜¯åœ¨æ†ç¾åšçš„ï¼Œé‚£æ™‚å€™åœ¨ç¶²è·¯ä¸Šçœ‹ï¼Œ2016å¹´æ˜¯12è¬ï¼Œä½†æˆ‘åšè¦17è¬ï¼Œã„ï¼Œè¬è¬ä½  è”¡è‹±æ–‡\n1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\n","date":"2024-03-22T05:27:09+08:00","image":"https://i.imgur.com/Em59IXr.png","permalink":"https://hoxtoncraft.com/p/%E7%89%99%E5%A5%97%E7%B4%80%E9%8C%84%E4%B8%80/","title":"ç‰™å¥—ç´€éŒ„\u003cä¸€\u003e"},{"content":"æ¯æ¬¡ä»–åª½ç”¨MyBatisï¼Œéƒ½ä»–åª½å‡ºä¸€äº›ç™½ç™¡å•é¡Œï¼ŒçœŸçš„ä¸æ‡‚ä»–åª½ä¸€å †å…¬å¸æŠ±è‘—MyBatisé€™åƒåœ¾åˆ°åº•æ˜¯è¦æ¬‰ä¸‰å°\nMyBatisç›¸é—œDependency 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-data-jpa\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/com.baomidou/mybatis-plus --\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/tk.mybatis/mapper-spring-boot-starter --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;tk.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mapper-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.2.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;   Propertiesçš„é…ç½® ç„¶å¾Œè¨˜å¾—åœ¨propertiesä¸­é…ç½®xmlçš„ä½ç½®\n1  mybatis.mapper-locations=classpath:mapper/*.xml   Mapperçš„å¯«æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  package com.hoxton.urlshorter.mapper; import com.hoxton.urlshorter.entity.Url; import org.apache.ibatis.annotations.Mapper; import org.apache.ibatis.annotations.Param; import org.springframework.stereotype.Repository; import tk.mybatis.mapper.common.BaseMapper; @Mapper @Repository public interface ShorterMapper extends BaseMapper\u0026lt;Url\u0026gt; { String findByShortURL(@Param(\u0026#34;url\u0026#34;) String shortURL); }   ","date":"2024-03-13T00:34:02+08:00","image":"https://i.imgur.com/TcbKVGe.jpeg","permalink":"https://hoxtoncraft.com/p/mybatis%E5%BF%AB%E9%80%9F%E9%85%8D%E7%BD%AE%E6%AA%94/","title":"MyBatiså¿«é€Ÿé…ç½®æª”"},{"content":"å‰ä¸€é™£å­è¦å®‰è£Zookeeperæ™‚é‡åˆ°å„ç¨®å›°é›£ï¼Œå…¶ä¸­ä¸€å€‹å•é¡Œå°±åœ¨æ–¼ç•¶æˆ‘å•Ÿå‹•zkServe.shæ™‚ï¼Œæœƒè·³å‡ºä¸€å€‹éŒ¯èª¤è¨Šæ¯ä¸¦ç«‹åˆ»é—œé–‰è¦–çª—ï¼Œç•«é¢ä¸Šçœ‹èµ·ä¾†åƒé€™æ¨£\né€™processçµ‚æ­¢çš„çŒä¸åŠé˜²ï¼Œè®“æˆ‘é€£è®€çš„æ©Ÿæœƒéƒ½æ²’æœ‰å°±è·³æ‰äº†ï¼Œä¸€ç›´æƒ³è¾¦æ³•è®“ä»–åœç•™åœ¨å ±éŒ¯çš„é‚£ä¸€å€‹momentï¼Œä½†èª¿äº†å¥½å¹¾æ¬¡çš„iTermï¼Œéƒ½ç„¡ç–¾è€Œçµ‚ï¼Œæœ€å¾Œåªå¾—è·Ÿæœ‹å‹å€Ÿäº†å¦ä¸€éƒ¨é›»è…¦ä¾†æ¸¬ï¼Œæ‰çœ‹åˆ°éŒ¯èª¤è¨Šæ¯æ˜¯ä»€éº¼ï¼Œé‚£å¦‚æœæˆ‘å€‘æƒ³è¦è®“Terminal åœåœ¨éŒ¯èª¤çš„é‚£ä¸€å€‹ç¬é–“ï¼Œæˆ‘å€‘è©²æ€éº¼åšå‘¢ï¼Ÿ\næˆ–è€…æ˜¯èªªï¼Œæˆ‘å€‘æƒ³è®“ Terminal åœç•™åœ¨æŸå€‹momentè©²æ€éº¼åšå‘¢ï¼Ÿ\næ²’éŒ¯ï¼Œè°æ˜çš„å°æœ‹å‹è‚¯å®šæƒ³åˆ°äº†ï¼Œé‚£å°±æ˜¯Windowsç³»çµ±ä¸‹çš„Pauseï¼Œé‚£Liunxç³»çµ±å‘¢ï¼Ÿé›–ç„¶æ²’æœ‰PauseæŒ‡ä»¤ï¼Œä½†å¯ä»¥ç”¨readæŒ‡ä»¤ä¾†é”åˆ°é¡ä¼¼çš„æ•ˆæœï¼Œä»¥ä¸‹å°±æ˜¯æˆ‘åœ¨zkServer.shä¸­åŠ å…¥ä¸€æ®µreadæ‰€é”æˆçš„æ•ˆæœ\n1  read -n 1 -p \u0026#34;æ™‚é–“ã‚ˆæ­¢ã¾ã‚Œï¼\u0026#34;   é€šå¸¸æ˜¯åŠ åœ¨æœ€å¾Œä¸€è¡Œå•¦ï¼Œæœ€å¾Œçœ‹èµ·ä¾†çš„æ•ˆæœå°±æœƒåƒé€™æ¨£ï¼Œå¦‚æœæ˜¯windowsçš„cmdæˆ–æ˜¯batï¼Œå°±æ˜¯æ”¹æˆpauseå°±å¯ä»¥äº†\n","date":"2024-03-04T14:10:48+08:00","image":"https://i.imgur.com/VlJrNRr.jpeg","permalink":"https://hoxtoncraft.com/p/%E6%88%91%E7%9A%84%E7%B5%82%E7%AB%AF%E6%A9%9F%E7%AB%8B%E5%88%BB%E8%B7%B3%E6%8E%89%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E9%8C%AF%E8%AA%A4%E8%A8%8A%E6%81%AF/","title":"æˆ‘çš„çµ‚ç«¯æ©Ÿç«‹åˆ»è·³æ‰,å¦‚ä½•æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯"},{"content":"1 2 3 4 5 6  call %JAVA% \u0026#34;-Dzookeeper.log.dir=%ZOO_LOG_DIR%\u0026#34; \u0026#34;-Dzookeeper.root.logger=%ZOO_LOG4J_PROP%\u0026#34; -cp \u0026#34;%CLASSPATH%\u0026#34; %ZOOMAIN% \u0026#34;%ZOOCFG%\u0026#34; %* ä¿®æ”¹ä¸º java \u0026#34;-Dzookeeper.log.dir=%ZOO_LOG_DIR%\u0026#34; \u0026#34;-Dzookeeper.root.logger=%ZOO_LOG4J_PROP%\u0026#34; -cp \u0026#34;%CLASSPATH%\u0026#34; %ZOOMAIN% \u0026#34;%ZOOCFG%\u0026#34; %*   ä¾†æº\nhttps://blog.csdn.net/qq_34125483/article/details/105285727\n","date":"2024-03-04T13:02:56+08:00","image":"https://i.imgur.com/jSXsDO0.png","permalink":"https://hoxtoncraft.com/p/zookeeper%E4%B8%80%E7%9B%B4%E9%A1%AF%E7%A4%BA-dzookeeper.log.dir..-%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4%E8%A9%B2%E5%A6%82%E4%BD%95%E8%99%95%E7%90%86/","title":"ZooKeeperä¸€ç›´é¡¯ç¤º Dzookeeper.log.dir=..' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤è©²å¦‚ä½•è™•ç†"},{"content":"ç¬¬ä¸€æ¬¡èªè­˜SDKMANæ˜¯é‚£æ™‚å€™åœ¨å¤šå¥‡ï¼Œä¸€å€‹å«Samçš„åŒäº‹ï¼Œé‚£æ™‚å€™å•ä»–æ€éº¼è¨­ç½®ç’°å¢ƒçš„ï¼Œä»–èªªä»–éƒ½ç”¨SDKMANï¼Œåªè¦‹ä»–é›™æ‰‹åœ¨éµç›¤ä¸Šä¾†ä¾†å›å›ï¼Œå„ç¨®JAVAç‰ˆæœ¬å°±å·²ç¶“å®‰è£å¥½ï¼Œè¨­ç½®Pathä¹Ÿä¸ç”¨åˆ°ä»€éº¼./bashã€ç³»çµ±è®Šæ•¸è£¡é¢å»è¨­å®šï¼Œå› æ­¤è‡ªå·±å°±é»˜é»˜è¨˜ä¸‹é€™å€‹å¥½ç”¨çš„å·¥å…·äº†ï¼Œä»Šå¤©çµ‚æ–¼æœ‰æ©Ÿæœƒå¯ä»¥ä¾†å­¸ç¿’ä»–ã€‚\nå®‰è£ åœ¨MACã€Linuxç’°å¢ƒçš„å®‰è£æœƒæ¯”è¼ƒç°¡å–®ä¸€é»ï¼Œé€™é‚Šå…ˆä»‹ç´¹Windowçš„å®‰è£\nWindowså®‰è£ é€™å€‹æ±è¥¿è¦åœ¨ä¸€å€‹Linuxç’°å¢ƒä¸‹é‹è¡Œï¼Œæ¯”å¦‚èªªWLSã€cygwinä¹‹é¡çš„ï¼Œæˆ–è€…æ˜¯å®‰è£Gitæ™‚æœƒè‡ªå‹•å¹«æˆ‘å€‘å®‰è£çš„git bash\né€™é‚Šå°±é è¨­å„ä½å·²ç¶“æœ‰å®‰è£äº†ï¼Œç•¢ç«Ÿé€£Gitéƒ½æ²’å®‰è£ï¼Œæƒ³å¿…ä¹Ÿä¸æœƒé»é€²é€™ç¯‡æ–‡ç« çš„^_^\nåœ¨bashä¸­è¼¸å…¥\n1  curl -s \u0026#34;https://get.sdkman.io\u0026#34; | bash   æœ‰å¯èƒ½æœƒå‡ºç¾\n1 2 3  Please install zip on your system using your favourite package manager. Restart after installing zip.   é€™æ™‚å€™è«‹åˆ°\nhttps://sourceforge.net/projects/gnuwin32/files/zip/3.0/\né€™å€‹ç¶²ç«™ï¼Œä¸‹è¼‰å®ƒçš„zip-3.0-bin.zip\nç„¶å¾ŒæŠŠå®ƒä¸Ÿåˆ°ä½ çš„Git/mingw64/bin å°±å¯ä»¥äº†\næ¥è‘—å†é‡æ–°å®‰è£ä¸€æ¬¡\n1  curl -s \u0026#34;https://get.sdkman.io\u0026#34; | bash   æŠŠsdkmanåŠ åˆ°Pathä¸­\n1  source \u0026#34;$HOME/.sdkman/bin/sdkman-init.sh\u0026#34;   é€™æ¨£å°±å¯ä»¥äº†ï¼\næ­¤æ™‚æˆ‘å€‘å¯ä»¥è¼¸å…¥\n1  sdk version   ä¾†æŸ¥çœ‹ç›®å‰sdkmançš„ç‰ˆæœ¬\nåˆ‡è¨˜åˆ‡è¨˜\nSDKMANåªèƒ½é‹è¡Œåœ¨Linuxç’°å¢ƒï¼Œæ‰€ä»¥ä½ è¦ç”¨SDKMANå°±ä¸€å®šè¦ç”¨Bash\nSDKMANå¸¸ç”¨æŒ‡ä»¤ å¸¸çœ‹å¹«åŠ© 1  sdk help   æŸ¥çœ‹Javaæœ‰å•¥ 1  sdk ls java   å®‰è£Java 1  sdk install java 17.0.10-zulu   æŸ¥çœ‹Mavenæœ‰å•¥ 1  sdk ls maven   å®‰è£Maven 1  sdk install maven 3.9.6   åˆ‡æ›Javaç‰ˆæœ¬ 1  sdk use java 14.0.2.j9-adpt   æŒ‡å®šé è¨­çš„JDKç‰ˆæœ¬ 1  sdk default java 14.0.2.j9-adpt   æŸ¥çœ‹ç›®å‰çš„Javaæ˜¯ä»€éº¼ç‰ˆæœ¬ 1  sdk current java   ä¾†æº https://www.jianshu.com/p/ddce36a50720\nhttps://blog.miniasp.com/post/2022/09/17/Useful-tool-SDKMAN\n","date":"2024-03-04T12:03:14+08:00","image":"https://i.imgur.com/2sYLJmc.png","permalink":"https://hoxtoncraft.com/p/sdkman%E6%95%99%E5%AD%B8/","title":"SDKMANæ•™å­¸"},{"content":"Brief 2023ç®—æ˜¯æˆ‘æ­£å¼è½‰è·çš„ç¬¬ä¸€å¹´å§ï¼Œ é€™æ®µæœŸé–“æ›äº†å¥½å¹¾ä»½å·¥ä½œï¼Œä¹Ÿå­¸åˆ°äº†å¾ˆå¤šæŠ€è¡“ï¼Œæ‰“ç®—å½™æ•´ä¸€ä¸‹é€™æ®µæ™‚é–“å­¸ç¿’åˆ°çš„æŠ€è¡“ä¸¦æç¹ªä¸€ä¸‹2024çš„å­¸ç¿’è·¯ç·šåœ–\n2023å›é¡§ ç ”ç©¶æ‰€ç›¸é—œ   ä½œæ¥­ç³»çµ±\n  ç·šæ€§ä»£æ•¸\n  ã€Œçœ‹ã€å®Œäº†ä½œæ¥­ç³»çµ±è·Ÿç·šæ€§ä»£æ•¸ï¼Œä½†å…©å€‹éƒ½æ²’æœ‰èªçœŸçš„å¥½å¥½å¯«éé¡Œç›®ï¼Œè¨˜å¾—åœ¨2023å¹´åˆçš„æ™‚å€™æƒ³èªªæˆ‘æœ‰ä¸€æ•´å¹´çš„æ™‚é–“å¯ä»¥ä¾†è®€æ›¸ï¼Œçµæœç™¼ç¾è‡ªå·±é‚„æ˜¯æŠ±è‘—ä¸‰å¤©æ‰“é­šå…©å¤©æ›¬ç¶²çš„æ–¹å¼ï¼Œå¹´åˆæ‰“æˆ°ç¥ã€å¹´ä¸­æ‰“é­”ç‰©ã€å¹´æœ«æ‰“Steam Deckï¼Œä¸€æ•´å¹´ä¸‹ä¾†å°±åªè®€äº†å…©ç§‘ï¼Œè¨˜å¾—å¹´çµ‚çš„æ™‚å€™æœ‰å¥½å¹¾å€‹æœˆéƒ½åœ¨å¿™è‘—é¢è©¦é‚„æœ‰åŠ ç­ï¼Œæœ‰æ®µæ™‚é–“è’å»¢æ‰ï¼Œç„¶å¾Œå’»ä¸€ä¸‹çš„ç™¼ç·šå†é20å¹¾å¤©å°±è¦è€ƒç ”ç©¶æ‰€äº†ï¼Œè‡ªå·±å»é‚„åœ¨é€™é‚Šæ‰“é€™ç¯‡å»¢æ–‡^_^\nè‡ªå·±é è¨ˆ2024å¹´æœ«è¦èƒ½å¤ è®€å®Œæ‰€æœ‰çš„ç§‘ç›®ï¼Œå¯«å®Œè€ƒå¤é¡Œä¸¦ä¸”æ‹šæçœ‹çœ‹ï¼Œçœ‹èƒ½ä¸èƒ½æ‹¼2025å¹´è€ƒä¸Š\næŠ€è¡“ç›¸é—œ æŠ€è¡“ç›¸é—œçš„éƒ¨åˆ†å äº†è »å¤§ä¸€éƒ¨åˆ†çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘2023å¹´çš„ç”Ÿæ´»å°±æ˜¯ä¸‰å€‹é‡å¿ƒ\n è®€æ›¸ å­¸æŠ€è¡“ æ‰“éŠæˆ²  æŠ€è¡“çš„éƒ¨ä»½ç›¤é»äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚å­¸äº†é€™äº›\n  Junitå–®å…ƒæ¸¬è©¦æ¡†æ¶ï¼š\nç•¶åˆå¿˜äº†åœ¨å“ªé‚Šçœ‹åˆ°[ä½ å°±æ˜¯éƒ½ä¸å¯«æ¸¬è©¦æ‰æœƒæ²’æ™‚é–“](https://ithelp.ithome.com.tw/articles/10258902)é€™ç¯‡æ–‡ç« ï¼Œç•¶æ™‚å°±è¦ºå¾—å¯«å–®å…ƒæ¸¬è©¦çœŸçš„æ˜¯å¤ªé…·äº†ï¼æ‰€ä»¥åœ¨å¾¡è«¾çš„æ™‚å€™å¾ˆèªçœŸçš„è·Ÿå¤§å®¶èªªä¸€èµ·ä¾†å¯«å–®å…ƒæ¸¬è©¦å§ï¼ç„¶å¾Œå°±é€™æ¨£å­å¯«äº†åŠå¹´çš„å–®å…ƒæ¸¬è©¦é‚„æœ‰æ•´åˆæ¸¬è©¦ï¼Œå‰é™£å­è·Ÿå¾¡è«¾çš„åŒäº‹åƒé£¯ï¼Œæˆ‘èªªåœ¨å¾¡è«¾10å€‹æœˆï¼Œæˆ‘å­¸åˆ°æœ€å¤šçš„å°±æ˜¯æ€éº¼è¬›ç¬‘è©±é€—å¤§å®¶é–‹å¿ƒï¼Œé™¤æ­¤ä¹‹å¤–å•¥éƒ½æ²’å­¸åˆ°ï¼Œä½†é¨è»Šå›å»çš„è·¯ä¸Šæƒ³äº†ä¸€ä¸‹ï¼Œç™¼ç¾å…¶å¯¦è‡ªå·±å­¸æœ€å¤šçš„æ˜¯å¯«Testçš„éƒ¨åˆ† å¦‚ä½•å°‡Junitçš„æ¸¬è©¦ç²’åº¦æ§åˆ¶åœ¨æœ€å°å–®å…ƒ\n  Dockerï¼š\nä¹Ÿæ˜¯ç•¶åˆåœ¨å¾¡è«¾çš„æ™‚å€™çœ‹åŒäº‹åœ¨ç”¨ï¼Œè¦ºå¾—å¾ˆæœ‰è¶£å°±å­¸ä¸‹ä¾†äº†ï¼Œçµæœç™¼ç¾è »å¯¦ç”¨ä¹Ÿè »æœ‰è¶£çš„ï¼Œç›®å‰æœ€å¸¸åšçš„æ‡‰ç”¨å°±æ˜¯æŠŠWebAppåŒ…è£æˆImageï¼Œéƒ¨å±¬åˆ°æˆ‘çš„Digital Oceanä¸Šé¢ Dockerå­¸ç¿’ç­†è¨˜\n  GitLab CI/CDï¼š\nä¹Ÿæ˜¯ç•¶åˆåœ¨å¾¡è«¾ï¼ˆç™¼ç¾åœ¨å¾¡è«¾çœŸçš„æ²’å•¥äº‹æƒ…è¦å¿™ï¼Œéƒ½åœ¨å­¸é€™äº›æœ‰çš„æ²’æœ‰çš„æ±è¥¿= =ï¼‰çœ‹åˆ°åŒäº‹æ¯æ¬¡ä¸Šæ¿éƒ½è¦è‡ªå·±æ‰‹å‹•å»Deploymentï¼Œè¦ºå¾—å¯¦åœ¨æ˜¯å¤ªç´¯äº†ï¼Œæ‰€ä»¥æŠŠé€™å€‹æ±è¥¿å­¸èµ·ä¾†ï¼Œçµæœé‚„æ²’ç­‰åˆ°æˆ‘å»åšCI/CDæˆ‘å°±é›¢è·äº†ï¼Œè‡ªå·±å¾å°å°±å°é€™ç¨®è‡ªå‹•åŒ–çš„å…§å®¹éå¸¸æœ‰èˆˆè¶£ï¼Œæœ€æ—©åŸæœ¬æ˜¯æƒ³å­¸Jenkinsçš„ï¼ŒçµæœJenkinså¼„ä¸€å¼„ç™¼ç¾ä¹Ÿå¤ªé›£äº†= = é€€è€Œæ±‚å…¶æ¬¡è·‘å»å­¸GitLab CI/CD GitLab-CI/CDç­†è¨˜\n  Store Procedureï¼š\né€™å€‹æ˜¯æœ‰ä¸€æ¬¡åœ¨å¾¡è«¾ï¼ŒåŒäº‹éœ€è¦åˆ°å®¢æˆ¶é‚£é‚ŠCreate Tableçš„æ™‚å€™å­¸çš„ï¼Œä½†å¥½åƒä¹Ÿåªç”¨éé‚£æ¬¡ï¼Œåˆ°å¾Œé¢å¹¾ä¹éƒ½æ²’å•¥ç”¨åˆ°äº†ï¼Œæ›´å¸¸ç”¨çš„æ˜¯Javaæ’ç¨‹æˆ–è€…æ˜¯å…¶ä»–çš„å®šæ™‚å·¥å…·(Xxl-Job åˆ†å¸ƒå¼ä»»å‹™èª¿åº¦ä¸­å¿ƒå­¸ç¿’ç­†è¨˜)ä¾†åšï¼Œç•¢ç«Ÿé å­˜ç¨‹åºé€™å€‹æ±è¥¿è¦debugæœ‰é»å›°é›£\n  Zabbixï¼š\nä¸€å€‹ä¸»å¾å¼çš„ç³»çµ±ç›£æ§ï¼Œä¹Ÿæ˜¯åœ¨å¾¡è«¾é‚£é‚Šå­¸çš„ï¼Œè¨˜å¾—ç•¶æ™‚å‹‡å“¥(å¾¡è«¾çš„è€é—†)ï¼Œå¸Œæœ›èªªä¸è¦è£ä»»ä½•æ±è¥¿å°±èƒ½å¤ ç›£æ§å®¢æˆ¶çš„é›»è…¦ï¼Œæ™‚è‡³ä»Šæ—¥ä¾ç„¶è¦ºå¾—é€™å€‹æƒ³æ³•çœŸçš„æ˜¯å¤ªAmazingäº†ï¼Œå¾Œä¾†æ¥µåŠ›å‹¸èªªä¹‹ä¸‹ï¼Œçµ‚æ–¼åŒæ„æˆ‘å»ç ”ç©¶Zabbixï¼Œå¾Œä¾†æœ‰ç‚ºäº†Zabbixå¯«äº†ä¸€å€‹LibraryZabbix-Senderï¼Œç•¶æ™‚å¾ˆèªçœŸçš„æŠ•åˆ°Maven Repoä¸­ï¼Œçµæœè‡ªå·±å¤ªæ‡¶å°±æ²’å‹•åŠ›äº†ã€‚\n  MyBatisï¼š\nç•¶åˆç‚ºäº†è½‰è·æ›å·¥ä½œæ‰€å­¸ç¿’çš„ORMæ¡†æ¶ï¼Œæˆ‘å¾åŸæœ¬æ’æ–¥åˆ°ç¾åœ¨è¦ºå¾—é€™æ±è¥¿çœŸçš„æ˜¯å¤ªå¥½ç”¨äº†ï¼Œä»¥å‰çœ‹MyBatisæœƒè¦ºå¾—å¾ˆéº»ç…©ï¼Œè¦è‡ªå·±å¯«SQLï¼Œç¾åœ¨åè€Œæ˜¯çœ‹Hibernateï¼Œè¦ºå¾—ä¸èƒ½è‡ªå·±å¯«SQLä¹Ÿå¤ªå¯æ€•ã€‚\n  Macï¼š\n2023å¹´åº¦æœ€ç›¤çš„è¡Œç‚ºå¤§æ¦‚å°±æ˜¯è‡ªè²»è²·äº†ä¸€å°Macé›»è…¦ï¼Œç”¨åˆ°ç¾åœ¨ä¾ç„¶è¦ºå¾—å¾ˆé›£ç”¨^_^ï¼Œæ‰€ä»¥ç‚ºäº†å®ƒå­¸äº†å¾ˆå¤šæ±è¥¿ï¼Œå¯«äº†å¾ˆå¤šç¯‡æ–‡ç« ï¼Œå› æ­¤æ­¸é¡åœ¨æŠ€è¡“é¡ å¯åƒç…§ï¼šå¦‚ä½•è®“Macçš„ä½¿ç”¨é«”é©—æ›´åŠ çµ²æ»‘ï¼Œæˆ‘çš„Macå¯¦ç”¨æ’ä»¶ä»‹ç´¹\n  Mavenï¼š\nåŸæœ¬åœ¨è³‡ç­–æœƒçš„æ™‚å€™è¦ºå¾—Mavenå°±åªæ˜¯å€‹ç®¡JaråŒ…çš„ï¼Œå¾Œä¾†å·¥ä½œä¹‹å¾Œæ‰ç™¼ç¾æ˜¯æˆ‘æ ¼å±€å°äº†ï¼ŒåŸä¾†Mavenæœ‰å¾ˆå¤šç”¨è™•ï¼ŒåŒ…æ‹¬ç¾åœ¨ä¾ç„¶åœ¨å­¸ç¿’Mavençš„ä¸€äº›å…§å®¹ï¼Œå‰é™£å­åœ¨é–‹ç™¼Side Projectè¦ç”¨å¤šæ¨¡çµ„æ™‚ä¹Ÿå› ç‚ºä¸ç†ŸMaven å‡ºäº†ä¸€å †å•é¡Œ Mavenè©³ç´°ç ”ç©¶\n  Seleniumï¼š\nç•¶æ™‚åœ¨å¤šå¥‡ç•¶QAç•¶çš„ä¸æ˜¯å¾ˆé–‹å¿ƒï¼Œè‡ªå·±å¯¦åœ¨å°QAçš„å·¥ä½œæ²’å•¥èˆˆè¶£ï¼Œæ‰€ä»¥è·‘å»å­¸äº†ä¸€ä¸‹Seleniumï¼Œæƒ³èªªå·¥ä½œä¸Šå¯ä»¥ç”¨åˆ°ï¼Œçµæœä¹Ÿæ²’ç”¨åˆ°ï¼Œå¾Œä¾†è¢«æˆ‘æ‹¿ä¾†åš104è·ŸCakeResumeçš„çˆ¬èŸ²^_^Seleniumå­¸ç¿’ç­†è¨˜-ä»¥104äººåŠ›éŠ€è¡Œç‚ºä¾‹\n  Redisï¼š\nåŠ å…¥æ–°å…¬å¸å¾Œå­¸åˆ°çš„ï¼ŒåŸæœ¬å°±æœ‰èˆˆè¶£æƒ³è¦å­¸é€™å€‹æŠ€è¡“ï¼Œå­¸äº†ä¹‹å¾Œç™¼ç¾é‚„è »ç°¡å–®çš„ï¼Œä½†å°æ–¼Cacheçš„æ™‚æ©Ÿé‚„æ˜¯ä¸å¤ªç†Ÿï¼Œä¹‹å¾Œçš„Side Projectæˆ‘ä¹Ÿæƒ³è¦ç”¨é€™é–€æŠ€è¡“è©¦çœ‹çœ‹Rediså­¸ç¿’ç­†è¨˜\n  RabbitMQï¼š\nå…¶å¯¦ä¸èƒ½èªªå­¸ï¼Œæ‡‰è©²èªªæœ‰ç¢°éï¼Œå¤§æ¦‚çŸ¥é“æ˜¯å•¥ï¼Œä½†è·é›¢ã€Œå­¸æœƒã€é‚„æœ‰ä¸€æ®µè·¯è¦èµ° RabbitMQå­¸ç¿’ç­†è¨˜\n  Vueï¼š\nå­¸æ²’å¹¾å¤©å°±è·‘å»æ‰“é­”ç‰©çµäººäº†= =\n  Xxl-jobï¼š\néå¸¸å¥½ç”¨çš„ä¸€å€‹åˆ†å¸ƒå¼ä»»å‹™èª¿åº¦ï¼Œæ¦‚å¿µå°±åƒæ˜¯SpringBootä¸­çš„æ’ç¨‹å™¨ï¼Œä½†æ˜¯æ›´çŒ›æ›´å¼·å¤§ï¼Œè®“æˆ‘å†æ¬¡æ„Ÿå˜†ç¥–åœ‹çš„ç´…å¤ªé™½çš„å‰å¤§ï¼Œä¸­åœ‹äººå¯¦åœ¨æ˜¯å¤ªç‰›å•¦ï¼Xxl-Job åˆ†å¸ƒå¼ä»»å‹™èª¿åº¦ä¸­å¿ƒå­¸ç¿’ç­†è¨˜\n  Elastic Searchï¼š\nä¹Ÿæ˜¯ä¸€å€‹ç¢°éä½†æ²’å­¸é€çš„æ±è¥¿ï¼Œå‰é™£å­å…¬å¸å› ç‚ºESè³‡æ–™å¤ªå¤šç„¶å¾Œçˆ†ç‚¸äº†ï¼Œæœ‰æ©Ÿæœƒå†ç¹¼çºŒç ”ç©¶é€™å¡Šï¼Œæ„Ÿè¦ºæ˜¯å€‹å¾ˆæ£’çš„æŠ€è¡“ ElasticSearchå­¸ç¿’ç­†è¨˜\n  Djangoï¼š\nç‚ºäº†side projectè·‘å»å­¸çš„ï¼Œçµæœä¹Ÿæ²’å­¸å®Œå°±é´¿äº† = =\n  2024å±•æœ› ç ”ç©¶æ‰€ç›¸é—œ è‚¯å®šæ˜¯è¦ä¾†å€‹å¤§æ»¿è²«çš„å§\nç›®æ¨™æ˜¯è®€å®Œå…­ç§‘ï¼Œç„¶å¾Œåœ¨ä»Šå¹´å¹´åº•é”åˆ°æ‡‰è©¦æ°´æº–\n ä½œæ¥­ç³»çµ± è¨ˆç®—æ©Ÿçµ„ç¹” ç·šæ€§ä»£æ•¸ é›¢æ•£æ•¸å­¸ è³‡æ–™çµæ§‹ æ¼”ç®—æ³•  æŠ€è¡“ç›¸é—œ   Vueï¼š\nç‚ºäº†åšside projectï¼Œä¹Ÿç‚ºäº†è‡ªå·±ï¼Œä¸æ±‚èƒ½å¤ é”åˆ°å·¥ä½œçš„æ°´æº–ï¼Œä½†è‡³å°‘è¦èƒ½å¤ åšä¸€äº›åŸºæœ¬çš„é–‹ç™¼ï¼Œæœ‰æ™‚å€™æƒ³åšä¸€äº›æœ‰çš„æ²’çš„çš„æ±è¥¿\n  å¾®æœå‹™ç›¸é—œï¼š\nå˜´å·´ä¸Šä¸€ç›´èªªæƒ³å­¸ï¼Œä½†ä¸€ç›´æ²’ç¢°= = ï¼Œæƒ³çœ‹ä¸€ä¸‹SpringCloudã€AlibabaCloudã€Dubboç­‰ç­‰ä¹‹é¡è·Ÿå¾®æœå‹™ç›¸é—œçš„æŠ€è¡“å§ï¼Œéƒ½å·¥ä½œå¿«å…©å¹´äº†ï¼Œè©²ç¢°çœ‹çœ‹äº†\n  Elastic Searchï¼š\nä¸€å€‹å¾ˆé…·çš„æ±è¥¿ï¼Œç›®å‰é‚„ä¸çŸ¥é“ä»–è·ŸSQLå…·é«”å·®åœ¨å“ªè£¡ï¼Œç‚ºä»€éº¼è¦ç”¨å®ƒï¼Ÿå°æ–¼ä»–çš„åˆ†ç‰‡ã€åˆ†çµ„æ©Ÿåˆ¶éƒ½æ²’åˆ°å¾ˆç†Ÿã€‚\n  MongoDBï¼š\nä¹Ÿæ˜¯æ–°å…¬å¸æœ‰ç”¨åˆ°ï¼Œä½†æˆ‘å®Œå…¨æ²’ç¢°éçš„æ±è¥¿= = å®Œå…¨æ²’æ¦‚å¿µæ˜¯å•¥\n  Github Actionï¼š\nå°±Githubçš„CICDï¼Œæˆ‘blogç›®å‰çš„ç™¼ä½ˆå°±æ˜¯é Github Actionå»å•Ÿå‹•çš„\n  å®ŒæˆSide Projectï¼š\næ²’å•¥å¥½èªªçš„ï¼Œå°±æ˜¯SideProjecté–‹ç™¼(1)-å°è‚¡ç›£æ§Webé€™å€‹ä¸çŸ¥é“æˆ‘å¤šä¹…æ²’å‹•çš„Side Projectï¼Œå› ç‚ºå‰é®å­é­é‡æŠ€è¡“ä¸Šçš„å›°é›£ï¼Œç­‰æˆ‘è€ƒå®Œè©¦ä¹‹å¾Œå†ä¾†ç¹¼çºŒå®Œæˆé€™ä¸€éƒ¨åˆ†ã€‚\n  Rabbit MQï¼š\nä¸ç†Ÿçš„ä¸€å€‹æ±è¥¿ï¼Œä½†ä¹Ÿæ˜¯å»å­¸ç¿’\n  æ¶çœ‹çœ‹Jump Server ï¼š\né›–ç„¶èªªè·Ÿå¾Œç«¯æ²’å•¥é—œä¿‚ï¼Œä½†è¦ºå¾—é€™é–€æŠ€è¡“è »é…·çš„ï¼Œæƒ³å­¸çœ‹çœ‹\n  å­¸ç¿’AWSï¼š(2024/1è£œå……) å¾ˆå¸¸è½åˆ°é€™å€‹ï¼Œå¥½åƒä¸åªæ˜¯å€‹é›²ç«¯æ©Ÿçš„æ„Ÿè¦ºï¼Œæƒ³äº†è§£ä¸€ä¸‹\n  æƒ³è¦åšä¸€å€‹çµåˆSpringBoot + Vue + Redis + RabbitMQ + Elastic Search çš„å°ˆæ¡ˆå§ï¼Œå¸Œæœ›ä»Šå¹´å¹´æœ«çš„æ™‚å€™èƒ½å¤ é”æˆç›®æ¨™ï¼\n","date":"2024-01-11T21:57:14+08:00","image":"https://i.imgur.com/kFNcWip.jpg","permalink":"https://hoxtoncraft.com/p/%E6%8A%80%E8%A1%93%E5%9B%9E%E9%A1%A7%E4%BB%A5%E5%8F%8A2024%E5%AD%B8%E7%BF%92%E7%9B%AE%E6%A8%99/","title":"æŠ€è¡“å›é¡§ä»¥åŠ2024å­¸ç¿’ç›®æ¨™"},{"content":"å‰è¨€ åœ¨å…¬å¸ä¸€æ¬¡ç‰ˆæœ¬è¿­ä»£ä¸­ï¼Œæœ‰å¤šäº†æ–°çš„tableé‚„æœ‰æ–°çš„æ¬„ä½ï¼Œå› æ­¤æœ‰èˆŠè³‡æ–™è·Ÿæ–°è³‡æ–™ä¹‹é–“è¦éåº¦ï¼ŒåŸæœ¬ç”¨ä¾†join onçš„æ¬„ä½ä¹Ÿè¦è·Ÿè‘—æ›\nåŸæœ¬çš„å¦‚ä¸‹\n1  on student.id = player.id   æˆ‘ç‚ºäº†è¦å…¼å®¹èˆŠè³‡æ–™ï¼Œæ²’æœ‰å‹•å¤ªå¤šå¿ƒæ€ï¼Œå°±æƒ³èªªç”¨orå»è™•ç†å°±å¥½\n1  on student.id = player.id or member.id = player.id   å°±å‚»å‚»çš„ç”¨orå»è™•ç†äº†ã€‚\næœå‹™å™¨çˆ†ç‚¸ é€™å€‹èªæ³•æ™®éå‡ºç¾åœ¨æˆ‘æ‰€æœ‰éœ€è¦åšæ–°èˆŠè³‡æ–™å…¼å®¹çš„SQLä¸­ï¼Œç•¶æ™‚åœ¨å¯«çš„æ™‚å€™æƒ³èªªè‡ªå·±çœŸæ˜¯ç‰›é€¼ï¼Œå¤šåŠ äº†å¹¾å€‹å­—å°±è§£æ±ºå…¼å®¹æ€§çš„å•é¡Œï¼ŒçœŸæ˜¯å€‹ä¸ä¸–å‡ºçš„å¤©æ‰\næ²’æƒ³åˆ°é€™æ®µCodeè¢«ç™¼ä½ˆåˆ°æ­£å¼ç’°å¢ƒæ™‚ï¼Œå°±å‡ºç¾äº†jdbcé€£ç·šè¶…æ™‚çš„å•é¡Œã€‚\n1  druid.pool.DataSourceClosedException   å¾Œä¾†å¤§å®¶é–‹å§‹æ’æŸ¥å•é¡Œï¼Œæƒ³èªªç‚ºä»€éº¼jdbcæœƒçªç„¶å‡ºå•é¡Œï¼Œå¤§æ¦‚æ‰¾äº†ä¸€å€‹å¤šå°æ™‚ï¼Œå…¬å¸è£¡é¢ä¸€å€‹å¤§ä½¬èªª\nã€Œé€™å€‹sqlæœ‰å•é¡Œï¼Œæœ‰orå°è‡´æ•´å¼µè¡¨çš„æŸ¥è©¢æ™‚é–“å¢åŠ å¤ªå¤šï¼Œå°±æ˜¯é€™äº›orèªæ³•å°è‡´sqlåœ¨æŸ¥è©¢æ™‚è€—æ™‚å¤ªä¹…ï¼Œå› ç‚ºæ¸¬è©¦ç’°å¢ƒçš„è³‡æ–™ç›¸å°è¼ƒå°‘ï¼Œæ‰€ä»¥é€™å•é¡Œæ¸¬è©¦ç’°å¢ƒçœ‹ä¸å‡ºä¾†ã€\nå¾Œä¾†æœå°‹äº†ä¸€ä¸‹ï¼Œç™¼ç¾æœ€ä¸»è¦çš„å•é¡Œåœ¨æ–¼èªªwhereæ­é…oræœå°‹ï¼Œæœƒå°è‡´ç´¢å¼•å¤±æ•ˆ\nåŸå›  åƒè€ƒè‡³SQLä¸­ä½¿ç”¨orå½±å“æ€§èƒ½çš„è§£å†³åŠæ³•çš„è§£æ±ºæ–¹æ¡ˆï¼Œè£¡é¢å…§æ–‡æœ‰èªªåˆ°ï¼Œåœ¨whereä¸­ä½¿ç”¨orçš„æƒ…å½¢ä¸­ï¼Œå¯èƒ½æœƒå°è‡´SQLæ”¾æ£„ä½¿ç”¨indexï¼Œè½‰è€Œå»é€²è¡Œé€è¡¨Full Scanï¼Œå¦‚æœæ˜¯ä¸æœƒå¢é•·çš„è³‡æ–™é‚„å¥½ï¼Œä½†æœƒå“¡æ•¸æ˜¯æœƒå¢é•·çš„ï¼Œæ­£å¼ç’°å¢ƒå¯èƒ½æœ‰ä¸Šè¬ç­†çš„æœƒå“¡è³‡æ–™ï¼Œå°±ç­‰æ–¼SQLåœ¨åŸ·è¡Œæ™‚æœƒåƒå€‹ç™½ç™¡ä¸€æ¨£å‚»å‚»çš„å»æ‰¾å°æ‡‰çš„è³‡æ–™ï¼Œé€™ä»¶äº‹æƒ…çš„è¤‡é›œåº¦æ˜¯O(n)ï¼Œå¦‚æœçœŸçš„æœ‰éœ€è¦ç”¨åˆ°orçš„éœ€æ±‚ï¼Œä¹Ÿæ‡‰è©²ç”¨unionä¾†æ›¿ä»£ï¼Œç”¨oræœƒå°è‡´SQLæœå°‹ç›´æ¥ç‚¸æ‰ã€‚\nMySQL Explain ä»¥ä¸‹ç”¨æˆ‘è‡ªå·±side Projectçš„tableä¾†ç¤ºç¯„ï¼Œé€™å¼µtableæœ‰å…©å€‹indexï¼Œidè·Ÿstock_code\nåœ¨MySQLä¸­ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ä¸€å€‹æœå°‹èªå¥å‰é¢åŠ ä¸Šexplainï¼Œä¾†æŸ¥çœ‹SQLèªå¥çš„å¥æª¢å ±å‘Š\n1  select * from daily_stock_data;   ä½¿ç”¨explainå°±åƒé€™æ¨£\n1  explain select * from daily_stock_data;   ä½¿ç”¨explainæ™‚ï¼ŒåŸ·è¡Œçš„å°±ä¸æ˜¯é€™å€‹sqlæ‰€åŸ·è¡Œçš„çµæœï¼Œè€Œæ˜¯é€™å€‹sqlåŸ·è¡Œä¸‹ä¾†çš„ä¸€äº›æŒ‡æ¨™\n   id select_type table partitions type possible_keys key key_len ref rows filtered Extra     1 SIMPLE daily_stock_data null ALL null null null null 10428 100 null    æˆ‘å€‘å¯ä»¥æ³¨æ„possible_keysè·Ÿkeyï¼Œè€Œpossible_keysä»£è¡¨å¯èƒ½æœƒä½¿ç”¨åˆ°çš„indexï¼Œkeyå°±ä»£è¡¨å¯¦éš›æœ‰ä½¿ç”¨åˆ°çš„indexï¼Œåœ¨é€™å€‹æœå°‹ä¸­ï¼Œæˆ‘å€‘åŸºæœ¬ä¸Šæ²’æœ‰ç”¨åˆ°ä»»ä½•çš„indexï¼ˆä¹Ÿå¾ˆæ­£å¸¸ï¼Œç•¢ç«Ÿæˆ‘å€‘æœ¬ä¾†å°±æ²’ç”¨åˆ°ä»»ä½•æ¢ä»¶æœå°‹ï¼‰\né‚£æˆ‘å€‘æ¥ä¸‹ä¾†ç”¨stock_codeä¾†æœå°‹çœ‹çœ‹\n1  explain select stock_code from daily_stock_data where \u0026#39;2330\u0026#39;      id select_type table partitions type possible_keys key key_len ref rows filtered Extra     1 SIMPLE daily_stock_data null index null idx_stock_code 403 null 10428 100 Using index    æœƒç™¼ç¾æˆ‘å€‘çš„keyæœ‰å€¼äº†ï¼Œå°±ä»£è¡¨é€™æ¬¡çš„æœå°‹æˆ‘å€‘æœ‰ç”¨åˆ°indexå»è™•ç†ã€‚\né‚£æˆ‘å€‘æ¥ä¸‹ä¾†åŸ·è¡Œä¸€å€‹whereæ­é…orçš„æœå°‹\n1  explain select stock_code from daily_stock_data where date = \u0026#39;112/01/04\u0026#39; or stock_code = \u0026#39;2330\u0026#39;;   åœ¨é€™å€‹æƒ…æ³ä¸‹ï¼Œindexå°±å¤±æ•ˆäº†ï¼Œå¦‚æœæƒ³è¦oræœå°‹èƒ½å¤ ç‚ºä½¿ç”¨ç´¢å¼•ï¼Œæœ€ç°¡å–®çš„æ–¹å¼å°±æ˜¯å°‡ä½ è¦ä½œç‚ºæ¢ä»¶çš„å…©å€‹åˆ—éƒ½åŠ ä¸Šindexï¼Œå°±èƒ½è§£æ±ºé€™å€‹å…¨è¡¨æœå°‹æ€§èƒ½ä¸‹é™çš„å•é¡Œ\n   id select_type table partitions type possible_keys key key_len ref rows filtered Extra     1 SIMPLE daily_stock_data null ALL idx_stock_code null null null 10428 11.91 Using where    é—œæ–¼explainçš„å…§å®¹ï¼Œå¯ä»¥æŸ¥çœ‹ä»€éº¼ï¼Ÿæˆ‘å¯«çš„ä¸€æ¢SQLè®“å…¬å¸ç¶²ç«™ç™±ç˜“äº†â€¦SQLæ…¢æŸ¥è©¢æ”¹å–„ä¾†äº†è§£æ›´å¤š\nå¯èƒ½å°è‡´ç´¢å¼•å¤±æ•ˆçš„æ“ä½œ  å…¨æ¨¡ç³Šæœå°‹è·Ÿå·¦æ¨¡ç³Šæœå°‹(â€™ï¼…ABCï¼…â€˜, \u0026lsquo;%ABC\u0026rsquo;) ï¼Œå³æ¨¡ç³Šæœå°‹æ˜¯ä¸æœƒå½±éŸ¿åˆ°çš„(\u0026lsquo;ABC%') is null Where é…ä¸Š or inè·Ÿ not in ï¼Œå¯ä»¥ä½¿ç”¨betweenæ›¿ä»£ ä½¿ç”¨select * ä¹Ÿæœƒæ”¾æ£„indexæœå°‹  æ›´è©³ç´°çš„å…§å®¹å¯ä»¥åƒè€ƒä¼šå¼•èµ·å…¨è¡¨æ‰«æçš„å‡ ç§SQL ä»¥åŠsqlä¼˜åŒ– ï¼ˆè½¬ï¼‰\nåƒè€ƒè³‡æ–™ SQLä¸­ä½¿ç”¨orå½±å“æ€§èƒ½çš„è§£å†³åŠæ³•\nSQLä¸­ä½¿ç”¨orå½±å“æ€§èƒ½çš„è§£å†³åŠæ³•è½¬è½½\nSQL UNION vs OR æ€§èƒ½åŸåˆ›\nä»€éº¼ï¼Ÿæˆ‘å¯«çš„ä¸€æ¢SQLè®“å…¬å¸ç¶²ç«™ç™±ç˜“äº†â€¦SQLæ…¢æŸ¥è©¢æ”¹å–„\nä¼šå¼•èµ·å…¨è¡¨æ‰«æçš„å‡ ç§SQL ä»¥åŠsqlä¼˜åŒ– ï¼ˆè½¬ï¼‰\n","date":"2024-01-03T18:51:54+08:00","image":"https://i.imgur.com/RAhQlP7.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8sql%E4%B8%AD%E4%BD%BF%E7%94%A8or%E6%98%AF%E4%B8%80%E4%BB%B6%E9%9D%9E%E5%B8%B8%E5%8D%B1%E9%9A%AA%E7%9A%84%E4%BA%8B%E6%83%85/","title":"åœ¨SQLä¸­ä½¿ç”¨oræ˜¯ä¸€ä»¶éå¸¸å±éšªçš„äº‹æƒ…"},{"content":"çœ‹å®Œé€™ç¯‡åˆ¥å¿˜äº†çœ‹ä¸‹ç¯‡\nå¿«é€Ÿæ±‚å‡ºä¸‰éšçŸ©é™£çš„ä¼´éš¨çŸ©é™£ã€åçŸ©é™£\nä¹‹å‰åœ¨å­¸çš„æ™‚å€™æ—ç·¯æ˜¯æ•™é€™ç¨®å½¢å¼\nä½†çœ‹ä¸€çœ‹è¦ºå¾—çœŸçš„æ˜¯æœ‰å¤ ç³Šï¼Œå¾Œä¾†æœ‰ä¸€æ¬¡çœ‹åˆ°æœ‰æ›´æ–¹ä¾¿çš„åšæ³•\néç¨‹ çŸ©é™£å¦‚ä¸‹\næˆ‘å€‘æŠŠC1 C2 é‡è¤‡ä¸€éå¯«åœ¨å³é‚Š\nçµæœ æ¥è‘—åƒé€™æ¨£ç•«ï¼Œå°‡ç´…è‰²çš„å’Œæ¸›å»ç¶ è‰²çš„å’Œï¼Œå³ç‚ºæ‰€æ±‚\n","date":"2024-01-03T01:28:01+08:00","image":"https://i.imgur.com/hS0CXI6.png","permalink":"https://hoxtoncraft.com/p/%E6%87%B6%E4%BA%BA%E6%B1%82%E4%B8%89%E9%9A%8E%E7%9F%A9%E9%99%A3%E8%A1%8C%E5%88%97%E5%BC%8F%E7%9A%84%E6%96%B9%E6%B3%95/","title":"æ‡¶äººæ±‚ä¸‰éšçŸ©é™£è¡Œåˆ—å¼çš„æ–¹æ³•"},{"content":"åƒè€ƒç¶²å€ https://www.bilibili.com/video/BV1Sf4y1v77f?p=1\nå°ˆæ¡ˆç¨‹å¼ç¢¼ https://github.com/Hoxton019030/Django_pratice\nç­†è¨˜ ä½¿ç”¨condaä¾†å®‰è£DJango\n1  pip install django==2.0   è¼¸å…¥\n1  django-admin   å¯ä»¥æŸ¥çœ‹ä¸€äº›æŒ‡ä»¤é›†\n startproject å•Ÿå‹•djangoé …ç›® startapp å•Ÿç”¨djangoæ‡‰ç”¨ check æ•™é©—é …ç›®å®Œæ•´æ€§ runserver é€²å…¥djangoç’°å¢ƒ ä¸¦ä¸”é‹è¡Œdjangoé …ç›® shell é€²å…¥django shell test è·‘å–®å…ƒæ¸¬è©¦ makemigrations å‰µå»ºæ¨¡å‹è®Šæ›´çš„é·ç§»æ–‡ä»¶ migrate åŸ·è¡Œä¸Šä¸€å€‹å‘½ä»¤å‰µå»ºçš„é·ç§»æ–‡ä»¶ dumpdata æŠŠæ•¸æ“šåº«å°å‡ºåˆ°æ–‡ä»¶ loaddate æŠŠæ–‡ä»¶æ•¸æ“šå°å…¥åˆ°æ•¸æ“šåº«  å¦‚ä½•å‰µå»ºDjangoé …ç›® 1  django-admin startproject django_introduction   èªè­˜Djangoé …ç›®çµæ§‹  manage.py é …ç›®ç®¡ç†æ–‡ä»¶ settings.py é …ç›®é…ç½®æ–‡ä»¶ urls.py djangoè·¯ç”±æ–‡ä»¶ wsgi.py ä¸çŸ¥é“æ˜¯å•¥  æ­¤æ™‚å¯ä»¥åœ¨æ ¹ç›®éŒ„åº•ä¸‹é‹è¡Œ\n1  python manage.py runserver   å¦‚æœæœ‰çœ‹åˆ°é€™å€‹ç•«é¢å°±ä»£è¡¨æˆåŠŸäº†ï¼\nDjangoæ‡‰ç”¨ Vs Djangoé …ç›®\nä¸€å€‹Djangoé …ç›®å°±æ˜¯ä¸€å€‹åŸºæ–¼Djangoçš„webæ‡‰ç”¨\nä¸€å€‹Djangoæ‡‰ç”¨å°±æ˜¯ä¸€å€‹å¯é‡ç”¨çš„Pythonè»Ÿé«”åŒ…\nä¸€å€‹Djangoæ‡‰ç”¨å¯ä»¥è‡ªå·±ç®¡ç†æ¨¡å‹ã€è¦–åœ–ã€æ¨¡æ¿ã€è·¯ç”±ã€éœæ…‹æ–‡ä»¶\nä¸€å€‹Djangoé …ç›®å¯ä»¥åŒ…å«ä¸€çµ„é…ç½®å’Œè‹¥å¹²å€‹Djangoæ‡‰ç”¨\nå¦‚ä½•å‰µå»ºDjangoæ‡‰ç”¨ 1  python manage.py startapp blog   å°±æœƒåœ¨å‰µå»ºä¸€å€‹åç‚ºblogçš„æ‡‰ç”¨\nDjangoæ‡‰ç”¨ç›®éŒ„ä»‹ç´¹  view.py è¦–åœ–è™•ç†çš„åœ°æ–¹ models.py å®šç¾©æ‡‰ç”¨æ¨¡å‹çš„åœ°æ–¹ admin.py å®šç¾©Adminæ¨¡å¡Šç®¡ç†å°è±¡çš„åœ°æ–¹ apps.py è²æ˜æ‡‰ç”¨çš„åœ°æ–¹ test.py ç·¨å¯«æ‡‰ç”¨æ¸¬è©¦çš„åœ°æ–¹ urls.py (è¦è‡ªè¡Œå‰µå»º) ç®¡ç†æ‡‰ç”¨è·¯ç”±çš„åœ°æ–¹  Djangoè¦–åœ– 1 2 3 4 5 6 7 8 9  from django.shortcuts import render from django.http import HttpResponse # Create your views here. # requestè¦åŠ  def hello_world(request): # è¦æŠŠå›å‚³çš„æ±è¥¿åŒ…è£æˆHttpResponseç‰©ä»¶ return HttpResponse(\u0026#34;Hello world!\u0026#34;)   Django è·¯ç”± Djangoç›®å‰å°æˆ‘å€‘çš„å¯¦ç¾çš„è¦–åœ–ä¸€ç„¡æ‰€çŸ¥ï¼Œè«‹æ±‚ç„¡æ³•åˆ°é”ï¼Œæ‰€ä»¥éœ€è¦é…ç½®è·¯ç”±ï¼Œå°‡è¦–åœ–å‡½æ•¸èˆ‡URLé€²è¡Œç¶å®š\nè·¯ç”±é…ç½®æœ‰åˆ†æˆ\n æ‡‰ç”¨å±¤æ¬¡çš„è·¯ç”± é …ç›®å±¤æ¬¡çš„è·¯ç”±  é¦–å…ˆé…ç½®æ‡‰ç”¨å±¤æ¬¡çš„è·¯ç”±ï¼Œé¦–å…ˆæ–°å¢urls.pyçš„æª”æ¡ˆ\næ‡‰ç”¨å±¤æ¬¡çš„è·¯ç”±é…ç½® blog ä¸­çš„urls.pyé€™æ¨£å¯«\n1 2 3 4 5 6 7 8  from django.urls import path, include import blog.views urlpatterns=[ # å¦‚æœè·¯ç”±å«æœ‰hello_worldï¼Œå‰‡è½‰ç™¼åˆ°blog.views.hello_world è¨˜å¾—ä¸ç”¨å¸¶() path(\u0026#34;hello_world\u0026#34;, blog.views.hello_world) ]   é …ç›®å±¤æ¬¡çš„è·¯ç”± åœ¨é …ç›®çš„urls.pyä¸­ï¼Œé€™æ¨£å¯«\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  \u0026#34;\u0026#34;\u0026#34;django_introduction URL Configuration The `urlpatterns` list routes URLs to views. For more information please see: https://docs.djangoproject.com/en/2.0/topics/http/urls/ Examples: Function views 1. Add an import: from my_app import views 2. Add a URL to urlpatterns: path(\u0026#39;\u0026#39;, views.home, name=\u0026#39;home\u0026#39;) Class-based views 1. Add an import: from other_app.views import Home 2. Add a URL to urlpatterns: path(\u0026#39;\u0026#39;, Home.as_view(), name=\u0026#39;home\u0026#39;) Including another URLconf 1. Import the include() function: from django.urls import include, path 2. Add a URL to urlpatterns: path(\u0026#39;blog/\u0026#39;, include(\u0026#39;blog.urls\u0026#39;)) \u0026#34;\u0026#34;\u0026#34; from django.contrib import admin from django.urls import path,include urlpatterns = [ path(\u0026#39;admin/\u0026#39;, admin.site.urls), path(\u0026#39;blog/\u0026#39;,include(\u0026#39;blog.urls\u0026#39;)) # è‹¥urlåŒ…å«blog/ï¼Œå‰‡è½‰ç™¼è‡³blogè³‡æ–™å¤¾åº•ä¸‹çš„urls ]   èª¿æ•´settings.py æœ€å¾Œå»èª¿æ•´é …ç›®çš„settings.pyï¼ŒæŠŠblogçš„configæ·»åŠ åˆ°é …ç›®ä¸­\nå•Ÿå‹•å°ˆæ¡ˆ è¼¸å…¥\n1  python manage.py runserver   æ¥è‘—è¨ªå•\nhttp://127.0.0.1:8000/blog/hello_world\nå°±æœ‰hello worldäº†ï¼\nDjangoè·¯ç”±åœ– ","date":"2023-12-27T02:46:29+08:00","image":"https://i.imgur.com/fIk8FK8.jpg","permalink":"https://hoxtoncraft.com/p/django%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Djangoå­¸ç¿’ç­†è¨˜"},{"content":"1 2 3 4 5 6 7 8 9 10 11 12 13 14  public static String readFileAsString(File file) { StringBuilder content = new StringBuilder(); try (BufferedReader br = new BufferedReader(new FileReader(file))) { String line; while ((line = br.readLine()) != null) { content.append(line).append(\u0026#34;\\n\u0026#34;); } } catch (IOException e) { e.printStackTrace(); // å¯ä»¥æ ¹æ“šéœ€è¦é€²è¡ŒéŒ¯èª¤è™•ç†  } return content.toString(); }   ","date":"2023-12-27T00:34:04+08:00","image":"https://i.imgur.com/RFS2LGT.png","permalink":"https://hoxtoncraft.com/p/java%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-%E5%B0%87%E6%AA%94%E6%A1%88%E8%AE%80%E6%88%90string/","title":"Javaå¸¸ç”¨æ–¹æ³• å°‡æª”æ¡ˆè®€æˆString"},{"content":"çœæµ å¦‚æœä½ æ˜¯ç”¨SpringBoot 3 çš„è©±ï¼Œä½ çš„Mybatisç‰ˆæœ¬ä¹Ÿè¦æ›´æ–°åˆ°3ï¼Œä¸ç„¶æœƒä¸€ç›´å‡ºç¾\n1  Parameter 1 of constructor in ...required a bean of type ... that could not be found.   é€™æ¨£çš„éŒ¯èª¤ï¼ŒæŠŠä½ çš„pomæ›´æ–°æˆé€™æ¨£å°±å¯ä»¥äº†\n1 2 3 4 5  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;   æ•…äº‹ é€™é™£å­åœ¨åšSideProjectï¼Œæƒ³ç·´ç¿’redis, rebbitMQ, ä»¥åŠElastic Searchã€‚åœ¨å¼•å…¥MyBatisæ™‚å‡ºç¾äº†ä¸€å€‹éŒ¯èª¤(åœ–æ˜¯ç¶²è·¯æ‰¾çš„)\nç•¶æ™‚ç™¾æ€ä¸å¾—å…¶è§£ï¼Œæˆ‘è©²åŠ çš„AnnotationåŠ äº†ï¼Œmy-batis xmlä¹Ÿé…äº†ï¼Œè©²è™•ç†çš„éƒ½è™•ç†äº†ï¼Œä½†ä¸çŸ¥é“ç‚ºä»€éº¼å°±æ˜¯æ‰¾ä¸åˆ°ï¼ŒæœŸé–“ä¾†å›è©¦äº†å¤šç¨®æ–¹æ³•ï¼Œç”¨ApplicationContextå»æ‰¾beanå‘€ï¼Œæ”¹æˆç”¨setteræ³¨å…¥å‘€ä¹‹é¡çš„æ–¹å¼éƒ½ä¸è¡Œï¼Œå¤§æ¦‚é€™æ¨£ä¾†å›æŠ˜é¨°äº†ä¸‰å››å€‹å°æ™‚ã€‚\nå¾Œä¾†å¯¦åœ¨æ²’è¾¦æ³•ï¼Œè·‘å»åŸ·è¡Œä»¥å‰çš„å°ˆæ¡ˆï¼Œç™¼ç¾ç›¸åŒçš„é…ç½®ä¸‹ä¸çŸ¥é“ç‚ºä»€éº¼è·‘å¾—èµ·ä¾†ï¼Œä½†æˆ‘çš„å°±ä¸è¡Œï¼Œæ–¼æ˜¯å°±æƒ³åˆ°äº†\nã€Œé˜¿å¹¹ä½ åª½çš„ï¼ŒSpringBootæœ€è¿‘å¥½åƒå‡ç´šåˆ°3.0äº†ã€\nï¼ˆä¸ç®¡æ˜¯IDEAæˆ–æ˜¯Spring Initializréƒ½æ²’è¾¦æ³•åœ¨ä¸‹è¼‰2.0ç‰ˆæœ¬çš„SpringBootäº†)\nç„¶å¾Œé †è‘—é€™å€‹ç·šç´¢ï¼Œåˆ°æˆ‘çš„POMè£¡é¢å»çœ‹ï¼Œæœç„¶çœ‹åˆ°äº†æˆ‘çš„MyBatisç‰ˆæœ¬é‚„ç•™åœ¨2.0ç‰ˆï¼Œæ¥è‘—é‡æ–°æ‰¾ä¸€å€‹æ”¯æ´3.0çš„ç‰ˆæœ¬\nShift shift -\u0026gt; reload maven project\né€™æ¨£å°±å¯ä»¥é‹è¡Œèµ·ä¾†äº†ã€‚é †ä¾¿æŠ±æ€¨ä¸€ä¸‹ï¼Œ3.0å¥½åƒæœ‰æ›´æ–°éäº†ï¼Œæˆ‘è¨˜å¾—å‰›å‡ºä¾†çš„æ™‚å€™é‚„å¼·åˆ¶è¦å¯«dockerfile = =\næœ€è¿‘åœ¨å‰µå»ºæ–°å°ˆæ¡ˆçš„æ™‚å€™å°±æ²’é€™å€‹å•é¡Œäº†\n","date":"2023-12-04T16:28:43+08:00","image":"https://i.imgur.com/OXooq5i.png","permalink":"https://hoxtoncraft.com/p/%E8%99%95%E7%90%86-mybatis%E5%B0%8E%E8%87%B4%E7%9A%84-parameter-1-of-constructor-in-...required-a-bean-of-type-...-that-could-not-be-found./","title":"è™•ç† Mybatiså°è‡´çš„ Parameter 1 of constructor in ...required a bean of type ... that could not be found."},{"content":"å‰é™£å­å…¬å¸æœ‰å€‹éœ€æ±‚ï¼Œæ˜¯è¦ç”¨Elastic Searchæ’ˆå‡ºå››ç­†ç´„20è¬é•·åº¦å·¦å³çš„Liståšæ•¸æ“šè™•ç†ï¼Œé‚£æ™‚å€™çœ‹åˆ°åŒäº‹ç”¨äº†é€™å€‹CompletableFutureçš„Lambdaï¼Œç•¶æ™‚çœ‹åˆ°é€™å€‹æ±è¥¿çš„æ™‚å€™\nå¾Œä¾†ç¨å¾®çœ‹äº†ä¸€ä¸‹ï¼Œæˆ‘æ„Ÿè¦ºé€™å€‹æ‡‰è©²å°±æ˜¯Java8å°æ–¼Asyncæ“ä½œçš„å°è£è©³è«‹å¯ä»¥çœ‹é€™é‚Šã€‚\nå¦‚æœç”¨å½¢è±¡åŒ–ä¸€é»çš„æ¯”å–»çš„è©±ï¼ŒCompletableFutureå°±åƒæ˜¯ä¸–ç´€å¸åœ‹çš„è¾²æ°‘ã€é­”ç¸çˆ­éœ¸çš„å»ºç¯‰å·¥äººä¸€æ¨£\nä½ åœ¨éŠæˆ²ä¸€é–‹å§‹å¯èƒ½æœƒæ´¾å¹¾å€‹è¾²æ°‘å»æŒ–ç¤¦ã€ç æ¨¹ï¼Œç•¶ç„¶ä¹Ÿæœƒå«å¹¾å€‹è¾²æ°‘å»è“‹å»ºç¯‰ç‰©ï¼Œè€Œé€™äº›ä½ ä¸‹é”æŒ‡ä»¤ï¼Œå¾ŒçºŒå°±ä¸ç”¨åœ¨ç®¡ä»–çš„è¡Œç‚ºå…¶å¯¦å°±å¾ˆåƒCompleteFutureçš„åœ¨åšçš„äº‹ï¼Œè€ŒCompleteFutureèˆ‡ä¸€èˆ¬çš„Asyncï¼Œæœ€å¤§çš„å·®ç•°åœ¨æ–¼CompleteFutureæ”¯æ´äº†ä¸€ç³»åˆ—å¾ŒçºŒæ“ä½œï¼Œæ¯”å¦‚èªªç•¶ä½ ç¬¬ä¸€å€‹Futureå®Œæˆï¼Œæ¥è‘—åšçš„.thenApply .whenComplete .thenAccept ï¼Œæˆ–æ˜¯Future æ‹‹å‡ºä¾‹å¤–æ™‚åšçš„exceptionallyç­‰ç­‰ï¼Œè®“éåŒæ­¥çš„æ“ä½œèˆ‡Method chainingå…©è€…çµåˆåœ¨ä¸€èµ·\nå¯¦éš›æ¼”ç·´ æ¨è–¦çš„å¤–éƒ¨é€£çµ https://popcornylu.gitbooks.io/java_multithread/content/async/cfuture.html\nhttps://www.zhihu.com/question/433003386\n","date":"2023-12-03T11:34:45+08:00","image":"https://i.imgur.com/bbIoOnR.png","permalink":"https://hoxtoncraft.com/p/java%E7%95%B0%E6%AD%A5%E5%9F%B7%E8%A1%8C%E5%B0%8F%E7%B2%BE%E9%9D%88-completablefuture%E4%BB%8B%E7%B4%B9/","title":"Javaç•°æ­¥åŸ·è¡Œå°ç²¾éˆ CompletableFutureä»‹ç´¹"},{"content":"å‰è¨€ å”‰å‘€å‘€ï¼Œæœ€è¿‘å¯¦åœ¨æ˜¯å¤ªå¿™äº†ï¼Œé€™é™£å­ä¸€ç›´åœ¨å¿™å…¬å¸çš„å…§å®¹ï¼Œæ²’å•¥æ™‚é–“æ›´æ–°éƒ¨è½æ ¼ï¼Œè¶è‘—ä»Šå¤©å‰›æ´—å¥½æ¾¡çš„æ™‚å€™ä¾†æ›´æ–°ä¸€ä¸‹ï¼Œé€™æ¬¡æƒ³è¬›çš„æ˜¯IntelliJçš„ä¸€å€‹åŠŸèƒ½å«åšCode Completeï¼Œé€™åŠŸèƒ½æ˜¯å•¥å’§ï¼Ÿ\nIntelliJè£¡é¢ä½ å¯ä»¥é€ésoutå¿«é€Ÿç”¢ç”ŸSystem.out.println(\u0026quot;\u0026quot;)çš„æ¨¡æ¿å°å§ï¼Œé€™å€‹åŠŸèƒ½å°±å«åšCode Completeã€‚ä¹‹æ‰€ä»¥æœƒä»‹ç´¹é€™å€‹åŠŸèƒ½ï¼Œæ˜¯å› ç‚ºå…¬å¸çš„Codeæ²’æœ‰è¾¦æ³•åœ¨æœ¬åœ°ç’°å¢ƒé‹è¡Œï¼Œåªèƒ½åœ¨ä¼ºæœå™¨ä¸Šè·‘ï¼Œæ‰€ä»¥debuggeré€™å€‹åŠŸèƒ½æ˜¯å®Œå…¨ä¸è¡Œçš„\næ‰€ä»¥ç•¶æˆ‘å€‘è¦æ¸¬è©¦ä¸€å€‹æ±è¥¿æ™‚ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯logäº†ï¼Œæˆ‘å€‘log everythingï¼ŒListä¹Ÿlogï¼Œobjectä¹Ÿlogï¼Œä¸èƒ½logçš„å°±åŠ ä¸Šï¼ ToStringè®“ä»–logå‡ºä¾†ï¼Œå› æ­¤æˆ‘ç”¢ç”Ÿäº†å¾ˆå¤§é‡éœ€è¦logçš„éœ€æ±‚ï¼Œä¾‹å¦‚\n1  log.info(\u0026#34;HoxtonæŸ¥çœ‹listé•·åº¦ç‚º{}\u0026#34;,list.size())   é€™æ¨£çš„codeï¼Œé »ç¹çš„å‡ºç¾åœ¨æˆ‘çš„æ¸¬è©¦åˆ†æ”¯ä¸Šï¼Œä¸€ä¾†ä¸€å¾€çœŸçš„æ˜¯å¾ˆéº»ç…©ï¼Œæ–¼æ˜¯æˆ‘å°±æƒ³åˆ°äº†æˆ‘å¯æ„›çš„soutï¼Œå¦‚æœèƒ½è®“logé€™ä»¶äº‹æƒ…è®Šå¾—åƒsoutä¸€æ¨£ç°¡å–®ï¼Œé‚£éº¼æˆ‘çš„ç”¢å‡ºä¸€å®šæœƒå´—å´—æ»´ï¼ˆäº‹å¯¦è­‰æ˜æ²’æœ‰ï¼Œæˆ‘åªæ˜¯ç”¨æ›´å¿«çš„æ–¹å¼å‡ºéŒ¯è€Œå·²ï¼‰\nå¯¦ç¾ è¦å¯¦ç¾é€™å€‹åŠŸèƒ½ï¼Œå°±è¦ä½¿ç”¨postfix completeé€™å€‹åŠŸèƒ½ï¼Œç•«é¢å¦‚ä¸‹\næˆ‘å€‘æ–°å¢ä¸€å€‹Javaæ¨¡æ¿\nç„¶å¾Œç…§é€™æ¨£è¼¸å…¥\n1  log.info(\u0026#34;Hoxton logæ¸¬è©¦$EXPR$:{}\u0026#34;,$EXPR$);   é€™æ¨£å°±èƒ½å¤ å¿«é€Ÿçš„logå‡ºè³‡æ–™å›‰ï¼\nå¦‚æœæœ‰éœ€è¦log Stringçš„è©±ï¼Œéœ€è¦å†æ–°å¢ä¸€å€‹logsï¼Œå› ç‚ºlogé€™å€‹postfixå¦‚æœæ‰“å°æ–‡å­—æœƒå‡ºç¾æ ¼å¼éŒ¯èª¤çš„å•é¡ŒQQï¼Œé€™æˆ‘é‚„æ²’æƒ³å¥½æ€éº¼ä¿®\nå¦‚æ­¤ä¸€ä¾†å°±èƒ½å¤ å¿«é€Ÿåœ°æ‰“å°å‡ºlogå›‰ï¼\n","date":"2023-11-22T02:05:31+08:00","image":"https://i.imgur.com/oRRgTer.jpg","permalink":"https://hoxtoncraft.com/p/intellij%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9Flog%E6%A8%A1%E6%9D%BF/","title":"IntelliJå¿«é€Ÿç”¢ç”Ÿlogæ¨¡æ¿"},{"content":"éå¸¸ç—›è‹¦\u0026hellip;ç‚ºäº†è‹Ÿéè©¦ç”¨æœŸã€ä¸æˆç‚ºåœ˜éšŠçš„bottleneckï¼Œè¢«è¿«åŠå¤œåœ¨é€™é‚Šå­¸é€™å€‹shit\næœ¬æ–‡æœƒç”¨åˆ°çš„é€£çµ\nHow to Integrate Elastic Search With Spring Boot CRUD Project| Spring Boot | Elasticsearch| EnggAdda\né€™æ±è¥¿çš„å‘çœŸçš„å¾ˆå¤š springBoot Elastic Search é‚„æœ‰ç›¸é—œçš„å¥—ä»¶ç‰ˆæœ¬å¿…é ˆä¸€è‡´\n","date":"2023-11-01T02:16:35+08:00","image":"https://i.imgur.com/PKZTCYE.png","permalink":"https://hoxtoncraft.com/p/springboot%E8%88%87elasticsearch%E7%9A%84%E7%B5%90%E5%90%88/","title":"SpringBootèˆ‡ElasticSearchçš„çµåˆ"},{"content":"æœ¬æ–‡æœƒç”¨åˆ°çš„é€£çµ\nBeginner\u0026rsquo;s Crash Course to Elastic Stack - Part 1: Intro to Elasticsearch and Kibana\næˆ‘çš„ä¸»Â¡ç®¡åº•ä¸‹æœ‰ä¸‰å€‹å“¡å·¥ï¼Œæˆ‘æ˜¯å…¶ä¸­ä¸€ä½ï¼Œä»Šå¤©ä¸»ç®¡èªªæœ‰ä¸€å€‹æ–°éœ€æ±‚è¦äº¤ä»£ï¼Œæ´¾çµ¦äº†å¦å¤–å…©å€‹åŒäº‹ï¼Œä½†æ²’æ´¾çµ¦æˆ‘ï¼Œç‚ºäº†å±•ç¾æœ¬äººä¸€å¿ƒå‘å­¸çš„å€‹æ€§(å¿«æ‰“è€ƒç¸¾äº†ï¼Œè¦ç‹—è…¿ä¸€é»ï¼Œä¸¦ä¸”å¸Œæœ›å¯ä»¥è‹Ÿéé©ç”¨æœŸ)ï¼Œæˆ‘ä¾¿å¾ˆå‡æ°çš„å•äº†ä¸€ä¸‹\nã€Œä¸å¥½æ„æ€ï¼Œè«‹å•ç­‰ç­‰çš„æœƒè­°ï¼Œé›–ç„¶æˆ‘æ²’æœ‰è¢«åˆ†é…åˆ°å·¥ä½œï¼Œä½†æˆ‘ä¹Ÿæƒ³åƒåŠ ï¼Œä¸çŸ¥é“å¯ä»¥å—ï¼Ÿã€\nä¸­åˆåƒåŠ æœƒè­°å®Œå¾Œï¼Œä¸»ç®¡ä¾¿æ‰“é›»è©±çµ¦æˆ‘\nã€ŒHoxtonï¼Œå‰›å‰›çš„æœƒè­°ä½ æœ‰åƒåŠ é½ï¼Ÿç¾åœ¨æœ‰å¤šäº†ä¸€å€‹æ–°çš„éœ€æ±‚OOOï¼Œå†è«‹ä½ è™•ç†ä¸€ä¸‹ã€\nã„ã„ ï¼Œçµæœæ–°çš„éœ€æ±‚æœƒç”¨åˆ°Elastic Search æˆ‘å®Œå…¨ä¸æ‡‚ï¼Œæ­»å®š\nå®‰è£Elastic Search Kibana æœ¬äººå¼·çƒˆå»ºè­°ï¼Œä¸€ç‡å®‰è£8.1.0çš„ç‰ˆæœ¬ï¼ï¼ï¼\nElastic Searchæ˜¯ä¸€å€‹ç¨‹å¼ï¼Œè€ŒKibanaå‰‡æ˜¯å®ƒçš„GUI\nç›¸é—œçš„å®‰è£å¯ä»¥åˆ°Udemyä¸ŠæŸ¥çœ‹ï¼Œé€™ä¹Ÿæ˜¯æˆ‘æœ€æ¨è–¦çš„æ–¹å¼ï¼Œå®‰è£çš„éƒ¨åˆ†æ˜¯å…è²»å¯ä»¥çœ‹çš„\næ•™å­¸é€£çµUdemy\nåˆ°é€™é‚Šä¸‹è¼‰å°æ‡‰ç‰ˆæœ¬çš„Elastic Searchï¼Œå†æ¬¡å¼·èª¿ï¼Œå®‰è£8.1.0\nhttps://www.elastic.co/downloads/elasticsearch\n2024/4/27è£œå……\n ä¸‹è¼‰å®Œå¾Œï¼Œé€²åˆ°æ ¹ç›®éŒ„ä¸­ï¼Œæœ¬äººå¼·çƒˆå»ºè­°ç·¨è¼¯ config/elasticsearch.yml ä¸­çš„å…©å€‹å€¼\né—œé–‰sslèªè­‰\n1 2  xpack.security.http.ssl:enabled:false  é—œé–‰å¸³è™Ÿå¯†ç¢¼èªè­‰\n1  xpack.security.enabled:false   é—œé–‰é€™å…©å€‹æœƒè®“ä½ å°‘å¾ˆå¤šç—›è‹¦ï¼Œç›¸ä¿¡æˆ‘\nè§£å£“é–å®Œå¾Œé€²å…¥åˆ°Elastic Searchçš„æ ¹ç›®éŒ„ä¸­ï¼Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œå°±å¯ä»¥å•Ÿç”¨ElasticSearchäº†\n1  bin/elasticsearch   åœ¨å•Ÿå‹•å®Œæˆå¾Œï¼ŒElasticSearchæœƒç‚ºæˆ‘å€‘å‰µå»ºä¸€å€‹è¶…ç´šä½¿ç”¨è€…ï¼Œä¸¦æœƒæŠŠå®ƒçš„å¯†ç¢¼è¼¸å‡ºåœ¨terminalä¸­\nå¦‚æœä½ ä¸å¹¸å¿˜è¨˜äº†å¯†ç¢¼ï¼Œå¯ä»¥è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä¾†é‡ç½®\n1  bin/elasticsearch-reset-password -u elastic   é‚„æœƒç”¢ç”Ÿä¸€çµ„Tokenç”¨ä½œKibanaçš„é€£æ¥ï¼Œé€™çµ„Tokenæœƒå­˜çºŒ30åˆ†é˜\nç•¶ç„¶ï¼Œå¦‚æœä½ ä¸å¹¸åˆå¿˜è¨˜äº†ï¼Œå¯ä»¥è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä¾†é‡æ–°ç²å–\n1  bin/elasticsearch-create-enrollment-token --scope kibana   æ¥è‘—å®‰è£Kibana\nå†æ¬¡å†æ¬¡å¼·èª¿ï¼Œè«‹å®‰è£8.1.0çš„ç‰ˆæœ¬\nå®‰è£è§£å£“ç¸®å®Œï¼Œåˆ°Kibanaçš„æ ¹ç›®éŒ„ä¸‹åŸ·è¡Œ\n1  bin/kibana   å°±å¯ä»¥å•Ÿå‹•Kibanaï¼Œä¸¦ä¸”è¨ªå•å°æ‡‰çš„é é¢\nURL : http://localhost:5601/app/home#/\næ¥è‘—æŒ‰ç…§ä»–çš„è¦æ±‚ï¼ŒæŠŠElastic Searchæ‰€æä¾›çš„tokenå¡«å…¥Kibanaä¸­\nç„¶å¾Œå¸³è™Ÿå¯†ç¢¼çš„éƒ¨åˆ†ä¹Ÿæ˜¯è«‹æŸ¥çœ‹Elastic Searchçš„Terminal\né€™æ¨£å°±å®Œæˆç™»å…¥äº†ï¼çœŸçš„æ˜¯æ“ä½ åª½çš„8.11ç‰ˆæœ¬ï¼Œæˆ‘æè¶…ä¹…ï¼Œå¾Œä¾†é™æˆ8.1.0å°±æ²’å•é¡Œäº†ï¼Œæˆ‘çœŸçš„æ˜¯å¹¹ä½ åª½çš„Elastic Search\nå¦‚ä½•ä½¿ç”¨Kibana URL : http://localhost:5601/app/home#/\né€²å…¥Kibanaå¾Œé»é¸é€™é‚Š\næŒ‰ä¸‹é€™å€‹è³¤ï¼Œå°±å¯ä»¥é€å‡ºè«‹æ±‚å›‰ï¼\nElastic Search ä»‹ç´¹ å¸¸è¦‹çš„ä½¿ç”¨å ´æ™¯æœ‰ï¼šUberåœ¨æœå°‹é§•é§›ã€æœå°‹é™„è¿‘çš„é¤å»³ã€éŠæˆ²çš„æ•¸æ“šæœé›†ã€Tinderé…å°ã€ç«æ˜Ÿå¥½å¥‡å¿ƒè™Ÿçš„æ•¸æ“šæ”¶é›†ã€Logç´€éŒ„ã€å®‰å…¨æ€§åˆ†æç­‰ç­‰\nä¸¦ä¸æ˜¯ä¸€å€‹Databaseï¼Œä»–æ›´åƒæ˜¯ä¸€å€‹æœå°‹èˆ‡åˆ†æçš„å·¥å…·\nIndex Document Field ElasticSearchçš„Requestæ ¼å¼ æœ¬ç« ç¯€åƒè€ƒè‡³\nBeginner\u0026rsquo;s Crash Course to Elastic Stack - Part 1: Intro to Elasticsearch and Kibana\næ–‡ç« å…§å®¹ä¾†è‡ªï¼šPart-1-Intro-to-Elasticsearch-and-Kibana\nç·¨è¼¯ä¸€ä¸‹elastic/congig/elasticsearch.ymlçš„æª”æ¡ˆï¼Œå°‡é€™clusterè·Ÿnodeå‘½åå¦‚ä¸‹\næŸ¥çœ‹clusterç‹€æ…‹ 1  GET _API/åƒæ•¸   å¤§æ¦‚æ˜¯é•·é€™æ¨£ï¼Œæ¯”å¦‚èªªä»¥ä¸‹çš„æ ¼å¼å°±æ˜¯å»æŸ¥clusterçš„å¥åº·ç‹€æ³\n1  GET _cluster/health   å›æ‡‰çš„çµæœå°±æ˜¯é€™æ¨£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  { \u0026#34;cluster_name\u0026#34; : \u0026#34;elasticsearch\u0026#34;, \u0026#34;status\u0026#34; : \u0026#34;green\u0026#34;, \u0026#34;timed_out\u0026#34; : false, \u0026#34;number_of_nodes\u0026#34; : 1, \u0026#34;number_of_data_nodes\u0026#34; : 1, \u0026#34;active_primary_shards\u0026#34; : 11, \u0026#34;active_shards\u0026#34; : 11, \u0026#34;relocating_shards\u0026#34; : 0, \u0026#34;initializing_shards\u0026#34; : 0, \u0026#34;unassigned_shards\u0026#34; : 0, \u0026#34;delayed_unassigned_shards\u0026#34; : 0, \u0026#34;number_of_pending_tasks\u0026#34; : 0, \u0026#34;number_of_in_flight_fetch\u0026#34; : 0, \u0026#34;task_max_waiting_in_queue_millis\u0026#34; : 0, \u0026#34;active_shards_percent_as_number\u0026#34; : 100.0 }   æŸ¥çœ‹nodeç‹€æ…‹ å†ç™¼ä¸€å€‹è«‹æ±‚ï¼ŒæŸ¥çœ‹nodeçš„ç‹€æ…‹ï¼Œç¢ºèªæˆ‘å€‘å°nodeçš„é‡æ–°å‘½åæœ‰ç”Ÿæ•ˆ\n1  GET _nodes/stats   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  { \u0026#34;_nodes\u0026#34; : { \u0026#34;total\u0026#34; : 1, \u0026#34;successful\u0026#34; : 1, \u0026#34;failed\u0026#34; : 0 }, \u0026#34;cluster_name\u0026#34; : \u0026#34;elasticsearch\u0026#34;, \u0026#34;nodes\u0026#34; : { \u0026#34;yz_GM-vITti54G1nS6GiEg\u0026#34; : { \u0026#34;timestamp\u0026#34; : 1698688524532, \u0026#34;name\u0026#34; : \u0026#34;curd_node\u0026#34;, \u0026#34;transport_address\u0026#34; : \u0026#34;127.0.0.1:9300\u0026#34;, \u0026#34;host\u0026#34; : \u0026#34;127.0.0.1\u0026#34;, \u0026#34;ip\u0026#34; : \u0026#34;127.0.0.1:9300\u0026#34;, \u0026#34;roles\u0026#34; : [ \u0026#34;data\u0026#34;, \u0026#34;data_cold\u0026#34;, \u0026#34;data_content\u0026#34;, \u0026#34;data_frozen\u0026#34;, \u0026#34;data_hot\u0026#34;, \u0026#34;data_warm\u0026#34;, \u0026#34;ingest\u0026#34;, \u0026#34;master\u0026#34;, \u0026#34;ml\u0026#34;, \u0026#34;remote_cluster_client\u0026#34;, \u0026#34;transform\u0026#34; ...ä»¥ä¸‹ç•¥ }   å¾é€™å€‹Responseæˆ‘å€‘ä¹Ÿå¯ä»¥ç¢ºå®šï¼Œæˆ‘å€‘å°elasticsearch.ymlçš„ä¿®æ”¹(æ›´æ”¹clusterä»¥åŠnodeåç¨±ï¼Œç¢ºå¯¦æ˜¯æœ‰ç”Ÿæ•ˆçš„)\nå‰µå»ºindex 1  PUT {NameOfTheIndex}   1  PUT favorite_candy   å„²å­˜Documentåˆ°indexä¸­(Create) æœ‰å…©ç¨®æ–¹å¼ï¼Œä¸€ç¨®æ˜¯é€éPUTã€å¦ä¸€ç¨®æ˜¯é€éPOSTï¼Œå…©è€…çš„å·®åˆ¥å¦‚ä¸‹\n ç•¶ä½¿ç”¨POSTæ™‚ï¼Œelastic searchæœƒè‡ªå‹•ç‚ºä½ çš„documentå‰µå»ºid ä½¿ç”¨PUTæ™‚ï¼Œä»£è¡¨ä½ è¦è‡ªå·±æŒ‡å®šdocumentçš„idæ˜¯ä»€éº¼  Postæ–¹å¼ Reqeust\n1 2 3 4  POST favorite_candy/_doc {\u0026#34;first_name\u0026#34;:\u0026#34;Lisa\u0026#34;, \u0026#34;candy\u0026#34;:\u0026#34;Sour Skittles\u0026#34; }   Response\n1 2 3 4 5 6 7 8 9 10 11 12 13  { \u0026#34;_index\u0026#34; : \u0026#34;favorite_candy\u0026#34;, \u0026#34;_id\u0026#34; : \u0026#34;RXvLgYsBNuMe8RFD4lGF\u0026#34;, \u0026#34;_version\u0026#34; : 1, \u0026#34;result\u0026#34; : \u0026#34;created\u0026#34;, \u0026#34;_shards\u0026#34; : { \u0026#34;total\u0026#34; : 2, \u0026#34;successful\u0026#34; : 1, \u0026#34;failed\u0026#34; : 0 }, \u0026#34;_seq_no\u0026#34; : 0, \u0026#34;_primary_term\u0026#34; : 1 }   Putæ–¹å¼ é‚£å€‹1ä»£è¡¨æˆ‘è¦Assignçš„Idåç¨±\n1 2 3 4  PUT favorite_candy/_doc/1 {\u0026#34;first_name\u0026#34;:\u0026#34;Lisa\u0026#34;, \u0026#34;candy\u0026#34;:\u0026#34;Sour Skittles\u0026#34; }   1 2 3 4 5 6 7 8 9 10 11 12 13 14  { \u0026#34;_index\u0026#34; : \u0026#34;favorite_candy\u0026#34;, \u0026#34;_id\u0026#34; : \u0026#34;1\u0026#34;, \u0026#34;_version\u0026#34; : 1, \u0026#34;result\u0026#34; : \u0026#34;created\u0026#34;, \u0026#34;_shards\u0026#34; : { \u0026#34;total\u0026#34; : 2, \u0026#34;successful\u0026#34; : 1, \u0026#34;failed\u0026#34; : 0 }, \u0026#34;_seq_no\u0026#34; : 1, \u0026#34;_primary_term\u0026#34; : 1 }   æˆ‘å€‘åœ¨è©¦è‘—å¤šå¡ä¸€äº›è³‡æ–™é€²å»ï¼Œå› ç‚ºæˆ‘å€‘ç­‰ç­‰è¦retriveé€™äº›è³‡æ–™\n1 2 3 4 5 6 7 8 9  PUT favorite_candy/_doc/2 {\u0026#34;first_name\u0026#34;:\u0026#34;Rachel\u0026#34;, \u0026#34;candy\u0026#34;:\u0026#34;Rolos\u0026#34; } PUT favorite_candy/_doc/3 {\u0026#34;first_name\u0026#34;:\u0026#34;Tom\u0026#34;, \u0026#34;candy\u0026#34;:\u0026#34;Sweet Tarts\u0026#34; }   é€™é‚Šç‰¹åˆ¥æ³¨æ„ä¸€ä¸‹ï¼Œåƒç¾åœ¨çš„æƒ…æ³ï¼Œid 1å·²ç¶“æœ‰ä¸€çµ„è³‡æ–™äº†ï¼Œå¦‚æœé‡è¤‡PUTè³‡æ–™åˆ°id 1çš„æƒ…æ³ï¼Œè¿”å›çš„çµæœæœƒæ˜¯é€™æ¨£ï¼Œversionæœƒè®Šæˆ2ï¼Œresultæœƒè®Šæˆupdate\nä¹Ÿæœ‰å¦ä¸€ç¨®æ–¹å¼ï¼Œé¡ä¼¼SQLä¸­çš„ craete if not exist\u0026hellip;çš„ç”¨æ³•ï¼Œå°±æ˜¯é€™æ¨£\n1 2 3 4  PUT favorite_candy/_create/1 {\u0026#34;first_name\u0026#34;:\u0026#34;Rachel\u0026#34;, \u0026#34;candy\u0026#34;:\u0026#34;Rolos\u0026#34; }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  { \u0026#34;error\u0026#34; : { \u0026#34;root_cause\u0026#34; : [ { \u0026#34;type\u0026#34; : \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34; : \u0026#34;[1]: version conflict, document already exists (current version [2])\u0026#34;, \u0026#34;index_uuid\u0026#34; : \u0026#34;PscoViAvQF6UvIEvN35Cpg\u0026#34;, \u0026#34;shard\u0026#34; : \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34; : \u0026#34;favorite_candy\u0026#34; } ], \u0026#34;type\u0026#34; : \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34; : \u0026#34;[1]: version conflict, document already exists (current version [2])\u0026#34;, \u0026#34;index_uuid\u0026#34; : \u0026#34;PscoViAvQF6UvIEvN35Cpg\u0026#34;, \u0026#34;shard\u0026#34; : \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34; : \u0026#34;favorite_candy\u0026#34; }, \u0026#34;status\u0026#34; : 409 }   é€™æ¨£å­ï¼Œå¦‚æœidå·²ç¶“å­˜åœ¨ï¼Œå°±ä¸æœƒoverwriteé€™å€‹document\næŸ¥çœ‹Ducument(Retrive) GET {indexåç¨±}/_doc/{id}\n1  GET favorite_candy/_doc/1   æ›´æ–°Document(Update) 1 2 3 4 5 6 7  POST Name-of-the-Index/_update/id-of-the-document-you-want-to-update { \u0026#34;doc\u0026#34;: { \u0026#34;field1\u0026#34;: \u0026#34;value\u0026#34;, \u0026#34;field2\u0026#34;: \u0026#34;value\u0026#34;, } }   1 2 3 4 5 6  POST favorite_candy/_update/1 { \u0026#34;doc\u0026#34;: { \u0026#34;candy\u0026#34;: \u0026#34;M\u0026amp;M\u0026#39;s\u0026#34; } }   åˆªé™¤Document(Delete) 1  DELETE Name-of-the-Index/_doc/id-of-the-document-you-want-to-delete   1  DELETE favorite_candy/_doc/1   Precision And Recall ä½¿ç”¨å¯¦éš›è³‡æ–™ä¾†ç·´ç¿’Elastic Search Part-2-Understanding-the-relevance-of-your-search-with-Elasticsearch-and-Kibana\nè³‡æ–™ä¸‹è¼‰é€£çµï¼šKaggle\nè³‡æ–™å¤§æ¦‚é•·é€™æ¨£ï¼Œå°±æ˜¯ä¸€å€‹æ–°èç¶²ç«™çš„jsonè³‡æ–™ï¼Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  [ { \u0026#34;link\u0026#34;: \u0026#34;https://www.huffpost.com/entry/covid-boosters-uptake-us_n_632d719ee4b087fae6feaac9\u0026#34;, \u0026#34;headline\u0026#34;: \u0026#34;Over 4 Million Americans Roll Up Sleeves For Omicron-Targeted COVID Boosters\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;U.S. NEWS\u0026#34;, \u0026#34;short_description\u0026#34;: \u0026#34;Health experts said it is too early to predict whether demand would match up with the 171 million doses of the new boosters the U.S. ordered for the fall.\u0026#34;, \u0026#34;authors\u0026#34;: \u0026#34;Carla K. Johnson, AP\u0026#34;, \u0026#34;date\u0026#34;: \u0026#34;2022-09-23\u0026#34; }, { \u0026#34;link\u0026#34;: \u0026#34;https://www.huffpost.com/entry/american-airlines-passenger-banned-flight-attendant-punch-justice-department_n_632e25d3e4b0e247890329fe\u0026#34;, \u0026#34;headline\u0026#34;: \u0026#34;American Airlines Flyer Charged, Banned For Life After Punching Flight Attendant On Video\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;U.S. NEWS\u0026#34;, \u0026#34;short_description\u0026#34;: \u0026#34;He was subdued by passengers and crew when he fled to the back of the aircraft after the confrontation, according to the U.S. attorney\u0026#39;s office in Los Angeles.\u0026#34;, \u0026#34;authors\u0026#34;: \u0026#34;Mary Papenfuss\u0026#34;, \u0026#34;date\u0026#34;: \u0026#34;2022-09-23\u0026#34; }, { \u0026#34;link\u0026#34;: \u0026#34;https://www.huffpost.com/entry/funniest-tweets-cats-dogs-september-17-23_n_632de332e4b0695c1d81dc02\u0026#34;, \u0026#34;headline\u0026#34;: \u0026#34;23 Of The Funniest Tweets About Cats And Dogs This Week (Sept. 17-23)\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;COMEDY\u0026#34;, \u0026#34;short_description\u0026#34;: \u0026#34;\\\u0026#34;Until you have a dog you don\u0026#39;t understand what could be eaten.\\\u0026#34;\u0026#34;, \u0026#34;authors\u0026#34;: \u0026#34;Elyse Wanshel\u0026#34;, \u0026#34;date\u0026#34;: \u0026#34;2022-09-23\u0026#34; } ]   åŒ¯å…¥è³‡æ–™ index name : news_headlines\næŸ¥çœ‹æœ‰å“ªäº›index 1  GET /_stats/indexing   æŸ¥çœ‹Indexåº•ä¸‹æœ‰å“ªäº›Document 1  GET {index}/_search    å¦‚æœæ•¸é‡å¤ªå¤šï¼Œæœƒé¡¯ç¤ºé è¨­çš„10å€‹ï¼Œrelationä¹Ÿæœƒé¡¯ç¤º gte ä»£è¡¨ great than\n ç‚ºäº†åœ¨å¤§å‹æ•¸æ“šé›†ä¸Šæé«˜éŸ¿æ‡‰é€Ÿåº¦ï¼ŒElasticsearché»˜èªé™åˆ¶äº†ç¸½è¨ˆæ•¸ç‚º10,000ã€‚å¦‚æœæ‚¨æƒ³è¦ç¢ºåˆ‡çš„ç¸½å‘½ä¸­æ•¸ï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹æŸ¥è©¢ã€‚\n1 2 3 4  GET news_headlines/_search { \u0026#34;track_total_hits\u0026#34;: true }   å…©ç¨®ä¸åŒçš„æœå°‹ Query \u0026amp; Aggregation Queryç”¨ä¾†æœå°‹ä¸€äº›ç¬¦åˆç‰¹å®šæŒ‡æ¨™çš„Document\nAggregationæ˜¯å°‡æ•¸æ“šç¸½çµç‚ºæŒ‡æ¨™ã€çµ±è¨ˆæ•¸æ“šå’Œå…¶ä»–åˆ†æçš„éç¨‹ï¼Œæ›´æ¥è¿‘åˆ†ææ•¸æ“š\nä½¿ç”¨Queryä¾ç…§é—œéµå­—ä¾†åšæœå°‹ matchä¸­æ­é…filednameå³å¯é”åˆ°æœå°‹çš„æ•ˆæœï¼\n1 2 3 4 5 6 7 8  GET user/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;username\u0026#34;: \u0026#34;abc123\u0026#34; } } }   1 2 3 4 5 6  GET news_headlines/_search { \u0026#34;query\u0026#34;: {\u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: \u0026#34;Khloe Kardashian Kendall Jenner\u0026#34; }} }   å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé€™å€‹ä¸åƒæ˜¯SQLçš„\n1  select * from news_headlines where headline = \u0026#39;Khloe Kardashian Kendall Jenner\u0026#39;   è€Œæ˜¯åƒé€™æ¨£ï¼Œmatch queryæ˜¯ä¸€ç¨®å…¨æ–‡æª¢ç´¢(Fulltext query)\n1  select * from news_headlines where headline like \u0026#39;%Khloe%\u0026#39; or headline like \u0026#39;%Kardashian%\u0026#39; or headline like \u0026#39;%Kendall%\u0026#39; or headline like \u0026#39;%Jenner%\u0026#39;   ä½¿ç”¨operator æå‡ Queryç²¾æº–åº¦ å¦‚æœæˆ‘å€‘æ˜¯å¸Œæœ›æå‡ç²¾å‡†åº¦ï¼Œè¦æ‰¾å‡ºåŒ…å« Khloeã€Kardashianã€Kendallã€Jennerçš„ï¼Œæˆ‘å€‘å¯ä»¥åœ¨æœå°‹åŠ ä¸Šoperator\n1 2 3 4 5 6 7 8 9  GET news_headlines/_search { \u0026#34;query\u0026#34;: {\u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Khloe Kardashian Kendall Jenner\u0026#34;, \u0026#34;operator\u0026#34;:\u0026#34;AND\u0026#34; } }} }   ä½¿ç”¨minium_should_match 1 2 3 4 5 6 7 8 9  GET news_headlines/_search { \u0026#34;query\u0026#34;: {\u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Khloe Kardashian Kendall Jenner\u0026#34;, \u0026#34;minium_should_match\u0026#34;: 3 } }} }   ä½¿ç”¨Queryä¾ç…§æ™‚é–“ä¾†åšæœå°‹ ç¯„ä¾‹ï¼š\ngte : greater than\nlte : less than\n1 2 3 4 5 6 7 8 9 10 11  GET enter_name_of_the_index_here/_search { \u0026#34;query\u0026#34;: { \u0026#34;Specify the type of query here\u0026#34;: { \u0026#34;Enter name of the field here\u0026#34;: { \u0026#34;gte\u0026#34;: \u0026#34;Enter lowest value of the range here\u0026#34;, \u0026#34;lte\u0026#34;: \u0026#34;Enter highest value of the range here\u0026#34; } } } }   1 2 3 4 5 6 7 8 9 10 11  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;range\u0026#34;: { \u0026#34;date\u0026#34;: { \u0026#34;gte\u0026#34;: \u0026#34;2015-06-20\u0026#34;, \u0026#34;lte\u0026#34;: \u0026#34;2015-09-22\u0026#34; } } } }   ä½¿ç”¨Queryä¾ç…§æ™‚é–“ä¾†åšæœå°‹ä¸¦æ’åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;range\u0026#34;: { \u0026#34;date\u0026#34;: { \u0026#34;gte\u0026#34;: \u0026#34;2015-06-20\u0026#34;, \u0026#34;lte\u0026#34;: \u0026#34;2015-09-22\u0026#34; } } }, \u0026#34;sort\u0026#34;: [ { \u0026#34;date\u0026#34;: { \u0026#34;order\u0026#34;: \u0026#34;asc\u0026#34; } } ] }   å„ç¨®ä¸åŒçš„Match èªæ³• Match_Phrase å‡è¨­æˆ‘å€‘è¦æ‰¾ä¸€é¦–æ­Œã€ŒShape of Youã€ï¼Œå¦‚æœåªç”¨ä»¥ä¸‹çš„æœå°‹ï¼Œæœƒå‡ºç¾å¾ˆå¤šä¸ç›¸é—œçš„çµæœï¼Œå› ç‚ºMatch QuertæœƒæŠŠ Shape ã€ of ã€ You ç•¶æˆä¸‰å€‹ä¸åŒçš„è©å½™å»æ‰¾ï¼Œæƒ³è¦é¿å…é€™æ¨£ï¼Œå°±éœ€è¦ä½¿ç”¨\n1 2 3 4 5 6 7 8  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: \u0026#34;shape of you\u0026#34; } } }   1 2 3 4 5 6 7 8  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;match_phrase\u0026#34;: { \u0026#34;headline\u0026#34;: \u0026#34;shape of you\u0026#34; } } }   Multi_Match åœ¨ä¸åŒçš„Fieldä¸­æœå°‹ï¼Œæ•ˆæœå°±æœ‰é»åƒSQLçš„\nSelect * from news_headlines where headline like \u0026lsquo;%Michelle Obama%\u0026rsquo; or short_description like \u0026lsquo;%Michelle Obama%\u0026rsquo; or authors like like \u0026lsquo;%Michelle Obama%\u0026rsquo;\n1 2 3 4 5 6 7 8 9 10 11 12 13  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;multi_match\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Michelle Obama\u0026#34;, \u0026#34;fields\u0026#34;: [ \u0026#34;headline\u0026#34;, \u0026#34;short_description\u0026#34;, \u0026#34;authors\u0026#34; ] } } }   ä½†é€™æ¨£å…¶å¯¦æœ‰ä¸€äº›å•é¡Œï¼Œæˆ‘å€‘å¯èƒ½æœ€ä¸»è¦æ˜¯æƒ³æ‰¾Michelle Obamaçš„æ–‡ç« ï¼Œä½†åªè¦short_descriptionè£¡é¢æœ‰æåˆ°Michelle Obamaå°±æœƒè¢«åŒ…å«é€²ä¾†ï¼Œæˆ‘å€‘å¯èƒ½æ›´ Focus åœ¨ headline çš„æ¬Šé‡ä¸Šé¢\nåŠ æ¬Šå‹Multi_Match å°±æ˜¯åœ¨Fieldå¾Œå¤šåŠ ä¸€å€‹æ¬¡æ–¹ï¼Œå°±èƒ½å°‡ headline æœ‰ Michelle Obama çš„çµæœå…ˆåˆ—å‡ºä¾†äº†(Per Field Boosting)\n1 2 3 4 5 6 7 8 9 10 11 12 13  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;multi_match\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Michelle Obama\u0026#34;, \u0026#34;fields\u0026#34;: [ \u0026#34;headline^2\u0026#34;, \u0026#34;short_description\u0026#34;, \u0026#34;authors\u0026#34; ] } } }   å°‡Multi-Matchè·ŸMatch_Pharseçµåˆ é›†ç™¾å®¶ä¹‹é•·ï¼Œçµåˆå‡ºä¾†çš„æœå°‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;multi_match\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Michelle Obama\u0026#34;, \u0026#34;fields\u0026#34;: [ \u0026#34;headline^2\u0026#34;, \u0026#34;short_description\u0026#34;, \u0026#34;authors\u0026#34; ], \u0026#34;type\u0026#34;:\u0026#34;phrase\u0026#34; } } }   ä½¿ç”¨Bool Queryä¾†é€²è¡Œæœå°‹ TimeCodeæ¨™å¥½äº† Beginnerâ€™s Crash Course to Elastic Stack - Part 3: Full text queries\næ–‡ç« å…§å®¹ ï¼šhttps://github.com/LisaHJung/Part-3-Running-full-text-queries-and-combined-queries-with-Elasticsearch-and-Kibana\næ‰€è¬‚çš„bool queryå…¶å¯¦å°±æ˜¯å°‡ä¸åŒæ¢ä»¶æ•´åˆå†ä¸€èµ·çš„ä¸€ç¨®æœå°‹ï¼Œç›¸ç•¶æ–¼SQLä¸æ˜¯æœƒæœ‰é‚£ç¨® where id = 1 and status=1çš„é‚£ç¨®where and orèªå¥å—ï¼Œbool queryå°±æ˜¯åœ¨åšé€™å€‹éƒ¨åˆ†\nå¸¸è¦‹çš„bool queryæœ‰ä»¥ä¸‹å¹¾ç¨®\n mustï¼šç›¸ç•¶æ–¼AND ä»£è¡¨ä¸€å®šè¦æœ‰ filterï¼šè¡¨ç¤ºéæ¿¾æ¢ä»¶ï¼Œé¡ä¼¼whereçš„ç”¨æ³• shouldï¼šä¸æœƒå½±éŸ¿åˆ°æœå°‹çš„çµæœï¼Œä½†æœƒå½±éŸ¿åˆ°æ’åºï¼Œç¬¦åˆçš„æœƒé ä¸Š Must_notï¼šè¡¨ç¤ºä¸åŒ¹é…çš„ï¼Œç›¸ç•¶æ–¼NOT  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  GET name_of_index/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: [ {One or more queries can be specified here. A document MUST match all of these queries to be considered as a hit.} ], \u0026#34;must_not\u0026#34;: [ {A document must NOT match any of the queries specified here. It it does, it is excluded from the search results.} ], \u0026#34;should\u0026#34;: [ {A document does not have to match any queries specified here. However, it if it does match, this document is given a higher score.} ], \u0026#34;filter\u0026#34;: [ {These filters(queries) place documents in either yes or no category. Ones that fall into the yes category are included in the hits. } ] } } }   é€™äº›boolä¹Ÿæœƒè·ŸåŸºæœ¬æŸ¥è©¢\n  Term\n  Match\n  Range\n  Terms\n  åšæ­é…\næ¯”å¦‚èªªåƒé€™æ¨£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Search\u0026#34; }}, { \u0026#34;match\u0026#34;: { \u0026#34;content\u0026#34;: \u0026#34;Elasticsearch\u0026#34; }} ], \u0026#34;filter\u0026#34;: [ { \u0026#34;term\u0026#34;: { \u0026#34;status\u0026#34;: \u0026#34;published\u0026#34; }}, { \u0026#34;range\u0026#34;: { \u0026#34;publish_date\u0026#34;: { \u0026#34;gte\u0026#34;: \u0026#34;2019-01-01\u0026#34; }}} ], \u0026#34;should\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;author\u0026#34;: \u0026#34;John\u0026#34; }}, { \u0026#34;match\u0026#34;: { \u0026#34;author\u0026#34;: \u0026#34;Doe\u0026#34; }} ], \u0026#34;must_not\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;category\u0026#34;: \u0026#34;Marketing\u0026#34; }} ] } } }   è€Œä¸€èˆ¬Queryæ˜¯é•·é€™æ¨£ï¼Œå¯ä»¥ç¨å¾®æ¯”è¼ƒæ„Ÿè¦ºåˆ°Query è·ŸBool Queryçš„å·®ç•°\n1 2 3 4 5 6 7 8 9 10 11  { \u0026#34;query\u0026#34;: { \u0026#34;range\u0026#34;: { \u0026#34;date\u0026#34;: { \u0026#34;gte\u0026#34;: \u0026#34;2015-06-20\u0026#34;, \u0026#34;lte\u0026#34;: \u0026#34;2015-09-22\u0026#34; } } } }   ä»¥ä¸‹ç¤ºç¯„ä¸€äº›å¸¸è¦‹çš„Bool Queryçš„å¯«æ³•\nBool MustæŸ¥è©¢ 1 2 3 4 5 6 7 8 9 10 11 12 13  { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;username\u0026#34;: \u0026#34;Hoxton\u0026#34; } } ] } } }   Bool Filteréæ¿¾ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;filter\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;status\u0026#34;: \u0026#34;1\u0026#34; } },{ \u0026#34;range\u0026#34;:{ \u0026#34;loginTime\u0026#34;:{\u0026#34;gte\u0026#34;:\u0026#34;2023-01-01\u0026#34;,\u0026#34;lte\u0026#34;:\u0026#34;2024-12-31\u0026#34;} } } ] } } }   Bool Should 1 2 3 4 5 6 7 8 9 10 11 12  GET /my_index/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;should\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Elasticsearch\u0026#34; }}, { \u0026#34;match\u0026#34;: { \u0026#34;content\u0026#34;: \u0026#34;search\u0026#34; }} ] } } }   Bool MustNot 1 2 3 4 5 6 7 8 9 10 11  { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must_not\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Elasticsearch\u0026#34; }}, { \u0026#34;match\u0026#34;: { \u0026#34;content\u0026#34;: \u0026#34;search\u0026#34; }} ] } } }   Bool å¤šé‡æœå°‹(Match) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  { \u0026#34;query\u0026#34;:{ \u0026#34;bool\u0026#34;:{ \u0026#34;must\u0026#34;:[ { \u0026#34;match\u0026#34;:{ \u0026#34;userName\u0026#34;:\u0026#34;Hoxton\u0026#34; } }, { \u0026#34;match\u0026#34;:{ \u0026#34;gender\u0026#34;:1 } } ] } } }   Bool Terms æœå°‹ 2024/05/25æ›´æ–°\næ‰¾å‡ºæŸå€‹Filedä¸­ç¬¦åˆæ¢ä»¶çš„document\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: [ { \u0026#34;terms\u0026#34;: { \u0026#34;category\u0026#34;: [ \u0026#34;U.S. NEWS\u0026#34;, \u0026#34;COMEDY\u0026#34; ] } } ] } } }   ä½¿ç”¨Aggregationåšæœå°‹ Kaggle ç¶²å€ ï¼šKaggle E-Commerce Data\n1 2 3 4 5 6 7 8 9 10 11  GET enter_name_of_the_index_here/_search { \u0026#34;aggs\u0026#34;: { \u0026#34;name your aggregation here\u0026#34;: { \u0026#34;specify aggregation type here\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;name the field you want to aggregate here\u0026#34;, \u0026#34;size\u0026#34;: state how many buckets you want returned here } } } }   Aggs: ä»£è¡¨ä½ è¦é€ä¸€å€‹Aggregation\nBy_category: ä½ Aggregationå‡ºä¾†çš„æ±è¥¿è¦å«ä»€éº¼\nTerms: ä»¥å­—æ®µåšåˆ†æ\nFiledï¼šå­—æ®µå…·é«”çš„keyæ˜¯ä»€éº¼\nSizeï¼šFiledæœ€å¤§ä¸Šé™ï¼Œå‡è¨­ç¾åœ¨ä½ çš„åŸå§‹è³‡æ–™ï¼Œkeyå…¶å¯¦æœ‰1000å€‹ï¼Œä½†ä½ åªæƒ³è¦çœ‹100å€‹ï¼Œå°±å¯ä»¥åœ¨é€™é‚Šé™åˆ¶ï¼Œåº•ä¸‹æˆ‘æœ‰é™„åœ–ç‰‡ï¼Œå¯ä»¥çœ‹å·®è·\n1 2 3 4 5 6 7 8 9 10 11  GET news_headlines/_search { \u0026#34;aggs\u0026#34;: { \u0026#34;by_category\u0026#34;: { \u0026#34;terms\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;category\u0026#34;, \u0026#34;size\u0026#34;: 100 } } } }   åŸå§‹è³‡æ–™\nèšåˆå‡ºä¾†çš„çµæœ\n Sizeåƒæ•¸çš„å½±éŸ¿\n åˆä½¿ç”¨Query åˆä½¿ç”¨Aggregationåšæœå°‹ æœå°‹æŸä¸€é¡åˆ¥ä¸­æœ€é‡è¦çš„è©èª\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  GET enter_name_of_the_index_here/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;Enter the name of the field\u0026#34;: \u0026#34;Enter the value you are looking for\u0026#34; } }, \u0026#34;aggregations\u0026#34;: { \u0026#34;Name your aggregation here\u0026#34;: { \u0026#34;significant_text\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;Enter the name of the field you are searching for\u0026#34; } } } }   ä»¥ä¸‹çš„æœå°‹å¯ä»¥é€™æ¨£è®€\nã€Œæˆ‘æƒ³è¦æ‰¾åˆ°ï¼Œåœ¨ENTERTAINMENTé€™å€‹ç›®éŒ„ä¸­ï¼Œheadlineçš„ä¸­ï¼Œæœ€å…·é‡è¦æ€§è©èªæœ‰å“ªäº›\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;category\u0026#34;: \u0026#34;ENTERTAINMENT\u0026#34; } }, \u0026#34;aggregations\u0026#34;: { \u0026#34;popular_in_entertainment\u0026#34;: { \u0026#34;significant_text\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;headline\u0026#34; } } } }   Aggregation å¯¦æˆ° Kaggle ç¶²å€ ï¼šKaggle E-Commerce Data\nYoutube ç¶²å€ ï¼šBeginnerâ€™s Crash Course to Elastic Stack - Part 4: Aggregations\nè³‡æ–™çš„æ¨£å­ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  [ { \u0026#34;_index\u0026#34;: \u0026#34;ecommerce_data\u0026#34;, \u0026#34;_id\u0026#34;: \u0026#34;U3hHL48B6YD2b_RB4N-A\u0026#34;, \u0026#34;_score\u0026#34;: 1, \u0026#34;_source\u0026#34;: { \u0026#34;UnitPrice\u0026#34;: 0.55, \u0026#34;Description\u0026#34;: \u0026#34;AGED GLASS SILVER T-LIGHT HOLDER\u0026#34;, \u0026#34;Quantity\u0026#34;: 144, \u0026#34;Country\u0026#34;: \u0026#34;United Kingdom\u0026#34;, \u0026#34;InvoiceNo\u0026#34;: \u0026#34;543456\u0026#34;, \u0026#34;InvoiceDate\u0026#34;: \u0026#34;2/8/2011 12:41\u0026#34;, \u0026#34;CustomerID\u0026#34;: 15753, \u0026#34;StockCode\u0026#34;: \u0026#34;21326\u0026#34; } }, { \u0026#34;_index\u0026#34;: \u0026#34;ecommerce_data\u0026#34;, \u0026#34;_id\u0026#34;: \u0026#34;VHhHL48B6YD2b_RB4N-A\u0026#34;, \u0026#34;_score\u0026#34;: 1, \u0026#34;_source\u0026#34;: { \u0026#34;UnitPrice\u0026#34;: 1.25, \u0026#34;Description\u0026#34;: \u0026#34;SET OF SALT AND PEPPER TOADSTOOLS\u0026#34;, \u0026#34;Quantity\u0026#34;: 12, \u0026#34;Country\u0026#34;: \u0026#34;United Kingdom\u0026#34;, \u0026#34;InvoiceNo\u0026#34;: \u0026#34;543457\u0026#34;, \u0026#34;InvoiceDate\u0026#34;: \u0026#34;2/8/2011 12:47\u0026#34;, \u0026#34;CustomerID\u0026#34;: 17428, \u0026#34;StockCode\u0026#34;: \u0026#34;22892\u0026#34; } }, ]   ä¸‰ç¨®Aggregation  Metric Aggregationï¼šç”¨ä¾†è¨ˆç®—æ•¸å­—å‹çš„è³‡æ–™ï¼Œæ¯”å¦‚èªªè¨ˆç®—æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ç­‰ç­‰ Bucket Aggregationï¼šæƒ³è¦èšåˆè¤‡æ•¸Subsetçš„è³‡æ–™æ™‚ï¼Œä½¿ç”¨Bucket Aggregation (ä¸€æ¡¶ä¸€æ¡¶çš„) Combined Aggregation  Metric Aggregation-æ±‚ç¸½å’Œ 1 2 3 4 5 6 7 8 9 10 11  GET ecommerce_data/_search { \u0026#34;size\u0026#34;:0, \u0026#34;aggs\u0026#34;: { \u0026#34;sum_unit_price\u0026#34;: { \u0026#34;sum\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;UnitPrice\u0026#34; } } } }   Size:0 å½±éŸ¿çš„æ˜¯æœƒä¸æœƒé¡¯ç¤ºhintçš„è³‡æ–™ï¼Œå¦‚æœ0å°±åªæœƒé¡¯ç¤ºèšåˆçµæœ\nMetric Aggregation-æ±‚æœ€ä½ Size:0 å½±éŸ¿çš„æ˜¯æœƒä¸æœƒé¡¯ç¤ºhintçš„è³‡æ–™ï¼Œå¦‚æœ0å°±åªæœƒé¡¯ç¤ºèšåˆçµæœ\n1 2 3 4 5 6 7 8 9 10 11  GET ecommerce_data/_search { \u0026#34;size\u0026#34;:0, \u0026#34;aggs\u0026#34;: { \u0026#34;sum_unit_price\u0026#34;: { \u0026#34;min\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;UnitPrice\u0026#34; } } } }   Metric Aggregation-æ±‚æœ€é«˜ 1 2 3 4 5 6 7 8 9 10 11  GET ecommerce_data/_search { \u0026#34;size\u0026#34;: 0, \u0026#34;aggs\u0026#34;: { \u0026#34;highest_unit_price\u0026#34;: { \u0026#34;max\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;UnitPrice\u0026#34; } } } }   Size:0 å½±éŸ¿çš„æ˜¯æœƒä¸æœƒé¡¯ç¤ºhintçš„è³‡æ–™ï¼Œå¦‚æœ0å°±åªæœƒé¡¯ç¤ºèšåˆçµæœ\nMetric Aggregation-æ±‚å¹³å‡ Size:0 å½±éŸ¿çš„æ˜¯æœƒä¸æœƒé¡¯ç¤ºhintçš„è³‡æ–™ï¼Œå¦‚æœ0å°±åªæœƒé¡¯ç¤ºèšåˆçµæœ\n1 2 3 4 5 6 7 8 9 10 11  GET ecommerce_data/_search { \u0026#34;size\u0026#34;: 0, \u0026#34;aggs\u0026#34;: { \u0026#34;average_unit_price\u0026#34;: { \u0026#34;avg\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;UnitPrice\u0026#34; } } } }   Mertic Aggregation - æ±‚æ‰€æœ‰(ç¸½å’Œã€æœ€ä½ã€æœ€é«˜ã€å¹³å‡) Size:0 å½±éŸ¿çš„æ˜¯æœƒä¸æœƒé¡¯ç¤ºhintçš„è³‡æ–™ï¼Œå¦‚æœ0å°±åªæœƒé¡¯ç¤ºèšåˆçµæœ\n1 2 3 4 5 6 7 8 9 10 11  GET ecommerce_data/_search { \u0026#34;size\u0026#34;: 0, \u0026#34;aggs\u0026#34;: { \u0026#34;all_stats_unit_price\u0026#34;: { \u0026#34;stats\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;UnitPrice\u0026#34; } } } }   ä½¿ç”¨Queryæ¢ä»¶ä¾†é™åˆ¶Aggregationçš„ç¯„åœ é™åˆ¶åªçµ±è¨ˆCountryç‚ºGermanyçš„å¹³å‡å–®ä½å”®åƒ¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  GET ecommerce_data/_search { \u0026#34;size\u0026#34;: 0, \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;Country\u0026#34;: \u0026#34;Germany\u0026#34; } }, \u0026#34;aggs\u0026#34;: { \u0026#34;germany_average_unit_price\u0026#34;: { \u0026#34;avg\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;UnitPrice\u0026#34; } } } }   Cardinality Aggregation é—œéµå­—ï¼šå»é‡è¤‡ã€å»é‡\né›¢æ•£æ•¸å­¸ä¸­çš„Cardinalityï¼ŒæŒ‡çš„æ˜¯ä¸€å€‹é›†åˆä¸­ï¼Œä¸é‡è¤‡å…ƒç´ çš„å€‹æ•¸ï¼Œä¾‹å¦‚é›†åˆA={1,2,7,7,7}ï¼Œé‚£éº¼Açš„Cardinalityå°±æ˜¯3ï¼Œå¯«ä½œ|A|=3ã€‚\nåœ¨ESä¸­çš„Cardinality Aggregationä¹Ÿæ˜¯é¡ä¼¼çš„æ¦‚å¿µ\nçµ±è¨ˆä¸é‡è¤‡çš„ CustomerID\n1 2 3 4 5 6 7 8 9 10 11  GET ecommerce_data/_search { \u0026#34;size\u0026#34;: 0, \u0026#34;aggs\u0026#34;: { \u0026#34;number_unique_customers\u0026#34;: { \u0026#34;cardinality\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;CustomerID\u0026#34; } } } }   å…±æœ‰4359å€‹ä¸é‡è¤‡çš„CustomerId\nBucket Aggregation å››ç¨®ä¸åŒçš„Bucket Aggregation\n Date Historgram Aggregationï¼šä½¿ç”¨æ™‚é–“å€é–“ä¾† Group è³‡æ–™ Histogram Aggregation Range Aggregation Terms Aggregation   Historgram ï¼šç›´æ–¹åœ–\n Date Historgram Aggregation æŒ‰InvoiceDateï¼ŒæŠŠè³‡æ–™æ¯å…«å€‹å°æ™‚åˆ†æˆä¸€æ¡¶\n1 2 3 4 5 6 7 8 9 10 11 12  GET ecommerce_data/_search { \u0026#34;size\u0026#34;: 0, \u0026#34;aggs\u0026#34;: { \u0026#34;transactions_by_8_hrs\u0026#34;: { \u0026#34;date_histogram\u0026#34;: { \u0026#34;field\u0026#34;: \u0026#34;InvoiceDate\u0026#34;, \u0026#34;fixed_interval\u0026#34;: \u0026#34;8h\u0026#34; } } } }   ç²¾ç¢ºèˆ‡å¬å›(Precision And Recall) å¹¹ï¼Œé€™çœŸçš„å¥½é›£ç¿»ï¼Œç²¾ç¢ºå°±æœ‰é»åƒæ˜¯ANDï¼Œå¬å›å°±æœ‰é»åƒæ˜¯ORï¼Œä½¿ç”¨å¬å›ï¼Œæœ‰å¯èƒ½æœƒæ‰¾åˆ°ä¸å¤ªç›¸å¹²çš„è³‡æ–™ï¼Œæ¯”å¦‚æ‰¾è‡˜è…¸ï¼Œå»æ‰¾åˆ°è‡˜è…¸ç‹—é‚£æ¨£ï¼Œæœå°‹çµæœè¼ƒå¤šï¼Œä½†è¼ƒä¸æº–ç¢º\nIncrease Recall 1 2 3 4 5 6 7 8 9 10  GET enter_name_of_index_here/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;Specify the field you want to search\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Enter search terms\u0026#34; } } } }   1 2 3 4 5 6 7 8 9 10  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Khloe Kardashian Kendall Jenner\u0026#34; } } } }   Increase Precision é€™å€‹æœå°‹æ˜¯ç²¾ç¢ºæœå°‹ï¼Œæœƒæ‰¾åˆ°æ›´ç¬¦åˆé æœŸçš„çµæœï¼Œèªæ³•å…¶å¯¦å°±æ˜¯å¤šå¢åŠ ä¸€å€‹operator andå°±å¯ä»¥äº†å•¦\nå”‰ï¼Œå¥½ç´¯ï¼Œä¸çŸ¥é“ç‚ºå•¥10/31åŠå¤œé‚„åœ¨é€™é‚Šå·\n1 2 3 4 5 6 7 8 9 10 11  GET enter_name_of_index_here/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;Specify the field you want to search\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Enter search terms\u0026#34;, \u0026#34;operator\u0026#34;: \u0026#34;and\u0026#34; } } } }   1 2 3 4 5 6 7 8 9 10 11  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Khloe Kardashian Kendall Jenner\u0026#34;, \u0026#34;operator\u0026#34;: \u0026#34;and\u0026#34; } } } }   æœ€å°åŒ¹é…æœå°‹(minimum_should_match) minimum_should_matchæ˜¯ç”¨ä¾†å¾®èª¿(fined tuning)åŒ¹é…é‡çš„ï¼Œæˆ‘å€‘çš„æœå°‹æœ€åˆæ˜¯åŒ…å«Khloe Kardashian Kendall Jenneré€™å››å€‹è©çš„æœå°‹ï¼Œä½†æˆ‘å€‘å¯ä»¥é¸æ“‡åˆ°åº•è¦åŒ¹é…å¹¾å€‹ï¼Œæ¯”å¦‚èªªå¯ä»¥åŒ¹é…3å€‹ï¼Œé‚£å°±æ˜¯C4å–3ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„ç¯„ä¾‹\n1 2 3 4 5 6 7 8 9 10 11  GET enter_name_of_index_here/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Enter search term here\u0026#34;, \u0026#34;minimum_should_match\u0026#34;: Enter a number here } } } }   1 2 3 4 5 6 7 8 9 10 11  GET news_headlines/_search { \u0026#34;query\u0026#34;: { \u0026#34;match\u0026#34;: { \u0026#34;headline\u0026#34;: { \u0026#34;query\u0026#34;: \u0026#34;Khloe Kardashian Kendall Jenner\u0026#34;, \u0026#34;minimum_should_match\u0026#34;: 3 } } } }   ä¸åŒæœ€å°åŒ¹é…é‡çš„å€¼æ‰€å½±éŸ¿åˆ°çš„çµæœ\n","date":"2023-10-29T15:28:49+08:00","image":"https://i.imgur.com/IJFdjpO.png","permalink":"https://hoxtoncraft.com/p/elasticsearch%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"ElasticSearchå­¸ç¿’ç­†è¨˜"},{"content":"æœ¬æ–‡åƒè€ƒè‡³\nJava and Spring Boot Microservices | 10 Hour Full Course\næˆ‘ä½¿ç”¨çš„Repositoryå¦‚ä¸‹\nhttps://github.com/Hoxton019030/SpringCloud\næœ€è¿‘å…¬å¸éœ€è¦æ‰“è€ƒç¸¾ï¼Œå…¶ä¸­æœ‰ä¸€é …æ˜¯é—œæ–¼ä¸‹ä¸€å­£çš„è‡ªè©•ï¼Œæˆ‘æƒ³äº†ä¸€ä¸‹ï¼Œå°±å¯«äº†ä¸‹é¢é€™äº›\n å…¥é–€ElasticSearch å­¸ç¿’å¦‚ä½•é€²è¡Œè³‡æ–™åº«çš„å‚™ä»½ å­¸ç¿’å¦‚ä½•è£½ä½œè®€å¯«åˆ†é›¢çš„è³‡æ–™åº« SpringCloudå…¥é–€ Javaé–çš„æ©Ÿåˆ¶  æ‰€ä»¥é€™æ˜¯ä¸€ç¯‡ç‚ºäº†å®Œæˆè€ƒç¸¾è€Œå¯«çš„æ–‡ç« ^_^ï¼Œé€™é‚Šå…ˆèªªä¸€ä¸‹æˆ‘å°å¾®æœå‹™çš„ç†è§£ã€‚æƒ³åƒä»¥Dcardä½œèˆ‰ä¾‹ï¼Œå‡è¨­ä»–å€‘å°±ç”¨ä¸€å°Serverå»è™•ç†è¨»å†Šã€ç™»å…¥ã€ç™¼å¸ƒæ–‡ç« ã€å›æ‡‰è«‹æ±‚ï¼Œé‚£éº¼é€™å°Serverå¯èƒ½è¦é…ç½®åˆ°å¾ˆé ‚æ‰èƒ½æœ‰è¾¦æ³•è™•ç†é€™ä»¶äº‹æƒ…ï¼Œå› ç‚ºç•¶è¨ªå•é‡ä¸€å¤§æ™‚ï¼Œå¾ˆå®¹æ˜“å°±æœƒå°è‡´å…¶ä»–åŠŸèƒ½çš„é˜»å¡ï¼Œæ‰€ä»¥æˆ‘å€‘çš„æƒ³æ³•å°±æ˜¯å°‡ä¸åŒçš„æœå‹™éƒ¨ç½²åœ¨ä¸åŒçš„æ©Ÿå™¨ä¸Šé¢ï¼Œè®“A Serverè² è²¬åšç™»å…¥ã€B Serverè² è²¬åšç™¼å¸ƒæ–‡ç« çš„äº‹æƒ…\u0026hellip;ç­‰ç­‰ï¼Œå¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å°±å¯ä»¥è®“ä¸€äº›è«‹æ±‚é »ç‡æ¯”è¼ƒå°‘ï¼Œä½†è¼ƒè€—æ™‚çš„å·¥ä½œ(è¨»å†Šã€ç™¼å¸ƒæ–‡ç« )ï¼Œå’Œè«‹æ±‚é »ç‡é«˜ï¼Œä½†ä¸è€—æ™‚çš„å·¥ä½œ(ç€è¦½æ–‡ç« )ï¼Œç¨ç«‹é–‹ä¾†ï¼Œä¸¦ä¸”æŸä¸€é …æœå‹™æ›æ‰æ™‚ï¼Œä¸æœƒå½±éŸ¿åˆ°å…¶ä»–Serverçš„é‹è¡Œï¼Œä¸éœ€è¦æ•´å€‹ç¶²ç«™é—œé–‰èµ·ä¾†ä¾†åšHotfixã€‚\nå­¸ç¿’ç›®æ¨™  å»ºç«‹å¤šæ¨¡å¡Š(Moduleçš„å°ˆæ¡ˆ) å•Ÿç”¨Eurekaä½œç‚ºæœå‹™ç™¼ç¾ä¸­å¿ƒ ç†è§£é™„è¼‰å‡è¡¡(Load Balance) ä½¿ç”¨Open Feignå°‡é¡çµ±æ•´ ä½¿ç”¨SleuthåšTrace ç†è§£Spring Cloud GateWay Message Queueä¹‹å¯¦ä½œ  å»ºç«‹å¤šæ¨¡å¡Š(Moduleçš„å°ˆæ¡ˆ) è«‹åƒè€ƒ[Mavenè©³ç´°ç ”ç©¶]\nã„ã„ ï¼Œç¬¬ä¸€æ®µå°±ç›´æ¥æ°´éå»äº†ï¼ŒçœŸçˆ½\nå•Ÿç”¨Eurekaä½œç‚ºæœå‹™ç™¼ç¾ä¸­å¿ƒ ç†è§£Spring Cloud GateWay Gateway = è·¯ç”±è½‰ç™¼+éæ¿¾å™¨\npredicate ç•¶æ»¿è¶³ç‰¹å®šæ¢ä»¶ï¼Œå†é€²è¡Œè·¯ç”±è½‰ç™¼ã€‚æœ‰ä»¥ä¸‹é€™äº›ï¼ŒPathä¹Ÿæ˜¯å…¶ä¸­ä¸€ç¨®æ–¹å¼\nPath è·¯å¾‘å¿…é ˆç‚º\u0026hellip;æ‰åšè·¯ç”±è½‰ç™¼\nQuery è«‹æ±‚åƒæ•¸å¿…é ˆåŒ…å«\u0026hellip;æ‰åšè·¯ç”±è½‰ç™¼\nHeader è«‹æ±‚é ­ä¸­æ‡‰è©²åŒ…å«çš„å…§å®¹ï¼Œå¦‚æœåªæœ‰ä¸€å€‹å€¼ï¼Œä»£è¡¨è«‹æ±‚é ­å¿…é ˆåŒ…å«çš„åƒæ•¸å(key),å¦‚æœæœ‰å…©å€‹å€¼ï¼Œå‰‡ç¬¬ä¸€å€‹ä»£è¡¨æ˜¯åƒæ•¸å(key)ï¼Œç¬¬äºŒå€‹ä»£è¡¨æ˜¯åƒæ•¸çš„å€¼(value)\nMethod ç”¨ä»€éº¼è«‹æ±‚æ–¹å¼ã€‚æ¯”å¦‚èªªGet, Post ä¹‹é¡çš„\nRemoteAddr å…è¨±è¨ªå•çš„å®¢æˆ¶ç«¯åœ°å€ï¼Œé™åˆ¶å“ªäº›IPå¯ä»¥è¨ªå•Gatewayï¼Œæ³¨æ„ä¸å¯ä»¥å¯«localhostï¼\nHost åŠŸèƒ½è·ŸHeaderå·®ä¸å¤š\nCookie è¦æ±‚è«‹æ±‚å¿…é ˆåŒ…å«æŒ‡å®šçš„keyè·Ÿvalue\nAfter, Before, Between åœ¨æŒ‡å®šæ™‚é–“ä¹‹å‰ã€ä¹‹å¾Œã€ä¹‹ä¸­æ‰å¯ä»¥è¨ªå•\nï¼·eigh è² è¼‰å‡è¡¡ä¸­çš„æ¬Šé‡ï¼Œå°åŒä¸€çµ„urlåšload Balance\nFilter é€šéäº†predicateä¹‹å¾Œå°±åˆ°Filteré€™å±¤ï¼ŒFilteræœ‰ä»¥ä¸‹ä¸‰ç¨®\n å…§ç½®Filterï¼Œéƒ½æ˜¯Gatewayçš„å¯¦ç¾é¡  å…§ç½®GlobalFilterï¼Œæ‰€æœ‰çš„è·¯ç”±éƒ½æœƒç¶“éé€™å€‹ è‡ªå®šç¾©GatewayFilterï¼Œåœ¨ç‰¹å®šè·¯ç”±ä¸Šç”Ÿæ•ˆ  å¸¸ç”¨çš„Filter ","date":"2023-10-26T21:39:32+08:00","image":"https://i.imgur.com/tNdn4as.png","permalink":"https://hoxtoncraft.com/p/%E5%BE%AE%E6%9C%8D%E5%8B%99%E7%AD%86%E8%A8%98/","title":"å¾®æœå‹™ç­†è¨˜"},{"content":"å‰è¨€ æœ€è¿‘å·¥ä½œä¸Šæ¥è§¸åˆ°äº†é€™å€‹å¥—ä»¶ï¼Œè¦ºå¾—ä»¤äººæ­ç‚ºè§€æ­¢ï¼Œå±…ç„¶ç”¨é€™éº¼ç°¡å–®çš„æ–¹å¼å¯¦ç¾äº†æˆ‘ä¸€ç›´æƒ³åšä½†ä¸çŸ¥é“æ€éº¼åšçš„åŠŸèƒ½ã€‚\nXxl-Jobèªªç™½è©±ä¸€é»ï¼Œå°±æ˜¯ä¸€å€‹ä¸­å¤®å®šæ™‚ä»»å‹™èª¿åº¦å¹³å°ï¼Œå¦‚æœæ˜¯å–®é«”å¼æœå‹™çš„è©±ï¼Œæˆ‘å€‘å¯èƒ½æ˜¯ç”¨Quartzæˆ–æ˜¯Spring Scheduleä¾†å¯¦ç¾ï¼Œåœ¨é€™ç¨®æƒ…æ³ç®¡ç†é€™äº›Job(Batch)ç›¸å°å–®ç´”ï¼Œå› ç‚ºæ‰€æœ‰æ±è¥¿éƒ½å¯ä»¥åœ¨å–®é«”å¼æ‡‰ç”¨æ‰¾åˆ°ã€‚\nä½†ç•¶å°ˆæ¡ˆæ“´å±•æˆå¾®æœå‹™å¾Œï¼Œå¯èƒ½æœ‰å„ç¨®ä¸åŒçš„å®šæ™‚ä»»å‹™éœ€è¦å»èª¿åº¦ï¼Œæ­¤æ™‚å°±æœ‰å¯èƒ½å‡ºç¾ç›¸åŒçš„ä»»å‹™ï¼Œç”±æ–¼ç¼ºå°‘ä»»å‹™ç™¼ç¾ä¸­å¿ƒï¼Œè€Œåœ¨ä¸åŒçš„æœå‹™å»å¯¦ç¾ä¸€æ¨£çš„åŠŸèƒ½ï¼Œæ­¤å¤–ï¼Œè¦é…ç½®é€™äº›å®šæ™‚ä»»å‹™æ™‚å°±å¾—å»å„è‡ªçš„æ¨¡å¡Šå»å¯¦ç¾ï¼Œç›¸ç•¶çš„è€—æ™‚è²»åŠ›ã€‚\nå› æ­¤xxl-jobå°±æ˜¯ä¾†è™•ç†é€™äº›å ´æ™¯çš„ï¼Œä»–æœ‰ä»¥ä¸‹å…©å€‹åŠŸèƒ½\n ä»»å‹™ç™¼ç¾ä¸­å¿ƒï¼Œå¯ä»¥å°‡å¯«å¥½çš„Jobè¨»å†Šåœ¨é€™é‚Šï¼Œæ–¹ä¾¿ç®¡ç† çµ±ä¸€èª¿ç”¨ã€ä¿®æ”¹ã€åœæ­¢ã€æ¸¬è©¦å®šæ™‚ä»»å‹™  åœ¨æˆ‘ä¸Šæ‰‹ä¹‹å¾Œï¼Œç¬¬ä¸€å€‹æ„Ÿæƒ³å°±æ˜¯\nã€Œæ¦®æ©ï¼Œé€™æ¯”é­”æ–é‚„è¦å¥½ç”¨å‘€ï¼ã€\nä»¥ä¸‹é™„ä¸Šä½œè€…çš„ä»‹ç´¹\nIntroduction XXL-JOB is a distributed task scheduling framework. It\u0026rsquo;s core design goal is to develop quickly and learn simple, lightweight, and easy to expand. Now, it\u0026rsquo;s already open source, and many companies use it in production environments, real \u0026ldquo;out-of-the-box\u0026rdquo;.\nXXL-JOBæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚ç°å·²å¼€æ”¾æºä»£ç å¹¶æ¥å…¥å¤šå®¶å…¬å¸çº¿ä¸Šäº§å“çº¿ï¼Œå¼€ç®±å³ç”¨ã€‚\nDevelopment äº2015å¹´ä¸­ï¼Œæˆ‘åœ¨githubä¸Šåˆ›å»ºXXL-JOBé¡¹ç›®ä»“åº“å¹¶æäº¤ç¬¬ä¸€ä¸ªcommitï¼Œéšä¹‹è¿›è¡Œç³»ç»Ÿç»“æ„è®¾è®¡ï¼ŒUIé€‰å‹ï¼Œäº¤äº’è®¾è®¡â€¦â€¦\näº2015-11æœˆï¼ŒXXL-JOBç»ˆäºRELEASEäº†ç¬¬ä¸€ä¸ªå¤§ç‰ˆæœ¬V1.0ï¼Œ éšåæˆ‘å°†ä¹‹å‘å¸ƒåˆ°OSCHINAï¼ŒXXL-JOBåœ¨OSCHINAä¸Šè·å¾—äº†@çº¢è–¯çš„çƒ­é—¨æ¨èï¼ŒåŒæœŸåˆ†åˆ«è¾¾åˆ°äº†OSCHINAçš„â€œçƒ­é—¨åŠ¨å¼¹â€æ’è¡Œç¬¬ä¸€å’Œgit.oschinaçš„å¼€æºè½¯ä»¶æœˆçƒ­åº¦æ’è¡Œç¬¬ä¸€ï¼Œåœ¨æ­¤ç‰¹åˆ«æ„Ÿè°¢çº¢è–¯ï¼Œæ„Ÿè°¢å¤§å®¶çš„å…³æ³¨å’Œæ”¯æŒã€‚\näº2015-12æœˆï¼Œæˆ‘å°†XXL-JOBå‘è¡¨åˆ°æˆ‘å¸å†…éƒ¨çŸ¥è¯†åº“ï¼Œå¹¶ä¸”å¾—åˆ°å†…éƒ¨åŒäº‹è®¤å¯ã€‚\näº2016-01æœˆï¼Œæˆ‘å¸å±•å¼€XXL-JOBçš„å†…éƒ¨æ¥å…¥å’Œå®šåˆ¶å·¥ä½œï¼Œåœ¨æ­¤æ„Ÿè°¢è¢æŸå’Œå°¹æŸä¸¤ä½åŒäº‹çš„è´¡çŒ®ï¼ŒåŒæ—¶ä¹Ÿæ„Ÿè°¢å†…éƒ¨å…¶ä»–ç»™ä¸å…³æ³¨ä¸æ”¯æŒçš„åŒäº‹ã€‚\näº2017-05-13ï¼Œåœ¨ä¸Šæµ·ä¸¾åŠçš„ \u0026ldquo;ç¬¬62æœŸå¼€æºä¸­å›½æºåˆ›ä¼š\u0026rdquo; çš„ \u0026ldquo;æ”¾ç è¿‡æ¥\u0026rdquo; ç¯èŠ‚ï¼Œæˆ‘ç™»å°å¯¹XXL-JOBåšäº†æ¼”è®²ï¼Œå°ä¸‹äº”ç™¾ä½åœ¨åœºè§‚ä¼—åå“çƒ­çƒˆï¼ˆå›¾æ–‡å›é¡¾ ï¼‰ã€‚\näº2017-10-22ï¼Œåˆæ‹äº‘ Open Talk è”åˆ Spring Cloud ä¸­å›½ç¤¾åŒºä¸¾åŠçš„ \u0026ldquo;è¿›å‡»çš„å¾®æœåŠ¡å®æˆ˜æ´¾ä¸Šæµ·ç«™\u0026quot;ï¼Œæˆ‘ç™»å°å¯¹XXL-JOBåšäº†æ¼”è®²ï¼Œç°åœºè§‚ä¼—åå“çƒ­çƒˆå¹¶åœ¨ä¼šåä¸XXL-JOBç”¨æˆ·çƒ­çƒˆè®¨è®ºäº¤æµã€‚\näº2017-12-11ï¼ŒXXL-JOBæœ‰å¹¸å‚ä¼šã€ŠInfoQ ArchSummitå…¨çƒæ¶æ„å¸ˆå³°ä¼šã€‹ï¼Œå¹¶è¢«æ‹æ‹è´·æ¶æ„æ€»ç›‘\u0026quot;æ¨æ³¢è€å¸ˆ\u0026quot;åœ¨ä¸“é¢˜ \u0026ldquo;å¾®æœåŠ¡åŸç†ã€åŸºç¡€æ¶æ„å’Œå¼€æºå®è·µ\u0026rdquo; ä¸­ç°åœºä»‹ç»ã€‚\näº2017-12-18ï¼ŒXXL-JOBå‚ä¸\u0026rdquo;2017å¹´åº¦æœ€å—æ¬¢è¿ä¸­å›½å¼€æºè½¯ä»¶\u0026ldquo;è¯„æ¯”ï¼Œåœ¨å½“æ—¶å·²å½•å…¥çš„çº¦ä¹åƒä¸ªå›½äº§å¼€æºé¡¹ç›®ä¸­è§’é€ï¼Œæœ€ç»ˆè¿›å…¥äº†å‰30å¼ºã€‚\näº2018-01-15ï¼ŒXXL-JOBå‚ä¸\u0026rdquo;2017ç äº‘æœ€ç«å¼€æºé¡¹ç›®\u0026ldquo;è¯„æ¯”ï¼Œåœ¨å½“æ—¶å·²å½•å…¥çš„çº¦å…­åƒäº”ç™¾ä¸ªç äº‘é¡¹ç›®ä¸­è§’é€ï¼Œæœ€ç»ˆè¿›å»äº†å‰20å¼ºã€‚\näº2018-04-14ï¼ŒiTechPlusåœ¨ä¸Šæµ·ä¸¾åŠçš„ \u0026ldquo;2018äº’è”ç½‘å¼€å‘è€…å¤§ä¼š\u0026quot;ï¼Œæˆ‘ç™»å°å¯¹XXL-JOBåšäº†æ¼”è®²ï¼Œç°åœºè§‚ä¼—åå“çƒ­çƒˆå¹¶åœ¨ä¼šåä¸XXL-JOBç”¨æˆ·çƒ­çƒˆè®¨è®ºäº¤æµã€‚\näº2018-05-27ï¼Œåœ¨ä¸Šæµ·ä¸¾åŠçš„ \u0026ldquo;ç¬¬75æœŸå¼€æºä¸­å›½æºåˆ›ä¼š\u0026rdquo; çš„ \u0026ldquo;æ¶æ„\u0026rdquo; ä¸»é¢˜ä¸“åœºï¼Œæˆ‘ç™»å°è¿›è¡Œâ€œåŸºç¡€æ¶æ„ä¸ä¸­é—´ä»¶å›¾è°±â€ä¸»é¢˜æ¼”è®²ï¼Œå°ä¸‹ä¸Šåƒä½åœ¨åœºè§‚ä¼—åå“çƒ­çƒˆï¼ˆå›¾æ–‡å›é¡¾ ï¼‰ã€‚\näº2018-12-05ï¼ŒXXL-JOBå‚ä¸\u0026rdquo;2018å¹´åº¦æœ€å—æ¬¢è¿ä¸­å›½å¼€æºè½¯ä»¶\u0026ldquo;è¯„æ¯”ï¼Œåœ¨å½“æ—¶å·²å½•å…¥çš„ä¸€ä¸‡å¤šä¸ªå¼€æºé¡¹ç›®ä¸­è§’é€ï¼Œæœ€ç»ˆæ’åç¬¬19åã€‚\näº2019-12-10ï¼ŒXXL-JOBå‚ä¸\u0026rdquo;2019å¹´åº¦æœ€å—æ¬¢è¿ä¸­å›½å¼€æºè½¯ä»¶\u0026ldquo;è¯„æ¯”ï¼Œåœ¨å½“æ—¶å·²å½•å…¥çš„ä¸€ä¸‡å¤šä¸ªå¼€æºé¡¹ç›®ä¸­è§’é€ï¼Œæœ€ç»ˆæ’å\u0026quot;å¼€å‘æ¡†æ¶å’ŒåŸºç¡€ç»„ä»¶ç±»\u0026quot;ç¬¬9åã€‚\näº2020-11-16ï¼ŒXXL-JOBå‚ä¸\u0026rdquo;2020å¹´åº¦æœ€å—æ¬¢è¿ä¸­å›½å¼€æºè½¯ä»¶\u0026ldquo;è¯„æ¯”ï¼Œåœ¨å½“æ—¶å·²å½•å…¥çš„ä¸€ä¸‡å¤šä¸ªå¼€æºé¡¹ç›®ä¸­è§’é€ï¼Œæœ€ç»ˆæ’å\u0026quot;å¼€å‘æ¡†æ¶å’ŒåŸºç¡€ç»„ä»¶ç±»\u0026quot;ç¬¬8åã€‚\näº2021-12-06ï¼ŒXXL-JOBå‚ä¸\u0026rdquo;2021å¹´åº¦OSCä¸­å›½å¼€æºé¡¹ç›®è¯„é€‰ \u0026ldquo;è¯„æ¯”ï¼Œåœ¨å½“æ—¶å·²å½•å…¥çš„ä¸€ä¸‡å¤šä¸ªå¼€æºé¡¹ç›®ä¸­è§’é€ï¼Œæœ€ç»ˆå½“é€‰\u0026quot;æœ€å—æ¬¢è¿é¡¹ç›®\u0026rdquo;ã€‚\nå•Ÿå‹•å°ˆæ¡ˆ å…ˆåˆ°ä½œè€…çš„\nhttps://github.com/xuxueli/xxl-job\nå°‡å°ˆæ¡ˆcloneä¸‹ä¾†ï¼Œcloneä¸‹ä¾†å¾Œä¿®æ”¹é€™å…©å€‹åœ°æ–¹\n è¦é€£æ¥çš„jdbcè³‡è¨Šï¼ˆé è¨­æ˜¯mysqlï¼‰  Logæª”çš„å„²å­˜ä½ç½®  è¨­å®šå¥½é€£ç·šå¾Œï¼Œå†å»è³‡æ–™åº«ä¸­å°‡Tableå‰µå»ºå‡ºä¾†ï¼Œèªæ³•åœ¨æ­¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123  # # XXL-JOB v2.4.1-SNAPSHOT # Copyright (c) 2015-present, xuxueli. CREATE database if NOT EXISTS `xxl_job` default character set utf8mb4 collate utf8mb4_unicode_ci; use `xxl_job`; SET NAMES utf8mb4; CREATE TABLE `xxl_job_info` ( `id` int(11) NOT NULL AUTO_INCREMENT, `job_group` int(11) NOT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä¸»é”®ID\u0026#39;, `job_desc` varchar(255) NOT NULL, `add_time` datetime DEFAULT NULL, `update_time` datetime DEFAULT NULL, `author` varchar(64) DEFAULT NULL COMMENT \u0026#39;ä½œè€…\u0026#39;, `alarm_email` varchar(255) DEFAULT NULL COMMENT \u0026#39;æŠ¥è­¦é‚®ä»¶\u0026#39;, `schedule_type` varchar(50) NOT NULL DEFAULT \u0026#39;NONE\u0026#39; COMMENT \u0026#39;è°ƒåº¦ç±»å‹\u0026#39;, `schedule_conf` varchar(128) DEFAULT NULL COMMENT \u0026#39;è°ƒåº¦é…ç½®ï¼Œå€¼å«ä¹‰å–å†³äºè°ƒåº¦ç±»å‹\u0026#39;, `misfire_strategy` varchar(50) NOT NULL DEFAULT \u0026#39;DO_NOTHING\u0026#39; COMMENT \u0026#39;è°ƒåº¦è¿‡æœŸç­–ç•¥\u0026#39;, `executor_route_strategy` varchar(50) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨è·¯ç”±ç­–ç•¥\u0026#39;, `executor_handler` varchar(255) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä»»åŠ¡handler\u0026#39;, `executor_param` varchar(512) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä»»åŠ¡å‚æ•°\u0026#39;, `executor_block_strategy` varchar(50) DEFAULT NULL COMMENT \u0026#39;é˜»å¡å¤„ç†ç­–ç•¥\u0026#39;, `executor_timeout` int(11) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;ä»»åŠ¡æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’\u0026#39;, `executor_fail_retry_count` int(11) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;å¤±è´¥é‡è¯•æ¬¡æ•°\u0026#39;, `glue_type` varchar(50) NOT NULL COMMENT \u0026#39;GLUEç±»å‹\u0026#39;, `glue_source` mediumtext COMMENT \u0026#39;GLUEæºä»£ç \u0026#39;, `glue_remark` varchar(128) DEFAULT NULL COMMENT \u0026#39;GLUEå¤‡æ³¨\u0026#39;, `glue_updatetime` datetime DEFAULT NULL COMMENT \u0026#39;GLUEæ›´æ–°æ—¶é—´\u0026#39;, `child_jobid` varchar(255) DEFAULT NULL COMMENT \u0026#39;å­ä»»åŠ¡IDï¼Œå¤šä¸ªé€—å·åˆ†éš”\u0026#39;, `trigger_status` tinyint(4) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;è°ƒåº¦çŠ¶æ€ï¼š0-åœæ­¢ï¼Œ1-è¿è¡Œ\u0026#39;, `trigger_last_time` bigint(13) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;ä¸Šæ¬¡è°ƒåº¦æ—¶é—´\u0026#39;, `trigger_next_time` bigint(13) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;ä¸‹æ¬¡è°ƒåº¦æ—¶é—´\u0026#39;, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_log` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `job_group` int(11) NOT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä¸»é”®ID\u0026#39;, `job_id` int(11) NOT NULL COMMENT \u0026#39;ä»»åŠ¡ï¼Œä¸»é”®ID\u0026#39;, `executor_address` varchar(255) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨åœ°å€ï¼Œæœ¬æ¬¡æ‰§è¡Œçš„åœ°å€\u0026#39;, `executor_handler` varchar(255) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä»»åŠ¡handler\u0026#39;, `executor_param` varchar(512) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä»»åŠ¡å‚æ•°\u0026#39;, `executor_sharding_param` varchar(20) DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨ä»»åŠ¡åˆ†ç‰‡å‚æ•°ï¼Œæ ¼å¼å¦‚ 1/2\u0026#39;, `executor_fail_retry_count` int(11) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;å¤±è´¥é‡è¯•æ¬¡æ•°\u0026#39;, `trigger_time` datetime DEFAULT NULL COMMENT \u0026#39;è°ƒåº¦-æ—¶é—´\u0026#39;, `trigger_code` int(11) NOT NULL COMMENT \u0026#39;è°ƒåº¦-ç»“æœ\u0026#39;, `trigger_msg` text COMMENT \u0026#39;è°ƒåº¦-æ—¥å¿—\u0026#39;, `handle_time` datetime DEFAULT NULL COMMENT \u0026#39;æ‰§è¡Œ-æ—¶é—´\u0026#39;, `handle_code` int(11) NOT NULL COMMENT \u0026#39;æ‰§è¡Œ-çŠ¶æ€\u0026#39;, `handle_msg` text COMMENT \u0026#39;æ‰§è¡Œ-æ—¥å¿—\u0026#39;, `alarm_status` tinyint(4) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;å‘Šè­¦çŠ¶æ€ï¼š0-é»˜è®¤ã€1-æ— éœ€å‘Šè­¦ã€2-å‘Šè­¦æˆåŠŸã€3-å‘Šè­¦å¤±è´¥\u0026#39;, PRIMARY KEY (`id`), KEY `I_trigger_time` (`trigger_time`), KEY `I_handle_code` (`handle_code`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_log_report` ( `id` int(11) NOT NULL AUTO_INCREMENT, `trigger_day` datetime DEFAULT NULL COMMENT \u0026#39;è°ƒåº¦-æ—¶é—´\u0026#39;, `running_count` int(11) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;è¿è¡Œä¸­-æ—¥å¿—æ•°é‡\u0026#39;, `suc_count` int(11) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;æ‰§è¡ŒæˆåŠŸ-æ—¥å¿—æ•°é‡\u0026#39;, `fail_count` int(11) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;æ‰§è¡Œå¤±è´¥-æ—¥å¿—æ•°é‡\u0026#39;, `update_time` datetime DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `i_trigger_day` (`trigger_day`) USING BTREE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_logglue` ( `id` int(11) NOT NULL AUTO_INCREMENT, `job_id` int(11) NOT NULL COMMENT \u0026#39;ä»»åŠ¡ï¼Œä¸»é”®ID\u0026#39;, `glue_type` varchar(50) DEFAULT NULL COMMENT \u0026#39;GLUEç±»å‹\u0026#39;, `glue_source` mediumtext COMMENT \u0026#39;GLUEæºä»£ç \u0026#39;, `glue_remark` varchar(128) NOT NULL COMMENT \u0026#39;GLUEå¤‡æ³¨\u0026#39;, `add_time` datetime DEFAULT NULL, `update_time` datetime DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_registry` ( `id` int(11) NOT NULL AUTO_INCREMENT, `registry_group` varchar(50) NOT NULL, `registry_key` varchar(255) NOT NULL, `registry_value` varchar(255) NOT NULL, `update_time` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `i_g_k_v` (`registry_group`,`registry_key`,`registry_value`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_group` ( `id` int(11) NOT NULL AUTO_INCREMENT, `app_name` varchar(64) NOT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨AppName\u0026#39;, `title` varchar(12) NOT NULL COMMENT \u0026#39;æ‰§è¡Œå™¨åç§°\u0026#39;, `address_type` tinyint(4) NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;æ‰§è¡Œå™¨åœ°å€ç±»å‹ï¼š0=è‡ªåŠ¨æ³¨å†Œã€1=æ‰‹åŠ¨å½•å…¥\u0026#39;, `address_list` text COMMENT \u0026#39;æ‰§è¡Œå™¨åœ°å€åˆ—è¡¨ï¼Œå¤šåœ°å€é€—å·åˆ†éš”\u0026#39;, `update_time` datetime DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(50) NOT NULL COMMENT \u0026#39;è´¦å·\u0026#39;, `password` varchar(50) NOT NULL COMMENT \u0026#39;å¯†ç \u0026#39;, `role` tinyint(4) NOT NULL COMMENT \u0026#39;è§’è‰²ï¼š0-æ™®é€šç”¨æˆ·ã€1-ç®¡ç†å‘˜\u0026#39;, `permission` varchar(255) DEFAULT NULL COMMENT \u0026#39;æƒé™ï¼šæ‰§è¡Œå™¨IDåˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†å‰²\u0026#39;, PRIMARY KEY (`id`), UNIQUE KEY `i_username` (`username`) USING BTREE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; CREATE TABLE `xxl_job_lock` ( `lock_name` varchar(50) NOT NULL COMMENT \u0026#39;é”åç§°\u0026#39;, PRIMARY KEY (`lock_name`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; INSERT INTO `xxl_job_group`(`id`, `app_name`, `title`, `address_type`, `address_list`, `update_time`) VALUES (1, \u0026#39;xxl-job-executor-sample\u0026#39;, \u0026#39;ç¤ºä¾‹æ‰§è¡Œå™¨\u0026#39;, 0, NULL, \u0026#39;2018-11-03 22:21:31\u0026#39; ); INSERT INTO `xxl_job_info`(`id`, `job_group`, `job_desc`, `add_time`, `update_time`, `author`, `alarm_email`, `schedule_type`, `schedule_conf`, `misfire_strategy`, `executor_route_strategy`, `executor_handler`, `executor_param`, `executor_block_strategy`, `executor_timeout`, `executor_fail_retry_count`, `glue_type`, `glue_source`, `glue_remark`, `glue_updatetime`, `child_jobid`) VALUES (1, 1, \u0026#39;æµ‹è¯•ä»»åŠ¡1\u0026#39;, \u0026#39;2018-11-03 22:21:31\u0026#39;, \u0026#39;2018-11-03 22:21:31\u0026#39;, \u0026#39;XXL\u0026#39;, \u0026#39;\u0026#39;, \u0026#39;CRON\u0026#39;, \u0026#39;0 0 0 * * ? *\u0026#39;, \u0026#39;DO_NOTHING\u0026#39;, \u0026#39;FIRST\u0026#39;, \u0026#39;demoJobHandler\u0026#39;, \u0026#39;\u0026#39;, \u0026#39;SERIAL_EXECUTION\u0026#39;, 0, 0, \u0026#39;BEAN\u0026#39;, \u0026#39;\u0026#39;, \u0026#39;GLUEä»£ç åˆå§‹åŒ–\u0026#39;, \u0026#39;2018-11-03 22:21:31\u0026#39;, \u0026#39;\u0026#39;); INSERT INTO `xxl_job_user`(`id`, `username`, `password`, `role`, `permission`) VALUES (1, \u0026#39;admin\u0026#39;, \u0026#39;e10adc3949ba59abbe56e057f20f883e\u0026#39;, 1, NULL); INSERT INTO `xxl_job_lock` ( `lock_name`) VALUES ( \u0026#39;schedule_lock\u0026#39;); commit;   å‰µå»ºå®Œå¾Œçš„æ¨£å­\né€™æ¨£å°±å¯ä»¥å»å•Ÿå‹•å°ˆæ¡ˆäº†ï¼Œå•Ÿå‹•å®Œå¾Œè¼¸å…¥\nhttp://localhost:8080/xxl-job-admin/\nè¨ªå•é é¢ï¼Œå¸³è™Ÿå¯†ç¢¼é è¨­æ˜¯\nadmin\n123456\nåƒé€™é‚Šæœƒæœ‰æ•¸å­—æ˜¯å› ç‚ºæˆ‘ä¹‹å‰å·²ç¶“å•Ÿå‹•éä¸€æ¬¡äº†ï¼Œæ‰€ä»¥æœƒé¡¯ç¤ºè³‡æ–™ï¼Œå¦å‰‡ä¸€é–‹å§‹é€²ä¾†çš„æ™‚å€™æ˜¯ä¸æœƒæœ‰é€™äº›æ±è¥¿çš„\nXxl-job-masterçš„é…ç½®æª” åœ¨xxl-job-admin/src/main/resources/application.propertiesåº•ä¸‹æ˜¯æ•´å€‹masterçš„é…ç½®æª”ï¼Œåœ¨å…¶ä¸­æˆ‘å€‘å¯ä»¥èª¿æ•´ä¸€äº›å…§å®¹ï¼Œæ¯”å¦‚èªªJobç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œæ‡‰è©²å¯„ä¿¡çµ¦å“ªå€‹mailã€logçš„ä¿å­˜æœŸé–“ç­‰ç­‰ï¼Œå…¶ä¸­æœ‰ä¸€å€‹å«åšAccessTokençš„å€¼ã€‚é€™å€‹å€¼æœƒè·Ÿæˆ‘å€‘ä¹‹å¾Œå•Ÿå‹•å¾Œçš„Jobæœ‰å°æ‡‰é—œä¿‚ï¼ˆç°¡å–®ä¾†èªªå°±æ˜¯Masterè·ŸSlaveæœƒæ¯”å°AccessTokenï¼‰å¦‚æœç›¸äº’åŒ¹é…å°±å¯ä»¥åŸ·è¡ŒJob\nSlaveçš„å•Ÿå‹•  ç¾åœ¨å¥½åƒç‚ºäº†é¿å…æ­§è¦–ï¼Œéƒ½ä¸èƒ½ç”¨Slaveé€™å€‹è©äº†\n æˆ‘å€‘æ–°å»ºä¸€å€‹SpringBootå°ˆæ¡ˆï¼Œä¸¦åœ¨å°ˆæ¡ˆä¸­åŠ å…¥xxl-jobçš„dependency\n1 2 3 4 5  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.xuxueli\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;xxl-job-core\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;   ç„¶å¾Œç·¨è¼¯ä¸€ä¸‹æˆ‘å€‘çš„application.properties\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  # é€™é‚Šæœƒæ”¹çš„åŸå› æ˜¯å› ç‚ºæˆ‘çš„masterå·²ç¶“ä½”æ‰8080portäº† server.port=8081 # ä½ çš„xxl-jobçš„masterå•Ÿå‹•åœ°å€æ˜¯å“ªä¸€å€‹ xxl.job.admin.adresses=http://localhost:8080/xxl-job-admin # è¦è·Ÿmasterçš„accessTokenä¸€è‡´ xxl.job.accessToken=default_token # éš¨ä¾¿è¦å«å•¥éƒ½å¯ä»¥ xxl.job.executor.appname=xxl-job-executor-sample xxl.job.executor.address=http://127.0.0.1:9999 xxl.job.executor.ip=127.0.0.1 # executorè¦ä½”ç”¨å“ªå€‹port xxl.job.executor.port=9999 xxl.job.executor.logpath=/Users/hoxtonashes/Documents/xxl-job-demo/log xxl.job.executor.logretentiondays=30   accessTokençš„è©±å°±æ˜¯è¦è·Ÿmaster(ä¸Šé¢æåˆ°çš„é‚£å€‹)ä¸€è‡´ã€‚é€™é‚Šå¯«å¥½ä¹‹å¾Œå°±é…ä¸€å€‹SpringBeançµ¦å®ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  @Configuration public class XxlJobConfig { @Value(\u0026#34;${xxl.job.admin.adresses}\u0026#34;) private String adminAddresses; @Value(\u0026#34;${xxl.job.accessToken}\u0026#34;) private String accessToken; @Value(\u0026#34;${xxl.job.executor.appname}\u0026#34;) private String appName; @Value(\u0026#34;${xxl.job.executor.address}\u0026#34;) private String address; @Value(\u0026#34;${xxl.job.executor.ip}\u0026#34;) private String ip; @Value(\u0026#34;${xxl.job.executor.port}\u0026#34;) private int port; @Value(\u0026#34;${xxl.job.executor.logpath}\u0026#34;) private String logPath; @Value(\u0026#34;${xxl.job.executor.logretentiondays}\u0026#34;) private int logRetentionDays; @Bean public XxlJobSpringExecutor xxlJobSpringExecutor() { XxlJobSpringExecutor xxlJobSpringExecutor = new XxlJobSpringExecutor(); xxlJobSpringExecutor.setAdminAddresses(adminAddresses); xxlJobSpringExecutor.setAppname(appName); xxlJobSpringExecutor.setAddress(address); xxlJobSpringExecutor.setIp(ip); xxlJobSpringExecutor.setPort(port); xxlJobSpringExecutor.setAccessToken(accessToken); xxlJobSpringExecutor.setLogPath(logPath); xxlJobSpringExecutor.setLogRetentionDays(logRetentionDays); return xxlJobSpringExecutor; } }   é€™æ¨£å–®ä¾‹æ± ä¸­å°±æœ‰æˆ‘å€‘çš„XxlJobSpringExecutorçš„è³‡è¨Šäº†ã€‚\næ¥è‘—ä½¿ç”¨\n1 2 3 4 5 6 7 8 9 10  @Component @Slf4j public class SimpleXxlJob { //ç­‰ç­‰è¦è¢«masterè­˜åˆ¥çš„åç¨±  @XxlJob(\u0026#34;demoJobHandler\u0026#34;) public ReturnT\u0026lt;String\u0026gt; demoJobHandler(String jobParam) { log.info(\u0026#34;åŸ·è¡Œå®šæ™‚ä»»å‹™ï¼ŒåŸ·è¡Œæ™‚é–“:{}\u0026#34;, new Date()); return new ReturnT\u0026lt;\u0026gt;(ReturnT.SUCCESS_CODE, \u0026#34;æˆåŠŸ\u0026#34;); } }   ä¾†å¯«ä¸€å€‹åŸ·è¡Œå™¨ï¼Œå¯«å¥½ä¹‹å¾Œå°±æŠŠé€™å€‹Slaveå•Ÿå‹•èµ·ä¾†ã€‚\nå¯¦éš›é‹è¡Œ å•Ÿå‹•å®Œå¾Œå°±åˆ°masterçš„é é¢ï¼Œå°‡é€™å€‹Jobè¨»å†Šèµ·ä¾†ï¼Œé€™é‚Šæˆ‘å€‘æ˜¯è¨­å®šæˆæ¯5ç§’åŸ·è¡Œä¸€æ¬¡\næ¥ä¸‹ä¾†å°±å¯ä»¥å»åŸ·è¡Œå®ƒäº†\né€™æ¨£å°±æ˜¯Xxl-Jobçš„ä¸€å€‹ç°¡å–®ä»‹ç´¹\n","date":"2023-10-19T15:32:09+08:00","image":"https://i.imgur.com/dveNGtg.png","permalink":"https://hoxtoncraft.com/p/xxl-job-%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8B%99%E8%AA%BF%E5%BA%A6%E4%B8%AD%E5%BF%83%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Xxl-Job åˆ†å¸ƒå¼ä»»å‹™èª¿åº¦ä¸­å¿ƒå­¸ç¿’ç­†è¨˜"},{"content":"å°ˆæ¡ˆä¸­i18nä¹‹å¯¦ç¾ i18nå…¨åinternationalizationï¼Œå› ç‚ºä¸­é–“çš„å­—æ¯æœ‰18å€‹ï¼Œæ–¼æ˜¯å°±ç”¨i18nä¾†ç¨±å‘¼å®ƒã€‚æ‰€è¬‚çš„i18nå°±æ˜¯æ ¹æ“šä¸åŒçš„èªç³»æœƒæœ‰ä¸åŒçš„Messageå›å‚³ï¼Œæ¯”å¦‚èªªè‡ºç£äººåœ¨ç™»å…¥å¤±æ•—æ™‚æœƒå‡ºç¾ã€Œç™»å…¥å¤±æ•—ã€ï¼Œç¾åœ‹äººåœ¨ç™»å…¥æ™‚æœƒå‡ºç¾ã€ŒLogin Failã€ï¼Œé€™ç¨®å› æ‡‰ä¸åŒåœ°å€çš„ä½¿ç”¨è€…ä¾†å®¢è£½åŒ–è¨Šæ¯çš„å·¥ä½œï¼Œå°±æ˜¯i18nã€‚\næ¶‰åŠåˆ°çš„åŸºæœ¬çŸ¥è­˜ ResourceBundle æƒ³è¦åšåˆ°i18nï¼Œæœ€é‡è¦çš„å°±æ˜¯åœ°å€ï¼ˆLocaleï¼‰çš„è³‡æ–™ï¼Œåœ°å€è³‡æ–™æœ‰å…©å€‹éƒ¨åˆ†çµ„æˆï¼Œåˆ†åˆ¥æ˜¯èªè¨€ç·¨ç¢¼ISO 639åŠ ä¸Šå€åŸŸç·¨ç¢¼ISO3166ï¼Œæ¯”å¦‚èªª\n en_USï¼šè‹±æ–‡_ç¾åœ‹ en-AUï¼šè‹±æ–‡_æ¾³æ´² en-HK ï¼šè‹±æ–‡_é¦™æ¸¯  ç­‰ç­‰çš„ï¼Œè©³ç´°è³‡è¨Šå¯ä»¥æŸ¥çœ‹http://www.i18nguy.com/unicode/language-identifiers.html\nè€Œåœ¨Javaä¸­ï¼Œæƒ³è¦å¯¦ç¾é€™æ¨£çš„åŠŸèƒ½å°±æœƒæ¶‰åŠåˆ°ResouceBundle\né€™å€‹é¡å¯ä»¥ç”¨ä¾†å°‡ç¨‹å¼ä¸­çš„æ–‡æœ¬ï¼Œèˆ‡ç¨‹å¼ç¢¼åˆ†é›¢å‡ºä¾†ï¼Œè€Œä¸æ˜¯å¯«æ­»åœ¨ç¨‹å¼ä¸­ï¼Œå…·é«”å¯ä»¥ä¾†çœ‹ä¸‹é¢çš„Codeã€‚\nJavaä¸­å¦‚ä½•å¯¦ç¾i18n é¦–å…ˆå…ˆé–‹ä¸€å€‹æ–°çš„Java Mavenå°ˆæ¡ˆï¼Œä¸¦åœ¨resourcesçš„è³‡æ–™å¤¾åº•ä¸‹å»ºç«‹å…©å€‹æª”æ¡ˆ\n messages_en_US.properties messages_zh_TW.properties  å†ä¾†åˆ°æˆ‘å€‘çš„Mainæ–¹æ³•ä¸­ï¼Œå…ˆå‰µå»ºå‡ºä¸€å€‹Localeç‰©ä»¶\n1 2 3 4 5  public class Main { public static void main(String[] args) { Locale locale = new Locale(\u0026#34;zh\u0026#34;, \u0026#34;TW\u0026#34;); } }   å¯ä»¥çœ‹å‡ºæ˜¯Languageè·ŸCountryåƒæ•¸\næ¥è‘—å‰µé€ ResourceBundleç‰©ä»¶ï¼Œå…¶ä¸­messageså°±æ˜¯æˆ‘å€‘propertiesæª”æ¡ˆçš„base nameï¼Œè®“ç¨‹å¼çŸ¥é“å“ªäº›propertiesæ˜¯i18nçš„æ–‡æœ¬\n1 2 3 4 5 6  public class Main { public static void main(String[] args) { Locale locale = new Locale(\u0026#34;zh\u0026#34;, \u0026#34;TW\u0026#34;); ResourceBundle resourceBundle = ResourceBundle.getBundle(\u0026#34;messages\u0026#34;,locale); } }   æ¥è‘—æˆ‘å€‘å¯ä»¥ç”¨getString çš„æ–¹å¼ä¾†å–å¾—propertiesä¸­çš„å€¼\nåªè¦æ”¹è®ŠLocaleçš„åƒæ•¸ï¼Œæˆ‘å€‘å°±å¯ä»¥å»èª¿æ•´æ‰“å°å‡ºä¾†çš„å…§å®¹ï¼Œæ¯”å¦‚èªªç¾åœ¨å°‡Localeæ”¹æˆen_US\né€™æ¨£å°±æ˜¯æœ€åŸºç¤çš„ï¼Œåœ¨Javaä¸­å¯¦ç¾i18nçš„æ–¹æ³•\nåœ¨SpringBootä¸­å¦‚ä½•å¯¦ç¾i18nï¼ˆåŸºç¤ï¼‰ é¦–å…ˆå…ˆå‰µé€ ä¸€å€‹SpringBootå°ˆæ¡ˆï¼Œæ¥è‘—åˆ°application.ymlä¸­é…ç½®ä¸€äº›åŸºç¤è³‡è¨Š\n1 2 3 4 5  spring:messages:basename:i18n/messagesencoding:UTF-8  å…¶ä¸­basenameå°±å’Œä¸Šé¢çš„Java Basenameä¸€æ¨£ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šæˆ‘å€‘çš„i18é…ç½®æª”æ˜¯æ”¾åœ¨ä»€éº¼åœ°æ–¹ï¼Œä»¥é€™å€‹basenameç‚ºä¾‹ï¼Œå°±ä»£è¡¨æ”¾åœ¨resources/i18nåº•ä¸‹\nè¨­ç½®å¥½å¾Œï¼Œå°±åˆ°resources/i18nè³‡æ–™å¤¾ä¸­ï¼Œé…ç½®i18nç›¸é—œçš„æª”æ¡ˆ\n [{0}]ä»£è¡¨çš„æ˜¯æ ¼å¼åŒ–è¨Šæ¯çš„å ä½ç¬¦\n ç„¶å¾Œé…ç½®ä¸€å€‹controllerï¼Œä¸¦åŠ å…¥MessageSourceçš„Bean\n MessageSource æ˜¯ Spring Framework æä¾›çš„ä¸€å€‹ä»‹é¢ï¼Œç”¨æ–¼æ”¯æ´æ‡‰ç”¨ç¨‹å¼çš„åœ‹éš›åŒ–ï¼ˆInternationalizationï¼‰å’Œæœ¬åœ°åŒ–ï¼ˆLocalizationï¼‰ã€‚å®ƒæä¾›äº†ä¸€ç¨®åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­è¼•é¬†ç®¡ç†æ–‡æœ¬è¨Šæ¯çš„æ©Ÿåˆ¶ï¼Œä»¥ä¾¿æ ¹æ“šä½¿ç”¨è€…çš„èªè¨€å’Œåœ°å€é¦–é¸é …ä¾†æä¾›ç›¸æ‡‰çš„æ–‡æœ¬è¨Šæ¯ã€‚\nMessageSource ä»‹é¢çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\n æ–‡æœ¬è¨Šæ¯æª¢ç´¢ï¼š MessageSource å…è¨±æ‚¨åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­å®šç¾©å’Œå­˜å„²æ–‡æœ¬è¨Šæ¯ï¼Œé€šå¸¸ä»¥éµå€¼å°çš„å½¢å¼ã€‚é€™äº›æ–‡æœ¬è¨Šæ¯å¯ä»¥æ˜¯æ‡‰ç”¨ç¨‹å¼ä¸­çš„å„ç¨®æç¤ºã€æ¨™ç±¤ã€éŒ¯èª¤è¨Šæ¯ç­‰ã€‚ åœ‹éš›åŒ–æ”¯æ´ï¼š æ‚¨å¯ä»¥é…ç½®ä¸åŒèªè¨€å’Œåœ°å€çš„è¨Šæ¯ï¼Œä»¥ä¾¿æ ¹æ“šä½¿ç”¨è€…çš„é¦–é¸èªè¨€å’Œåœ°å€è¨­å®šä¾†å‹•æ…‹é¸æ“‡åˆé©çš„è¨Šæ¯ã€‚é€™ä½¿å¾—æ‡‰ç”¨ç¨‹å¼èƒ½å¤ ä»¥å¤šèªè¨€å’Œæœ¬åœ°åŒ–æ–¹å¼å‘ˆç¾è¨Šæ¯ã€‚ åƒæ•¸æ›¿æ›ï¼š MessageSource æ”¯æ´å°‡åƒæ•¸æ’å…¥è¨Šæ¯ä¸­ï¼Œä»¥ä¾¿å°‡å‹•æ…‹å€¼åµŒå…¥åˆ°è¨Šæ¯ä¸­ã€‚é€™å°æ–¼åŒ…å«ä½”ä½ç¬¦çš„è¨Šæ¯éå¸¸æœ‰ç”¨ã€‚ è¨Šæ¯æ ¼å¼åŒ–ï¼š æ‚¨å¯ä»¥å®šç¾©è¨Šæ¯çš„æ ¼å¼ï¼Œä»¥é©æ‡‰ä¸åŒçš„è¨Šæ¯é¡å‹ï¼Œå¦‚æ—¥æœŸã€æ™‚é–“ã€è²¨å¹£ç­‰ã€‚  MessageSource ä»‹é¢çš„å¸¸è¦‹å¯¦ç¾æ˜¯ ResourceBundleMessageSourceï¼Œå®ƒä½¿ç”¨ Java çš„ ResourceBundle æ©Ÿåˆ¶ä¾†å­˜å„²å’Œæª¢ç´¢è¨Šæ¯ã€‚ä½† Spring ä¹Ÿæä¾›å…¶ä»–å¯¦ç¾ï¼Œå¦‚ ReloadableResourceBundleMessageSourceï¼Œå…è¨±åœ¨ä¸é‡å•Ÿæ‡‰ç”¨ç¨‹å¼çš„æƒ…æ³ä¸‹é‡æ–°åŠ è¼‰è¨Šæ¯è³‡æºã€‚\nä½¿ç”¨ MessageSource çš„ä¸»è¦æ­¥é©ŸåŒ…æ‹¬ï¼š\n é…ç½® MessageSource Beanï¼Œé€šå¸¸åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­æˆ– Java é…ç½®é¡ä¸­å®Œæˆã€‚ åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­ä½¿ç”¨ MessageSource çš„ getMessage æ–¹æ³•ä¾†æª¢ç´¢è¨Šæ¯ï¼ŒæŒ‡å®šè¨Šæ¯çš„éµå’Œå¯é¸åƒæ•¸ã€‚ æ ¹æ“šä½¿ç”¨è€…çš„èªè¨€å’Œåœ°å€é¦–é¸é …ï¼ŒMessageSource æœƒå‹•æ…‹åœ°è¿”å›é©ç•¶çš„è¨Šæ¯ã€‚  ç¸½ä¹‹ï¼ŒMessageSource æ˜¯ Spring Framework ä¸­çš„ä¸€å€‹é‡è¦å…ƒä»¶ï¼Œç”¨æ–¼å¯¦ç¾åœ‹éš›åŒ–å’Œæœ¬åœ°åŒ–ï¼Œå¹«åŠ©é–‹ç™¼è€…æ§‹å»ºå¤šèªè¨€å’Œå¤šåœ°å€æ”¯æ´çš„æ‡‰ç”¨ç¨‹å¼ï¼Œæé«˜ä½¿ç”¨è€…é«”é©—ã€‚\n\u0026ndash;Generate By ChatGPT\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14  @RestController @RequiredArgsConstructor public class DemoController { private final MessageSource messageSource; @GetMapping(\u0026#34;/\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; demo() { String message = messageSource.getMessage(\u0026#34;error\u0026#34;, new String[]{\u0026#34;ç™¼ç”ŸéŒ¯èª¤\u0026#34;}, Locale.TAIWAN); System.out.println(message); return ResponseEntity.ok().body(\u0026#34;Hello\u0026#34;); } }   å¯ä»¥çœ‹å‡ºMessageSourceï¼Œä¾ç…§æˆ‘å€‘é…ç½®çš„Localeå»i18nåº•ä¸‹æ‰¾åˆ°å°æ‡‰çš„æ–‡æœ¬ï¼Œä¸¦ä¸”æ‰“å°å‡ºä¾†ã€‚æˆ‘å€‘å¯ä»¥ä¿®æ”¹Localeçš„å€¼ä¾†æ”¹è®Šæ‰“å°å‡ºä¾†çš„æ–‡æœ¬\næƒ³ç•¶ç„¶è€³ï¼Œæˆ‘å€‘ä¸å¯èƒ½æ˜¯æŠŠi18nçš„é…ç½®å¯«æ­»ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ LocaleContextHolder.getLocale()ä¾†å–å¾—ç›®å‰ä½¿ç”¨è€…çš„èªè¨€ä¾†å‹•æ…‹æ³¨å…¥Localeè³‡æ–™\n1 2 3 4 5 6  @GetMapping(\u0026#34;/\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; demo() { String message = messageSource.getMessage(\u0026#34;error\u0026#34;, new String[]{\u0026#34;ç™¼ç”ŸéŒ¯èª¤\u0026#34;}, LocaleContextHolder.getLocale()); System.out.println(message); return ResponseEntity.ok().body(\u0026#34;Hello\u0026#34;); }   é€™éƒ¨åˆ†å‹•æ…‹æ³¨å…¥çš„æ–¹å¼ï¼Œå¯¦éš›å¯¦ç¾å¯ä»¥æœ‰å¾ˆå¤šç¨®æ–¹å¼ï¼Œæ¯”å¦‚èªªInterceptorã€Filterä½œè½‰æ›ï¼Œç„¶å¾Œç”¨AOPçš„æ–¹å¼è½‰æ›ï¼Œéƒ½æ˜¯å¯ä»¥è¡Œçš„æ–¹æ¡ˆã€‚\n","date":"2023-10-11T11:58:32+08:00","image":"https://i.imgur.com/Tb5xdM6.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E5%9C%A8springboot%E4%B8%AD%E5%AF%A6%E7%8F%BE%E5%9F%BA%E7%A4%8E%E7%9A%84i18n/","title":"å¦‚ä½•åœ¨SpringBootä¸­å¯¦ç¾åŸºç¤çš„I18n"},{"content":"ä½¿ç”¨ç¶²ç«™ https://www.geogebra.org/m/JP2XZpzV\nä½•è¬‚ç‰¹å¾µæ ¹ã€ç‰¹å¾µå‘é‡ Eigenæ˜¯å¾·æ–‡çš„ä¸€å€‹è©å½™ï¼Œæ„å³ã€Œè‡ªå·±çš„ã€ï¼Œè€Œä¸­æ–‡ç¿»è­¯æˆç‰¹å¾µæ ¹ã€ç‰¹å¾µå‘é‡ç¢ºå¯¦æœ‰é»æ‘¸ä¸è‘—é ­è…¦ã€‚æ‰€è¬‚ç‰¹å¾µæ ¹ä»¥åŠç‰¹å¾µå‘é‡ï¼Œä»£è¡¨çš„æ˜¯ä¸€å€‹å‘é‡ï¼Œç¶“éç·šæ€§è½‰æ›(Linear Transformation)å¾Œï¼Œå‘é‡çš„æ–¹å‘ä¸æœƒæ”¹è®Šï¼Œå¯ä»¥çœ‹é€™å¼µåœ–\né€™å¼µåœ–ç›¸ç•¶æ–¼æ˜¯èªªï¼Œå°‡å‘é‡(0.71,0.71)èˆ‡çŸ©é™£ $$ \\begin{bmatrix} -3\u0026amp;0\\\\\n0\u0026amp;1 \\\\\n\\end{bmatrix} $$\nç›¸ä¹˜å¾Œï¼Œè©²å‘é‡æœƒæŒ‡å‘ä»€éº¼å“ªè£ã€é•·åº¦å¤šå°‘\nä¸‹åœ–ä¸­é»‘è‰²çš„éƒ¨åˆ†æ˜¯ç·šæ€§è½‰æ›ä¹‹å‰çš„å‘é‡ï¼Œè€Œç´…è‰²å‰‡æ˜¯ç·šæ€§è®Šæ›ä¹‹å¾Œçš„ä½ç½®\né‚£ä»€éº¼æ˜¯ç‰¹å¾µå‘é‡å‘¢ï¼Œæ‰€è¬‚çš„ç‰¹å¾µå‘é‡ï¼Œå°±æ˜¯æŒ‡é‚£äº›ç¶“éç·šæ€§è®Šæ›å¾Œï¼Œå‘é‡æ–¹å‘ä¸è®Šï¼ˆåªæœ‰é•·åº¦ã€æ­£è² è™Ÿï¼‰æ”¹è®Šçš„å‘é‡ï¼Œå°±å«ç‰¹å¾µå‘é‡ï¼Œèˆ‰å€‹æœ€ç°¡å–®çš„ä¾‹å­ï¼Œå‡è¨­ç¾åœ¨æœ‰å€‹ç·šæ€§è®Šæ›æ˜¯é€™æ¨£\n$$ \\begin{bmatrix} 2\u0026amp;0\\\\\n0\u0026amp;2 \\\\\n\\end{bmatrix} $$\nä¹Ÿå°±èªªæŠŠæ¯å€‹å–®ä½å‘é‡éƒ½æ‹‰ä¼¸å…©å€ï¼Œé‚£éº¼å®ƒå¯¦éš›çœ‹èµ·ä¾†å°±æœƒåƒæ˜¯é€™å€‹æ¨£å­\næˆ‘å€‘æœƒç™¼ç¾å®ƒçš„æ¯ä¸€å€‹å‘é‡ï¼Œç¶“éç·šæ€§è®Šæ›å¾Œï¼Œéƒ½å’Œå®ƒåŸå…ˆçš„å‘é‡åªå·®ä¸€å€ï¼Œé‚£é€™å€‹ä¸€å€çš„å€¼å°±æ˜¯å®ƒçš„ç‰¹å¾µæ ¹(EigenValue)ã€‚\nä»¥ç•«é¢ä¾†è¡¨ç¤ºç‰¹å¾µæ ¹ã€ç‰¹å¾µå‘é‡ æ¯”å¦‚èªªç¾åœ¨æœ‰ä¸€å€‹ç·šæ€§è®ŠåŒ–å¦‚ä¸‹\n$$ \\begin{bmatrix} 1\u0026amp;2\\\\\n2\u0026amp;1 \\\\\n\\end{bmatrix} $$\n(1,0)è½‰æ›çš„çµæœå°±åƒç´…è‰²çš„é‚£æ¨£\næˆ‘å€‘è§€å¯Ÿä¸Šåœ–å¯ä»¥ç™¼ç¾ï¼Œæ˜¯ä¸æ˜¯åœ¨æŸäº›æ™‚å€™ï¼Œç´…è‰²è·Ÿé»‘è‰²çš„ç·šæ˜¯å…±ç·šçš„æƒ…å½¢\nï¼ˆâ–²é•·åº¦ç›¸å·®3å€ï¼‰\nï¼ˆâ–²é•·åº¦ç›¸å·®-1å€ï¼‰\nåƒé€™æ¨£çš„æƒ…æ³\n(0.71,0.71)ã€(-0.7,0.71)å°±æ˜¯ç‰¹å¾µå‘é‡(ä¸åªä¸€çµ„)ï¼Œè€Œ3ã€-1å°±æ˜¯ç‰¹å¾µå€¼\n","date":"2023-10-10T18:00:19+08:00","image":"https://i.imgur.com/Rv7zjbh.jpg","permalink":"https://hoxtoncraft.com/p/%E8%A6%96%E8%A6%BA%E5%8C%96%E7%9A%84%E7%90%86%E8%A7%A3%E7%89%B9%E5%BE%B5%E5%90%91%E9%87%8Feigenvector%E7%89%B9%E5%BE%B5%E6%A0%B9eigenvalue/","title":"è¦–è¦ºåŒ–çš„ç†è§£ç‰¹å¾µå‘é‡(Eigenvector)ã€ç‰¹å¾µæ ¹(Eigenvalue)"},{"content":"åœ¨SpringBootä¸­è¦å¯¦ç¾éåŒæ­¥æœ‰å¾ˆå¤šç¨®æ–¹å¼ï¼Œæ¯”å¦‚èªªä½ è‡ªå·±æ‰‹å¯«ä¸€å€‹ThreadPoolã€æˆ–æ˜¯è—‰ç”±å¤–éƒ¨çš„RabbitMQéƒ½å¯ä»¥å¯¦ç¾éåŒæ­¥çš„æ–¹æ³•ã€‚\né‚£é€™é‚Šæˆ‘é¸æ“‡å¯¦åšçš„æ–¹æ³•æ˜¯ä½¿ç”¨SpringBootæä¾›çš„@Asyncï¼Œä»€éº¼æ˜¯éåŒæ­¥å‘¢ï¼Ÿ\nèˆ‰å€‹ä¾‹å­å‡è¨­æˆ‘åœ¨åšæ«ƒæª¯ï¼Œç¾åœ¨æœ‰10å€‹å®¢äººè¦è¾¦å¸³æˆ¶ï¼Œæ¯å€‹å®¢äººéä¾†æˆ‘é€™é‚Šï¼Œéƒ½è¦å¯«10åˆ†é˜çš„è¡¨æ ¼ï¼Œå¯«å®Œå¾Œæˆ‘åœ¨å¹«ä»–å€‘ç™»è¨˜ï¼ŒèŠ±å…©åˆ†é˜ã€‚å¦‚æœä¸€å€‹å®¢äººä¸€å€‹å®¢äººé€™æ¨£éä¾†ï¼Œæˆ‘éœ€è¦èŠ±120åˆ†é˜æ‰å¯ä»¥æ¶ˆåŒ–æ‰ã€‚ä½†å¦‚æœæˆ‘å¯ä»¥å…ˆæŠŠè¡¨æ ¼ç™¼çµ¦å…¨éƒ¨10å€‹äººå¡«ï¼Œé€™æ¨£æˆ‘åªè¦èŠ±10+10*2=30åˆ†é˜å°±å¯ä»¥ã€‚\né€™å°±æ˜¯éåŒæ­¥æ“ä½œï¼Œç°¡è€Œè¨€ä¹‹å°±æ˜¯é¿å…ç„¡æ„ç¾©çš„ç­‰å¾…ã€‚\nç”±æ–¼ç¶²è·¯ä¸Šå¯«çš„æ•™å­¸å¯¦åœ¨éƒ½å¤ªè¤‡é›œäº†ï¼Œæˆ‘æƒ³å¯«ä¸€ç¯‡æœ€æœ€æœ€åŸºæœ¬çš„é‚£ä¸€ç¨®ï¼Œä¸éœ€è¦é…ä»€éº¼configï¼Œé€£ä»€éº¼è³‡æ–™åº«ï¼Œä¸€åˆ‡éƒ½æ˜¯æœ€åŸºæœ¬çš„æ¨£å­\nGithubé€£çµ https://github.com/Hoxton019030/SpringBootAsync\nå¦‚ä½•å‰µå»ºä¸€å€‹éåŒæ­¥æ–¹æ³• éå¸¸ç°¡å–®ï¼åªè¦åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Asyncçš„è¨»è§£å°±å¯ä»¥å›‰ï¼å°±åƒé€™æ¨£\n1 2 3 4 5 6 7 8 9  @Async public void testAsync() { try { Thread.sleep(3000); } catch (InterruptedException e) { throw new RuntimeException(e); } System.out.println(\u0026#34;éåŒæ­¥æ¸¬è©¦åŸ·è¡Œï¼ŒåŸ·è¡Œç·’ç‚ºï¼š\u0026#34; + Thread.currentThread().getName()); }   å¯¦éš›æ„Ÿå—ä½•è¬‚éåŒæ­¥åŸ·è¡Œ æˆ‘å€‘å¯ä»¥å¯«ä¸€å€‹controllerä¾†å‘¼å«æˆ‘å€‘å‰›å‰›å¯«å¥½çš„testAsync()\n1 2 3 4 5 6 7  @GetMapping(\u0026#34;/\u0026#34;) public String testAsync() { System.out.println(\u0026#34;é–‹å§‹æ¸¬è©¦ï¼ŒåŸ·è¡Œç·’ç‚º - \u0026#34; + Thread.currentThread().getName()); asyncTask.testAsync(); //é€™æ±è¥¿æœƒå°å‡ºéåŒæ­¥æ¸¬è©¦åŸ·è¡Œï¼ŒåŸ·è¡Œç·’ç‚ºï¼šAsync-Service-1  System.out.println(\u0026#34;æ¸¬è©¦çµæŸï¼ŒåŸ·è¡Œç·’ç‚º - \u0026#34; + Thread.currentThread().getName()); return \u0026#34;éåŒæ­¥æ¸¬è©¦\u0026#34;; }   å°ˆæ¡ˆåŸ·è¡Œå®Œå¾Œï¼Œå¯ä»¥è¼¸å…¥\nhttp://localhost:8080/\nè¨ªå•endPointï¼Œå¯ä»¥çœ‹åˆ°\u0026quot;éåŒæ­¥æ¸¬è©¦åŸ·è¡Œï¼ŒåŸ·è¡Œç·’ç‚ºï¼šé€™å¥è©±æ‰“å°å‡ºä¾†çš„æ™‚é–“é»ï¼Œé å°æ–¼æ¸¬è©¦çµæŸï¼ŒåŸ·è¡Œç·’ç‚º - é€™å¥è©±ï¼Œé€™å°±æ˜¯éåŒæ­¥åŸ·è¡Œå¸¶ä¾†çš„å¥½è™•ã€‚\nç¹¼çºŒæ„Ÿå—éåŒæ­¥åŸ·è¡Œ ä¹‹å‰åœ¨è³‡ç­–æœƒçš„å°ˆæ¡ˆä¸­ï¼Œæœ‰ä¸€å€‹åŠŸèƒ½æ˜¯è¦å¯„å‡ºEmailçš„ï¼Œç•¶æ™‚é‡æ²’é‚£éº¼å¤§ï¼Œæ‰€ä»¥æ²’æ„Ÿè¦ºï¼Œå¯¦éš›å·¥ä½œä¹‹å¾Œç™¼ç¾å¯„Emailé€™ä»¶äº‹æƒ…è¦èŠ±å¾ˆå¤šæ™‚é–“åœ¨ç­‰å¾…ä¸Šé¢ï¼Œé€™å°±æ˜¯ä¸€å€‹å¾ˆé©åˆç”¨éåŒæ­¥å»è™•ç†çš„äº‹æƒ…ã€‚åœ¨é€™é‚Šæˆ‘ä¸€æ¨£ä½¿ç”¨Thread.sleep()å»æ¨¡æ“¬å¯„ä¿¡é€™ä»¶äº‹æƒ…\n1 2 3 4 5 6 7 8 9 10 11 12 13  @Async public void sendEmail(int mailNumber) { for (int i = 1; i \u0026lt; mailNumber + 1; i++) { try { Thread.sleep(1000); System.out.println(\u0026#34;å¯„å‡ºç¬¬\u0026#34; + i + \u0026#34;å°ä¿¡ï¼Œæ‰€ä½¿ç”¨çš„åŸ·è¡Œç·’æ˜¯\u0026#34; + Thread.currentThread().getName()); } catch (InterruptedException e) { System.out.println(\u0026#34;å¯„å‡ºç¬¬\u0026#34; + i + \u0026#34;å°ä¿¡æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼\u0026#34;); throw new RuntimeException(e); } } }   1 2 3 4 5 6 7 8  @GetMapping(\u0026#34;/email\u0026#34;) public String sendEmail() { System.out.println(\u0026#34;é–‹å§‹æ¸¬è©¦ï¼ŒåŸ·è¡Œç·’ç‚º - \u0026#34; + Thread.currentThread().getName()); asyncTask.sendEmail(10); System.out.println(\u0026#34;æ¸¬è©¦çµæŸï¼ŒåŸ·è¡Œç·’ç‚º - \u0026#34; + Thread.currentThread().getName()); return \u0026#34;éåŒæ­¥å¯„å‡ºEmail\u0026#34;; }   å¯ä»¥åœ¨å°ˆæ¡ˆä¸­è¼¸å…¥\nhttp://localhost:8080/email\nä¾†æ„Ÿå—åˆ°éåŒæ­¥çš„æ„Ÿè¦º\néåŒæ­¥Executor æœ‰æ™‚å€™ï¼Œæœ‰æ™‚å€™ï¼Œæˆ‘å€‘åœ¨å¯«çš„æ™‚å€™ä¸èƒ½çŸ¥é“é€™æ±è¥¿æœªä¾†æœƒå¸Œæœ›è®Šæˆä¸€å€‹éåŒæ­¥æ–¹æ³•ï¼Œæˆ–æ˜¯èªªå¸Œæœ›å¯ä»¥ç”¨éåŒæ­¥çš„æ–¹å¼åœ¨ç¨‹å¼å…§éƒ¨å¯¦ç¾ä¸€äº›åŠŸèƒ½ï¼Œåƒé€™ç¨®æ™‚å€™æˆ‘å€‘å¯ä»¥çµåˆJavaçš„functional Interfaceä¾†å¯¦ç¾éåŒæ­¥çš„æ“ä½œ\né¦–å…ˆå…ˆå¯«ä¸€å€‹æ–¹æ³•ä»‹é¢\n1 2 3 4 5 6 7 8 9  /** * å…¶å¯¦å°±æ˜¯æ–¹æ³•ä»‹é¢å•¦\u0026gt;/////\u0026lt; */ @FunctionalInterface public interface ExecuteInterface { void execute(); }   æ¥è‘—å®ŒæˆAsyncTaskçš„æ–¹æ³•\n1 2 3 4  @Async public void asyncExecutor(ExecuteInterface executeInterface) { executeInterface.execute(); }   é€™æ¨£å°±å®Œæˆäº†å–”ï¼æœ‰æ²’æœ‰ï¼Œå¾ˆå¿«å§!\nç•¶æˆ‘å€‘è¦åœ¨å°ˆæ¡ˆä¸­éåŒæ­¥åŸ·è¡ŒæŸäº›äº‹æƒ…æ™‚ï¼Œå°±å¯ä»¥ä½¿ç”¨é€™å€‹asyncExecutorä¾†åšäº‹äº†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  @GetMapping(\u0026#34;/executor\u0026#34;) public String executeAsyncTask(){ asyncTask.asyncExecutor(() -\u0026gt; { try { Thread.sleep(1000); } catch (InterruptedException e) { throw new RuntimeException(e); } System.out.println(\u0026#34;æˆ‘åœ¨åšéåŒæ­¥å·¥ä½œè€¶ï¼\u0026#34;); }); return \u0026#34;éåŒæ­¥åŸ·è¡Œå™¨\u0026#34;; }   ","date":"2023-10-08T19:25:56+08:00","image":"https://i.imgur.com/LTjIYLa.png","permalink":"https://hoxtoncraft.com/p/%E7%B0%A1%E5%96%AE%E7%9A%84%E8%81%8A%E8%81%8Aspringboot%E4%B8%AD%E7%9A%84%E9%9D%9E%E5%90%8C%E6%AD%A5%E6%93%8D%E4%BD%9Casync/","title":"ç°¡å–®çš„èŠèŠSpringBootä¸­çš„éåŒæ­¥æ“ä½œ@Async"},{"content":"å°ˆæ¡ˆç¶²å€ http://hoxtonhsu.com/vue-project/\nå‰è¨€ å‰é™£å­åŒäº‹è·Ÿæˆ‘èªªï¼Œäº¤å¤§æœ‰ä¸€çµ„ä¸çµ„ï¼Œå¯ä»¥ç”¨æ¨ç”„çš„æ–¹å¼ä¾†é¢è©¦ç ”ç©¶æ‰€ï¼Œå…¶ä¸­ä¸€é …å°±æ˜¯è¦çœ‹å°æ–¼ç¨‹å¼çš„ç†±èª ï¼Œæ–¼æ˜¯æ‰“ç®—æŠŠè‡ªå·±å¿ƒè£¡æƒ³å¾ˆä¹…ï¼Œä½†ä¸€ç›´æ‡¶å¾—åšçš„é‚£äº›project Ideaæ‹¿å‡ºä¾†åšä¸€åšï¼Œå¸Œæœ›æ˜å¹´å¯ä»¥æ¨ç”„ä¸Šï¼Œæ¨ç”„ä¸ä¸Šå°±åªèƒ½ç•¶è€ƒç ”æˆ°å£«äº†\nèªæ³•ä»‹ç´¹ v-on å¯ä»¥é…åˆclickåšé»æ“Šäº‹ä»¶\n1 2 3 4 5 6 7 8  \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt; {{title}} {{author}} {{age}}\u0026lt;/p\u0026gt; \u0026lt;button v-on:click=\u0026#34;age++\u0026#34;\u0026gt;Increase Age\u0026lt;/button\u0026gt; \u0026lt;!-- v-on:click=è£¡é¢ï¼Œæ˜¯å¯ä»¥ç›´æ¥å¯«javascriptçš„ --\u0026gt; \u0026lt;button v-on:click=\u0026#34;age--\u0026#34;\u0026gt;Decrease Age\u0026lt;/button\u0026gt; \u0026lt;!-- @clickè·Ÿv-onæ˜¯ä¸€æ¨£çš„æ„æ€ï¼Œå› ç‚ºv-onå¤ªå¸¸å‡ºç¾ï¼Œå°±ç”¨@ä¾†ä»£æ›¿äº† --\u0026gt; \u0026lt;div @click=\u0026#34;changeTitle(\u0026#39;æœ€å¾Œå¸åœ‹\u0026#39;)\u0026#34;\u0026gt;Change Book\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  console.log(\u0026#39;Hello vue\u0026#39;) const app =Vue.createApp({ data(){ return{ title: \u0026#39;The Final Empire\u0026#39;, author: \u0026#39;Brandon Sanderson\u0026#39;, age: \u0026#39;45\u0026#39; } }, methods:{ changeTitle(title){ this.title = title } } }) app.mount(\u0026#39;#app\u0026#39;)   v-if å¦‚æœè¡¨é”å¼ä¸­çš„å€¼Trueï¼Œå‰‡æœƒé¡¯ç¤ºhtmlï¼Œè‹¥ç‚ºFalseå‰‡ä¸é¡¯ç¤º(é€™é‚Šæ˜¯æ•´å€‹domç›´æ¥æ‹¿æ‰ï¼Œæ‰€ä»¥æ˜¯ä¸€å€‹é »ç¹ã€å¤§é‡çš„æƒ…å½¢ï¼Œä¸è¦ç”¨v-ifï¼Œæœƒå°è‡´æ€§èƒ½ä¸‹é™)\n1 2 3 4 5 6 7 8  \u0026lt;div v-if=\u0026#34;showBooks\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;book in books\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;{{ book.title }}\u0026lt;/h3\u0026gt; \u0026lt;p\u0026gt; {{ book.author}}\u0026lt;/p\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt;   ç•¶ç„¶æœ‰ifä¹Ÿæœƒæœ‰elseï¼Œç•¶v-ifæ²’é¡¯ç¤ºæ™‚ï¼Œå°±æœƒé¡¯ç¤ºelseçš„å…§å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;div v-if=\u0026#34;showBooks\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;book in books\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;{{ book.title }}\u0026lt;/h3\u0026gt; \u0026lt;p\u0026gt; {{ book.author}}\u0026lt;/p\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;h3\u0026gt; å¤§å“¥æ²’æœ‰æ²’æœ‰æ›¸ \u0026lt;/h3\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt;   èˆ‡v-ifå¾ˆé¡ä¼¼çš„ï¼Œæ˜¯å¦ä¸€å€‹å«åšv-showçš„æ±è¥¿\nv-show v-showæ˜¯é€écssåœ¨æ§åˆ¶domçš„é¡¯ç¤ºèˆ‡å¦ï¼Œçœ‹èµ·ä¾†åŠŸèƒ½è·Ÿifæœ‰å…«æˆåƒï¼Œä½†ç”±æ–¼æ˜¯cssæ§åˆ¶çš„ï¼Œæ‰€ä»¥æ€§èƒ½ä¸Šæœƒæ¯”v-ifå¥½å¾ˆå¤š\n1 2 3  \u0026lt;div v-show=\u0026#34;showBooks\u0026#34;\u0026gt; ç¾åœ¨å±•ç¤ºçš„æ›¸ \u0026lt;/div\u0026gt;   v-for ç”¨ä¾†for-eachä¸€å€‹list\nv-bind å±¬æ€§ç¶å®šï¼\nv-bind:å±¬æ€§å\nä¹Ÿå¯ä»¥ç°¡åŒ–æˆ:\nDynamic class å¯ä»¥å‹•æ…‹çš„å°‡class è³¦äºˆçµ¦tag\n1 2 3 4 5 6 7 8  \u0026lt;div v-if=\u0026#34;showBooks\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;book in books\u0026#34; v-bind:class=\u0026#34;{ fav:book.isFav}\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;{{ book.title }}\u0026lt;/h3\u0026gt; \u0026lt;p\u0026gt; {{ book.author}}\u0026lt;/p\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt;   computed ç”¨ä¾†éæ¿¾è³‡æ–™çš„åŠŸèƒ½ï¼Œé¡ä¼¼pipLine\nVue Cli è¨˜å¾—è¦å®‰è£node.js\n1  node -v   æ¥è‘—å®‰è£Vue Cli\n1  npm intsall -g @vue/cli   å®‰è£å®Œä¹‹å¾Œå°±å¯ä»¥è¼¸å…¥\n1  vue create project-name   ä¾†å‰µå»ºvueå°ˆæ¡ˆå›‰ï¼\nå°ˆæ¡ˆç›®éŒ„ å‰µå»ºå¥½çš„å°ˆæ¡ˆç›®éŒ„å°±åƒé€™æ¨£å­ï¼Œç¨å¾®çœ‹èµ·ä¾†æœ‰é»è¤‡é›œï¼Œä½†å…¶å¯¦å¾ˆç°¡å–®çš„\n public  â€‹\tåº•ä¸‹å°±æ˜¯æ”¾htmlçš„æ±è¥¿\t  Source\nåº•ä¸‹æ”¾çš„æ˜¯jsæª”æ¡ˆè·Ÿvueæª”æ¡ˆ\nå…¶ä¸­jsæª”æ¡ˆè·Ÿæˆ‘å€‘åˆå§‹å­¸å¾—ä¸å¤ªä¸€æ¨£ï¼Œä»–é•·å¾—æ˜¯é€™å€‹æ¨£å­\n1 2 3 4 5  import { createApp } from \u0026#39;vue\u0026#39; import App from \u0026#39;./App.vue\u0026#39; createApp(App).mount(\u0026#39;#app\u0026#39;)     â€‹\tä½†å…¶å¯¦æ¦‚å¿µæ˜¯å·®ä¸å¤šçš„ï¼Œæ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯vueæª”æ¡ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  \u0026lt;template\u0026gt; \u0026lt;img alt=\u0026#34;Vue logo\u0026#34; src=\u0026#34;./assets/logo.png\u0026#34;\u0026gt; \u0026lt;HelloWorld msg=\u0026#34;Welcome to Your Vue.js App\u0026#34;/\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import HelloWorld from \u0026#39;./components/HelloWorld.vue\u0026#39; export default { name: \u0026#39;App\u0026#39;, components: { HelloWorld } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; #app { font-family: Avenir, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px; } \u0026lt;/style\u0026gt;   æ¯ä¸€å€‹vueæª”æ¡ˆéƒ½æ˜¯ç”±\n template script style  é€™ä¸‰å€‹éƒ¨åˆ†çµ„æˆçš„\nTmplate Refs æ§åˆ¶domçš„ä¸€äº›æ±è¥¿ï¼Œæ¯”å¦‚èªªæ”¹è®Šå®ƒçš„classï¼Œä¿®æ”¹å®ƒçš„æ–‡å­—ç­‰ç­‰\u0026hellip;\nMulitple Component æœ‰æ™‚å€™æœ‰ä¸€äº›é‡è¤‡æ€§å¾ˆé«˜çš„domï¼Œæˆ–æ˜¯ä¸€äº›æœ‰çš„æ²’æœ‰çš„æ±è¥¿ï¼Œåæ­£å°±æ˜¯é‡è¤‡æ€§å¾ˆé«˜çš„æ±è¥¿ï¼Œæ‡‰è©²è¦å¯ä»¥é‡è¤‡åˆ©ç”¨ï¼Œè€ŒVueå€Ÿé‘’(æŠ„è¥²)äº†reactçš„æ¦‚å¿µï¼Œä¹Ÿæ˜¯ç”¨componentçš„æ–¹å¼å»å¯¦ä½œé€™å€‹æ¦‚å¿µ\nProps å‚³åŸºæœ¬è³‡æ–™çš„ä¸€å€‹æ±è¥¿ï¼Œä¾‹å¦‚String, Boolean\nSlot ","date":"2023-10-01T03:02:32+08:00","image":"https://i.imgur.com/Yq1lyHE.jpg","permalink":"https://hoxtoncraft.com/p/vue%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Vueå­¸ç¿’ç­†è¨˜"},{"content":"ä¸çŸ¥é“åˆ°åº•å¾ç©å¹¾æ¬¡äº†= = æ¯æ¬¡éƒ½ç©ä¸€ç©ï¼Œç„¶å¾Œéä¸€æ®µæ™‚é–“åˆå¿˜è¨˜æ€éº¼é–‹å§‹\næ•™å­¸ é¢æ¿æŸ¥çœ‹ stats æŸ¥çœ‹å„ç¨®æ•¸å€¼çš„åœ°æ–¹\nTerminal è¼¸å…¥\nhelp æŸ¥çœ‹å¹«åŠ©\nls å±•ç¤ºæ‰€æœ‰ç•¶å‰ç›®éŒ„æ‰€æœ‰æª”æ¡ˆ\nscan å±•ç¾æ‰€æœ‰å¯ç”¨çš„ç¶²è·¯ç¯€é»\nscan-analyze å±•ç¤ºæ‰€æœ‰å¯ç”¨çš„ç¶²è·¯ç¯€é»ï¼Œæ›´è©³ç´°çš„æ•¸æ“š\nscan-analyze 2 äº†è§£è·é›¢å…©å€‹nodeçš„ç¶²è·¯ç¯€é»è³‡è¨Š\nconnnect [hostname] é€£çµåˆ°ç¶²è·¯ç¯€é»\nanalyze æƒæç¶²è·¯ç¯€é»ï¼Œæœƒå±•ç¤ºä¸€äº›æœ‰ç”¨è³‡æ–™æ¯”å¦‚èªªæœ€ä½hacking skillçš„è¦æ±‚\nåœ¨éŠæˆ²çš„åˆç´šï¼Œå¯ä»¥é€éNUKE.exeä¾†å–å¾—root accessæ¬Šé™\nrun NUKE.exe å–å¾—root access ï¼Œé€™æ¨£å°±å¯ä»¥åœ¨è©²serveré‹è¡Œscriptäº†\nhack è¼¸å…¥hackï¼Œé§­é€²ç¶²è·¯\nä½ ç¾åœ¨æ­£è©¦åœ–å…¥ä¾µä¼ºæœå™¨ã€‚é€²è¡Œå…¥ä¾µéœ€è¦æ™‚é–“ï¼ŒæˆåŠŸçš„æ©Ÿæœƒåªæœ‰ä¸€å®šçš„ç™¾åˆ†æ¯”ã€‚é€™å€‹æ™‚é–“å’ŒæˆåŠŸæ©Ÿæœƒç”±å„ç¨®å› ç´ æ±ºå®šï¼ŒåŒ…æ‹¬ä½ çš„é§­å®¢æŠ€èƒ½å’Œä¼ºæœå™¨çš„å®‰å…¨ç´šåˆ¥ã€‚\nå¦‚æœä½ æˆåŠŸå…¥ä¾µä¼ºæœå™¨ï¼Œä½ å°‡ç«Šå–ä¼ºæœå™¨ç¸½é‡‘é¡çš„ä¸€å®šç™¾åˆ†æ¯”ã€‚é€™å€‹ç™¾åˆ†æ¯”å—ä½ çš„é§­å®¢æŠ€èƒ½å’Œä¼ºæœå™¨çš„å®‰å…¨ç´šåˆ¥å½±éŸ¿ã€‚\nä¼ºæœå™¨ä¸Šçš„é‡‘é¡ä¸¦ä¸æ˜¯ç„¡é™çš„ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä¸æ–·å…¥ä¾µä¸€å€‹ä¼ºæœå™¨ä¸¦è€—ç›¡å®ƒçš„è³‡é‡‘ï¼Œé‚£éº¼ä½ å°‡åœ¨é§­å®¢æ´»å‹•ä¸­é‡åˆ°éæ¸›çš„å›å ±ã€‚ä½ å°‡éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n[n00dles ~/]\u0026gt; grow\né€™å€‹å‘½ä»¤æœƒèª˜ä½¿å…¬å¸å‘ä»–å€‘çš„ä¼ºæœå™¨æ·»åŠ è³‡é‡‘ï¼Œ\n[n00dles ~/]\u0026gt; weaken\né€™å€‹å‘½ä»¤æœƒå¢åŠ å…¥ä¾µã€èª˜ä½¿å…¬å¸æ·»åŠ è³‡é‡‘çš„é€Ÿåº¦ã€‚\n","date":"2023-09-25T18:00:16+08:00","image":"https://i.imgur.com/B1MjQbp.jpg","permalink":"https://hoxtoncraft.com/p/bitburner%E7%AD%86%E8%A8%98/","title":"BitBurnerç­†è¨˜"},{"content":"","date":"2023-09-23T00:36:45+08:00","permalink":"https://hoxtoncraft.com/p/%E4%BD%95%E8%AC%82eigenvalues_engenvectors/","title":"ä½•è¬‚Eigenvalues_Engenvectors"},{"content":"å‰è¨€ æ–°çš„å·¥ä½œå……æ»¿è‘—å„ç¨®é¡å‹çš„å¾®æœå‹™æ¶æ§‹ï¼Œè®“æˆ‘é “æ™‚é–“æœ‰é»åˆ†ä¸æ¸…å—åŒ—ï¼Œæ–¼æ˜¯å°±åˆ©ç”¨é€™æ®µå‰›å…¥è·ï¼Œé‚„å¾ˆé–’çš„æ™‚å€™å¸¶è–ªå­¸ç¿’å§ï¼\nç‚ºä»€éº¼è¦ç”¨ç¶²é—œï¼Ÿ å¾®æœå‹™çš„æ¶æ§‹ä¸­ï¼Œæ¯å€‹æ¥­å‹™éƒ½éœ€è¦æˆæ¬Šã€é™æµã€è™•ç†è·¨åŸŸè«‹æ±‚ï¼Œå¦‚æœæ¯å€‹åŠŸèƒ½éƒ½å„è‡ªç‚ºæ£§ï¼Œè‡ªå·±çš„è¼ªå­è‡ªå·±é€ ï¼Œæœƒéå¸¸å²å®³ï¼ä½†æœ‰äº›æ±è¥¿æ˜¯å¯ä»¥æŠ½å‡ºä¾†ï¼Œæ”¾åˆ°ä¸€å€‹çµ±ä¸€çš„åœ°æ–¹å»ç¶­è­·ã€‚å¦å¤–ä¾†èªªï¼Œå¾®æœå‹™ä¸­ï¼Œå¦‚æœæ¯å€‹å¾®æœå‹™éƒ½åˆ†é…ä¸€å€‹åŸŸåï¼Œé€™æ¨£å­æœƒéå¸¸é›£ä»¥ç¶­è­·å®¢æˆ¶ç«¯çš„Codeï¼Œå› ç‚ºæ¶‰åŠåˆ°æ•¸ç™¾å€‹åŸŸåï¼Œå¦ä¸€æ–¹é¢æ˜¯é€£æ¥æ•¸é‡çš„ç“¶é ¸ï¼Œæƒ³åƒä¸€ä¸‹å¦‚æœä½ æ‰“é–‹ä¸€å€‹ç¶²ç«™ï¼Œçµæœç™¼ç¾å…‰é–‹å•Ÿç¶²ç«™å°±æ¶‰åŠäº†æ•¸ç™¾å€‹RPC(Remote Procude Call)ï¼Œé€™æ¨£æœƒéå¸¸ä½æ•ˆï¼Œå„ä½•æ³Addresså­˜åœ¨é›†ç¾¤(Cluster)çš„æƒ…æ³ä¸‹ï¼Œé‚£éº¼è¤‡é›œåº¦æœƒæˆå¹¾ä½•å¢é•·ã€‚\næ²’æœ‰ä½¿ç”¨ç¶²é—œçš„èª¿ç”¨ ä½¿ç”¨ç¶²é—œçš„èª¿ç”¨ ä¸ç”¨ç›´æ¥å»è«‹æ±‚å¾®æœå‹™ï¼Œå¯ä»¥é€éGatewayä¾†è¨ªå•\nä½•è¬‚é»˜èªç¶²é—œ æ‰€è¬‚çš„é»˜èªç¶²é—œå°±åªæ˜¯è®“è¨­å‚™å¯ä»¥é€éç¶²è·¯ï¼Œå’Œä¸€ç«¯è¨­å‚™æºé€šçš„æ±è¥¿ã€‚\né‚£éº¼ç›¸åŒç¶²åŸŸçš„é›»è…¦å¦‚æœè¦ç›¸äº’æºé€šï¼Œå‰‡åªéœ€è¦é€éswitchå°±å¯ä»¥ï¼Œå› ç‚ºä»–å€‘çš„æ•¸æ“šä¸éœ€è¦é€šéGatewayå‚³å‡ºå»\né‚£éº¼æ¥ä¸‹ä¾†å°±æœ‰ä¸€å€‹å•é¡Œäº†ï¼Œæˆ‘è¦è·ŸAé›»è…¦æºé€šï¼Œä½†æˆ‘å¦‚ä½•çŸ¥é“Aé›»è…¦å’Œæˆ‘æ˜¯å¦è™•åœ¨åŒä¸€å€‹ç¶²åŸŸä¸­å‘¢ï¼Ÿ\nIPåœ°å€èˆ‡å­ç¶²é®ç½© ä¸€å€‹Ipä½å€åŒ…å«å…©å€‹éƒ¨åˆ†\n Network Address Host Address  è€Œå€åˆ†å“ªå€‹éƒ¨åˆ†å±¬æ–¼ç¶²éš›ç¶²è·¯èˆ‡æœ¬åœ°ä¸»æ©Ÿçš„æ–¹å¼ï¼Œå‰‡æ˜¯é€éå­ç¶²é®ç½©\næ‰€è¬‚å­ç¶²è·¯é®ç½©ï¼Œæ˜¯é€™æ®µçœ‹èµ·ä¾†æœ‰é»åƒipä½å€çš„æ±è¥¿ï¼Œç†Ÿæ‚‰2é€²åˆ¶çš„æœ‹å‹æ‡‰è©²æœ‰æ„Ÿè¦ºï¼Œ255é€™å€‹æ•¸å­—å°±æ˜¯28-1ï¼Œæˆ‘å€‘æŠŠå­ç¶²è·¯é®ç½©çš„255.255.255.0æ›ä½œæ˜¯äºŒé€²åˆ¶ä¾†ï¼Œå°±æœƒè®Šæˆ\n11111111.11111111.11111111.00000000\né€™æ¨£å­çš„æ±è¥¿ï¼Œè€Œé€éå­ç¶²è·¯é®ç½©ä¾†è¾¨åˆ¥Ipåœ°å€å“ªä¸€å€‹éƒ¨åˆ†æ˜¯ç¶²éš›ç¶²è·¯çš„æ–¹æ³•æ˜¯\nã€Œç•¶å­ç¶²é®ç½©çš„äºŒé€²åˆ¶æ•¸å­—ç‚º1æ™‚ï¼Œå°±ä»£è¡¨é€™éƒ¨åˆ†æ˜¯ä¾†è‡ªç¶²éš›ç¶²è·¯IPçš„ç¶²è·¯ä½ã€\nå› æ­¤ï¼Œè‹¥å‰é¢é€™å¹¾å€‹æ•¸å­—ä¸€æ¨£ï¼Œå°±ä»£è¡¨é€™äº›æ˜¯ä¾†è‡ªåŒä¸€å€‹ç¶²åŸŸçš„é€šè¨Šï¼Œä¸éœ€è¦é€éGatewayï¼Œåä¹‹ï¼Œè‹¥æœ‰ä¸åŒï¼Œå‰‡ä»£è¡¨æ˜¯ä¾†è‡ªä¸åŒç¶²åŸŸçš„è«‹æ±‚ï¼Œéœ€è¦èµ°Gateway\nåƒè€ƒç¶²å€ ç›®å‰Bç«™å”¯ä¸€æŠŠGatewayç½‘å…³è®²é€çš„è§†é¢‘æ•™ç¨‹ï¼ä¸€å¤©å³å¯æŒæ¡Gatewayï¼\n","date":"2023-09-14T11:16:37+08:00","image":"https://i.imgur.com/VwMgRtW.png","permalink":"https://hoxtoncraft.com/p/%E5%88%9D%E6%8E%A2%E5%BE%AE%E6%9C%8D%E5%8B%99-%E4%BD%95%E8%AC%82%E7%B6%B2%E9%97%9Cgateway/","title":"åˆæ¢å¾®æœå‹™ ä½•è¬‚ç¶²é—œ(Gateway)"},{"content":"åƒè€ƒç¶²å€ https://www.cupoy.com/collection/000001699E6396C0000000046375706F795F72656C656173654355?layoutType=content\nLinear Algebra Lecture 1ï¼šWhat are we going to learn? ä½•è¬‚ç·šæ€§ç³»çµ±(Linear System) æ‰€è¬‚ç³»çµ±ï¼Œä¹Ÿå¯ç¨±ä½œä¸€å€‹functionï¼Œé€šå¸¸æœƒæœ‰ä¸€å€‹inputï¼Œä¸€å€‹outputï¼Œè€Œä¸€**b **\n Perservering Multiplication  è‹¥xç¶“éç·šæ€§ç³»çµ±è¨ˆç®—å¾Œå¾—åˆ°yï¼Œé‚£éº¼kxç¶“éç·šæ€§ç³»çµ±è¨ˆç®—å¾Œæ‡‰è©²ä¹Ÿè¦å¾—åˆ°ky\nPersevering Addition  x1è¨ˆç®—å¾Œå¾—y1ï¼Œx2è¨ˆç®—å¾Œå¾—y2ï¼Œé‚£éº¼(x1+x2)çš„è¨ˆç®—çµæœç‚º(y1+y2)\nAsk çŸ©é™£çš„è½‰ç½®æ˜¯ç·šæ€§çš„å—ï¼Ÿ\nYes\nAsk å¾®åˆ†æ˜¯ç·šæ€§çš„å—ï¼Ÿ\nYes\nAskç©åˆ†æ˜¯ç·šæ€§çš„å—\nYesï¼Œç©åˆ†ä¹Ÿæ˜¯ç·šæ€§çš„^_^\nç·šæ€§ç³»çµ±çš„æ‡‰ç”¨   é›»è·¯å­¸(ã„ æ²’ä¿®é)\n  ä¿¡è™Ÿèˆ‡ç³»çµ±(ã„ ä¹Ÿæ²’å­¸é)\n   å‚…ç«‹è‘‰è½‰æ›(Fourier Transform) æœå°‹å¼•æ“çš„Page Rank æ¼”ç®—æ³•  Linear Algebra Lecture 2: System of Linear Equations  A System of Linear equations(å¤šå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼)   â€‹\tå®šç¾©åŸŸï¼š y=x2ï¼ŒxâˆˆR\nâ€‹\tå°æ‡‰åŸŸï¼šä¸æ€è€ƒfunctionçš„å¯¦éš›å…§å®¹ï¼Œå¤§æ¦‚çŒœä¸€ä¸‹å¯èƒ½çš„è§£ç¯„åœï¼Œæ•…å°æ‡‰åŸŸç‚ºR\nâ€‹\tå€¼åŸŸï¼šè€ƒæ…®ä¸€ä¸‹functionçš„å¯¦éš›å…§å®¹ï¼Œå¯ä»¥å¾—çŸ¥å€¼åŸŸç‚ºx\u0026gt;=0\n   â€‹\tOne-to-Oneï¼š Domainè·Ÿrangeä¸€æ¨£å¤§\nâ€‹\tOntoï¼šCo-domain= range\nLinear Algebra Lecture 3: Vector   Vector\nä¸€çµ„æ•¸å­—çš„é›†åˆ ex: $$ \\begin{bmatrix} 1 \\\\\n2 \\\\\n3 \\end{bmatrix} $$\n  Vector Setï¼šä¸€ç¾¤å‘é‡çµ„åˆåœ¨ä¸€èµ·ï¼Œä¸”å¯ä»¥åŒ…å«ç„¡é™çµ„çš„çš„å‘é‡ï¼Œå³ç¨±ç‚ºå‘é‡é›†åˆ\n  â€‹\t Matrixï¼šå¤šçµ„å‘é‡çµ„åˆæˆï¼­atrix  â€‹\t![image-20230909023009609](/Users/hoxtonashes/Library/Application Support/typora-user-images/image-20230909023009609.png)\nLinear Algebra Lecture 4ï¼šMatrix ä»€éº¼æ˜¯Martixï¼Œå¾ˆå¤šçµ„çš„Vectoræ”¾åœ¨ä¸€èµ·å°±æ˜¯Martin\n  Zero Matrix\n  Linear Algebra Lecture 5ï¼šMatrix-vector ProductLinear Algebra Lecture 5ï¼šMatrix-vector Product ä½•è¬‚å‘é‡å…§ç© å…§ç©çš„å€¼æ˜¯ä¸€å€‹ç´”é‡ï¼Œä¸æ˜¯ä¸€å€‹å‘é‡ã€‚D\nä»¥Rowã€Columnè§€é»ä¾†çœ‹çŸ©é™£ä¹˜æ³• ç¾æœ‰ä¸€æ–¹ç¨‹ $$ \\begin{align*} x_1 + 4x_2 \u0026amp;= b_1 \\\\\n-3x_1 - 2x_2 \u0026amp;= b_2 \\end{align*} $$\nå°å…¶è¼¸å…¥ï¼Œ[-2,0.5]ï¼Œå¾—åˆ°çš„çµæœæ˜¯ $$ \\begin{bmatrix} 0 \\\\\n7\n\\end{bmatrix} $$\nä»¥Rowè§€é»ä¾†ç†è§£é€™ä»¶äº‹æƒ…\né‚£éº¼0ç›¸ç•¶æ–¼æ˜¯è¼¸å…¥å‘é‡èˆ‡Row1é€²è¡Œå…§ç©ï¼Œå¾—å‡ºçš„çµæœã€‚è€Œ7ç›¸ç•¶æ–¼æ˜¯è¼¸å…¥å‘é‡èˆ‡Row2å¾—å‡ºä¾†çš„çµæœ\nä»¥Columnè§€é»ä¾†çœ‹é€™ä»¶äº‹æƒ…\né‚£éº¼ç›¸ç•¶æ–¼æ˜¯å°‡ $$ \\begin{bmatrix} 1 \\\\\n3\n\\end{bmatrix} $$ é€™å€‹å‘é‡æ‹‰é•·-2å€è®Šæˆ $$ \\begin{bmatrix} -2 \\\\\n-6\n\\end{bmatrix} $$\nç„¶å¾Œå†å°‡ $$ \\begin{bmatrix} 4 \\\\\n2\n\\end{bmatrix} $$ é€™å€‹å‘é‡æ‹‰é•·0.5å€è®Šæˆ $$ \\begin{bmatrix} 2 \\\\\n1 \\end{bmatrix} $$\nå…©å€‹å‘é‡åœ¨ç›¸åŠ ï¼Œè®Šæˆ $$ \\begin{bmatrix} 0 \\\\\n7\n\\end{bmatrix} $$\nLinear Algebra Lecture 6ï¼š Having Solution or Not   ä¸€ç·šæ€§ç³»çµ±æœ‰è§£ç¨±ä¹‹ç‚ºconsistentï¼Œç„¡è§£ç¨± ä¹‹ç‚ºinconsistent\n  ç¾ä¸€ç·šæ€§ç³»çµ±Ax=Bï¼Œè‹¥é€™å€‹ç³»çµ±æœ‰è§£ï¼Œå‰‡ä»£è¡¨é€™å€‹ç³»çµ±æ˜¯consistentï¼Œä¹Ÿä»£è¡¨Bæ˜¯å¯ä»¥é€šéAçš„ç·šæ€§çµ„åˆè€Œä¾†\n      ä»»å…©æ¢éå¹³è¡Œçš„å‘é‡ï¼Œéƒ½å¯ä»¥çµ„åˆå‡ºå¹³é¢ç©ºé–“ä¸­çš„æ‰€æœ‰å‘é‡\n  ä½†ä»»ä¸‰æ¢éå¹³è¡Œçš„å‘é‡ï¼Œä¸å¯ä»¥çµ„åˆå‡ºç«‹é«”ç©ºé–“ä¸­çš„æ‰€æœ‰å‘é‡ï¼Œæœ‰å¯èƒ½ç¬¬ä¸‰æ¢å‘é‡ï¼Œè½åœ¨å‰å…©æ¢å‘é‡å¼µæˆçš„å‘é‡ç©ºé–“ä¸­\n  Span å‡è¨­ç¾åœ¨ä½ æœ‰ä¸€å †å‘é‡é›†åˆï¼Œu1,u2,u3\u0026hellip;ç„¶å¾Œå»çª®èˆ‰é€™äº›å‘é‡èƒ½åšçš„ç·šæ€§çµ„åˆï¼Œé€™å€‹å¾—å‡ºçš„é›†åˆå°±å«åšSpan\nç”Ÿæˆé›†(generating set) Linear Algebra Lecture 7ï¼šHow many solutions? King Crimson\nLinear Algebra Lecture 18: Subspace Subspace å­ç©ºé–“ è‹¥ä¸€çµ„å‘é‡é›†åˆVï¼Œæ»¿è¶³ä»¥ä¸‹ä¸‰ç¨®æ€§è³ªï¼Œå³å¯ç¨±ä¹‹ç‚ºå­ç©ºé–“(subspace)\n å‘é‡é›†åˆVåŒ…å«0å‘é‡(ç¢ºä¿å‘é‡é›†åˆä¸æ˜¯ç©ºé›†åˆ) å‘é‡é›†åˆVä¸­ï¼Œä»»å–å…©å€‹å‘é‡ï¼Œuå’Œwï¼Œå‰‡u+wä¹Ÿåœ¨å‘é‡é›†åˆVä¸­(æ»¿è¶³åŠ æ³•å°é–‰æ€§) å‘é‡é›†åˆVä¸­ï¼Œå–ä¸€å€‹å‘é‡uï¼Œå°‡å®ƒæˆä¸ŠæŸ\\æ•¸å¾Œï¼Œä¾ç„¶åœ¨å‘é‡é›†åˆVä¸­(æ»¿è¶³ä¹˜æ³•å°é–‰æ€§)  ä»¥ä¸Š2,3å¯ä»¥ç°¡å–®åœ°èªªï¼Œä¹Ÿå°±æ˜¯ç·šæ€§çµ„åˆ\nç¯„ä¾‹\nSpan å‡è¨­ç¾åœ¨æœ‰ä¸€çµ„å‘é‡é›†åˆSï¼Œæˆ‘å€‘æŠŠé€™å€‹å‘é‡é›†åˆSä¸­çš„æ‰€æœ‰å‘é‡æ‹¿å‡ºä¾†åšLinear Combinationsï¼Œç„¶å¾Œé›†åˆèµ·ä¾†ï¼Œé€™æ¨£å°±ç”¢ç”Ÿå¦ä¸€å€‹å‘é‡é›†åˆï¼Œå«Span Sã€‚\næˆ‘å€‘ç¾åœ¨ç¨±é€™å€‹Span Sç‚ºå‘é‡é›†åˆVï¼Œæ­¤æ™‚ï¼Œå‘é‡é›†åˆSç”¢ç”Ÿäº†Vï¼Œå‘é‡é›†åˆSä¹Ÿå°±æ˜¯Vçš„ç”Ÿæˆé›†\nSubspace Vs Span Null Space Linear Algebra Lecture 19: Basis è¨­å‘é‡é›†åˆVæ˜¯Rnçš„ä¸€å€‹å­ç©ºé–“ï¼Œé‚£éº¼å‘é‡é›†åˆVçš„Basisè¦æ»¿è¶³ä»¥ä¸‹å…©å€‹æ¢ä»¶\n æ˜¯ç·šæ€§ç¨ç«‹çš„ å¯ä»¥çµ„åˆå‡ºVçš„æ‰€æœ‰å‘é‡  æ¯”å¦‚èªª $$ \\begin{bmatrix} 1 \\\\\n0\n\\end{bmatrix} \\begin{bmatrix} 0 \\\\\n1\n\\end{bmatrix} æ˜¯R^2çš„Basis $$\nå› ç‚ºé€™å…©å€‹å‘é‡æ˜¯ç·šæ€§ç¨ç«‹çš„ã€ä¸”å¯ä»¥çµ„åˆå‡ºR2çš„æ‰€æœ‰å‘é‡ï¼Œå› æ­¤æ˜¯R2çš„Basisã€‚ç”±æ­¤å¯ä»¥ç™¼ç¾ï¼ŒBasisä¸å…·å‚™å”¯ä¸€æ€§ï¼Œåªè¦å¯ä»¥æ»¿è¶³1ã€2éƒ½å¯ä»¥ç¨±ä¹‹ç‚ºBasis\n","date":"2023-09-08T21:24:43+08:00","image":"https://i.imgur.com/WnjTSDF.png","permalink":"https://hoxtoncraft.com/p/%E6%9D%8E%E5%AE%8F%E6%AF%85%E7%B7%9A%E6%80%A7%E4%BB%A3%E6%95%B8%E7%AD%86%E8%A8%98/","title":"æå®æ¯…ç·šæ€§ä»£æ•¸ç­†è¨˜"},{"content":"GitHubç¶²å€ 2024/05/24æ›´æ–°\nhttps://github.com/Hoxton019030/RabbitMQ_Practice/tree/prototype\nPrototypeåˆ†æ”¯æ˜¯å€‹MVP(Minimum Viable Product)ï¼Œä½¿ç”¨äº†RabbitMqä¾†æ¥æ”¶å‰ç«¯å‚³ä¾†çš„ä¸€å€‹è¨Šæ¯ä¸¦æ‰“å°å‡ºä¾†ï¼Œå¯ä»¥è—‰æ­¤å°MessageQueueæœ‰å€‹èªè­˜èˆ‡å›é¡§ï¼\nhttps://github.com/Hoxton019030/JobTalk\né€™å€‹Job Talkå‰‡æœ‰æ¯”è¼ƒè©³ç´°çš„MessageQueueå…§å®¹\nå‰è¨€ ä»Šå¤©æ˜¯ç¬¬äºŒå¤©ï¼Œå­¸ç¿’RabbitMQã€‚ç¬¬ä¸€æ¬¡æ¥è§¸åˆ°Message Queueæ˜¯åœ¨å¾¡è«¾çš„æ™‚å€™ï¼Œç•¶æ™‚æœ‰å€‹åŒäº‹åšäº†ä¸€å€‹é€™å€‹æ±è¥¿ï¼Œåœ¨Sprintçš„çµå°¾å±•ç¤ºï¼Œé‚£æ™‚å€™å°±è¦ºå¾—MessageQueueé€™å€‹æ±è¥¿ä¹Ÿå¤ªé…·äº†ï¼Œä½†ä¸€ç›´æ²’æœ‰æ©Ÿæœƒ(æ‡¶)å»æ¥è§¸ã€‚\nä»€éº¼æ˜¯Message Queue Message Queue(è¨Šæ¯ä½‡åˆ—ã€æ¶ˆæ¯éšŠåˆ—)ï¼Œæ˜¯ä¸€ç¨®ç”¨åœ¨æ‡‰ç”¨ç¨‹åºä¹‹é–“å‚³éæ¶ˆæ¯çš„é€šè¨Šæ˜¯ï¼ŒMessage Queueå…è¨±æ‡‰ç”¨ä¹‹é–“ç•°æ­¥çš„ç™¼é€å’Œæ¥æ”¶æ¶ˆæ¯ï¼Œä¸¦ä¸”ä¸éœ€è¦ç›´æ¥é€£æ¥åˆ°å°æ–¹\n2025/1/10 è£œ\nç¾åœ¨å°Message Queueçš„ç†è§£æ˜¯é€™æ¨£\n å‰Šå³°é™æµ  å‡è¨­å†è£½ä½œä¸€å€‹ç¶²è³¼å•†åŸï¼Œå¾ç”¨æˆ¶ä¸‹å–®åˆ°çµç®—ï¼Œä¸­é–“æœƒç¶“æ­·å¾ˆå¤šéç¨‹ï¼Œè€—æ™‚éå¸¸é•·ï¼Œæ­¤æ™‚å¯ä»¥å°‡ä¸‹å–®çš„è¡Œç‚ºæ”¾åˆ°MessageQueueä¸­åšè™•ç†ï¼Œé¿å…è¨±å¤šè«‹æ±‚ç›´æ¥é€ æˆä¼ºæœå™¨è² æ“”ï¼Œæ¯”å¦‚èªªå¯ä»¥è¨­å®š1ç§’åªè™•ç†5ç­†é€™æ¨£å­\né¿å…è«‹æ±‚ä¸Ÿå¤±  åˆ†ä½ˆå¼ç³»çµ±ä¸­ï¼Œä¸åŒæ¨¡å¡Šéœ€è¦é€éç¶²è·¯äº¤äº’ï¼Œå¦‚æœä¸€æ–¹çš„æ¨¡å¡Šç¶²è·¯çªç„¶å‡ºå•é¡Œï¼Œé‚£éº¼å¾ˆå¤šèˆ‡ä¹‹äº¤äº’çš„æ¨¡å¡Šçš„è«‹æ±‚é€ä¸åˆ°æœƒç™¼ç”Ÿè¨±å¤šå•é¡Œï¼Œä¸€æ¨£ä»¥é›»å•†èˆ‰ä¾‹ï¼Œç¾åœ¨å­˜è²¨å·²ç¶“æ‰£äº†ï¼Œè¦é€²åˆ°æ‰£æ¬¾æµç¨‹ï¼Œä½†æ‰£æ¬¾æ¨¡å¡Šå£äº†ï¼Œå°è‡´å­˜è²¨è¢«æ‰£ï¼Œä½†æ”¯ä»˜å»é‚„æ²’ç™¼ç”Ÿï¼Œä¸¦ä¸”æ”¯ä»˜æ¨¡å¡Šä¿®å¥½å¾Œï¼Œç”±æ–¼è³‡æ–™ä¸Ÿå¤±ï¼Œç›¸é—œçš„æ‰£æ¬¾ä¹Ÿç„¡æ³•ç¹¼çºŒä¸‹å»\næœå‹™è§£è€¦  æ¯”å¦‚èªªJavaè™•ç†å¥½çš„è³‡æ–™è¦çµ¦Pythonç”¨ï¼Œå°±å¯ä»¥è®“Java Push åˆ°Queueä¸­ï¼ŒPythonå†å»Consumeé€™å€‹æ¶ˆæ¯å°±okï¼Œé”æˆæœå‹™è§£è€¦çš„ç›®çš„\nç•°æ­¥è™•ç†  æ²’å•¥ç‰¹åˆ¥å¥½èªªçš„ï¼Œå°±ç•¶ä¸€å€‹å¤§å‹ç•°æ­¥è™•ç†ä¾†ç”¨\nä»€éº¼æ˜¯RabbitMQ RabbitMQæ˜¯å€‹åŸºæ–¼AMQP(Advanced Message Queuing Protocal é«˜ç´šæ¶ˆæ¯éšŠåˆ—å”è­°) ï¼Œç”¨æ–¼æ‡‰ç”¨ç¨‹å¼ä¹‹é–“é€šè¨Šçš„ä¸­é–“å±¤ï¼ŒRabbitæœ‰å››å¤§æ ¸å¿ƒ\n ç”Ÿç”¢è€…ï¼šç™¼é€æ¶ˆæ¯çš„æ‡‰ç”¨ç¨‹å¼ æ¶ˆè²»è€…ï¼šæ¥å—æ¶ˆæ¯çš„æ‡‰ç”¨ç¨‹å¼ ä½‡åˆ—ï¼šè¨Šæ¯åœ¨Message Queueä¸­å„²å­˜çš„ä½ç½® äº¤æ›æ©Ÿï¼šè¨Šæ¯è·¯ç”±çš„ä¸€å€‹çµ„ä»¶ï¼Œæœƒä¾ç…§æˆ‘å€‘çš„é…ç½®ï¼ŒæŠŠè¨Šæ¯åˆ†ç™¼çµ¦ç‰¹å®šçš„ä½‡åˆ—  AMQPä¹ŸåŒ…å«äº†å››å€‹æ ¸å¿ƒçµ„ä»¶\n æ¶ˆæ¯ï¼šåŒ…æ‹¬æ¶ˆæ¯é ­ã€æ¶ˆæ¯é«”ã€æ¶ˆæ¯å±¬æ€§ äº¤æ›æ©Ÿï¼šæ¶ˆæ¯å‚³éçš„ä¸­é–“ä»¶ï¼Œå°‡æ¶ˆæ¯è·¯ç”±åˆ°ä¸€å€‹æˆ–å¤šå€‹éšŠåˆ—ä¸­ ä½‡åˆ—ï¼šç”¨ä¾†å„²å­˜æ¶ˆæ¯çš„è³‡æ–™çµæ§‹ ç¶å®šï¼šäº¤æ›æ©Ÿå’ŒéšŠåˆ—çš„ç¶å®š  ä¸‹è¼‰èˆ‡å®‰è£ ä»¥ä¸‹é©ç”¨æ–¼M1ã€M2\nä½¿ç”¨brewå®‰è£\n1  brew install rabbitmq   å•Ÿå‹•rabbitMq\n1  brew services start rabbitmq   åœæ­¢rabbitMq\n1  brew services stop rabbitmq   å•Ÿå‹•å¾Œï¼Œå¯ä»¥åœ¨ç€è¦½å™¨ä¸­è¼¸å…¥\nhttp://localhost:15672/\nå³å¯è¨ªå•rabbitMqçš„ç•«é¢\nå¸³è™Ÿå¯†ç¢¼éƒ½æ˜¯guest\nå°±å¯ä»¥çœ‹åˆ°rabbitMqçš„ç•«é¢äº†\nå¸¸ç”¨æŒ‡ä»¤ å‰µå»ºä½¿ç”¨è€… tomç‚ºä½¿ç”¨è€…åç¨±ï¼Œtom60229ç‚ºä½¿ç”¨è€…å¯†ç¢¼\n1  rabbitmqctl add_user tom tom60229   è³¦äºˆä½¿ç”¨è€…æ¬Šé™ å°‡tomè¨­æˆç®¡ç†å“¡\n1  rabbitmqctl set_user_tags tom administrator   å¯¦éš›ä½¿ç”¨ ç¯„ä¾‹Code\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60  public class Producer { public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory connectionFactory = new ConnectionFactory(); //æœå‹™åœ°å€  connectionFactory.setHost(\u0026#34;127.0.0.1\u0026#34;); //å¸³è™Ÿ  connectionFactory.setUsername(\u0026#34;guest\u0026#34;); //å¯†ç¢¼  connectionFactory.setPassword(\u0026#34;guest\u0026#34;); //ç«¯å£è™Ÿ  connectionFactory.setPort(5672); //å‰µå»ºé€£æ¥  Connection connection = connectionFactory.newConnection(); //å‰µå»ºchannel  Channel channel = connection.createChannel(); /** * å‰µå»ºäº¤æ›æ©Ÿ * 1. äº¤æ›æ©Ÿåç¨± * 2. äº¤æ›æ©Ÿé¡å‹ direct, topic, fanout, headers * 3. æŒ‡å®šäº¤æ›æ©Ÿæ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œå¦‚æœè¨­ç½®ç‚ºTrueï¼Œé‚£éº¼äº¤æ›æ©Ÿçš„å…ƒæ•¸æ“šè¦æŒä¹…åŒ– * 4. æŒ‡å®šäº¤æ›æ©Ÿåœ¨æ²’æœ‰éšŠåˆ—ç¶å®šæ™‚ï¼Œæ˜¯å¦åˆªé™¤ï¼Ÿ * 5. Map\u0026lt;String,Object\u0026gt;é¡å‹ï¼Œç”¨ä¾†æŒ‡å®šæˆ‘å€‘äº¤æ›æ©Ÿå…¶ä»–çš„ä¸€äº›æ©Ÿæ§‹è©±åƒæ•¸ï¼Œæˆ‘å€‘åœ¨é€™è£¡ç›´æ¥è¨­ç½®æˆNull */ String exchangeName = \u0026#34;xc_exchange_name\u0026#34;; channel.exchangeDeclare(exchangeName, BuiltinExchangeType.DIRECT, true, false, null); /** * ç”Ÿç”¢ä¸€å€‹éšŠåˆ— * 1. éšŠåˆ—åç¨± * 2. éšŠåˆ—æ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œé€™è£¡çš„æŒä¹…åŒ–åªæ˜¯éšŠåˆ—åç¨±ç­‰é€™äº›å…ƒæ•¸æ“šçš„æŒä¹…åŒ–ï¼Œä¸æ˜¯éšŠåˆ—ä¸­æ¶ˆæ¯çš„æŒä¹…åŒ– * 3. è¡¨ç¤ºéšŠåˆ—æ˜¯ä¸æ˜¯ç§æœ‰ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„ï¼Œåªæœ‰å”±è¦‹ä»–çš„æ‡‰ç”¨ç¨‹åºæ‰èƒ½æ¶ˆè²»æ¶ˆæ¯ * 4. éšŠåˆ—åœ¨æ²’æœ‰æ¶ˆè²»è€…è¨‚é–±çš„æƒ…æ³ä¸‹ï¼Œæ˜¯å¦è‡ªå‹•åˆªé™¤ * 5. éšŠåˆ—çš„ä¸€äº›çµæ§‹åŒ–è¨Šæ¯ï¼Œæ¯”å¦‚èªªè²æ˜æ­»ä¿¡éšŠåˆ—ï¼Œç£ç›¤éšŠåˆ—æœƒç”¨åˆ° */ String queueName = \u0026#34;xc_queue_name\u0026#34;; channel.queueDeclare(queueName, true, false, false, null); /** * å°‡äº¤æ›æ©Ÿèˆ‡éšŠåˆ—ç¶å®š * 1. éšŠåˆ—åç¨± * 2. äº¤æ›æ©Ÿåç¨± * 3. è·¯ç”±éµï¼Œåœ¨æˆ‘å€‘ç›´é€£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç‚ºæˆ‘å€‘çš„éšŠåˆ—åç¨± */ channel.queueBind(queueName, exchangeName, queueName); // è¦ç™¼é€çš„æ¶ˆæ¯  String message = \u0026#34;Hello rabbitMQ\u0026#34;; /** * ç™¼é€æ¶ˆæ¯ * 1. ç™¼é€åˆ°å“ªå€‹äº¤æ›æ©Ÿ * 2. éšŠåˆ—åç¨± * 3. å…¶ä»–åƒæ•¸è¨Šæ¯ * 4. ç™¼é€æ¶ˆæ¯çš„æ¶ˆæ¯é«” */ channel.basicPublish(exchangeName, queueName, null, message.getBytes()); channel.close(); connection.close(); } }   â€‹\nåŸ·è¡Œå®Œå¾Œï¼Œè¨ªå•RabbitMQçš„é é¢ï¼Œæœƒç™¼ç¾Queueä¸­ç¢ºå¯¦å­˜åœ¨ä¸€å‰‡Message\né€™æ™‚åœ¨å‰µå»ºå¦ä¸€å€‹Consumer\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  package com.example.springbootinaction.rabbitmq; import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; public class Consumer { public static void main(String[] args) throws IOException, TimeoutException { String exchangeName = \u0026#34;xc_exchange_name\u0026#34;; String queueName = \u0026#34;xc_queue_name\u0026#34;; ConnectionFactory connectionFactory = new ConnectionFactory(); //æœå‹™åœ°å€  connectionFactory.setHost(\u0026#34;127.0.0.1\u0026#34;); //å¸³è™Ÿ  connectionFactory.setUsername(\u0026#34;guest\u0026#34;); //å¯†ç¢¼  connectionFactory.setPassword(\u0026#34;guest\u0026#34;); //ç«¯å£è™Ÿ  connectionFactory.setPort(5672); //å‰µå»ºé€£æ¥  Connection connection = connectionFactory.newConnection(); //å‰µå»ºchannel  Channel channel = connection.createChannel(); //æ¥æ”¶æ¶ˆæ¯çš„å›èª¿å‡½æ•¸  DeliverCallback deliverCallback = (consumerTage, message) -\u0026gt; { System.out.println(\u0026#34;æ¥æ”¶åˆ°æ¶ˆæ¯\u0026#34; + new String(message.getBody())); }; //å–æ¶ˆæ¶ˆæ¯çš„å›èª¿å‡½æ•¸  CancelCallback cancelCallback = consumerTage -\u0026gt;{ System.out.println(\u0026#34;æ¶ˆæ¯è¢«ä¸­æ–·\u0026#34;); }; /** * æ¶ˆè²»æ¶ˆæ¯ * 1. æ¶ˆè²»å“ªå€‹éšŠåˆ— * 2. æ¶ˆè²»æˆåŠŸä¹‹å¾Œæ˜¯å¦éœ€è¦è‡ªå‹•æ‡‰ç­”ï¼Œtrue:è‡ªå‹•æ‡‰ç­” * 3. æ¥å—æ¶ˆæ¯çš„å›èª¿å‡½æ•¸ */ channel.basicConsume(queueName,true,deliverCallback,cancelCallback); } }   ç¢ºå¯¦æœ‰æ”¶åˆ°æ¶ˆæ¯ï¼Œé‡æ–°æ•´ç†rabbitMQé é¢å¾Œ\næœƒç™¼ç¾å·²ç¶“æ²’æœ‰Messegeåœ¨ç­‰å¾…äº†\näº¤æ›æ©Ÿä»‹ç´¹(Exchange) Direct è·¯ç”±éµèˆ‡éšŠåˆ—åã€Œå®Œå…¨åŒ¹é…ã€äº¤æ›æ©Ÿï¼Œé€šéèˆ‡RoutingKeyè·¯ç”±éµå°‡äº¤æ›æ©Ÿèˆ‡éšŠåˆ—é€²è¡Œç¶å®šï¼Œæ¶ˆæ¯è¢«ç™¼é€åˆ°exchangeæ™‚ï¼Œéœ€è¦æ ¹æ“šæ¶ˆæ¯çš„RountingKeyï¼Œä¾†é€²è¡ŒåŒ¹é…ï¼Œåªå°‡æ¶ˆæ¯ç™¼é€åˆ°å®Œå…¨åŒ¹é…åˆ°æ­¤RountingKeyçš„éšŠåˆ—ï¼Œå¦‚æœæƒ³è¦æ¨¡ç³ŠåŒ¹é…çš„è©±è¦ç”¨Topicã€‚\næ¯”å¦‚ä¸€å€‹éšŠåˆ—ç¶å®šåˆ°äº¤æ›æ©Ÿè¦æ±‚è·¯ç”±éµç‚º\u0026quot;key\u0026quot;ï¼Œå‰‡åªè½‰ç™¼RountingKeyæ¨™è¨˜ç‚º\u0026quot;key\u0026quot;çš„æ¶ˆæ¯ï¼Œä¸æœƒè½‰ç™¼\u0026quot;key1\u0026quot;ã€â€œkey.\u0026quot; \u0026hellip;ç­‰ç­‰ï¼Œä»–æ˜¯å®Œå…¨åŒ¹é…ã€å–®æ’¥çš„å½¢å¼\nä»¥ä¸‹ç‚ºç¯„ä¾‹Code\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77  public class ProducerDirect { public static void main(String[] args) throws IOException, TimeoutException { String exchangeName = \u0026#34;xc_exchange_name\u0026#34;; String queueName_1 = \u0026#34;xc_queue_name_1\u0026#34;; String queueName_2 = \u0026#34;xc_queue_name_2\u0026#34;; String queueName_3 = \u0026#34;xc_queue_name_3\u0026#34;; String queueName_4 = \u0026#34;xc_queue_name_4\u0026#34;; String key_1 = \u0026#34;key_1\u0026#34;; String key_3 = \u0026#34;key_3\u0026#34;; String key_4 = \u0026#34;key_4\u0026#34;; ConnectionFactory connectionFactory = new ConnectionFactory(); //æœå‹™åœ°å€  connectionFactory.setHost(\u0026#34;127.0.0.1\u0026#34;); //å¸³è™Ÿ  connectionFactory.setUsername(\u0026#34;guest\u0026#34;); //å¯†ç¢¼  connectionFactory.setPassword(\u0026#34;guest\u0026#34;); //ç«¯å£è™Ÿ  connectionFactory.setPort(5672); //å‰µå»ºé€£æ¥  Connection connection = connectionFactory.newConnection(); //å‰µå»ºchannel  Channel channel = connection.createChannel(); /** * å‰µå»ºäº¤æ›æ©Ÿ * 1. äº¤æ›æ©Ÿåç¨± * 2. äº¤æ›æ©Ÿé¡å‹ direct, topic, fanout, headers * 3. æŒ‡å®šäº¤æ›æ©Ÿæ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œå¦‚æœè¨­ç½®ç‚ºTrueï¼Œé‚£éº¼äº¤æ›æ©Ÿçš„å…ƒæ•¸æ“šè¦æŒä¹…åŒ– * 4. æŒ‡å®šäº¤æ›æ©Ÿåœ¨æ²’æœ‰éšŠåˆ—ç¶å®šæ™‚ï¼Œæ˜¯å¦åˆªé™¤ï¼Ÿ * 5. Map\u0026lt;String,Object\u0026gt;é¡å‹ï¼Œç”¨ä¾†æŒ‡å®šæˆ‘å€‘äº¤æ›æ©Ÿå…¶ä»–çš„ä¸€äº›æ©Ÿæ§‹è©±åƒæ•¸ï¼Œæˆ‘å€‘åœ¨é€™è£¡ç›´æ¥è¨­ç½®æˆNull */ channel.exchangeDeclare(exchangeName, BuiltinExchangeType.DIRECT, true, false, null); /** * ç”Ÿç”¢ä¸€å€‹éšŠåˆ— * 1. éšŠåˆ—åç¨± * 2. éšŠåˆ—æ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œé€™è£¡çš„æŒä¹…åŒ–åªæ˜¯éšŠåˆ—åç¨±ç­‰é€™äº›å…ƒæ•¸æ“šçš„æŒä¹…åŒ–ï¼Œä¸æ˜¯éšŠåˆ—ä¸­æ¶ˆæ¯çš„æŒä¹…åŒ– * 3. è¡¨ç¤ºéšŠåˆ—æ˜¯ä¸æ˜¯ç§æœ‰ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„ï¼Œåªæœ‰å”±è¦‹ä»–çš„æ‡‰ç”¨ç¨‹åºæ‰èƒ½æ¶ˆè²»æ¶ˆæ¯ * 4. éšŠåˆ—åœ¨æ²’æœ‰æ¶ˆè²»è€…è¨‚é–±çš„æƒ…æ³ä¸‹ï¼Œæ˜¯å¦è‡ªå‹•åˆªé™¤ * 5. éšŠåˆ—çš„ä¸€äº›çµæ§‹åŒ–è¨Šæ¯ï¼Œæ¯”å¦‚èªªè²æ˜æ­»ä¿¡éšŠåˆ—ï¼Œç£ç›¤éšŠåˆ—æœƒç”¨åˆ° */ channel.queueDeclare(queueName_1, true, false, false, null); channel.queueDeclare(queueName_2, true, false, false, null); channel.queueDeclare(queueName_3, true, false, false, null); channel.queueDeclare(queueName_4, true, false, false, null); /** * å°‡äº¤æ›æ©Ÿèˆ‡éšŠåˆ—ç¶å®š * 1. éšŠåˆ—åç¨± * 2. äº¤æ›æ©Ÿåç¨± * 3. è·¯ç”±éµï¼Œåœ¨æˆ‘å€‘ç›´é€£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç‚ºæˆ‘å€‘çš„éšŠåˆ—åç¨± */ channel.queueBind(queueName_1, exchangeName, key_1); channel.queueBind(queueName_2, exchangeName, key_1); channel.queueBind(queueName_3, exchangeName, key_3); channel.queueBind(queueName_4, exchangeName, key_4); // è¦ç™¼é€çš„æ¶ˆæ¯  String message = \u0026#34;Hello rabbitMQ\u0026#34;; /** * ç™¼é€æ¶ˆæ¯ * 1. ç™¼é€åˆ°å“ªå€‹äº¤æ›æ©Ÿ * 2. éšŠåˆ—åç¨± * 3. å…¶ä»–åƒæ•¸è¨Šæ¯ * 4. ç™¼é€æ¶ˆæ¯çš„æ¶ˆæ¯é«” */ channel.basicPublish(exchangeName, key_1, null, \u0026#34;key_1 message\u0026#34;.getBytes()); channel.basicPublish(exchangeName, key_3, null, \u0026#34;key_3 message\u0026#34;.getBytes()); channel.basicPublish(exchangeName, key_4, null, \u0026#34;key_4 message\u0026#34;.getBytes()); channel.close(); connection.close(); } }   åŸ·è¡Œå®Œå¾Œé•·é€™æ¨£\næ¥è‘—å»æ‰ç”¨Consumerå»æŸ¥çœ‹Messege\næ”¹æˆå‘¼å«queueName_2ï¼Œæ¥æ”¶åˆ°çš„ä»æ˜¯key_1çš„è¨Šæ¯ï¼Œå› ç‚ºæˆ‘å€‘åœ¨ç”Ÿç”¢è€…é‚£é‚Šï¼Œå°‡queueName2èˆ‡key_1é€²è¡Œç¶å®š\nFanout æ‰‡å‡ºé¡å‹çš„exchangeï¼Œæœƒå°‡æ¶ˆæ¯åˆ†ç™¼çµ¦æ‰€æœ‰ç¶å®šäº†æ­¤exchangeçš„éšŠåˆ—ï¼Œæ­¤æ™‚RountingKeyåƒæ•¸ç„¡æ•ˆï¼Œå› æ­¤ä¸ç®¡çµ¦å“ªå€‹Queueé€æ¶ˆæ¯ã€å±¬æ–¼åŒä¸€å€‹exchangeåº•ä¸‹çš„éƒ½æœƒå…±äº«\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89  package com.example.springbootinaction.rabbitmq.fanout; import com.rabbitmq.client.BuiltinExchangeType; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import java.io.IOException; import java.util.concurrent.TimeoutException; public class ProducerFanout { public static void main(String[] args) throws IOException, TimeoutException { String exchangeName = \u0026#34;xc_exchange_fanout_name\u0026#34;; String queueName_1 = \u0026#34;xc_queue_name_fanout_1\u0026#34;; String queueName_2 = \u0026#34;xc_queue_name_fanout_2\u0026#34;; String queueName_3 = \u0026#34;xc_queue_name_fanout_3\u0026#34;; String queueName_4 = \u0026#34;xc_queue_name_fanout_4\u0026#34;; String key_1 = \u0026#34;key_1\u0026#34;; String key_3 = \u0026#34;key_3\u0026#34;; String key_4 = \u0026#34;key_4\u0026#34;; ConnectionFactory connectionFactory = new ConnectionFactory(); //æœå‹™åœ°å€  connectionFactory.setHost(\u0026#34;127.0.0.1\u0026#34;); //å¸³è™Ÿ  connectionFactory.setUsername(\u0026#34;guest\u0026#34;); //å¯†ç¢¼  connectionFactory.setPassword(\u0026#34;guest\u0026#34;); //ç«¯å£è™Ÿ  connectionFactory.setPort(5672); //å‰µå»ºé€£æ¥  Connection connection = connectionFactory.newConnection(); //å‰µå»ºchannel  Channel channel = connection.createChannel(); /** * å‰µå»ºäº¤æ›æ©Ÿ * 1. äº¤æ›æ©Ÿåç¨± * 2. äº¤æ›æ©Ÿé¡å‹ direct, topic, fanout, headers * 3. æŒ‡å®šäº¤æ›æ©Ÿæ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œå¦‚æœè¨­ç½®ç‚ºTrueï¼Œé‚£éº¼äº¤æ›æ©Ÿçš„å…ƒæ•¸æ“šè¦æŒä¹…åŒ– * 4. æŒ‡å®šäº¤æ›æ©Ÿåœ¨æ²’æœ‰éšŠåˆ—ç¶å®šæ™‚ï¼Œæ˜¯å¦åˆªé™¤ï¼Ÿ * 5. Map\u0026lt;String,Object\u0026gt;é¡å‹ï¼Œç”¨ä¾†æŒ‡å®šæˆ‘å€‘äº¤æ›æ©Ÿå…¶ä»–çš„ä¸€äº›æ©Ÿæ§‹è©±åƒæ•¸ï¼Œæˆ‘å€‘åœ¨é€™è£¡ç›´æ¥è¨­ç½®æˆNull */ channel.exchangeDeclare(exchangeName, BuiltinExchangeType.FANOUT, true, false, null); /** * ç”Ÿç”¢ä¸€å€‹éšŠåˆ— * 1. éšŠåˆ—åç¨± * 2. éšŠåˆ—æ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œé€™è£¡çš„æŒä¹…åŒ–åªæ˜¯éšŠåˆ—åç¨±ç­‰é€™äº›å…ƒæ•¸æ“šçš„æŒä¹…åŒ–ï¼Œä¸æ˜¯éšŠåˆ—ä¸­æ¶ˆæ¯çš„æŒä¹…åŒ– * 3. è¡¨ç¤ºéšŠåˆ—æ˜¯ä¸æ˜¯ç§æœ‰ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„ï¼Œåªæœ‰å”±è¦‹ä»–çš„æ‡‰ç”¨ç¨‹åºæ‰èƒ½æ¶ˆè²»æ¶ˆæ¯ * 4. éšŠåˆ—åœ¨æ²’æœ‰æ¶ˆè²»è€…è¨‚é–±çš„æƒ…æ³ä¸‹ï¼Œæ˜¯å¦è‡ªå‹•åˆªé™¤ * 5. éšŠåˆ—çš„ä¸€äº›çµæ§‹åŒ–è¨Šæ¯ï¼Œæ¯”å¦‚èªªè²æ˜æ­»ä¿¡éšŠåˆ—ï¼Œç£ç›¤éšŠåˆ—æœƒç”¨åˆ° */ channel.queueDeclare(queueName_1, true, false, false, null); channel.queueDeclare(queueName_2, true, false, false, null); channel.queueDeclare(queueName_3, true, false, false, null); channel.queueDeclare(queueName_4, true, false, false, null); /** * å°‡äº¤æ›æ©Ÿèˆ‡éšŠåˆ—ç¶å®š * 1. éšŠåˆ—åç¨± * 2. äº¤æ›æ©Ÿåç¨± * 3. è·¯ç”±éµï¼Œåœ¨æˆ‘å€‘ç›´é€£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç‚ºæˆ‘å€‘çš„éšŠåˆ—åç¨± */ channel.queueBind(queueName_1, exchangeName, key_1); channel.queueBind(queueName_2, exchangeName, key_1); channel.queueBind(queueName_3, exchangeName, key_3); channel.queueBind(queueName_4, exchangeName, key_4); // è¦ç™¼é€çš„æ¶ˆæ¯  String message = \u0026#34;Hello rabbitMQ\u0026#34;; /** * ç™¼é€æ¶ˆæ¯ * 1. ç™¼é€åˆ°å“ªå€‹äº¤æ›æ©Ÿ * 2. éšŠåˆ—åç¨± * 3. å…¶ä»–åƒæ•¸è¨Šæ¯ * 4. ç™¼é€æ¶ˆæ¯çš„æ¶ˆæ¯é«” */ channel.basicPublish(exchangeName, key_1, null, \u0026#34;key_1 fanout message\u0026#34;.getBytes()); //è¨»è§£æ‰ï¼Œå…¶ä»–çš„ï¼Œä¾†çœ‹çœ‹æœƒè®Šä»€éº¼æ¨£ // channel.basicPublish(exchangeName, key_3, null, \u0026#34;key_3 message\u0026#34;.getBytes()); // channel.basicPublish(exchangeName, key_4, null, \u0026#34;key_4 message\u0026#34;.getBytes());  channel.close(); connection.close(); } }   åŸ·è¡Œå¾Œæœƒå‡ºç¾ä¸€å€‹æ–°çš„äº¤æ›æ©Ÿ\nåœ¨Queueä¸­å¤šå‡ºäº†å››å€‹Queue\nWarning\nå¦‚æœä½ çš„Queueæœ‰ä¸è©²è·³èµ·ä¾†çš„å»è·³äº†èµ·ä¾†ï¼Œå¾ˆå¯èƒ½æ˜¯ä½ ä¸å°å¿ƒç¶å®šåˆ°äº†åŒä¸€å€‹exchangeã€‚å¦‚æœä½ çš„xc_queue_name_fanoutï¼Œä¸€ç›´æ²’è·³èµ·ä¾†ï¼Œå¾ˆå¯èƒ½æ˜¯ä½ çš„consumeræŒçºŒåœ¨èƒŒæ™¯åŸ·è¡Œï¼Œä¸€ç›´æ¶ˆè²»ä½ çš„Queueï¼Œè¨˜å¾—é—œæ‰\næ¥è‘—å•Ÿå‹•æ¶ˆè²»è€…ï¼Œä¾†çœ‹çœ‹ä»–æ‹¿åˆ°ä»€éº¼\nTopic ä¸»é¡Œé¡å‹äº¤æ›æ©Ÿï¼Œæ­¤ç¨®äº¤æ›æ©Ÿèˆ‡Directé¡ä¼¼ï¼Œä¹Ÿæ˜¯éœ€è¦é€éroutingKeyè·¯ç”±éµé€²è¡ŒåŒ¹é…åˆ†ç™¼ï¼Œå€åˆ¥åœ¨Topicå¯ä»¥æ¨¡ç³ŠåŒ¹é…\n Topicä¸­ï¼Œå°‡RoutingKeyé€šé\u0026quot;.\u0026ldquo;ä¾†åˆ†ç‚ºå¤šå€‹éƒ¨åˆ† \u0026ldquo;*\u0026quot;ï¼šä»£è¡¨ä¸€éƒ¨åˆ† \u0026ldquo;#\u0026quot;ï¼šä»£è¡¨0å€‹æˆ–å¤šå€‹éƒ¨åˆ†ï¼Œå¦‚æœç¶å®šçš„è·¯ç”±ç‚º#æ™‚ï¼Œå‰‡æ¥å—æ‰€æœ‰æ¶ˆæ¯ï¼Œå› ç‚ºè·¯ç”±éµæ‰€æœ‰éƒ½åŒ¹é…  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76  public class ProducerTopic { public static void main(String[] args) throws IOException, TimeoutException { String exchangeName = \u0026#34;xc_exchange_topic _name\u0026#34;; String queueName_1 = \u0026#34;xc_queue_topic_name_1\u0026#34;; String queueName_2 = \u0026#34;xc_queue_topic_name_2\u0026#34;; String queueName_3 = \u0026#34;xc_queue_topic_name_3\u0026#34;; String queueName_4 = \u0026#34;xc_queue_topic_name_4\u0026#34;; //keyçš„åç¨±ç¶å®šæœ‰è®Šï¼ï¼ï¼  String key_1 = \u0026#34;key_1.key2.key3.*\u0026#34;; String key_2 = \u0026#34;key_1.#\u0026#34;; String key_3 = \u0026#34;*.key_2.*.key_4\u0026#34;; String key_4 = \u0026#34;#.key_3.key_4\u0026#34;; ConnectionFactory connectionFactory = new ConnectionFactory(); //æœå‹™åœ°å€  connectionFactory.setHost(\u0026#34;127.0.0.1\u0026#34;); //å¸³è™Ÿ  connectionFactory.setUsername(\u0026#34;guest\u0026#34;); //å¯†ç¢¼  connectionFactory.setPassword(\u0026#34;guest\u0026#34;); //ç«¯å£è™Ÿ  connectionFactory.setPort(5672); //å‰µå»ºé€£æ¥  Connection connection = connectionFactory.newConnection(); //å‰µå»ºchannel  Channel channel = connection.createChannel(); /** * å‰µå»ºäº¤æ›æ©Ÿ * 1. äº¤æ›æ©Ÿåç¨± * 2. äº¤æ›æ©Ÿé¡å‹ direct, topic, fanout, headers * 3. æŒ‡å®šäº¤æ›æ©Ÿæ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œå¦‚æœè¨­ç½®ç‚ºTrueï¼Œé‚£éº¼äº¤æ›æ©Ÿçš„å…ƒæ•¸æ“šè¦æŒä¹…åŒ– * 4. æŒ‡å®šäº¤æ›æ©Ÿåœ¨æ²’æœ‰éšŠåˆ—ç¶å®šæ™‚ï¼Œæ˜¯å¦åˆªé™¤ï¼Ÿ * 5. Map\u0026lt;String,Object\u0026gt;é¡å‹ï¼Œç”¨ä¾†æŒ‡å®šæˆ‘å€‘äº¤æ›æ©Ÿå…¶ä»–çš„ä¸€äº›æ©Ÿæ§‹è©±åƒæ•¸ï¼Œæˆ‘å€‘åœ¨é€™è£¡ç›´æ¥è¨­ç½®æˆNull */ channel.exchangeDeclare(exchangeName, BuiltinExchangeType.TOPIC, true, false, null); /** * ç”Ÿç”¢ä¸€å€‹éšŠåˆ— * 1. éšŠåˆ—åç¨± * 2. éšŠåˆ—æ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œé€™è£¡çš„æŒä¹…åŒ–åªæ˜¯éšŠåˆ—åç¨±ç­‰é€™äº›å…ƒæ•¸æ“šçš„æŒä¹…åŒ–ï¼Œä¸æ˜¯éšŠåˆ—ä¸­æ¶ˆæ¯çš„æŒä¹…åŒ– * 3. è¡¨ç¤ºéšŠåˆ—æ˜¯ä¸æ˜¯ç§æœ‰ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„ï¼Œåªæœ‰å”±è¦‹ä»–çš„æ‡‰ç”¨ç¨‹åºæ‰èƒ½æ¶ˆè²»æ¶ˆæ¯ * 4. éšŠåˆ—åœ¨æ²’æœ‰æ¶ˆè²»è€…è¨‚é–±çš„æƒ…æ³ä¸‹ï¼Œæ˜¯å¦è‡ªå‹•åˆªé™¤ * 5. éšŠåˆ—çš„ä¸€äº›çµæ§‹åŒ–è¨Šæ¯ï¼Œæ¯”å¦‚èªªè²æ˜æ­»ä¿¡éšŠåˆ—ï¼Œç£ç›¤éšŠåˆ—æœƒç”¨åˆ° */ channel.queueDeclare(queueName_1, true, false, false, null); channel.queueDeclare(queueName_2, true, false, false, null); channel.queueDeclare(queueName_3, true, false, false, null); channel.queueDeclare(queueName_4, true, false, false, null); /** * å°‡äº¤æ›æ©Ÿèˆ‡éšŠåˆ—ç¶å®š * 1. éšŠåˆ—åç¨± * 2. äº¤æ›æ©Ÿåç¨± * 3. è·¯ç”±éµï¼Œåœ¨æˆ‘å€‘ç›´é€£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç‚ºæˆ‘å€‘çš„éšŠåˆ—åç¨± */ channel.queueBind(queueName_1, exchangeName, key_1); channel.queueBind(queueName_2, exchangeName, key_2); channel.queueBind(queueName_3, exchangeName, key_3); channel.queueBind(queueName_4, exchangeName, key_4); // è¦ç™¼é€çš„æ¶ˆæ¯  String message = \u0026#34;Hello rabbitMQ\u0026#34;; /** * ç™¼é€æ¶ˆæ¯ * 1. ç™¼é€åˆ°å“ªå€‹äº¤æ›æ©Ÿ * 2. éšŠåˆ—åç¨± * 3. å…¶ä»–åƒæ•¸è¨Šæ¯ * 4. ç™¼é€æ¶ˆæ¯çš„æ¶ˆæ¯é«” */ channel.basicPublish(exchangeName, \u0026#34;key_1\u0026#34;, null, \u0026#34;key 1 topic message\u0026#34;.getBytes()); channel.close(); connection.close(); } }   åŸ·è¡Œå®Œå¾Œ\nHeaders å¹¾ä¹è·ŸDirectä¸€æ¨£ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šç”¨ä¸åˆ°ï¼Œæœ‰éœ€è¦å†ä¾†çœ‹\nåœ¨SpringBootä¸­ä½¿ç”¨ åŠ å…¥ä¾è³´\n1 2 3 4 5 6 7 8 9  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.rabbitmq\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;amqp-client\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.16.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-amqp\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt;   åŠ å…¥é…ç½®æ–‡ä»¶\næ³¨æ„ï¼Œé€™é‚Šè¨˜å¾—è¦è‡ªå·±å‰µå»ºä¸€å€‹ä½¿ç”¨è€…ï¼Œä¸è¦ç”¨guestï¼Œæœ‰å¯èƒ½æœƒå‡ºéŒ¯== ä¸è¦å•æˆ‘ç‚ºä»€éº¼æœƒçŸ¥é“\n1 2 3 4 5  spring.rabbitmq.host=localhost spring.rabbitmq.port=5672 spring.rabbitmq.username=hoxton spring.rabbitmq.password=123456 spring.rabbitmq.virtual-host=test1   ç”Ÿæˆé—œæ–¼exchangeã€queueçš„ï¼Œå†å°‡å…©è€…ç¶åœ¨ä¸€èµ·Bean\n2024/5/24 å›é ­ä¾†çœ‹ï¼Œä¸çŸ¥é“ç‚ºå•¥ä¸‹é¢çš„éƒ½æ²’ä½œç”¨äº†ï¼Œæ”¹ç”¨Configurationç¯‡ç« çš„Code å°±å¯ä»¥äº†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  @Configuration public class RabbitMQConfig { private final static String EXCHANGE_NAME = \u0026#34;my_boot_fanout_exchange\u0026#34;; private final static String QUEUE_NAME = \u0026#34;my_boot_fanout_queue1\u0026#34;; /** * è²æ˜äº¤æ›æ©Ÿ * @return */ @Bean public FanoutExchange fanoutExchange() { return new FanoutExchange(EXCHANGE_NAME, true, false); } @Bean public Queue queue() { return new Queue(QUEUE_NAME, true, false, false); } @Bean public Binding queueBinding(FanoutExchange fanoutExchange, Queue queue) { return BindingBuilder.bind(queue).to(fanoutExchange); } }   Properties 1 2 3  rabbitmq.queue.name :hoxton_queue_name rabbitmq.exchange.name:hoxton_exchange_name rabbitmq.routekey.name:hoxton_queue_name   Configuration 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56  package com.example.rabbitmq.configuration; import com.rabbitmq.client.BuiltinExchangeType; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import jakarta.annotation.PostConstruct; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import java.io.IOException; import java.util.concurrent.TimeoutException; @Configuration public class RabbitMessageQueueConfiguration { private ConnectionFactory connectionFactory; @Value(\u0026#34;${rabbitmq.routekey.name}\u0026#34;) String routeKey; @Value(\u0026#34;${rabbitmq.exchange.name}\u0026#34;) String exchangeName; @Value(\u0026#34;rabbitmq.queue.name\u0026#34;) String queueName; @Bean public ConnectionFactory connectionFactory() { return connectionFactory; } @PostConstruct public void setupRabbitMQ() throws IOException, TimeoutException { // ä½¿ç”¨ connectionFactory bean åˆ›å»ºè¿æ¥  connectionFactory = new ConnectionFactory(); connectionFactory.setHost(\u0026#34;127.0.0.1\u0026#34;); connectionFactory.setUsername(\u0026#34;hoxton\u0026#34;); connectionFactory.setPassword(\u0026#34;123456\u0026#34;); connectionFactory.setPort(5672); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); channel.exchangeDeclare(exchangeName, BuiltinExchangeType.DIRECT, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName , routeKey); String message = \u0026#34;Rabbit Mqå•Ÿå‹•æˆåŠŸ\u0026#34;; channel.basicPublish(exchangeName, queueName, null, message.getBytes()); channel.close(); connection.close(); } }   åœ¨é…ç½®\nå€‹\nController æˆ‘å€‘é€™é‚Šç”¨RestAPIçš„æ–¹å¼ç™¼é€è«‹æ±‚éå»ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  package com.example.rabbitmq.controller; import com.example.rabbitmq.producer.RabbitMQProducer; import com.example.rabbitmq.service.TestService; import lombok.RequiredArgsConstructor; import org.springframework.http.ResponseEntity; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; @RestController @RequestMapping(\u0026#34;rabbit\u0026#34;) @RequiredArgsConstructor public class TestController { private final TestService testService; @GetMapping(\u0026#34;/\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; sendMessage() { testService.sendMessageToRabbitMq(\u0026#34;æˆ‘æ˜¯ä¾†è‡ªå‰ç«¯çš„è¨Šæ¯\u0026#34;); return ResponseEntity.ok().body(\u0026#34;å®Œæˆ\u0026#34;); } }   Service 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  package com.example.rabbitmq.service; import com.example.rabbitmq.producer.RabbitMQProducer; import lombok.RequiredArgsConstructor; import lombok.extern.slf4j.Slf4j; import org.springframework.stereotype.Service; @Service @RequiredArgsConstructor @Slf4j public class TestService { private final RabbitMQProducer rabbitMQProducer; public void sendMessageToRabbitMq(String message){ log.info(\u0026#34;ç™¼é€æ¶ˆæ¯åˆ°Rabbit Mq:{}\u0026#34;,message); rabbitMQProducer.sendMessage(message); } }   Producer å…¶ä¸­çš„rabbitTemplateæ˜¯SpringBootç”¨ä¾†èˆ‡rabbitMqäº¤äº’çš„ä¸€å€‹é¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  package com.example.rabbitmq.producer; import lombok.RequiredArgsConstructor; import lombok.extern.slf4j.Slf4j; import org.springframework.amqp.rabbit.core.RabbitTemplate; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; @Component @RequiredArgsConstructor @Slf4j public class RabbitMQProducer { private final RabbitTemplate rabbitTemplate; @Value(\u0026#34;${rabbitmq.routekey.name}\u0026#34;) String routeKey; @Value(\u0026#34;${rabbitmq.exchange.name}\u0026#34;) String exchangeName; @Value(\u0026#34;${rabbitmq.queue.name}\u0026#34;) String queueName; public void sendMessage(String message) { log.info(\u0026#34;å‘¼å«åˆ°MessageQueueProducer\u0026#34;); rabbitTemplate.convertAndSend(exchangeName, routeKey, message); } }   æ¥è‘—å†å¯«ä¸€å€‹\nConsumer 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  package com.example.rabbitmq.comsumer; import lombok.extern.slf4j.Slf4j; import org.springframework.amqp.core.Message; import org.springframework.amqp.rabbit.annotation.RabbitListener; import org.springframework.stereotype.Component; @Component @Slf4j public class RabbitConsumer { /** * ç›£è½éšŠåˆ—ï¼šç•¶éšŠåˆ—ä¸­æœ‰æ¶ˆæ¯ï¼Œå‰‡ç›£è½å™¨å·¥ä½œï¼Œè™•ç†æ¥æ”¶åˆ°çš„è¨Šæ¯ * @param message */ @RabbitListener(queues = \u0026#34;${rabbitmq.queue.name}\u0026#34;) public void process(Message message) { byte[] body = message.getBody(); log.info(\u0026#34;å‘¼å«åˆ°Consumer\u0026#34;); log.info(\u0026#34;æ¥æ”¶åˆ°çš„æ¶ˆæ¯\u0026#34; + new String(body)); } }   é€™å€‹æ–¹æ³•æœƒå»ç›£è½æŒ‡å®šQueueçš„Messegeï¼Œä¸¦ä¸”åšç›¸æ‡‰çš„è™•ç†\nç›®å‰é€™é‚Šçš„æ–¹å¼å°±æ˜¯æŠŠæ”¶åˆ°çš„è¨Šæ¯Printå‡ºä¾†ï¼Œä¸¦æŠŠé‚£å€‹Messegeæ¸…ç©ºï¼Œè«‹ç‰¹åˆ¥æ³¨æ„ï¼Œé€™é‚Šæ˜¯ç”±rabbitè‡ªå‹•å¹«ä½ ack(acknowledge)çš„ï¼Œå¦‚æœä¸æƒ³è¦çš„è©±ä¹Ÿå¯ä»¥å»è¨­å®šæŠŠé€™éƒ¨åˆ†é—œæ‰ï¼Œé€™é‚Šå°±ä¸å±•ç¤ºäº†ã€‚\nç¯„ä¾‹åœ–\nåƒè€ƒè³‡æ–™ 1å°æ—¶å­¦ä¼šRabbitMQï¼å¿«é€ŸæŒæ¡RabbitMQçš„ä½¿ç”¨ä¸åŸç†å®æˆ˜\nç¼–ç¨‹ä¸è‰¯äººã€‘MQæ¶ˆæ¯ä¸­é—´ä»¶ä¹‹RabbitMQä»¥åŠæ•´åˆSpringBoot2.xå®æˆ˜æ•™ç¨‹,å·²å®Œç»“!\n","date":"2023-09-08T03:00:58+08:00","image":"https://i.imgur.com/dQTmSCl.png","permalink":"https://hoxtoncraft.com/p/rabbitmq%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"RabbitMQå­¸ç¿’ç­†è¨˜"},{"content":"å‰è¨€ å‰ä¸€é™£å­è¢«ä¿å“¥çµ¦Fireæ‰äº†ï¼Œä½†è€å¯¦èªªè‡ªå·±çš„å·¥ä½œè¡¨ç¾çœŸçš„ä¸å¤ªå¥½ï¼Œé€™é»ä¹Ÿç¢ºå¯¦æ€ªä¸äº†äººï¼Œæ‰€å¹¸å¾ˆå¿«å°±æ‰¾åˆ°äº†ä¸‹ä¸€ä»½å·¥ä½œï¼Œæ–°çš„å·¥ä½œæœ‰å€‹å¾ˆå¤§çš„å„ªé»ï¼Œå°±æ˜¯éœ€è¦å­¸å¾ˆå¤šæˆ‘ä¹‹å‰æƒ³å­¸ï¼Œä½†åˆå› ç‚ºæ‡¶æƒ°è€Œæ²’æœ‰å»å­¸çš„æŠ€è¡“ï¼Œè€ŒRediså°±æ˜¯å…¶ä¸­çš„ä¸€æ¬¾ã€‚æ–¼æ˜¯å‰è¼©å°±è·Ÿæˆ‘èªªï¼Œå¯ä»¥åˆ©ç”¨ç­‰å¾…å¸³è™Ÿç”³è«‹çš„é€™ä¸€å…©å€‹ç¦®æ‹œï¼ŒæŠŠé€™äº›æŠ€è¡“å­¸ä¸€å­¸\nÂ å®‰è£AnotherRedisDesktopManager å¦‚æœä½ æ˜¯Armæ¶æ§‹çš„é›»è…¦(æ²’éŒ¯ï¼Œåˆæ˜¯Macbook)ï¼Œé‚£å¯ä»¥å»ä¸‹è¼‰\nAnotherRedisDesktopManager\nhttps://github.com/qishibo/AnotherRedisDesktopManager\nå¦‚æœå‡ºç¾ä»€éº¼éœ€è¦å‡ç´šæ‰å¯ä»¥æ‰“é–‹çš„è¨Šæ¯ï¼Œå¯ä»¥åœ¨terminalä¸­è¼¸å…¥é€™æ®µæŒ‡ä»¤ä¾†è™•ç†\n1 2 3  sudo spctl --master-disable sudo xattr -rd com.apple.quarantine /Applications/Another\\ Redis\\ Desktop\\ Manager.app sudo spctl --master-enable   å®‰è£Redis 1  brew install redis   å•Ÿå‹• redisç›¸é—œçš„é…ç½®æª”å„²å­˜åœ¨macbookçš„é€™å€‹ä½å€ä¸­çš„ redis.conf\n1  cd /opt/homebrew/etc   é€™é‚Šå¯ä»¥èª¿æ•´redisçš„port, å¯†ç¢¼\n1 2 3  bind 127.0.0.1 ::1 port 6379 # requirepass foobared   ä½¿ç”¨é»˜èªé…ç½®æ–‡ä»¶å•Ÿå‹• Redis æœå‹™å™¨\n1  redis-server   æŸ¥çœ‹redisç‹€æ³\n1  brew services info reids   å•Ÿå‹•redisæœå‹™\n1  brew services start redis   å†æ¬¡æŸ¥çœ‹ç‹€æ³\n1  brew services info reids   1  sudo lsof -i :6379   ![image-20230907132803857](/Users/hoxtonashes/Library/Application Support/typora-user-images/image-20230907132803857.png)\nç¢ºèªè¢«å•Ÿå‹•èµ·ä¾†\næ¥è‘—è¼¸å…¥ï¼Œå•Ÿå‹•rediså®¢æˆ¶ç«¯\n1  redis-cli   å°±å¯ä»¥é€²å…¥åˆ°redisä¸­äº†\nåœ¨Awsç’°å¢ƒä¸‹å®‰è£Redis 1  sudo yum update   1  sudo yum install -y make gcc   1  mkdir redis \u0026amp;\u0026amp; cd redis \u0026amp;\u0026amp; wget https://download.redis.io/redis-stable.tar.gz   1  tar -xzvf redis-stable.tar.gz \u0026amp;\u0026amp; cd redis-stable/   1  make distclean # for clean build   1  make   1  sudo make install   ç·¨è¼¯redis.confä¸­çš„ï¼Œå°‡bind 127.0.0.1 -::1 èª¿æ•´æˆ bind 0.0.0.0 é–‹æ”¾æ‰€æœ‰ip4\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  é è¨­æƒ…æ³ä¸‹ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®š bind é…ç½®æŒ‡ä»¤ï¼ŒRedis æœƒç›£è½ä¸»æ©Ÿä¸Šæ‰€æœ‰å¯ç”¨çš„ç¶²è·¯æ¥å£çš„é€£æ¥ã€‚ å¯ä»¥ä½¿ç”¨ bind é…ç½®æŒ‡ä»¤æŒ‡å®šä¸€å€‹æˆ–å¤šå€‹é¸å®šçš„æ¥å£é€²è¡Œç›£è½ï¼Œå¾Œé¢æ¥ä¸€å€‹æˆ–å¤šå€‹ IP åœ°å€ã€‚ æ¯å€‹åœ°å€å¯ä»¥ä»¥ - ç‚ºå‰ç¶´ï¼Œé€™è¡¨ç¤ºå¦‚æœè©²åœ°å€ä¸å¯ç”¨ï¼ŒRedis ä»ç„¶å¯ä»¥æ­£å¸¸å•Ÿå‹•ã€‚ ã€Œä¸å¯ç”¨ã€åƒ…æŒ‡é‚£äº›ä¸å°æ‡‰ä»»ä½•ç¶²è·¯æ¥å£çš„åœ°å€ã€‚å°æ–¼å·²ç¶“è¢«ä½”ç”¨çš„åœ°å€ï¼ŒRedis å°‡å§‹çµ‚ç„¡æ³•å•Ÿå‹•ï¼Œè€Œå°æ–¼ä¸æ”¯æ´çš„å”è­°ï¼Œå°‡è¢«éœé»˜å¿½ç•¥ï¼Œä¸æœƒå ±éŒ¯ã€‚ bind 192.168.1.100 10.0.0.1 # ç›£è½å…©å€‹ç‰¹å®šçš„ IPv4 åœ°å€ bind 127.0.0.1 ::1 # ç›£è½ IPv4 å’Œ IPv6 çš„å›ç’°åœ°å€ bind * -::* # é¡ä¼¼é è¨­è¨­å®šï¼Œç›£è½æ‰€æœ‰å¯ç”¨çš„æ¥å£ ~~~ è­¦å‘Š ~~~ å¦‚æœé‹è¡Œ Redis çš„é›»è…¦ç›´æ¥æš´éœ²åœ¨äº’è¯ç¶²ä¸Šï¼Œå°‡ Redis ç¶å®šåˆ°æ‰€æœ‰æ¥å£æ˜¯å±éšªçš„ï¼Œé€™æœƒä½¿å¯¦ä¾‹æš´éœ²çµ¦äº’è¯ç¶²ä¸Šçš„æ‰€æœ‰ç”¨æˆ¶ã€‚ å› æ­¤ï¼Œé è¨­æƒ…æ³ä¸‹æˆ‘å€‘å–æ¶ˆè¨»é‡‹äº†ä»¥ä¸‹çš„ bind æŒ‡ä»¤ï¼Œé€™å°‡å¼·åˆ¶ Redis åƒ…ç›£è½ IPv4 å’Œï¼ˆå¦‚æœå¯ç”¨ï¼‰IPv6 çš„å›ç’°æ¥å£åœ°å€ï¼ˆé€™æ„å‘³è‘— Redis åªèƒ½æ¥å—é‹è¡Œåœ¨åŒä¸€ä¸»æ©Ÿä¸Šçš„å®¢æˆ¶ç«¯é€£æ¥ï¼‰ã€‚ å¦‚æœæ‚¨ç¢ºå®šå¸Œæœ›æ‚¨çš„å¯¦ä¾‹ç›£è½æ‰€æœ‰æ¥å£ï¼Œè«‹è¨»é‡‹æ‰ä»¥ä¸‹è¡Œã€‚ æ­¤å¤–ï¼Œæ‚¨é‚„éœ€è¦è¨­å®šå¯†ç¢¼ï¼Œé™¤éæ‚¨é¡¯å¼ç¦ç”¨ä¿è­·æ¨¡å¼ã€‚   èª¿æ•´å¯†ç¢¼\nè¨­å®šå¥½å¾Œä¿å­˜ï¼Œä¸¦ä¸”é‡å•Ÿredisæœå‹™\næˆ‘ä¸çŸ¥é“ç‚ºå•¥é€™æŒ‡ä»¤éƒ½æ²’æœ‰ç”¨ï¼Œæœ€å¾Œæ˜¯ç”¨ redis-server redis.conf \u0026amp; æ‰æˆåŠŸé‡æ–°å•Ÿå‹•\n1  sudo systemctl restart redis   å¦‚æœä¸Šé¢é‚£å€‹ç„¡æ•ˆå°±ç”¨\n1  redis-server redis.conf \u0026amp;   ç„¶å¾Œè¼¸å…¥netstat -tuln | grep 6379ä¾†æŸ¥çœ‹æ˜¯å¦é‚„åœ¨é‹è¡Œ\n1  netstat -tuln | grep 6379   è¨­å®šé–‹æ©Ÿè‡ªå‹•å•Ÿå‹•redis\n1  sudo systemctl enable redis-server   å¯ä»¥å…ˆåœ¨linuxç’°å¢ƒæ¸¬è©¦çœ‹çœ‹èƒ½ä¸èƒ½é€£\n1  redis-cli -a Hoxton019030   å¦‚æœä¸€ç›´ä¸èƒ½é€£çš„è©±ï¼Œå¾ˆå¯èƒ½æ˜¯é‡æ–°å•Ÿå‹•çš„æ™‚å€™å‡ºå•é¡Œäº†ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹çš„æŒ‡ä»¤ä¾†å¼·åˆ¶é—œé–‰redisï¼Œç„¶å¾Œå†é‡æ–°å•Ÿå‹•\né—œé–‰redis\n1  redis-cli shutdown   æœ‰å¯èƒ½æœƒè¦ä½ æä¾›å¯†ç¢¼ï¼Œé€™æ™‚å€™é€™æ¨£æ‰“redis-cli é€²å…¥redisçµ‚ç«¯\n1  redis-cli   æ¥è‘—è¼¸å…¥\n1  AUTH \u0026lt;password\u0026gt;   é€™æ¨£å°±ä»£è¡¨èªè­‰okï¼Œæ¥ä¸‹ä¾†è¼¸å…¥ shutdownå°±å¯ä»¥äº†\n1  shutdown   æŸ¥çœ‹redisæ˜¯å¦é‚„åœ¨é‹è¡Œ\n1  netstat-tuln|grep6379   æŒ‡å®šå•Ÿå‹•redisï¼Œä¸¦ä¸”åœ¨èƒŒæ™¯åŸ·è¡Œ(\u0026amp;)\n1  redis-server redis.conf \u0026amp;   è¨˜å¾—Awsé˜²ç«ç‰†ä¹Ÿè¦æ‰“é–‹\næ¥è‘—å›åˆ°è‡ªå·±çš„é›»è…¦æ¸¬è©¦çœ‹çœ‹ï¼Œçœ‹èµ·ä¾†æ˜¯æ²’å•é¡Œçš„ï¼\nRedisçš„åŸºæœ¬è³‡æ–™å‹åˆ¥  String List Set Hash Stored Set  åŸºæœ¬æ“ä½œ é€£ç·šåˆ°é ç«¯çš„redis 1  redis-cli -h [host] -p [port]   é€²å»ä¹‹å¾Œå¯èƒ½æœƒè¦ä½ è¼¸å…¥å¯†ç¢¼ï¼Œä¸ç„¶ä¸èƒ½æ“ä½œ\n1  AUTH [Password]   è¨­ç½®key-vale 1  set Hello World   ä¾æ“škeyå–å‡ºvalue 1  get Hello   æŸ¥çœ‹ç›®å‰æœ‰å“ªäº›key 1  keys *   åˆªé™¤Key 1  DEL Hello   é—œé–‰æœå‹™ 1  shutdown   ä»‹ç´¹ åŸºæ–¼è¨˜æ†¶é«”é€²è¡Œå­˜å–ï¼Œæ”¯æŒkey-valueçš„å­˜å„²å½¢å¼ï¼Œæ˜¯ä½¿ç”¨Cèªè¨€ç·¨å¯«çš„ã€‚ç”±æ–¼æ˜¯key-valueçš„å½¢å¼ï¼Œçµæ§‹éå¸¸ç°¡å–®ï¼Œæ²’æœ‰æ•¸æ“šè¡¨çš„æ¦‚å¿µï¼Œç›´æ¥ç”¨éµå€¼å°å®Œæˆæ•¸æ“šçš„ç®¡ç†\nRedisæ”¯æŒ5ç¨®æ•¸æ“šé¡å‹\n  å­—ç¬¦ä¸²\n  åˆ—è¡¨\n  é›†åˆ\n  æœ‰åºé›†åˆ\n  å“ˆå¸Œï¼šä»¥\n{key:\nkey:value,\nkey:value\n}çš„å½¢å¼å­˜åœ¨\n  å¸¸è¦‹åè©è§£é‡‹ å¿«å­˜ç©¿é€(Cache Penetration) å‡è¨­æˆ‘å€‘åœ¨redisä¸­å¾è³‡æ–™åº«æš«å­˜äº†æ•¸æ“š1,2,3ï¼Œç•¶ç”¨æˆ¶ç´¢è¦é€™äº›è³‡æ–™æ™‚ï¼Œrediséƒ½èƒ½ç«‹åˆ»åæ‡‰ï¼Œåçµ¦ç”¨æˆ¶ã€‚ä½†ç•¶ç”¨æˆ¶ç´¢è¦æ•¸æ“š4æ™‚ï¼Œç”±æ–¼è³‡æ–™åº«æœ¬èº«æ²’æœ‰é€™ç­†è³‡æ–™ï¼Œredisç•¶ç„¶ä¹Ÿä¸æœƒæœ‰é€™ç­†è³‡æ–™ï¼Œæ‰€ä»¥è«‹æ±‚å°±ä¾†åˆ°äº†è³‡æ–™åº«ï¼Œä¸æ–·åœ°è·Ÿè¦ä¸€ç­†ä¸å­˜åœ¨çš„è³‡æ–™ï¼Œé€™å°±æ˜¯å¿«å–ç©¿é€ï¼Œç›¸é—œçš„è™•ç†å¯ä»¥æœå°‹å¸ƒæ—éæ¿¾å™¨ã€‚\nå¿«å–é›ªå´©(Cache Avalanche) Redisçš„ä¸€ç¾¤è³‡æ–™åŒæ™‚expireäº†ï¼Œæ­¤æ™‚åˆæœ‰ç”¨æˆ¶å¤§é‡è«‹æ±‚é€™äº›è³‡æ–™ï¼Œæ–¼æ˜¯å¤§é‡è«‹æ±‚é€²å…¥è³‡æ–™åº«ï¼Œé€ æˆè³‡æ–™åº«è² æ“”éå¤§\nèˆ‡SpringBootæ•´åˆ åŠ å…¥ç›¸é—œä¾è³´\n1 2 3 4 5 6 7 8 9 10 11 12 13  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-data-redis\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.commons\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-pool2\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;redis.clients\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jedis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.7.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;   é…ç½®ç›¸é—œçš„application.properties\n1 2 3 4 5  #redisé…ç½®æ–‡ä»¶ # redisæœ¬èº«å°±æ˜¯ä¸€å€‹Databaseçš„æ¦‚å¿µï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ†æˆä»€éº¼1,2,3è™Ÿæ•¸æ“šåº«ï¼Œå›ºå®šéƒ½æ˜¯0 spring.redis.database=0 spring.redis.host=localhost spring.redis.port=6379   æƒ³è¦å­˜é€²å»çš„è³‡æ–™è¦å¯¦ç¾Serializableçš„åŠŸèƒ½ï¼Œå› ç‚ºä½ çš„è³‡æ–™æ˜¯å­˜åœ¨è¨˜æ†¶é«”ç•¶ä¸­\nå°‡è³‡æ–™åŠ å…¥redisä¸­ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  package com.example.springbootinaction.controller; import com.example.springbootinaction.entity.User; import lombok.RequiredArgsConstructor; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.data.redis.core.RedisTemplate; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestBody; import org.springframework.web.bind.annotation.RestController; @RestController @RequiredArgsConstructor public class UserController { private final RedisTemplate\u0026lt;String,User\u0026gt; redisTemplate; @PostMapping(\u0026#34;user\u0026#34;) public void save(@RequestBody User user) { redisTemplate.opsForValue().set(\u0026#34;user\u0026#34;, user, 10L, TimeUnit.SECONDS); //é…ç½®åˆ°æœŸå–®ä½  } }   å…¶ä¸­opsForValueã€opsForHashã€opsForSet\u0026hellip;å…¶å¯¦å°±æ˜¯å°æ‡‰rediså­˜å–çš„äº”ç¨®è³‡æ–™é¡å‹\nç”±æ–¼å–®ä¾‹æ± ä¸­æ˜¯æ²’æœ‰RedisTemplate\u0026lt;String,User\u0026gt;é€™é¡†Beançš„(åªæœ‰RedisTemplateè€Œå·²)ï¼Œæ–¼æ˜¯æˆ‘å€‘è¦è‡ªå·±å‰µé€ ä¸€å€‹çµ¦ä»–\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  package com.example.springbootinaction.config; import com.example.springbootinaction.entity.User; import org.springframework.context.annotation.Bean; import org.springframework.data.redis.connection.RedisConnectionFactory; import org.springframework.data.redis.core.RedisTemplate; import org.springframework.stereotype.Component; @Component public class RedisConfig { @Bean public RedisTemplate\u0026lt;String, User\u0026gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) { RedisTemplate\u0026lt;String, User\u0026gt; template = new RedisTemplate\u0026lt;\u0026gt;(); template.setConnectionFactory(redisConnectionFactory); return template; } }   ä½¿ç”¨Postmanå°‡è³‡æ–™é€å‡ºå»\né€å‡ºå»ä¹‹å¾Œï¼Œåœ¨Terminalä¸­è¼¸å…¥\n1  get user   æœƒç™¼ç¾å–äº†å€‹å¯‚å¯ï¼Œç‚ºä»€éº¼å‘¢ï¼Ÿå› ç‚ºredisåœ¨å­˜é€²å»çš„æ™‚å€™ï¼ŒæœƒæŠŠæˆ‘å€‘çš„keyåšä¸€å€‹åºåˆ—åŒ–ï¼Œæœƒåœ¨æˆ‘å€‘çš„keynameå‰é¢å†åŠ ä¸Šä¸€ä¸²å­—ç¬¦\næ‰€ä»¥èªªè¦å–å¾—çš„è©±ï¼Œå°±æ˜¯è¦å†å°‡åºåˆ—åŒ–çš„å­—ç¬¦ä¸²åŠ ä¸Šå»ï¼Œå°±å–å¾—åˆ°äº†\nä¹‹æ‰€ä»¥è£¡é¢çš„è³‡æ–™çœ‹èµ·ä¾†åƒäº‚ç¢¼çš„åŸå› ï¼Œä¹Ÿæ˜¯å› ç‚ºé€™äº›è³‡æ–™ç¶“éäº†åºåˆ—åŒ–ï¼Œä¸éä¸ç”¨æ“”å¿ƒï¼Œæˆ‘å€‘åœ¨å–å‡ºä¾†çš„æ™‚å€™æœƒå†å¹«æˆ‘å€‘åšä¸€æ¬¡ååºåˆ—åŒ–çš„\nå¦‚æœå¸Œæœ›å¯ä»¥åœ¨redisè£¡é¢å¯ä»¥æ–¹ä¾¿é è¦½çš„è©±ï¼Œå¯ä»¥é…ç½®Serializerçµ¦RedisTemplateï¼Œè®Šæˆjsonæ ¼å¼\n1 2 3 4 5 6 7 8 9  @Bean public RedisTemplate\u0026lt;String, User\u0026gt; userRedisTemplate(RedisConnectionFactory redisConnectionFactory) { RedisTemplate\u0026lt;String, User\u0026gt; template = new RedisTemplate\u0026lt;\u0026gt;(); Jackson2JsonRedisSerializer\u0026lt;Object\u0026gt; objectJackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer\u0026lt;\u0026gt;(Object.class); //é…ç½®åºåˆ—åŒ–  template.setValueSerializer(objectJackson2JsonRedisSerializer); template.setConnectionFactory(redisConnectionFactory); return template; }   å°‡è³‡æ–™å¾redisä¸­å–å‡º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  package com.example.springbootinaction.controller; import com.example.springbootinaction.entity.User; import lombok.RequiredArgsConstructor; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.data.redis.core.RedisTemplate; import org.springframework.web.bind.annotation.*; @RestController @RequiredArgsConstructor @RequestMapping(\u0026#34;user\u0026#34;) public class UserController { private final RedisTemplate\u0026lt;String,User\u0026gt; redisTemplate; @PostMapping() public void save(@RequestBody User user) { redisTemplate.opsForValue().set(\u0026#34;user\u0026#34;, user); } @GetMapping(\u0026#34;{key}\u0026#34;) public User get(@PathVariable(\u0026#34;key\u0026#34;) String key){ return redisTemplate.opsForValue().get(key); } }   å°‡è³‡æ–™å¾redisä¸­åˆªé™¤ 1 2 3 4 5  @DeleteMapping(\u0026#34;delete/{key}\u0026#34;) public Boolean delete(@PathVariable(\u0026#34;key\u0026#34;) String key) { return redisTemplate.delete(key); } }   èˆ‡äº”ç¨®è³‡æ–™å‹åˆ¥å°æ‡‰çš„æ“ä½œ Valueçš„æ“ä½œ 1 2 3 4 5  @GetMapping(\u0026#34;atom\u0026#34;) public Long atom() { ValueOperations\u0026lt;String, Integer\u0026gt; count = intergerRedisTemplate.opsForValue(); return count.increment(\u0026#34;count\u0026#34;,1); }   è¨˜å¾—é…ç½®åºåˆ—åŒ–è¨­å®š\n1 2 3 4 5 6 7 8 9 10  @Bean public RedisTemplate\u0026lt;String, Integer\u0026gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) { RedisTemplate\u0026lt;String, Integer\u0026gt; template = new RedisTemplate\u0026lt;\u0026gt;(); GenericToStringSerializer\u0026lt;Integer\u0026gt; genericToStringSerializer = new GenericToStringSerializer\u0026lt;\u0026gt;(Integer.class); //é…ç½®åºåˆ—åŒ–  template.setValueSerializer(genericToStringSerializer); template.setConnectionFactory(redisConnectionFactory); return template; }   å¦‚æœä¸é…ç½®æœƒå‡ºç¾\n1  org.springframework.dao.InvalidDataAccessApiUsageException: ERR value is not an integer or out of range   çš„å•é¡Œï¼Œå°±æ˜¯å› ç‚ºåºåˆ—åŒ–çš„å•é¡Œ\nListçš„æ“ä½œ 1 2 3 4 5 6 7 8 9  @GetMapping(\u0026#34;list\u0026#34;) public List\u0026lt;User\u0026gt; listTest() { ListOperations\u0026lt;String, User\u0026gt; stringUserListOperations = redisTemplate.opsForList(); stringUserListOperations.leftPush(\u0026#34;list\u0026#34;, new User()); stringUserListOperations.leftPush(\u0026#34;list\u0026#34;, new User()); stringUserListOperations.leftPush(\u0026#34;list\u0026#34;, new User()); return stringUserListOperations.range(\u0026#34;list\u0026#34;, 0, 2); }   Setçš„æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  @GetMapping(\u0026#34;set\u0026#34;) public Set\u0026lt;User\u0026gt; setTest() { SetOperations\u0026lt;String, User\u0026gt; stringUserSetOperations = redisTemplate.opsForSet(); User hoxton = new User(); hoxton.setUsername(\u0026#34;Hoxton\u0026#34;); User yiwen = new User(); yiwen.setUsername(\u0026#34;Selime\u0026#34;); stringUserSetOperations.add(\u0026#34;set\u0026#34;, hoxton); stringUserSetOperations.add(\u0026#34;set\u0026#34;, hoxton); stringUserSetOperations.add(\u0026#34;set\u0026#34;, yiwen); stringUserSetOperations.add(\u0026#34;set\u0026#34;, yiwen); Set\u0026lt;User\u0026gt; set = stringUserSetOperations.members(\u0026#34;set\u0026#34;); return set; }   æœ‰åºSetçš„æ“ä½œ å¡é€²å»çš„æ™‚å€™æ˜¯312ï¼Œå–å‡ºä¾†çš„æ™‚å€™æ˜¯123\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  @GetMapping(\u0026#34;zset\u0026#34;) public Set\u0026lt;User\u0026gt; zSetTest() { ZSetOperations\u0026lt;String, User\u0026gt; stringUserZSetOperations = redisTemplate.opsForZSet(); User hoxton1 = new User(); hoxton1.setUsername(\u0026#34;Hoxton\u0026#34;); hoxton1.setId(1L); User hoxton2 = new User(); hoxton2.setUsername(\u0026#34;Hoxton\u0026#34;); hoxton2.setId(2L); User hoxton3 = new User(); hoxton3.setUsername(\u0026#34;Hoxton\u0026#34;); hoxton3.setId(3L); stringUserZSetOperations.add(\u0026#34;zset\u0026#34;, hoxton3, 3); stringUserZSetOperations.add(\u0026#34;zset\u0026#34;, hoxton1, 1); stringUserZSetOperations.add(\u0026#34;zset\u0026#34;, hoxton2, 2); Set\u0026lt;User\u0026gt; zset = stringUserZSetOperations.range(\u0026#34;zset\u0026#34;, 0, 2); return zset; }   å“ˆå¸Œ 1 2 3 4 5 6 7  @GetMapping(\u0026#34;hash\u0026#34;) public User hashTest() { HashOperations\u0026lt;String, Object, User\u0026gt; hash = redisTemplate.opsForHash(); hash.put(\u0026#34;key\u0026#34;, \u0026#34;hashkey\u0026#34;, new User(1L)); return hash.get(\u0026#34;key\u0026#34;, \u0026#34;hashkey\u0026#34;); }   é‡åˆ°çš„å•é¡Œ é…ç½®å¿«å–å¾Œï¼Œå‡ºç¾java.lang.ClassCastException è§£æ±ºæ–¹å¼ï¼š\nå•é¡Œçš„åŸå› æ˜¯å› ç‚ºredisä¸­çš„é¡è½‰æ›æ©Ÿåˆ¶èˆ‡SpringBootä¸­ä¸åŒï¼Œæ›è¨€ä¹‹å…©é‚Šçš„è¦å°å¾—èµ·ä¾†\nç›¸é—œçš„é…ç½®å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  private Jackson2JsonRedisSerializer\u0026lt;Object\u0026gt; objectJackson2JsonRedisSerializer() { Jackson2JsonRedisSerializer\u0026lt;Object\u0026gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer\u0026lt;\u0026gt;(Object.class); ObjectMapper objectMapper = new ObjectMapper(); objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); objectMapper.configure(MapperFeature.USE_ANNOTATIONS, false); objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false); // æ­¤é¡¹å¿…é¡»é…ç½®ï¼Œå¦åˆ™ä¼šæŠ¥java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to XXX  objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY); objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL); jackson2JsonRedisSerializer.setObjectMapper(objectMapper); return jackson2JsonRedisSerializer; } /** * å°‡redisè·ŸSpringBootåšçµåˆ * * @param redisConnectionFactory * @return */ @Bean public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) { Jackson2JsonRedisSerializer\u0026lt;Object\u0026gt; objectJackson2JsonRedisSerializer = objectJackson2JsonRedisSerializer(); RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration. defaultCacheConfig(). entryTtl(Duration.ofHours(1)) .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(objectJackson2JsonRedisSerializer)); return RedisCacheManager.builder(RedisCacheWriter.nonLockingRedisCacheWriter(redisConnectionFactory)) .cacheDefaults(redisCacheConfiguration).build(); }   åƒè€ƒè³‡æ–™ ã€è¶£è¯Redisç¬¬ä¸€å¼¹ã€‘æˆ‘æ˜¯Redisï¼ŒMySQLå¤§å“¥è¢«æˆ‘å‘æƒ¨äº†ï¼\n","date":"2023-09-07T09:32:15+08:00","image":"https://i.imgur.com/hW7HRS8.png","permalink":"https://hoxtoncraft.com/p/redis%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Rediså­¸ç¿’ç­†è¨˜"},{"content":"å‰è¨€ å‰é™£å­ç²¾èŸ²è¡è…¦è³¼è²·äº†Macbookï¼Œä½¿ç”¨èµ·ä¾†å¯ä»¥èªªæ˜¯ç—›è‹¦ä¸¦ç—›è‹¦çš„æ„Ÿè¦ºã€‚ä½†åœ¨é€™æ®µæœŸé–“çš„æ‘¸ç´¢ä¸­ï¼Œæˆ‘ç¢ºå¯¦æœ‰æ„Ÿå—åˆ°Macbookç³»çµ±æŸæ–¹é¢çš„å¥½è™•(å…¶å¯¦æ ¹æœ¬æ²’æœ‰)ï¼Œä¹Ÿè©¦è‘—å»å°‡macbookèª¿æ•™æˆå–œæ­¡çš„æ¨¡æ¨£(å…¶å¯¦å°±æ˜¯windowsçš„æ¨£å­)ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æˆ‘èªç‚ºå¿…è£ï¼Œä¸è£å‰‡æ ¹æœ¬æ²’è¾¦æ³•ç”¨çš„æ’ä»¶ï¼Œæœ‰äº›æ˜¯è¦ä»˜è²»çš„ï¼Œä½†åƒ¹æ ¼å¤§ç´„è½åœ¨300ä¹‹é–“ï¼Œæˆ‘èªç‚ºæ˜¯å€¼å¾—çš„ã€‚\nRayCast RayCastçš„å¥½ï¼Œç”¨éçš„éƒ½çŸ¥é“ï¼Œå¯ä»¥æ¯”è¼ƒç²—ç•¥åœ°èªç‚ºå®ƒå°±æ˜¯ä¸€å€‹æ›´å¼·å¤§çš„spotlightï¼ŒåŸå…ˆçš„spotlightæ›´åƒæ˜¯ä¸€å€‹æ‡‰ç”¨ç¨‹å¼ä»¥åŠè¨­å®šçš„å¿«é€Ÿå…¥å£ï¼Œä½†RayCastå‰‡æ˜¯å°‡æ›´å¤šçš„åŠŸèƒ½æ‰“åŒ…é€²ä¾†ï¼Œé€™äº›åŠŸèƒ½åŒ…æ‹¬ä½†ä¸é™æ–¼\n å‰ªè²¼ç°¿ ç•«é¢åˆ†å‰² è§£é™¤å®‰è£ç¨‹å¼ æœå°‹Gifï¼Œè²¼çµ¦åŒäº‹ å¿«é€Ÿä½¿ç”¨googleæœå°‹  å‰ªè²¼ç°¿åŠŸèƒ½ å‰ªè²¼ç°¿æ˜¯æˆ‘æœ€æ—©éœ€è¦ï¼Œè€Œæ¥è§¸Raycastçš„åŠŸèƒ½ï¼Œå› ç‚ºåœ¨æ—¥å¸¸è¾¦å…¬ä¸­ï¼Œæˆ‘å¸¸å¸¸éœ€è¦è¤‡è£½é‡è¤‡æ€§çš„æ±è¥¿ä¾†åšä¸€äº›é©—è­‰é¡äº‹æƒ…ï¼Œæœ€æ—©çš„æ™‚å€™ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ä¸€å€‹å«clipBroadçš„æ’ä»¶ï¼Œä½†ä½¿ç”¨ä¸€æ®µæ™‚é–“ä¹‹å¾Œé‚„æ˜¯è¦ºå¾—é‚£å€‹æ’ä»¶åŠŸèƒ½å¤ªçˆ›äº†ï¼Œå¾Œä¾†ä½¿ç”¨Raycastä¹‹å¾Œï¼Œç™¼ç¾Raycastå¹¾ä¹å¯¦ç¾äº†æˆ‘åœ¨Windowsä¸Šçš„é«”é©—ï¼Œç”šè‡³è¶…è¶ŠWindows\næˆ‘åœ¨Raycastä¸­å°‡å‰ªè²¼ç°¿çš„å¿«æ·éµè¨­ç½®æˆOption+Vï¼Œæ„åœ–å°±åœ¨æ¨¡ä»¿windowså¿«æ·éµçš„ä½ç½®ï¼ŒRayCastçš„å‰ªè²¼ç°¿èƒ½å¤ å„²å­˜åœ–ç‰‡ï¼Œæ–‡å­—ï¼Œä¸¦ä¸”åœ–ç‰‡ä¹Ÿæ”¯æ´é è¦½ï¼Œæ–‡å­—ä¹Ÿå¯ä»¥åœ¨ä¸Šé¢é€²è¡Œè¤‡è£½ï¼Œä¹Ÿå¯ä»¥é€éä¸Šé¢çš„æœå°‹ï¼Œä¾†å°‹æ‰¾æƒ³è¦æ‰¾åˆ°çš„å…§å®¹ï¼Œæ¯”å¦‚èªªåœ–ç‰‡çš„åç¨±ï¼Œè¤‡è£½æ–‡å­—çš„å…§å®¹ç­‰ç­‰ï¼Œéƒ½å¯ä»¥åœ¨é€™é‚Šæ‰¾åˆ°\nç•«é¢åˆ†å‰² ç•«é¢åˆ†å‰²åŠŸèƒ½ä¹Ÿæ˜¯æˆ‘å¸¸ç”¨çš„ä¸€å€‹åŠŸèƒ½ï¼Œæœ€æ—©çš„æ™‚å€™æˆ‘æ˜¯ä½¿ç”¨ä¸€å€‹å«Rectangleçš„æ’ä»¶ï¼Œé‚£å€‹æ’ä»¶å…¶å¯¦ä¹Ÿæ²’ä»€éº¼å•é¡Œï¼Œä½†å°±æ˜¯Raycastä¹Ÿèƒ½åšåˆ°ï¼Œé‚£å°±çµ±ä¸€åœ¨RayCastä¸Šåšè™•ç†äº†\næˆ‘ä¸»è¦å°±æ˜¯è¨­å®šæˆï¼Œé å·¦ã€é å³ã€é ä¸Šã€é ä¸‹ã€å…¨è¢å¹•\nè§£é™¤å®‰è£ç¨‹å¼ ï¼­acbookæœ¬èº«çš„è§£é™¤å®‰è£ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼æœ‰æ™‚å€™å°±æ˜¯æœƒæœ‰ä¸€äº›æ±è¥¿åˆªä¸æ‰ï¼Œå¸¸å¸¸å›°æ“¾æˆ‘ï¼Œå¾Œä¾†åœ¨RayCastä¸­ä¹Ÿæœ‰æä¾›é¡ä¼¼ä¸€éµåˆªé™¤çš„åŠŸèƒ½ï¼Œè‘—å¯¦è®“æˆ‘æ–¹ä¾¿å¾ˆå¤š\nå¿«é€Ÿæœå°‹Gif é€™åŠŸèƒ½å…¶å¯¦ä¸æ˜¯Raycastå…§å»ºçš„ï¼Œè€Œæ˜¯RayCastçš„å·¥ä½œåŠæä¾›çš„åŠŸèƒ½\næœƒç‰¹åˆ¥ä»‹ç´¹é€™å€‹åŠŸèƒ½ï¼Œæ˜¯å› ç‚ºä¹‹å‰å·¥ä½œæ™‚ï¼Œå·¥ä½œæ—¥èªŒçš„éƒ¨åˆ†æˆ‘å€‘éƒ½æœƒé…ä¸Šä¸€å€‹æœ‰è¶£çš„Gifï¼Œä¾†è®“æ™¨æœƒé–‹å¿ƒä¸€é»ï¼Œæ‰€ä»¥é€™åŠŸèƒ½æˆ‘ä¹Ÿå¾ˆéœ€è¦ï¼Œå“ˆå“ˆ\nå¿«é€Ÿä½¿ç”¨Googleæœå°‹ RayCastä¸­æœ‰ä¸€å€‹å«åšQuickLinkçš„åŠŸèƒ½ï¼Œç°¡è€Œè¨€ä¹‹å°±æ˜¯å¯ä»¥ç›´æ¥åœ¨RayCastä¸­æœå°‹ç‰¹å®šç¶²åŸŸçš„å…§å®¹ï¼Œç›´æ¥çœ‹åœ–ç‰‡æœƒæ¯”è¼ƒå¿«ä¸€é»\nä½†é€™åŠŸèƒ½è€å¯¦èªªæˆ‘æ¯”è¼ƒå°‘ç”¨å°±æ˜¯äº†\niShot iShotæ˜¯ä¸€å€‹æˆªåœ–åŠŸèƒ½çš„æ’ä»¶ï¼Œæœ‰åˆ†ä»˜è²»ç‰ˆè·Ÿå…è²»ç‰ˆï¼Œä»˜è²»ç‰ˆçš„åƒ¹éŒ¢æˆ‘è¨˜å¾—æ˜¯$320å¥½åƒå¤šå…©å€‹åŠŸèƒ½\n å°åœ–ç‰‡åšOCRè¾¨è­˜ æ»¾å‹•æˆªåœ–ä¸æœƒæœ‰æµ®æ°´å°  é€™æ˜¯æˆ‘ç›®å‰ç”¨éæœ€èˆ’æœçš„æˆªåœ–æ’ä»¶äº†ï¼Œä»–çš„åŠŸèƒ½åŒ…æ‹¬ä½†ä¸é™æ–¼\n æˆªåœ– æ»¾å‹•æˆªåœ– å°æˆªä¸‹ä¾†çš„åœ–ç‰‡åšç«‹åˆ»çš„ç·¨è¼¯ é‡˜é¸åœ–ç‰‡è‡³æ¡Œé¢ å°åœ–ç‰‡åšOCRå½±åƒè¾¨è­˜ éŒ„è£½Gif  åœ¨å·¥ä½œä¸­ï¼Œæˆ‘å¸¸å¸¸éœ€è¦å›è¦†ä¸€äº›å•é¡Œçµ¦åŒäº‹ï¼Œè«‹åŒäº‹è™•ç†ï¼Œæœ‰æ™‚å€™ç”¨æ–‡å­—æè¿°åˆå¾ˆéº»ç…©ï¼Œé€™æ™‚å€™æˆ‘æœƒå¾ˆéœ€è¦ç”¨Gifçš„åŠŸèƒ½ï¼Œåœ¨ä¹‹å‰ï¼Œæˆ‘æ˜¯ä½¿ç”¨ä¸€å€‹å«åšLIceCapçš„æ’ä»¶å®Œæˆï¼Œé€™æ’ä»¶ä¹Ÿæ²’å•¥å•é¡Œï¼Œç¼ºé»å°±æ˜¯å¤ªæ…¢äº†ï¼Œæˆ‘éœ€è¦å…ˆæŠŠé‚Šæ¡†æ‹‰å‡ºä¾†ï¼Œç„¶å¾Œå­˜åˆ°æ¡Œé¢ï¼Œæˆ‘æ¥è‘—å†å»æ¡Œé¢è¤‡è£½ä¸‹ä¾†è²¼ä¸Šï¼ŒçœŸçš„å¤ªæ…¢äº†ï¼Œæˆ‘å¾Œä¾†æ‰¾åˆ°çš„é€™å€‹æ’ä»¶ï¼Œå¯ä»¥è®“æˆ‘éŒ„è£½Gifå°±åƒæˆªåœ–ä¸€æ¨£çš„ä¾¿æ·å¿«é€Ÿ\nè€Œæˆªåœ–çš„ç•¶ä¸‹ä¹Ÿèƒ½ç«‹åˆ»å°åœ–ç‰‡ç·¨è¼¯ï¼Œä¸éœ€è¦å†æ‹‰ä¸€å€‹é¡å¤–çš„è¦–çª—å‡ºä¾†ï¼Œé€™åŠŸèƒ½ä¹Ÿæ·±å¾—æˆ‘å¿ƒ\nåº•ä¸‹ä¹Ÿæœ‰äº›ä¸åŒçš„åŠŸèƒ½ï¼Œæ¯”å¦‚èªªéƒ½éå¸¸çš„å¯¦ç”¨ï¼Œ$320çœŸçš„æ˜¯éå¸¸çš„ç‰©è¶…æ‰€å€¼\nï¼­ission Control Mission Control æ™®æ‹‰æ–¯ï¼Œé¡§åæ€ç¾©ï¼Œä»–å°±åªæ˜¯åœ¨Macå…§å»ºçš„ä»»å‹™ç®¡ç†åŠŸèƒ½ä¸Šå¤šä¸€å€‹åŠŸèƒ½ï¼Œä»€éº¼åŠŸèƒ½å‘¢ï¼Ÿä½ å¯ä»¥ç›´æ¥åœ¨MIssion Controlçš„é é¢ä¸ŠæŠŠé é¢é—œæ‰\u0026hellip;ï¼Œæˆ–æ˜¯ç”¨command+wä¾†é—œæ‰ç¨‹å¼ï¼Œå°ï¼Œå°±æ˜¯ä¸€å€‹é€™éº¼åŸºæœ¬çš„åŠŸèƒ½ï¼Œæˆ‘ä¸çŸ¥é“ç‚ºä»€éº¼Macå±…ç„¶æ²’æœ‰åšï¼Œå®ƒç”¨èµ·ä¾†çš„æ¨£å­å°±åƒé€™æ¨£ï¼Œé›–ç„¶çœ‹èµ·ä¾†å¾ˆå»¢ï¼Œä½†é€™å€‹åŠŸèƒ½æˆ‘å¹¾ä¹æ¯äº”åˆ†é˜å°±æœƒç”¨åˆ°ä¸€æ¬¡ï¼Œæˆ‘è¨˜å¾—é€™å€‹æ±è¥¿åƒ¹éŒ¢ä¹Ÿæ˜¯300ï¼Œéå¸¸çš„\u0026hellip;ç‰©è¶…æ‰€å€¼\nAltTab é€™å€‹åŠŸèƒ½æ˜¯ç‚ºäº†è§£æ±ºä¸€å€‹å•é¡Œï¼Œå°±æ˜¯MacBookçš„æ›¿æ›é é¢çš„é‚è¼¯å¯¦åœ¨ä¸å¤ªç¬¦åˆæˆ‘è‡ªå·±çš„ä½¿ç”¨æƒ…æ³ï¼Œèˆ‰ä¾‹èªªæˆ‘ç›®å‰é–‹å…©å€‹IntelliJçš„ç•«é¢ï¼Œé€™æ™‚å€™æˆ‘å·¦é‚Šçš„è¢å¹•æƒ³è¦æŸ¥ä¸€ä¸‹è³‡æ–™ï¼ŒæŒ‰äº†ä¸€ä¸‹Alt+Tabä¹‹å¾Œï¼Œå™¹å™¹ï¼Œæˆ‘çš„ä¸»è¢å¹•é‚„æœ‰å‰¯è¢å¹•å…¨éƒ¨éƒ½è·³æˆGoogleé é¢äº†\næ–¼æ˜¯æˆ‘éœ€è¦ä¸€å€‹å¯ä»¥å€‹åˆ¥æ§åˆ¶AltTabåŠŸèƒ½çš„æ’ä»¶ï¼Œè€Œé€™å€‹æ’ä»¶å°±æ˜¯ç‚ºäº†è™•ç†é€™ä»¶äº‹æƒ…è€Œç”Ÿçš„ï¼Œå®‰è£å¥½å¾Œï¼Œä½ çš„Alt+Tabå°±æœƒè®Šæˆé€™æ¨£çš„ç•«é¢\nåŸºæœ¬ä¸Šå°±æ˜¯windowçš„é‚£å¥—é‚è¼¯æ¬éä¾†ç”¨ï¼Œä¸¦ä¸”ä½ å¯ä»¥åœ¨é€™å€‹ç•«é¢ä¸­ï¼Œç›´æ¥Quitæ‰æ•´å€‹Appï¼Œå°æ–¼æˆ‘é€™ç¨®å¯¦åœ¨ä¸ç¿’æ…£çœ‹åˆ°å¾ˆå¤šAppå‡ºç¾åœ¨ç•«é¢ä¸­çš„äººï¼Œéå¸¸æ–¹ä¾¿ï¼Œä¸¦ä¸”ä½ ä¹Ÿå¯ä»¥Hoveråˆ°åœ–æ¨™ä¸Šï¼ŒæŒ‰ä¸‹command+wï¼Œæˆ–æ˜¯commnad+qï¼Œç›´æ¥é—œé–‰ã€çµ‚æ­¢æ‰æ•´å€‹ç¨‹å¼çš„é‹è¡Œ\niBar åœ¨ä»‹ç´¹å®Œäº†é€™éº¼å¤šæ’ä»¶ï¼ŒM1ã€M2ç”¨æˆ¶æœ€æ“”å¿ƒçš„æ‡‰è©²å°±æ˜¯è£äº†é‚£éº¼å¤šæ’ä»¶ï¼Œæˆ‘çš„meun barå¯ä»¥é¡¯ç¤ºå—ï¼Ÿæ²’éŒ¯ï¼Œå•å°±æ˜¯ä¸è¡Œï¼Œé€™å•é¡Œå®˜æ–¹é›–ç„¶æœ‰å‡ºä¸€å€‹è§£æ±ºæ–¹æ¡ˆï¼Œä½†é‚„æ˜¯æ²’è¾¦æ³•æœ‰æ•ˆçš„è§£æ±ºæˆ‘çš„å•é¡Œï¼Œåœ¨é€™ä¹‹å‰æˆ‘æ˜¯ç”¨ä¸€å€‹å«åšhidden barçš„æ±è¥¿ï¼Œä½†ç”¨äº†ä¸€æ®µæ™‚é–“ä¹‹å¾Œç™¼ç¾ä»–é‚„æ˜¯è§£æ±ºä¸äº†ä»€éº¼å•é¡Œï¼Œä»–åªæ˜¯æŠŠåœ–æ¨™ç¸®åœ¨ä¸€èµ·ï¼Œç•¶å±•é–‹çš„æ™‚å€™é‚„æ˜¯æœƒè¢«ç€æµ·çµ¦åƒåˆ°ï¼Œå¾Œä¾†åœ¨iShotåŒå…¬å¸çš„ç¶²é ä¸Šï¼Œæ‰¾åˆ°äº†é€™å€‹Appï¼Œä¹Ÿæ˜¯å®Œç¾çš„è§£æ±ºäº†æˆ‘æƒ³è¦è™•ç†çš„å•é¡Œ\nåœ¨ä½¿ç”¨éå¾Œï¼Œä½ å¯ä»¥å°‡ä¸å¸Œæœ›é•·é§é¡¯ç¤ºçš„App æŠ˜ç–Šåœ¨é€™å€‹åœ°æ–¹è£¡é¢ï¼Œé€™æ¨£å°±ä¸æœƒè¢«ç€æµ·(Notch)çµ¦é®æ“‹ä½äº†\nçµå°¾ ä»¥ä¸Šæ˜¯æˆ‘å°Macbookå¯¦ç”¨æ’ä»¶çš„ä¸€å€‹ä»‹ç´¹ï¼Œå¦‚æœæœ‰è¦ºå¾—ä¸éŒ¯çš„æ’ä»¶ï¼Œä¹Ÿæ­¡è¿ä»‹ç´¹çµ¦æˆ‘ï¼Œè¬è¬å¤§å®¶\n","date":"2023-08-31T10:19:14+08:00","image":"https://i.imgur.com/ezUyxYS.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E8%AE%93mac%E7%9A%84%E4%BD%BF%E7%94%A8%E9%AB%94%E9%A9%97%E6%9B%B4%E5%8A%A0%E7%B5%B2%E6%BB%91%E6%88%91%E7%9A%84mac%E5%AF%A6%E7%94%A8%E6%8F%92%E4%BB%B6%E4%BB%8B%E7%B4%B9/","title":"å¦‚ä½•è®“Macçš„ä½¿ç”¨é«”é©—æ›´åŠ çµ²æ»‘ï¼Œæˆ‘çš„Macå¯¦ç”¨æ’ä»¶ä»‹ç´¹"},{"content":" é€™é™£å­åˆ°ä¿å“¥çš„å…¬å¸ï¼Œéè‘—å¤©å¤©è¢«æ´—è‡‰çš„æ—¥å­ï¼Œ\næœ€è¿‘æ´¾çµ¦äº†ä¸€å€‹æ‰¹æ¬¡æª”çš„åŠŸèƒ½ç¿»æ–°ï¼Œä¸»è¦æ˜¯å°‡æª”æ¡ˆå¾æœ¬åœ°ä¸Šå‚³åˆ°FTPæˆ–æ˜¯å°‡æª”æ¡ˆå¾FTPä¸‹è¼‰ä¸‹ä¾†çš„åŠŸèƒ½ï¼Œè¶è‘—æœ€è¿‘ä¾†ç·´ç¿’ä¸€ä¸‹Javaç›¸é—œçš„FTPå¥—ä»¶ï¼Œåœ¨ç·´ç¿’çš„æ™‚å€™ç™¼ç¾ä¸çŸ¥é“ç‚ºä»€éº¼ï¼Œæª”æ¡ˆä¸Šå‚³æ°¸é éƒ½æ˜¯return Falseï¼ŒæŠŠéŒ¯èª¤è¨Šæ¯æ‰“å°å‡ºä¾†å¾Œï¼Œç™¼ç¾ä¸€ç›´çœ‹åˆ°\nFTP 550 No such file or directoryçš„éŒ¯èª¤\n ç¶²è·¯ä¸ŠæŸ¥äº†å¾ˆå¤šæ±è¥¿ï¼Œæœ‰äººèªªæŠŠftpClientè¨­æˆenterLocalPassiveModeï¼Œé‚„æœ‰setFileType(FTP.BINARY_FILE_TYPE)ç­‰ç­‰çš„å•é¡Œï¼Œä½†é€™äº›æˆ‘éƒ½æœ‰è¨­ã€‚\nå¾Œä¾†çœŸçš„æ²’è¾¦æ³•ï¼Œéš¨ä¾¿äº‚èª¿ï¼Œèª¿å®Œä¹‹å¾Œç™¼ç¾æ˜¯æª”æ¡ˆåç¨±çš„å•é¡Œï¼Œæ²’éŒ¯çš„ï¼Œé€™ä¸€æ¬¡åˆæ˜¯å› ç‚ºæª”æ¡ˆåç¨±æ˜¯ä¸­æ–‡çš„é—œä¿‚ï¼Œæ‰€å°è‡´çš„éŒ¯èª¤ï¼Œåªè¦å°‡æª”æ¡ˆåç¨±çš„ä¸­æ–‡å»æ‰å°±å¯ä»¥å›‰ï¼\n","date":"2023-08-17T22:03:06+08:00","image":"https://i.imgur.com/Zm0Sn6B.jpg","permalink":"https://hoxtoncraft.com/p/%E4%BD%BF%E7%94%A8apache%E7%9A%84ftp%E5%A5%97%E4%BB%B6storefile%E4%B8%80%E7%9B%B4%E5%9B%9E%E5%82%B3550%E7%9A%84%E5%95%8F%E9%A1%8C%E8%A9%B2%E8%A7%A3%E6%B1%BA/","title":"ä½¿ç”¨Apacheçš„FTPå¥—ä»¶ï¼ŒstoreFile()ä¸€ç›´å›å‚³550çš„å•é¡Œè©²è§£æ±º"},{"content":"é½Šæ¬¡æ–¹ç¨‹(Homogenous Function)  ç•¶å‡½æ•¸ä¸­çš„è‡ªè®Šæ•¸è®Šå‹•ä¸€å€‹å€æ•¸ï¼Œæ•´å€‹å‡½æ•¸å¯ä»¥æ•´ç†ç‚ºè©²å€æ•¸çš„æŸå€‹æ¬¡æ–¹å€ï¼Œæ­¤å‡½æ•¸å³ç‚ºé½Šæ¬¡å‡½æ•¸ï¼Œè€Œå‰›å‰›èªªçš„æ¬¡æ–¹ï¼Œå°±æœƒç¨±ç‚ºé€™å€‹é½Šæ¬¡å‡½æ•¸ä¹‹éšæ•¸ã€‚\nåˆ¤æ–·ä¸€å€‹çµ¦å®šçš„å‡½æ•¸æ˜¯å¦ç‚ºé½Šæ¬¡å‡½æ•¸ï¼Œå”¯ä¸€çš„æ–¹æ³•å°±æ˜¯ï¼Œã€Œå°‡è‡ªè®Šæ•¸è®Šå‹•ä¸€å€‹å€æ•¸ï¼Œçœ‹çœ‹æ•´å€‹å‡½æ•¸å€¼æœƒä¸æœƒè®Šå‹•é‚£å€‹å€æ•¸çš„æŸå€‹æ¬¡æ–¹å€ã€ï¼Œæœƒï¼Œé‚£é€™å€‹å‡½æ•¸å°±æ˜¯é½Šæ¬¡å‡½æ•¸ï¼Œä¸æœƒï¼Œé‚£ä»–å°±ä¸æ˜¯é½Šæ¬¡å‡½æ•¸äº†ï¼\n çµ¦ä¸€æ–¹ç¨‹\nAx=b\nè‹¥bç­‰æ–¼0ï¼Œå‰‡ç¨±ç‚ºé½Šæ¬¡æ–¹ç¨‹çµ„ï¼Œå¦å‰‡ç¨±ç‚ºéé½Šæ¬¡(nonhomogeneous)ï¼Œå› æ­¤é½Šæ¬¡æ–¹ç¨‹ä½¿æœ‰é›¶è§£(å°±æ˜¯æ‰€æœ‰æœªçŸ¥æ•¸éƒ½ä»£0é€²å»å°±æœ‰è§£äº†)\nç·šæ€§ç¨ç«‹/ç·šæ€§ç›¸ä¾ ä½•è¬‚ç·šæ€§ç¨ç«‹/ç·šæ€§ç›¸ä¾ï¼Œé½Šæ¬¡æ–¹ç¨‹åªæœ‰é›¶è§£çš„æƒ…æ³ï¼Œå³ç‚ºç·šæ€§ç„¡é—œï¼Œè‹¥å­˜åœ¨éé›¶è§£ï¼Œå‰‡ç‚ºç·šæ€§ç›¸é—œã€‚\nç·šæ€§ç›¸é—œ-\u0026gt;é½Šæ¬¡æ–¹ç¨‹æœ‰éé›¶è§£-\u0026gt;è¡Œåˆ—å¼ç‚º0 ç·šæ€§ç„¡é—œ-\u0026gt;å…¶æ¬¡æ–¹ç¨‹åªæœ‰é›¶è§£-\u0026gt;è¡Œåˆ—å¼ä¸ç‚º0\nè‹¥\n$$ k_{1}a_{1}+k_{2}a_{2}=0 \\\\\nA=(a_{1} a_{2}) =\\begin{bmatrix} 2 \u0026amp; 1 \\\n1 \u0026amp; 2 \\\n\\end{bmatrix} $$\nè‹¥èƒ½æ‰¾åˆ°ä¸ç‚ºé›¶çš„k1,k2(åªè¦æœ‰ä¸€å€‹ä¸ç‚ºé›¶å°±å¯ä»¥)ï¼Œå‰‡ç‚ºç·šæ€§ç›¸é—œã€‚è‹¥åªæœ‰0çš„è©±å°±æ˜¯ç·šæ€§ç„¡é—œã€‚ å…¶å¹¾ä½•æ„ç¾©åœ¨æ–¼ï¼Œæ˜¯å¦èƒ½é€éç·šæ€§çš„å»¶ä¼¸ã€å£“ç¸®ï¼Œèˆ‡å…¶ä»–çš„ç·šæ€§ç›¸åŠ èµ·ä¾†ï¼Œçµ„åˆå‡º0å‘é‡ã€‚\nå…©å€‹å¹³é¢å‘é‡ï¼Œè‹¥ç·šæ€§ç„¡é—œå‰‡ä¸å…±ç·š\nå…©å€‹å¹³é¢å‘é‡ï¼Œè‹¥ç·šæ€§ç›¸é—œå‰‡å…±ç·š\né¤˜å› å­ ","date":"2023-08-07T12:36:49+08:00","image":"https://i.imgur.com/sHKwuek.png","permalink":"https://hoxtoncraft.com/p/%E4%B8%80%E4%BA%9B%E9%97%9C%E6%96%BC%E7%B7%9A%E6%80%A7%E4%BB%A3%E6%95%B8%E7%9A%84trivial/","title":"ä¸€äº›é—œæ–¼ç·šæ€§ä»£æ•¸çš„Trivial"},{"content":"å‰é™£å­è¢«å…¬å¸æŠ“å»ç•¶äº†QAï¼Œä¸å¾—ä¸èªªQAçœŸçš„å¾ˆç„¡èŠï¼Œå°±æ˜¯ä¸€ç›´åœ¨æŒ‰ä¸€äº›buttonï¼Œå¤§æ¦‚å°±æ˜¯ä¸€äº›é‡è¤‡æ€§é«˜ï¼Œåˆæ²’ä»€éº¼ç”¢å€¼çš„å·¥ä½œï¼Œå‰›å¥½æƒ³åˆ°ä¹‹å‰åœ¨å‰å‰å…¬å¸æœ‰è½éSeleniumé€™å€‹æ±è¥¿ï¼Œæ–¼æ˜¯ä¾†ç ”ç©¶ä¸€ä¸‹ã€‚\nä»‹ç´¹ å¯ä»¥å…ˆçœ‹ä¸€ä¸‹åº•ä¸‹çš„gifï¼Œå°±å¯ä»¥æ›´äº†è§£seleniumçš„ä½œç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  import time from selenium import webdriver from selenium.webdriver import Keys from selenium.webdriver.common.by import By options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.google.com/\u0026#39;) search = driver.find_element(By.NAME, \u0026#39;q\u0026#39;) search.send_keys(\u0026#39;æ­¦å¶º\u0026#39;) search.send_keys(Keys.ENTER) time.sleep(100)   é€™é‚Šé€™æ®µç¨‹å¼ï¼Œå°±æ˜¯æŒ‡\nç„¶å¾ŒChromeå°±æœƒè‡ªå·±å‹•èµ·ä¾†äº†ã€‚æœ‰æ™‚å€™æˆ‘å€‘å¯èƒ½éœ€è¦æŸäº›ç¶²ç«™çš„è³‡è¨Šï¼Œä½†å®ƒæœ¬èº«ä¸æ˜¯èµ°å‰å¾Œç«¯åˆ†é›¢ï¼Œè³‡è¨Šéƒ½æ˜¯é€ésessionã€cookieä¾†å‚³éï¼Œè€Œä¸æ˜¯jsonï¼Œåƒé€™ç¨®æƒ…æ³ï¼Œå¦‚æœå°é€Ÿåº¦æ²’æœ‰ç‰¹åˆ¥çš„è¦æ±‚ï¼Œå°±å¯ä»¥ä½¿ç”¨Seleniumä¾†è™•ç†ã€‚æ¥è‘—æˆ‘å€‘å°±ä»¥104ç¶²é çš„çˆ¬èŸ²ç‚ºç¯„ä¾‹ï¼Œç¤ºç¯„çœ‹çœ‹Seleniumä½¿ç”¨\nå®‰è£ è€æ¨£å­ï¼Œä½¿ç”¨Anaconda\n å‰µå»ºcondaç’°å¢ƒ  1  conda create --name selenium python=3.9 -y   é€²å…¥ç’°å¢ƒ  1  conda activate selenium   å®‰è£æ‰€éœ€è¦çš„pip  1  pip install selenium   æŸ¥çœ‹pipæ˜¯å¦å®‰è£æˆåŠŸ  1  pip list   é–‹é ­ ç¨‹å¼ç¢¼æ”¾åœ¨é€™ï¼šhttps://github.com/Hoxton019030/Selenium\nå…ˆå¯«ä¸€æ®µDemoç”¨çš„Code\n1 2 3 4 5 6 7 8  from selenium import webdriver options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.google.com/\u0026#39;) driver.close() print(\u0026#34;æˆåŠŸ\u0026#34;)   æ•ˆæœï¼š\nè®“æˆ‘å€‘ç¾åœ¨æŠŠé é¢æ”¹æˆ104çš„é é¢\n1 2 3 4 5 6 7 8 9 10  from selenium import webdriver options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.104.com.tw/jobs/search/?keyword=Java\u0026amp;order=1\u0026amp;jobsource=2018indexpoc\u0026amp;ro=0\u0026#39;) driver.close() print(\u0026#34;æˆåŠŸ\u0026#34;)   æ¥ä¸‹ä¾†é€™æ¨£å°±å¯ä»¥é–‹å•Ÿ104çš„é é¢äº†ï¼Œé‚£æ¥ä¸‹ä¾†æˆ‘å€‘å°±æ˜¯è¦é€édriveré€™å€‹ç‰©ä»¶ï¼Œä¾†æ‰¾åˆ°æˆ‘å€‘ç›®å‰é é¢çš„ä¸€äº›è³‡è¨Šï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨\n1  driver.page_source   ä¾†æŸ¥çœ‹é é¢çš„ä¸€äº›è³‡è¨Š\n1 2 3 4 5 6 7 8 9 10 11  from selenium import webdriver options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.104.com.tw/jobs/search/?keyword=Java\u0026amp;order=1\u0026amp;jobsource=2018indexpoc\u0026amp;ro=0\u0026#39;) print(driver.page_source) driver.close() print(\u0026#34;æˆåŠŸ\u0026#34;)   é€™å€‹driver.page_sourceæ‰€åŒ…å«çš„å…¶å¯¦å°±æ˜¯æ•´å€‹ç¶²é çš„DOMï¼Œæ—¢ç„¶æœ‰htmlçš„æ±è¥¿ï¼Œé‚£æ¥ä¸‹ä¾†å°±è¦ä»‹ç´¹å„ç¨®ä¸åŒçš„é¸æ“‡å™¨ï¼Œä¾†å–å¾—æƒ³è¦çš„è³‡è¨Š\né¸æ“‡å™¨ Seleniumæä¾›äº†è¨±å¤šä¸åŒçš„é¸æ“‡å™¨ï¼Œè®“æˆ‘å€‘ä¾†å®šä½æˆ‘å€‘çš„htmlå…§å®¹ï¼Œ\næ¥ä¸‹ä¾†æœƒè¬›å¹¾å€‹æ¯”è¼ƒå¸¸ç”¨çš„ï¼Œå…¶å¯¦ä¹Ÿå°±æ˜¯css_selectorè·Ÿclass nameï¼Œ\nClassé¸æ“‡å™¨ æˆ‘å€‘ç¾åœ¨æƒ³è¦æ‰¾åˆ°æ¯ä»½è·ç¼ºçš„title\næŸ¥çœ‹DOMä¹‹å¾Œæˆ‘å€‘ç™¼ç¾ï¼Œå®ƒçš„html class ç‚º js-job-link\né‚£æˆ‘å€‘å°±å¯ä»¥é€™æ¨£å¯«\n1 2 3 4 5 6 7 8 9 10 11 12 13  from selenium import webdriver from selenium.webdriver.common.by import By options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.104.com.tw/jobs/search/?keyword=Java\u0026amp;order=1\u0026amp;jobsource=2018indexpoc\u0026amp;ro=0\u0026#39;) titles = driver.find_elements(By.CLASS_NAME, \u0026#34;js-job-link\u0026#34;) for title in titles: print(title.text) driver.close()   æ•ˆæœï¼š\nCSS é¸æ“‡å™¨ é€™æ˜¯Seleniumå®˜æ–¹æœ€ç‚ºæ¨è–¦çš„é¸æ“‡æ–¹å¼ï¼Œæœ€å¤§çš„å„ªå‹¢å°±åœ¨æ–¼å®ƒå¯ä»¥ä½¿ç”¨cssé¸æ“‡å™¨ä¾†å®šä½å…ƒç´ ï¼Œæ¯”å¦‚èªªnth-childã€first-childä¹‹é¡çš„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥æ‰¾åˆ°å¹¾ä¹æ‰€æœ‰çš„å…ƒç´ ï¼Œæ¯”å¦‚èªªæˆ‘æƒ³è¦æ‰¾åˆ°å·¥ä½œçš„æè¿°\nå®ƒçš„cssé¸æ“‡å™¨å°±æ˜¯é€™æ¨£è®€\nã€Œæƒ³è¦æ‰¾åˆ°tagç‚ºpï¼Œä¸¦ä¸”æœ‰job-list-item__info, b-clearfix, b-content é€™äº›classåç¨±çš„åœ°æ–¹ã€\né‚£pythonå°±æ˜¯é€™æ¨£å¯«\n1 2 3 4 5 6 7 8 9 10 11 12 13  from selenium import webdriver from selenium.webdriver.common.by import By options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.104.com.tw/jobs/search/?keyword=Java\u0026amp;order=1\u0026amp;jobsource=2018indexpoc\u0026amp;ro=0\u0026#39;) titles = driver.find_elements(By.CLASS_NAME, \u0026#34;js-job-link\u0026#34;) jobInfos = driver.find_elements(By.CSS_SELECTOR, \u0026#34;p.job-list-item__info.b-clearfix.b-content\u0026#34;) for element in jobInfos: print(element.text) driver.close()   å…¶å¯¦è§€å¯Ÿä¸€ä¸‹å¯ä»¥ç™¼ç¾ï¼ŒGoogleçš„é–‹ç™¼äººå“¡å·¥å…·å·²ç¶“å¹«æˆ‘å€‘æŠŠé€™å€‹åœ°æ–¹çš„css selectoræ¨™å‡ºä¾†äº†\næˆ‘å€‘å¯ä»¥ç›´æ¥è¤‡è£½è²¼ä¸Šå°±å¥½\nå‰›å‰›æœ‰æåˆ°èªªå¯ä»¥ä½¿ç”¨css selectorä¾†åšæ›´ä»”ç´°çš„å®šä½ï¼Œé‚£éº¼è©²æ€éº¼ç”¨å‘¢ï¼Ÿä»¥104ä¸­çš„å·¥ä½œè¦æ±‚ç‚ºä¾‹\næˆ‘å€‘æ³¨æ„åˆ°ï¼Œå®ƒå…¶å¯¦æ˜¯ä¸€å€‹ulçš„çµæ§‹ï¼Œæƒ³è¦æŒ‘å‡ºã€Œå·¥ä½œç¶“é©—ã€é€™ä¸€å€‹å€å¡Šçš„æ±è¥¿ï¼Œæƒ³è¦ç”¨classé¸æ“‡å™¨ä¾†å®šä½åŸºæœ¬ä¸Šä¸å¯èƒ½ï¼Œé€™æ™‚å€™å°±è¦ä½¿ç”¨css selectorä¾†é”åˆ°æˆ‘å€‘æƒ³è¦çš„æ•ˆæœï¼Œè€Œé€™é‚Šçš„å¯«æ³•å°±æ˜¯é€™æ¨£\n1  experiences = driver.find_elements(By.CSS_SELECTOR,\u0026#34;ul.b-list-inline.b-clearfix.job-list-intro.b-content li:nth-child(3)\u0026#34;)   ä¾†é€šéé¸æ“‡å™¨æ‰¾åˆ°liçš„ç¬¬ä¸‰å€‹childï¼Œä¹Ÿå°±æ˜¯å·¥ä½œç¶“æ­·\nID é¸æ“‡å™¨ idé¸æ“‡å™¨å°±æ˜¯idé¸æ“‡ï¼Œä½¿ç”¨æ–¹å¼å°±å¦‚åŒå¤§å®¶æƒ³çš„é‚£æ¨£ï¼Œé€šå¸¸æ˜¯ç”¨ä¾†å®šä½ä¸€äº›uniqueçš„å…ƒç´ \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  from selenium import webdriver from selenium.webdriver.common.by import By options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.104.com.tw/jobs/search/?keyword=Java\u0026amp;order=1\u0026amp;jobsource=2018indexpoc\u0026amp;ro=0\u0026#39;) titles = driver.find_elements(By.CLASS_NAME, \u0026#34;js-job-link\u0026#34;) jobInfos = driver.find_elements(By.CSS_SELECTOR, \u0026#34;p.job-list-item__info.b-clearfix.b-content\u0026#34;) experiences = driver.find_elements(By.CSS_SELECTOR, \u0026#34;ul.b-list-inline.b-clearfix.job-list-intro.b-content li:nth-child(3)\u0026#34;) mainContent = driver.find_element(By.ID, \u0026#34;main-content\u0026#34;) print(mainContent.text) driver.close()   é€éelementä¾†æ‰¾åˆ°è£¡é¢çš„attribute ç¾åœ¨æƒ³è¦æŠŠæ¯å€‹å·¥ä½œçš„è¶…é€£çµå–å‡ºä¾†ï¼Œè¦æ€éº¼åšå‘¢ï¼Ÿ\nå¯ä»¥å…ˆé€éé¸æ“‡å™¨é¸å‡ºæƒ³è¦çš„tagï¼Œè®Šæˆä¸€å€‹webElementç‰©ä»¶(ç›¸ç•¶æ–¼åº•ä¸‹çš„hrefs)ï¼Œç„¶å¾Œå†é€éget_attributeä¾†å–å¾—æ¨™ç±¤å…§çš„å€¼ï¼Œæˆ‘å€‘å°±å¯ä»¥é€éé€™æ¨£çš„æ–¹å¼ä¾†å–å‡ºæƒ³è¦çš„è³‡æ–™äº†\n1 2 3 4 5  hrefs = driver.find_elements(By.CLASS_NAME, \u0026#34;js-job-link\u0026#34;) for href in hrefs: link = href.get_attribute(\u0026#39;href\u0026#39;) print(link)   é»æ“Šçš„è§¸ç™¼ ç•¶æˆ‘å€‘å–å¾—é€™å€‹é é¢çš„è³‡æ–™å®Œå¾Œï¼Œæƒ³è¦æ¥è‘—é»æ“Šä¸‹ä¸€é ï¼Œé‚£æˆ‘å€‘è©²æ€éº¼åšå‘¢ï¼Ÿ\né¦–å…ˆå…ˆé€éé¸æ“‡å™¨ï¼Œä¾†é¸åˆ°ä¸‹ä¸€é çš„button\n1  link = driver.find_element(By.CLASS_NAME, \u0026#34;js-next-page\u0026#34;)   æ¥è‘—å¯ä»¥é€élink.click()ä¾†è§¸ç™¼é»æ“Šäº‹ä»¶ï¼Œåˆ‡æ›åˆ°ä¸‹ä¸€é \nç–‘ï¼ï¼å¹¹å¹¹å¹¹å¹¹å¹¹ï¼Œæ€éº¼å‡ºéŒ¯äº†\nçœ‹äº†ä¸€ä¸‹consoleå€ï¼Œå®ƒçš„å›æ‡‰æ˜¯é€™æ¨£\nã€Œç¶²é ä¸­æ²’æœ‰å¯ä»¥äº’å‹•çš„å…ƒç´ ã€ï¼Œåƒé€™ç¨®æƒ…æ³å¤šåŠæ˜¯å› ç‚ºDOMå…ƒä»¶é‚„æ²’loadé€²ä¾†ï¼Œæˆ‘å€‘å¯ä»¥é€éä¸€äº›æ–¹å¼ä¾†å»¶ç·©å®ƒåŠ è¼‰çš„æ™‚é–“ï¼Œæœ€çˆ›çš„åšæ³•å…¶å¯¦å°±æ˜¯ç”¨time.sleep()çš„æ–¹å¼ä¾†ï¼Œä½†å› ç‚ºæˆ‘ç¾åœ¨åªæœƒç”¨é€™å€‹æ–¹å¼(âœ¿â—¡â€¿â—¡)\n1 2 3 4 5 6 7 8 9 10 11 12  from selenium import webdriver from selenium.webdriver.common.by import By options = webdriver.ChromeOptions() driver = webdriver.Chrome() driver.get(\u0026#39;https://www.104.com.tw/jobs/search/?keyword=Java\u0026amp;order=1\u0026amp;jobsource=2018indexpoc\u0026amp;ro=0\u0026#39;) for i in range(10): time.sleep(2) link = driver.find_element(By.CLASS_NAME, \u0026#34;js-next-page\u0026#34;) link.click()   å¯¦éš›çš„ç¨‹å¼ç¢¼ æœ€å¾Œæˆ‘å€‘æŠŠä¸Šé¢çš„æ±è¥¿æ•´åˆä¸€ä¸‹ï¼Œä¸¦ä¸”æŠŠè³‡æ–™å­˜åˆ°excelè£¡é¢ï¼Œå°±å¯ä»¥é”åˆ°æˆ‘å€‘æƒ³è¦çš„æ•ˆæœåš•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95  import time import openpyxl from selenium import webdriver from selenium.webdriver.common.by import By from JobDetail import JobDetail options = webdriver.ChromeOptions() options.add_argument(\u0026#39;--ignore-certificate-errors\u0026#39;) options.add_argument(\u0026#34;--test-type\u0026#34;) options.binary_location = \u0026#34;/usr/bin/chromium\u0026#34; driver = webdriver.Chrome() url = \u0026#34;https://www.104.com.tw/jobs/search/?https://www.104.com.tw/jobs/search/?ro=0\u0026amp;kwop=7\u0026amp;keyword=Java\u0026amp;expansionType=area%2Cspec%2Ccom%2Cjob%2Cwf%2Cwktm\u0026amp;area=6001001001%2C6001001007%2C6001002000%2C6001001003%2C6001001006%2C6001001002%2C6001001012%2C6001001004%2C6001001005\u0026amp;order=15\u0026amp;asc=0\u0026amp;page=1\u0026amp;mode=s\u0026amp;jobsource=2018indexpoc\u0026amp;langFlag=0\u0026amp;langStatus=0\u0026amp;recommendJob=1\u0026amp;hotJob=1\u0026#34; driver.get(url) driver.implicitly_wait(10) workbook = openpyxl.Workbook() sheet = workbook.active headers = [\u0026#34;è·å‹™åç¨±\u0026#34;, \u0026#34;å…¬å¸åç¨±\u0026#34;, \u0026#34;ç›¸é—œæè¿°\u0026#34;, \u0026#34;å·¥ä½œç°¡è¿°\u0026#34;, \u0026#34;å…¬å¸åœ°å€\u0026#34;, \u0026#34;å·¥ä½œç¶“é©—è¦æ±‚\u0026#34;, \u0026#34;ç¶²å€é€£çµ\u0026#34;] sheet.append(headers) for i in range(113): # é é¢çš„interator try: titles = driver.find_elements(By.CLASS_NAME, \u0026#34;js-job-link\u0026#34;) companyNames = driver.find_elements(By.CSS_SELECTOR, \u0026#34;ul.b-list-inline.b-clearfix a\u0026#34;) hrefs = driver.find_elements(By.CLASS_NAME, \u0026#34;js-job-link\u0026#34;) # é€™é‚Šå…ˆè¨»è§£æ‰ï¼Œä¸çŸ¥é“æ€éº¼æŠŠè–ªè³‡æŠ“å‡ºä¾† # tags = driver.find_elements(By.CLASS_NAME, \u0026#34;b-tag--default\u0026#34;) # stringTag = \u0026#34;\u0026#34; # for tag in tags: # stringTag += tag.text # jobInfos = driver.find_elements(By.CLASS_NAME, \u0026#34;job-list-item__info\u0026#34;) jobInfos = driver.find_elements(By.CSS_SELECTOR, \u0026#34;p.job-list-item__info.b-clearfix.b-content\u0026#34;) # for jobInfo in jobInfos: # print(jobInfo.text) addresses = driver.find_elements(By.CSS_SELECTOR, \u0026#34;ul.b-list-inline.b-clearfix.job-list-intro.b-content li:first-child\u0026#34;) experiences = driver.find_elements(By.CSS_SELECTOR, \u0026#34;ul.b-list-inline.b-clearfix.job-list-intro.b-content li:nth-child(3)\u0026#34;) job_details_list = [] for j in range(len(titles)): name = \u0026#34;\u0026#34; title = titles[j].text if \u0026#34;/\u0026#34; in title: break companyName = companyNames[j].text href = hrefs[j].get_attribute(\u0026#39;href\u0026#39;) jobInfo = jobInfos[j].text address = addresses[j].text experience = experiences[j].text job_detail = JobDetail(title, companyName, href, name, jobInfo, address, experience) job_details_list.append(job_detail) for job in job_details_list: rowData = [job.title, job.companyName, job.tags, job.jobInfo, job.address, job.experience, job.href] sheet.append(rowData) link = driver.find_element(By.CLASS_NAME, \u0026#34;js-next-page\u0026#34;) link.click() time.sleep(2) print(\u0026#34;ç›®å‰è™•ç†åˆ°ç¬¬\u0026#34;, i, \u0026#34;é \u0026#34;) workbook.save(\u0026#34;test.xlsx\u0026#34;) print(\u0026#34;å„²å­˜\u0026#34;) except Exception as e: print(e) time.sleep(1) continue print(\u0026#34;å„²å­˜\u0026#34;) workbook.close() # for some in hrefs: # print(some.get_dom_attribute(\u0026#39;href\u0026#39;)) # print(titles) # time.sleep(10) # a = JobDetail() # for title in titles: # print(title.text) # for companyName in companyNameList: # print(companyName.text) # for tag in tags: # print(tag.text) # print(driver.page_source) # å–å¾—ä¸Šä¸€é çš„æ–‡ç« æ¨™é¡Œ # time.sleep(10) # driver.close()   é€™æ¨£å°±å¯ä»¥å›‰ï¼\n","date":"2023-08-03T00:15:02+08:00","image":"https://i.imgur.com/tsAfSod.png","permalink":"https://hoxtoncraft.com/p/selenium%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-%E4%BB%A5104%E4%BA%BA%E5%8A%9B%E9%8A%80%E8%A1%8C%E7%82%BA%E4%BE%8B/","title":"Seleniumå­¸ç¿’ç­†è¨˜-ä»¥104äººåŠ›éŠ€è¡Œç‚ºä¾‹"},{"content":"æœ€è¿‘å¾ˆå¸¸åœ¨Hugoå…§å¯«ä¸€äº›æ•¸å­¸å¼ï¼Œæ¯”å¦‚èªªè¯ç«‹æ–¹ç¨‹ï¼Œæˆ–æ˜¯çŸ©é™£ï¼Œå¾®ç©åˆ†ä¹‹é¡çš„ï¼Œæœ‰æ™‚å€™æœƒé‡åˆ°Hugoä¸­ç„¡æ³•æ­£ç¢ºé¡¯ç¤ºç•«é¢çš„æƒ…æ³ï¼Œåœ¨é€™ä¹‹å‰å·²ç¶“æœ‰åƒè€ƒå¾ˆå¤šäººçš„æ–‡ç« äº†ï¼Œæ¯”å¦‚èªª\nå¦‚ä½•åœ¨ Hugo å…§åµŒ Latex æ•¸å­¸å¼\nMathJax Support ä¸­æ–‡æ–‡æª”\nå…¶å¯¦ä¸å¤–ä¹å°±æ˜¯åŠ ä¸Šscriptè£¡é¢ï¼Œä½†æ˜¯æˆ‘é‡åˆ°çš„æƒ…æ³æ˜¯æˆ‘å·²ç¶“åŠ ä¸Šå»äº†ï¼Œä½†å»é‚„æ˜¯æ²’è¾¦æ³•renderå‡ºä¾†ï¼Œæˆ‘å‘ˆç¾å‡ºä¾†çš„ç•«é¢æœƒåƒé€™æ¨£\næ˜æ˜æ˜¯æ–¹ç¨‹è·ŸçŸ©é™£ï¼Œä½†çœ‹èµ·ä¾†å°±æ˜¯æ€ªæ€ªçš„ï¼Œçˆ¬äº†å¾ˆå¤šæ–‡ç« ä¹‹å¾Œéƒ½æ‰¾ä¸åˆ°çµæœï¼Œå¾Œä¾†åˆ°æˆ‘ä½¿ç”¨çš„é€™å€‹themeçš„Githubé é¢æŸ¥çœ‹ï¼Œå°±çŸ¥é“å•é¡Œäº†\nkatex åˆ†æ®µå‡½æ•°ä¸èƒ½æ­£å¸¸æ˜¾ç¤º\nå…¶å¯¦åŸå› å°±æ˜¯å› ç‚ºæˆ‘çš„SourceCodeé•·é€™æ¨£\n1 2 3 4 5 6 7 8  $$ \\begin{bmatrix} -1 \u0026amp; 0 \u0026amp; 0 \u0026amp; 1 \u0026amp; | \u0026amp; -20 \\\\ 1 \u0026amp; -1 \u0026amp; 0 \u0026amp; 0 \u0026amp; | \u0026amp; -10 \\\\ 0 \u0026amp; 1 \u0026amp; -1 \u0026amp; 0 \u0026amp; | \u0026amp; 20 \\\\ 0 \u0026amp; 0 \u0026amp; 1 \u0026amp; -1 \u0026amp; | \u0026amp; 10 \\\\ \\end{bmatrix} $$   åœ¨æ¸²æŸ“çš„æ™‚å€™æŠŠ\\\\è¦–ä½œè·³è„«å­—å…ƒè™•ç†æ‰äº†ï¼Œæ‰€ä»¥åªè¦åœ¨æ›è¡Œçš„åœ°æ–¹åŠ ä¸Šè·³è„«å­—å…ƒçš„è·³è„«å­—å…ƒï¼Œé€™æ¨£å°±å¯ä»¥äº†\n1 2 3 4 5 6 7 8  $$ \\begin{align*} x_{1} \u0026amp;+ 10 = x_{2} \\\\\\\\ x_{2} \u0026amp;= 5 + x_{3}\\\\\\\\ x_{3} \u0026amp;= 10+ x_{4} \\\\\\\\ x_{4} \u0026amp;+20=x_{1} \\end{align*} $$   çµæœåœ–å°±å¦‚ä¸‹é€™æ¨£ ï¼š\n","date":"2023-07-27T11:51:18+08:00","image":"https://i.imgur.com/nnX2rBK.jpg","permalink":"https://hoxtoncraft.com/p/hugo%E4%B8%AD%E5%A6%82%E4%BD%95%E8%A7%A3%E6%B1%BAmathjax%E8%B7%91%E7%89%88%E5%95%8F%E9%A1%8C/","title":"Hugoä¸­å¦‚ä½•è§£æ±ºmathjaxè·‘ç‰ˆå•é¡Œ"},{"content":"æœ€è¿‘åœ¨å­¸ç¿’ç·šæ€§ä»£æ•¸ï¼Œå¾ˆæ„Ÿè¬è‡ªå·±ç•¶åˆé«˜ä¸­é¸çš„æ˜¯è‡ªç„¶çµ„( â€¢Ì€ Ï‰ â€¢Ì )âœ§ï¼Œè‡³å°‘é‚„ä¿ç•™ä¸€é»äº¤æˆ°è¨˜æ†¶ï¼Œé‚„æœ‰å‰›å¥½æ˜¯ä¸­åŸæœ‰æ•™å¾®ç©åˆ†çš„æœ€å¾Œä¸€å±†å•†å­¸é™¢(æˆ‘è¨˜å¾—ä¹‹å¾Œçš„éƒ½æ˜¯æ•™è²¡å‹™æ•¸å­¸)ï¼Œæ‰€ä»¥çœ‹åˆ°ä»€éº¼å°æ•¸ã€cosÎ¸ã€ä¹‹é¡çš„ä¸è‡³æ–¼å¤ªå®³æ€•ã€‚\nä»Šå¤©å†å¯«çš„æ™‚å€™çœ‹åˆ°ä¸€é¡Œäº¤å¤§è³‡å·¥çš„è€ƒå¤é¡Œï¼Œè¦ºå¾—éå¸¸çš„å¯¦ç”¨ï¼Œä¸Šç¶²æŸ¥äº†ä¸€ä¸‹è§£æ³•ï¼Œé †ä¾¿ç•¶ä½œå€‹ç´€éŒ„\nç¬¬ä¸€æ¬¡çœ‹åˆ°çš„æ™‚å€™æœ‰é»åš‡åˆ°ï¼Œçœ‹äº†ä¸€ä¸‹è§£ç­”ä¹‹å¾Œé‚„æ˜¯ä¸å¤ªæ¸…æ¥šæ€éº¼æ±‚å‡ºä¸‹é¢çš„è¯ç«‹æ–¹ç¨‹çš„\n$$ \\begin{align*} x_{1} \u0026amp;+ 10 = x_{2} \\\\\nx_{2} \u0026amp;= 5 + x_{3}\\\\\nx_{3} \u0026amp;= 10+ x_{4} \\\\\nx_{4} \u0026amp;+20=x_{1} \\end{align*} $$\nå¾Œä¾†çœ‹äº†ä¸€ä¸‹åœ‹å¤–çš„æ•™å­¸ï¼Œç™¼ç¾æ¦‚å¿µå¾ˆç°¡å–®ï¼Œä¸€å€‹åœ“ç’°ï¼Œé€²ä¾†çš„è»Šæµé‡å¿…å®šç­‰æ–¼å‡ºå»çš„æµé‡ï¼Œæ‰€ä»¥xâ‚‚å°±æ˜¯xâ‚å†åŠ ä¸Š10ï¼Œè€Œxâ‚ƒå°±ç­‰æ–¼xâ‚‚å†æ¸›å»é–‹å‡ºå»çš„20è¼›è»Šï¼Œä¹Ÿå°±å°±æ˜¯xâ‚‚-20=xâ‚ƒã€‚æ–¼æ˜¯å°±å¯ä»¥åˆ—å‡ºå¢å»£çŸ©é™£\n$$ \\begin{bmatrix} -1 \u0026amp; 0 \u0026amp; 0 \u0026amp; 1 \u0026amp; | \u0026amp; -20 \\\\\n1 \u0026amp; -1 \u0026amp; 0 \u0026amp; 0 \u0026amp; | \u0026amp; -10 \\\\\n0 \u0026amp; 1 \u0026amp; -1 \u0026amp; 0 \u0026amp; | \u0026amp; 20 \\\\\n0 \u0026amp; 0 \u0026amp; 1 \u0026amp; -1 \u0026amp; | \u0026amp; 10 \\\\\n\\end{bmatrix} $$\nåŒ–æˆåˆ—æ¢¯é™£ $$ \\begin{bmatrix} 1 \u0026amp; -1 \u0026amp; 0 \u0026amp; 0 \u0026amp; | \u0026amp; -10 \\\\\n0 \u0026amp; 1 \u0026amp; -1 \u0026amp; 0 \u0026amp; | \u0026amp; 20 \\\\\n0 \u0026amp; 0 \u0026amp; 1 \u0026amp; -1 \u0026amp; | \u0026amp; 10 \\\\\n0 \u0026amp; 0 \u0026amp; 0 \u0026amp; 0 \u0026amp; | \u0026amp; 0 \\\\\n\\end{bmatrix} $$\nç™¼ç¾é€™å€‹çŸ©é™£å…·æœ‰ç„¡çª®å¤šçµ„è§£ï¼ŒAx=Bå¾—xç­‰æ–¼\n$$ \\begin{bmatrix} 20+t \\\\\n30+t \\\\\n10+t \\\\\nt \\\\\n\\end{bmatrix} $$\né‚£å›é ­ä¾†è§£é¡Œç›®\né¡Œç›®1èªªå¯ä»¥åŒ–ç‚ºstrictly triangular matrixï¼Œç­”æ¡ˆæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ç‚ºå°è§’å…ƒç´ ä¸æ˜¯å…¨é›¶\n åš´æ ¼ä¸‰è§’çŸ©é™£å®šç¾©ï¼šæ˜¯ä¸‰è§’çŸ©é™£ï¼Œä½†å°è§’é …å‡ç‚ºé›¶\n é¡Œç›®äºŒèªªå¯ä»¥åŒ–ç‚ºé‚£æ¨£çš„ç°¡åŒ–åˆ—æ¢¯é™£ï¼Œç•¶ç„¶ç­”æ¡ˆä¹Ÿæ˜¯éŒ¯çš„\né¡Œç›®ä¸‰èªªé€™å€‹ç·šæ€§ç³»çµ±æ˜¯Consistentçš„ï¼Œæ‰€è¬‚çš„Consistent(ä¸€è‡´)ä»£è¡¨è‡³å°‘æœ‰ä¸€çµ„è§£ï¼Œé‚£é€™é‚Šæ˜¯å°çš„\né¡Œç›®å››ï¼Œæœ€å¤§äº¤é€šçš„æ˜¯X2ï¼Œå› ç‚ºå®ƒæ˜¯30+t\né¡Œç›®äº”å•èªªå¦‚æœç¾åœ¨æ‰€æœ‰çš„æ–¹å‘å…¨éƒ¨å€’éä¾†ï¼Œé‚£ç­”æ¡ˆæœƒä¸€æ¨£å—ï¼Œç­”æ¡ˆæ˜¯å°çš„ï¼Œå› ç‚ºåªæ˜¯æ–¹å‘æ›éä¾†ï¼Œå…¶å¯¦å°±åªæ˜¯åœ¨ç­‰è™Ÿå…©é‚ŠåŒä¹˜è² è™Ÿè€Œå·²\n","date":"2023-07-27T00:48:39+08:00","image":"https://i.imgur.com/wswxl2P.png","permalink":"https://hoxtoncraft.com/p/%E4%BB%A5%E7%B7%9A%E6%80%A7%E4%BB%A3%E6%95%B8%E6%B1%82%E8%A7%A3%E8%BB%8A%E6%B5%81%E9%87%8F%E5%95%8F%E9%A1%8C/","title":"ä»¥ç·šæ€§ä»£æ•¸æ±‚è§£è»Šæµé‡å•é¡Œ"},{"content":"å‰è¨€ å‰ä¸€é™£å­é¢è©¦äº†ä¸€å®¶åšå¥•æ¥­ï¼Œä»–çš„ç¬¬ä¸€é¡Œæ˜¯é€™æ¨£çš„\nçµ¦ä¸€æ•´æ•¸é™£åˆ—ï¼Œä¸¦æŠŠé™£åˆ—ä¸­çš„0ç§»åˆ°æœ€å¾Œï¼Œå…¶é¤˜çš„æ•¸å­—ä¿æŒåŸä¾†çš„é †åºã€‚ ä¾‹å¦‚è¼¸å…¥é™£åˆ—{0,0,0,1,2,3,4,5,6,7,8}ï¼Œ (ä½ ä¸çŸ¥é“index) è«‹å¯«å€‹æ–¹æ³•å¯è¼¸å‡ºç‚º{1,2,3,4,5,6,7,8,0,0,0}\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  public static void main(String[] args) { List\u0026lt;Integer\u0026gt; numbList = new ArrayList\u0026lt;\u0026gt;(Arrays.asList(0,0,0,1,2,3,4,5,6,7,8)); List\u0026lt;Integer\u0026gt; numbList2 = new ArrayList\u0026lt;\u0026gt;(); for(Integer num :numbList){ if(num == 0){ /** * TODO * å°è¯•å®ŒæˆæŠŠ Listä¸­çš„0ç§»åˆ°æœ€å¾Œ */ numbList.remove(num); numbList2.add(num); } } System.out.println(numbList); }   è‡³æ–¼å…·é«”ä¾†èªªåˆ°åº•è¦æ€éº¼å¯«ä¸æ˜¯æˆ‘æƒ³è¨è«–çš„é‡é»ï¼Œè€Œæ˜¯é€™é¡Œè—åœ¨é­”é¬¼è£¡çš„ç´°ç¯€\nConcurrentModificationException ç•¶ä½ å¯¦éš›åŸ·è¡Œå¾Œå°±æœƒå‡ºç¾é€™å€‹éŒ¯èª¤ConcurrentModificationException\nä»–èªªéŒ¯èª¤å‡ºç¾åœ¨ç¬¬12è¡Œï¼Œä½†å¯¦éš›ä¸ŠéŒ¯èª¤ä¸¦ä¸æ˜¯å‡ºç¾åœ¨ç¬¬12è¡Œï¼Œæ‡‰è©²æ˜¯åœ¨ç¬¬18è¡Œçš„ä½ç½®ï¼Œæˆ‘å€‘å¯ä»¥é–‹Debuggerï¼Œçœ‹èµ·ä¾†æœƒæ›´æ˜é¡¯ä¸€é»\nä»–å›å ±äº†é€™å€‹éŒ¯èª¤ï¼Œé‚£é€™å€‹éŒ¯èª¤å…·é«”è€Œè¨€æ˜¯ä»€éº¼å‘¢ï¼Ÿ\nConcurrentModificationExceptioné€™å€‹éŒ¯èª¤æœƒç™¼ç”Ÿåœ¨å°éæ­·çš„é›†åˆé¡é€²è¡Œåˆªé™¤ã€å¢åŠ æ™‚æœƒå‡ºç¾é€™å€‹ä½µç™¼ä¿®æ”¹éŒ¯èª¤ï¼Œè€Œæœƒæ‹‹å‡ºé€™å€‹éŒ¯èª¤çš„åŸå› æ˜¯å› ç‚º\né›†åˆé¡ä¸­çš„modCountè·ŸexpectModCountä¸ç›¸ç­‰è€Œæ‹‹å‡ºçš„ï¼Œç”±æ–¼æœ¬äººæ‰ç–å­¸æ·ºï¼Œç›®å‰ç†è§£çš„æ¦‚å¿µåƒæ˜¯é€™æ¨£\nå› ç‚ºJavaå¸¸è¦‹çš„é›†åˆé¡æœ¬èº«ä¸¦ä¸æ˜¯åŸ·è¡Œç·’å®‰å…¨(Thread Safe)çš„ï¼Œå› æ­¤æœƒæœ‰å…©å€‹intï¼ŒexpectModCountåƒæ˜¯å»ç´€éŒ„ç†è«–çš„ä¿®æ”¹æ¬¡æ•¸ï¼ŒmodCountåƒæ˜¯å»è¨˜éŒ„å¯¦éš›ä¿®æ”¹çš„æ¬¡æ•¸ï¼Œç•¶å…©é‚Šçš„æ•¸å­—Matchä¸èµ·ä¾†ï¼Œå°±æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œæé†’ä½ å› ç‚ºåŸ·è¡Œç·’ä¸å®‰å…¨çš„é—œä¿‚å°è‡´ä½ åŸ·è¡Œçš„çµæœæœƒèˆ‡é æœŸæœ‰è½å·®ï¼Œé€™æ¨£çš„è¡Œç‚ºä¹Ÿç¨±ä¹‹ç‚ºFast-Failï¼Œ\n(åœ–ç‰‡ä¾†è‡ªæ–¼ç¶²è·¯)\nå› ç‚ºåœ¨removeé€™é‚Šæœ‰modCount++çš„è¡Œç‚ºï¼Œå°è‡´å…©é‚Šå€¼ä¸åŒï¼Œå› è€Œæ‹‹å‡ºéŒ¯èª¤\nâ€‹\nåƒè€ƒé€£çµ https://cloud.tencent.com/developer/article/1896820\n","date":"2023-07-23T14:59:22+08:00","image":"https://i.imgur.com/oHOBik5.png","permalink":"https://hoxtoncraft.com/p/%E5%B0%8D%E9%81%8D%E6%AD%B7%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E9%A1%9E%E4%BF%AE%E6%94%B9%E6%9C%83%E6%9C%89%E4%BB%80%E9%BA%BC%E6%A8%A3%E7%9A%84%E5%95%8F%E9%A1%8C%E5%91%A2/","title":"å°éæ­·ä¸­çš„é›†åˆé¡ä¿®æ”¹ï¼Œæœƒæœ‰ä»€éº¼æ¨£çš„å•é¡Œå‘¢"},{"content":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272  # Licensed to the Apache Software Foundation (ASF) under one# or more contributor license agreements. See the NOTICE file# distributed with this work for additional information# regarding copyright ownership. The ASF licenses this file# to you under the Apache License, Version 2.0 (the# \u0026#34;License\u0026#34;); you may not use this file except in compliance# with the License. You may obtain a copy of the License at## http://www.apache.org/licenses/LICENSE-2.0## Unless required by applicable law or agreed to in writing,# software distributed under the License is distributed on an# \u0026#34;AS IS\u0026#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY# KIND, either express or implied. See the License for the# specific language governing permissions and limitations# under the License.## Basic Airflow cluster configuration for CeleryExecutor with Redis and PostgreSQL.## WARNING: This configuration is for local development. Do not use it in a production deployment.## This configuration supports basic configuration using environment variables or an .env file# The following variables are supported:## AIRFLOW_IMAGE_NAME - Docker image name used to run Airflow.# Default: apache/airflow:2.3.0# AIRFLOW_UID - User ID in Airflow containers# Default: 50000# Those configurations are useful mostly in case of standalone testing/running Airflow in test/try-out mode## _AIRFLOW_WWW_USER_USERNAME - Username for the administrator account (if requested).# Default: airflow# _AIRFLOW_WWW_USER_PASSWORD - Password for the administrator account (if requested).# Default: airflow# _PIP_ADDITIONAL_REQUIREMENTS - Additional PIP requirements to add when starting all containers.# Default: \u0026#39;\u0026#39;## Feel free to modify this file to suit your needs.---version:\u0026#39;3\u0026#39;x-airflow-common:\u0026amp;airflow-common# In order to add custom dependencies or upgrade provider packages you can use your extended image.# Comment the image line, place your Dockerfile in the directory where you placed the docker-compose.yaml# and uncomment the \u0026#34;build\u0026#34; line below, Then run `docker compose build` to build the images.image:${AIRFLOW_IMAGE_NAME:-apache/airflow:2.3.0}# build: .environment:\u0026amp;airflow-common-envAIRFLOW__CORE__EXECUTOR:CeleryExecutorAIRFLOW__DATABASE__SQL_ALCHEMY_CONN:postgresql+psycopg2://airflow:airflow@postgres/airflow# For backward compatibility, with Airflow \u0026lt;2.3AIRFLOW__CORE__SQL_ALCHEMY_CONN:postgresql+psycopg2://airflow:airflow@postgres/airflowAIRFLOW__CELERY__RESULT_BACKEND:db+postgresql://airflow:airflow@postgres/airflowAIRFLOW__CELERY__BROKER_URL:redis://:@redis:6379/0AIRFLOW__CORE__FERNET_KEY:\u0026#39;\u0026#39;AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION:\u0026#39;true\u0026#39;AIRFLOW__CORE__LOAD_EXAMPLES:\u0026#39;true\u0026#39;AIRFLOW__API__AUTH_BACKENDS:\u0026#39;airflow.api.auth.backend.basic_auth\u0026#39;_PIP_ADDITIONAL_REQUIREMENTS:${_PIP_ADDITIONAL_REQUIREMENTS:-}volumes:- ./dags:/opt/airflow/dags- ./logs:/opt/airflow/logs- ./plugins:/opt/airflow/pluginsuser:\u0026#34;${AIRFLOW_UID:-50000}:0\u0026#34;depends_on:\u0026amp;airflow-common-depends-onredis:condition:service_healthypostgres:condition:service_healthyservices:postgres:image:postgres:13environment:POSTGRES_USER:airflowPOSTGRES_PASSWORD:airflowPOSTGRES_DB:airflowvolumes:- postgres-db-volume:/var/lib/postgresql/datahealthcheck:test:[\u0026#34;CMD\u0026#34;,\u0026#34;pg_isready\u0026#34;,\u0026#34;-U\u0026#34;,\u0026#34;airflow\u0026#34;]interval:5sretries:5restart:alwaysredis:image:redis:latestexpose:- 6379healthcheck:test:[\u0026#34;CMD\u0026#34;,\u0026#34;redis-cli\u0026#34;,\u0026#34;ping\u0026#34;]interval:5stimeout:30sretries:50restart:alwaysairflow-webserver:\u0026lt;\u0026lt;:*airflow-commoncommand:webserverports:- 8080:8080healthcheck:test:[\u0026#34;CMD\u0026#34;,\u0026#34;curl\u0026#34;,\u0026#34;--fail\u0026#34;,\u0026#34;http://localhost:8080/health\u0026#34;]interval:10stimeout:10sretries:5restart:alwaysdepends_on:\u0026lt;\u0026lt;:*airflow-common-depends-onairflow-init:condition:service_completed_successfullyairflow-scheduler:\u0026lt;\u0026lt;:*airflow-commoncommand:schedulerhealthcheck:test:[\u0026#34;CMD-SHELL\u0026#34;,\u0026#39;airflow jobs check --job-type SchedulerJob --hostname \u0026#34;$${HOSTNAME}\u0026#34;\u0026#39;]interval:10stimeout:10sretries:5restart:alwaysdepends_on:\u0026lt;\u0026lt;:*airflow-common-depends-onairflow-init:condition:service_completed_successfullyairflow-worker:\u0026lt;\u0026lt;:*airflow-commoncommand:celery workerhealthcheck:test:- \u0026#34;CMD-SHELL\u0026#34;- \u0026#39;celery --app airflow.executors.celery_executor.app inspect ping -d \u0026#34;celery@$${HOSTNAME}\u0026#34;\u0026#39;interval:10stimeout:10sretries:5environment:\u0026lt;\u0026lt;:*airflow-common-env# Required to handle warm shutdown of the celery workers properly# See https://airflow.apache.org/docs/docker-stack/entrypoint.html#signal-propagationDUMB_INIT_SETSID:\u0026#34;0\u0026#34;restart:alwaysdepends_on:\u0026lt;\u0026lt;:*airflow-common-depends-onairflow-init:condition:service_completed_successfullyairflow-triggerer:\u0026lt;\u0026lt;:*airflow-commoncommand:triggererhealthcheck:test:[\u0026#34;CMD-SHELL\u0026#34;,\u0026#39;airflow jobs check --job-type TriggererJob --hostname \u0026#34;$${HOSTNAME}\u0026#34;\u0026#39;]interval:10stimeout:10sretries:5restart:alwaysdepends_on:\u0026lt;\u0026lt;:*airflow-common-depends-onairflow-init:condition:service_completed_successfullyairflow-init:\u0026lt;\u0026lt;:*airflow-commonentrypoint:/bin/bash# yamllint disable rule:line-lengthcommand:- -c- |function ver() { printf \u0026#34;%04d%04d%04d%04d\u0026#34; $${1//./ } } airflow_version=$$(gosu airflow airflow version) airflow_version_comparable=$$(ver $${airflow_version}) min_airflow_version=2.2.0 min_airflow_version_comparable=$$(ver $${min_airflow_version}) if (( airflow_version_comparable \u0026lt; min_airflow_version_comparable )); then echo echo -e \u0026#34;\\033[1;31mERROR!!!: Too old Airflow version $${airflow_version}!\\e[0m\u0026#34; echo \u0026#34;The minimum Airflow version supported: $${min_airflow_version}. Only use this or higher!\u0026#34; echo exit 1 fi if [[ -z \u0026#34;${AIRFLOW_UID}\u0026#34; ]]; then echo echo -e \u0026#34;\\033[1;33mWARNING!!!: AIRFLOW_UID not set!\\e[0m\u0026#34; echo \u0026#34;If you are on Linux, you SHOULD follow the instructions below to set \u0026#34; echo \u0026#34;AIRFLOW_UID environment variable, otherwise files will be owned by root.\u0026#34; echo \u0026#34;For other operating systems you can get rid of the warning with manually created .env file:\u0026#34; echo \u0026#34; See: https://airflow.apache.org/docs/apache-airflow/stable/start/docker.html#setting-the-right-airflow-user\u0026#34; echo fi one_meg=1048576 mem_available=$$(($$(getconf _PHYS_PAGES) * $$(getconf PAGE_SIZE) / one_meg)) cpus_available=$$(grep -cE \u0026#39;cpu[0-9]+\u0026#39; /proc/stat) disk_available=$$(df / | tail -1 | awk \u0026#39;{print $$4}\u0026#39;) warning_resources=\u0026#34;false\u0026#34; if (( mem_available \u0026lt; 4000 )) ; then echo echo -e \u0026#34;\\033[1;33mWARNING!!!: Not enough memory available for Docker.\\e[0m\u0026#34; echo \u0026#34;At least 4GB of memory required. You have $$(numfmt --to iec $$((mem_available * one_meg)))\u0026#34; echo warning_resources=\u0026#34;true\u0026#34; fi if (( cpus_available \u0026lt; 2 )); then echo echo -e \u0026#34;\\033[1;33mWARNING!!!: Not enough CPUS available for Docker.\\e[0m\u0026#34; echo \u0026#34;At least 2 CPUs recommended. You have $${cpus_available}\u0026#34; echo warning_resources=\u0026#34;true\u0026#34; fi if (( disk_available \u0026lt; one_meg * 10 )); then echo echo -e \u0026#34;\\033[1;33mWARNING!!!: Not enough Disk space available for Docker.\\e[0m\u0026#34; echo \u0026#34;At least 10 GBs recommended. You have $$(numfmt --to iec $$((disk_available * 1024 )))\u0026#34; echo warning_resources=\u0026#34;true\u0026#34; fi if [[ $${warning_resources} == \u0026#34;true\u0026#34; ]]; then echo echo -e \u0026#34;\\033[1;33mWARNING!!!: You have not enough resources to run Airflow (see above)!\\e[0m\u0026#34; echo \u0026#34;Please follow the instructions to increase amount of resources available:\u0026#34; echo \u0026#34; https://airflow.apache.org/docs/apache-airflow/stable/start/docker.html#before-you-begin\u0026#34; echo fi mkdir -p /sources/logs /sources/dags /sources/plugins chown -R \u0026#34;${AIRFLOW_UID}:0\u0026#34; /sources/{logs,dags,plugins} exec /entrypoint airflow version# yamllint enable rule:line-lengthenvironment:\u0026lt;\u0026lt;:*airflow-common-env_AIRFLOW_DB_UPGRADE:\u0026#39;true\u0026#39;_AIRFLOW_WWW_USER_CREATE:\u0026#39;true\u0026#39;_AIRFLOW_WWW_USER_USERNAME:${_AIRFLOW_WWW_USER_USERNAME:-airflow}_AIRFLOW_WWW_USER_PASSWORD:${_AIRFLOW_WWW_USER_PASSWORD:-airflow}user:\u0026#34;0:0\u0026#34;volumes:- .:/sourcesairflow-cli:\u0026lt;\u0026lt;:*airflow-commonprofiles:- debugenvironment:\u0026lt;\u0026lt;:*airflow-common-envCONNECTION_CHECK_MAX_COUNT:\u0026#34;0\u0026#34;# Workaround for entrypoint issue. See: https://github.com/apache/airflow/issues/16252command:- bash- -c- airflowflower:\u0026lt;\u0026lt;:*airflow-commoncommand:celery flowerports:- 5555:5555healthcheck:test:[\u0026#34;CMD\u0026#34;,\u0026#34;curl\u0026#34;,\u0026#34;--fail\u0026#34;,\u0026#34;http://localhost:5555/\u0026#34;]interval:10stimeout:10sretries:5restart:alwaysdepends_on:\u0026lt;\u0026lt;:*airflow-common-depends-onairflow-init:condition:service_completed_successfullyvolumes:postgres-db-volume:  ","date":"2023-07-22T15:27:16+08:00","image":"https://i.imgur.com/ib3Y4zY.png","permalink":"https://hoxtoncraft.com/p/airflow%E7%9A%84dockerfile/","title":"Airflowçš„Dockerfile"},{"content":" Raycaset PicGo Mission Control Plus iShot iBar  ","date":"2023-07-17T14:41:10+08:00","image":"https://i.imgur.com/AfmJKUP.jpg","permalink":"https://hoxtoncraft.com/p/%E5%AF%A6%E7%94%A8%E7%9A%84macbook%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F/","title":"å¯¦ç”¨çš„Macbookæ‡‰ç”¨ç¨‹å¼"},{"content":"åƒè€ƒç¶²å€ï¼šhttps://www.bilibili.com/video/BV1ys411472E?p=1\u0026amp;vd_source=422eafa6570139128e44a83238959fa0\n","date":"2023-07-16T14:58:17+08:00","image":"https://i.imgur.com/vd5T3J2.png","permalink":"https://hoxtoncraft.com/p/%E4%BB%A5%E5%B9%BE%E4%BD%95%E6%84%8F%E7%BE%A9%E4%BE%86%E7%90%86%E8%A7%A3%E7%B7%9A%E6%80%A7%E4%BB%A3%E6%95%B8/","title":"ä»¥å¹¾ä½•æ„ç¾©ä¾†ç†è§£ç·šæ€§ä»£æ•¸"},{"content":"å‰è¨€ åœ¨ä¸€é–‹å§‹æ¥è§¸Javasriptï¼Œæƒ³è¦è©¦åœ–åšå‡ºä¸€å€‹å°å°ˆæ¡ˆçš„èœé›ï¼Œä¸€å®šéƒ½æœƒé‡åˆ°é€™å€‹ä»¤äººç„¡èªçš„å•é¡Œ\n1 2  var date=new Date() date.getMonth() // 0   ç•¶ä½ æ˜¯ä¸€æœˆæ™‚ï¼Œé€™æœƒå›å‚³0ï¼Œç•¶ä½ æ˜¯12æœˆæ™‚ï¼Œä½ æœƒå›å‚³11ï¼ŒWhy? Javascript Why?\næŠ±è‘—ç„¡èŠçš„å¥½å¥‡å¿ƒï¼Œæˆ‘æ±ºå®šä¾†å»èªçœŸçš„æŸ¥ä¸€ä¸‹é€™å€‹å•é¡Œ\nè¬æƒ¡ä¹‹æº å¤§å®¶éƒ½æœƒèªªJavaè·ŸJavascriptçš„é—œä¿‚çŒ¶å¦‚è‡˜è…¸èˆ‡è‡˜è…¸ç‹—ï¼Œé™¤äº†åå­—ä¸€æ¨£ï¼Œå…©è€…ä¸¦æ²’æœ‰ä»»ä½•å·®è·ã€‚ä½†çŸ¥é“å…©è€…ç™¼å±•æ­·å²çš„äººæ‡‰è©²æœƒçŸ¥é“ï¼Œé€™å…©å€‹ç¨‹å¼èªè¨€åœ¨æ­·å²çš„æŸæ®µæ™‚é–“ç¢ºå¯¦æ˜¯æœ‰ä¸€é»é—œä¿‚çš„ï¼Œè€Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼Javascriptçš„getMonthæœƒæ˜¯-1çš„èµ·å› ä¹‹ä¸€ã€‚\nå¤§å®¶éƒ½çŸ¥é“Javascriptæ˜¯Brendan Eich ç”¨äº†åå¤©å°±å‰µé€ å‡ºä¾†çš„èªè¨€ï¼Œæƒ³ç•¶ç„¶è€Œï¼Œé€™åå¤©ç•¶ç„¶ä¸æ˜¯å¾ç„¡åˆ°æœ‰ï¼Œç•¶ç„¶æ˜¯ç§‰æŒè‘—ä¸è‡ªå·±é€ è¼ªå­ï¼Œèƒ½æŠ„å°±æŠ„ï¼Œèƒ½ç”¨å°±ç”¨çš„æ…‹åº¦ï¼Œåœ¨é€™ç¨®åå¤©è€é—†å°±è¦çœ‹åˆ°æˆæœçš„æƒ…å½¢ä¸‹ï¼Œæœ€ç¾å¯¦çš„çµæœç•¶ç„¶å°±æ˜¯\nã€Œéš¨ä¾¿å¾ä»€éº¼èªè¨€è£¡é¢æŠ“ä¸€å€‹Dateå‡ºä¾†ç”¨ã€\nè€Œé€™å€‹è¢«é¸ä¸­çš„èªè¨€å°±æ˜¯Javaäº†\nhttps://twitter.com/BrendanEich/status/481939099138654209\nhttps://twitter.com/BrendanEich/status/771006397886533632\nè€Œä»–å¼•é€²çš„ç‰ˆæœ¬å°±æ˜¯JDK1.0çš„Date.Utilï¼Œåœ¨é‚£æ™‚å€™\n1 2  Date date = new Date(); System.out.println(\u0026#34;date.getMonth() = \u0026#34; + date.getMonth());   é€™æ±è¥¿ç¢ºå¯¦å°±æ˜¯æœƒå°å‡ºç•¶å‰æœˆä»½-1çš„çµæœï¼ˆå…¶å¯¦åˆ°ç¾åœ¨Java17ä¾ç„¶ä¹Ÿæ˜¯ï¼Œç‚ºäº†è¦ç¤ºç¯„æˆ‘åªæ‰¾å¾—åˆ°1.8ç‰ˆæœ¬çš„JDKäº†ï¼‰\néš¨è‘—Javaç‰ˆæœ¬çš„æ›´è¿­ï¼Œå·²ç¶“ç”¨æ–°çš„Calendarä¾†å¹³ç§»getMonth()çš„æ–¹æ³•äº†ï¼Œä½†å¸«æ‰¿Javaçš„Javascriptä»ç„¶ä¿ç•™è‘—Javaæœ€åŸæ±åŸå‘³çš„é‚£ä¸€ä»½æ­·å²ï¼Œ\nå¾Œä¾†Brendan Eichä¹Ÿè£œå……åˆ°ï¼Œå¾Java import Dateçš„é€™ä»¶äº‹æƒ…ä¸¦ä¸æ˜¯å‡ºè‡ªä»–çš„æ‰‹ï¼Œè€Œæ˜¯ä¾†è‡ªæ–¼ç¶²æ™¯ä¸€åå“¡å·¥çš„å°å·§æ€\nhttps://twitter.com/BrendanEich/status/771006208949891072\nç•¶ä¹‹å¾Œæœ‰äººåœ¨å•ç‚ºä»€éº¼Javascriptçš„ï¼­onthé è¨­éƒ½æœƒ-1æ™‚ï¼Œä½ å°±å¯ä»¥å’Œå°æ–¹åˆ†äº«é€™å€‹å°æ•…äº‹ï¼Œä¸¦å‘Šè¨´å°æ–¹å¯«ç¨‹å¼è¦å°å¿ƒä¸€é»ï¼Œé›£å…ä½ ç¾åœ¨å¯«å‡ºä¾†çš„Bugï¼Œåœ¨20å¹´å¾Œè®Šæˆå¤§å®¶ç¿’ä»¥ç‚ºå¸¸çš„åŠŸèƒ½äº†\u0026gt;/////\u0026lt;\n","date":"2023-07-12T17:51:52+08:00","image":"https://i.imgur.com/nFBYwdj.png","permalink":"https://hoxtoncraft.com/p/%E7%82%BA%E4%BB%80%E9%BA%BCjavascript%E7%9A%84getmonth%E6%9C%83%E6%98%AF-1%E7%9A%84/","title":"ç‚ºä»€éº¼Javascriptçš„getMonthæœƒæ˜¯-1çš„"},{"content":"å‰ä¸€é™£å­åœ¨å¯«DiscordBotçš„æ™‚å€™ï¼Œæ›¾ç¶“åœ¨æ•™å­¸ä¸­çœ‹éé€™ç¨®å¯«æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  public class GymBotConfiguration { @Bean public \u0026lt;T extends Event\u0026gt;GatewayDiscordClient gatewayDiscordClient(final List\u0026lt;EventListener\u0026lt;T\u0026gt;\u0026gt; eventListeners){ final GatewayDiscordClient client = DiscordClientBuilder.create(token) .build() .login() .block(); for (EventListener\u0026lt;T\u0026gt; listener : eventListeners) { client.on(listener.getEventType()) .flatMap(listener::execute) .onErrorResume(listener::handleError) .subscribe(); } return client; } }   å°æ–¼å…¶ä¸­çš„å¯«æ³•æ„Ÿåˆ°éå¸¸å›°æƒ‘ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼å›å‚³å€¼å‰é‚„æœƒæœ‰æ³›å‹ç¬¦è™Ÿï¼Œç›´åˆ°æœ€è¿‘åœ¨ç ”ç©¶ä¸€äº›OpenSourceçš„æ¡†æ¶æ™‚ï¼Œæ‰åˆæ›´äº†è§£é€™ä»¶äº‹æƒ…ã€‚\nå¦‚ä½•å®£å‘Šæ³›å‹ åœ¨è¬›é€™ä»¶äº‹æƒ…ä¹‹å‰ï¼Œè¦å…ˆæœ‰å€‹åŸºç¤çŸ¥è­˜ï¼Œå°±æ˜¯é—œæ–¼Javaæ˜¯å¦‚ä½•å®£å‘Šä¸€å€‹æ³›å‹Classçš„ï¼Œå…¶å¯¦å°±æ˜¯åœ¨Classå¾Œé¢åŠ ä¸Š\u0026lt;T\u0026gt;å°±å¯ä»¥äº†\n1 2 3  public class Link\u0026lt;E\u0026gt; { }   å¦‚æ­¤ä¸€ä¾†ï¼Œå°±å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹å‰µå»ºä¸€å€‹æ³›å‹çš„Linké¡\n1  Link link=new Link\u0026lt;Integer\u0026gt;;   ç¾åœ¨æˆ‘å€‘åœ¨é€™å€‹Linké¡è£¡æ–°å¢ä¸€å€‹æ–¹æ³•\n1 2 3 4 5 6 7  public class Link\u0026lt;E\u0026gt; { public List\u0026lt;E\u0026gt; addToList(E t){ List\u0026lt;E\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(t); return list; } }   é€™å€‹æ–¹æ³•æœƒæŠŠå‚³é€²ä¾†çš„å€¼ï¼ŒåŒ…è£æˆä¸€å€‹ArrayListä¸¦å›å‚³å‡ºå»ï¼Œè€Œå®ƒåƒæ•¸çš„å‹åˆ¥å‰‡æ˜¯èˆ‡Linkçš„æ³›å‹ä¸€è‡´ï¼Œæ¯”å¦‚èªª\n1 2 3 4  public static main(String[] arg){ Link link=new Link\u0026lt;String\u0026gt;; List\u0026lt;String\u0026gt; list=link.add(\u0026#34;æ—©å®‰\u0026#34;); }   ä¹Ÿå°±æ˜¯èªªaddToListé€™å€‹æ–¹æ³•çš„å‹åˆ¥å’ŒLinkçš„æ³›å‹å‹åˆ¥æ˜¯ç¶å®šåœ¨ä¸€èµ·çš„ã€‚\nä½•è¬‚å›å‚³å‹åˆ¥å‰çš„æ³›å‹ æ‰¿ä¸Šï¼Œå› ç‚ºæ–¹æ³•çš„åƒæ•¸å‹åˆ¥èˆ‡é¡çš„æ³›å‹å‹åˆ¥åŸºæœ¬ä¸Šç¶å®šåœ¨ä¸€èµ·ï¼Œå¦‚æœæˆ‘å®£å‘Šäº†ä¸€å€‹Link\u0026lt;Integer\u0026gt;ï¼Œæˆ‘çš„addToListå°±åªèƒ½åƒIntegerçš„åƒæ•¸ï¼Œé‚£ç‚ºäº†è¦è§£æ±ºé€™ç¨®å•é¡Œï¼Œå°±æœ‰äº†åœ¨å›å‚³å‹åˆ¥å‰çš„æ³›å‹çš„å¯«æ³•ï¼Œé‡‹ä¾‹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  public class Link\u0026lt;E\u0026gt; { public List\u0026lt;E\u0026gt; addToList(E t){ List\u0026lt;E\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(t); return list; } public\u0026lt;E\u0026gt;List\u0026lt;E\u0026gt; addToList2(E t){ List\u0026lt;E\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(t); return list; } }   å¯ä»¥çœ‹åˆ°addToList2é€™å€‹æ–¹æ³•çš„å›å‚³å€¼List\u0026lt;E\u0026gt;å‰ï¼Œæˆ‘åŠ äº†ä¸€å€‹\u0026lt;E\u0026gt;ï¼Œå…ˆåˆ¥ç®¡é€™å€‹åˆ°åº•èƒ½åšä»€éº¼ï¼Œæˆ‘å€‘ç¾åœ¨å…ˆä½¿ç”¨é€™å€‹æ–¹æ³•çœ‹çœ‹\né€™æ™‚å€™ä½ ç™¼ç¾äº†ï¼ŒaddToList2èƒ½åƒçš„åƒæ•¸è®ŠæˆObjecté¡äº†ï¼Œç•¶æˆ‘å€‘è¼¸å…¥ä¸€å€‹String\nè¼¸å…¥ä¸€å€‹Double\nä¹Ÿå¯ä»¥è¼¸å…¥ä¸€å€‹è‡ªå®šç¾©çš„é¡\nå¯ä»¥æ„Ÿå—åˆ°addToListè·ŸaddToList2çš„å·®ç•°äº†å—ï¼Ÿæ²’éŒ¯ï¼ŒaddToList2çš„æ³›å‹ä¸å—Linkçš„å½±éŸ¿ï¼Œå¯ä»¥è‡ªå·±æœ‰è‡ªå·±çš„æ³›å‹\næ‡‰ç”¨ é€™æ¨£çš„ç”¨æ³•ä¸åªå¯ä»¥æ‹¿ä¾†ç”¨åœ¨æ³›å‹é¡è£¡çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ä¸€å€‹éæ³›å‹é¡ï¼Œæ¯”å¦‚èªª\n1 2 3 4 5 6 7  public class Student { public List\u0026lt;Student\u0026gt; addPeopleList(Student student){ ArrayList\u0026lt;Student\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(student); return list; } }   ä»Šå¤©æˆ‘å€‘å¸Œæœ›é€™å€‹addPeopleListçš„æ–¹æ³•å¯ä»¥åƒä»»ä½•å‹åˆ¥çš„åƒæ•¸ï¼Œæˆ‘å€‘å¦‚æœé€™æ¨£å¯«æ˜¯æœƒå ±éŒ¯çš„\nåŸå› å°±åœ¨æ–¼æˆ‘å€‘ä¸¦æ²’æœ‰ä¸€å€‹åœ°æ–¹å‘Šè¨´ç·¨è­¯å™¨ï¼Œä»€éº¼æ˜¯Tï¼Œå› ç‚ºæˆ‘å€‘çš„Studenté¡ä¸¦ä¸æ˜¯ä¸€å€‹æ³›å‹é¡ï¼Œä½†å¯¦å‹™ä¸Šï¼Œæˆ‘å€‘åˆä¸å¤ªå¯èƒ½å»ä¿®æ”¹åŸæœ‰çš„é¡ï¼Œé¿å…ç ´å£æ‰ä¸€äº›æ±è¥¿ï¼Œæ‰€ä»¥æˆ‘å€‘ä¿®æ”¹addPeopleListï¼Œè®“å®ƒè®Šæˆé€™æ¨£\nå¦‚æ­¤ä¸€ä¾†ï¼ŒaddPeopleListå°±å¯ä»¥åƒä»»ä½•å‹åˆ¥çš„åƒæ•¸äº†ï¼Œä»¥ä¸Šå°±æ˜¯æ‰€è¬‚çš„æ³›å‹æ–¹æ³•ç´„æŸã€‚\n","date":"2023-07-11T00:03:03+08:00","image":"https://i.imgur.com/Y9pLlYY.png","permalink":"https://hoxtoncraft.com/p/java%E4%B8%AD%E5%9B%9E%E5%82%B3%E5%80%BC%E5%89%8D%E7%9A%84%E6%B3%9B%E5%9E%8B%E6%A8%99%E8%AD%98%E7%AC%A6%E6%98%AF%E4%BB%80%E9%BA%BC%E6%84%8F%E6%80%9D%E5%91%A2/","title":"Javaä¸­å›å‚³å€¼å‰çš„æ³›å‹æ¨™è­˜ç¬¦æ˜¯ä»€éº¼æ„æ€å‘¢"},{"content":"æœ€è¿‘æ›äº†ä¸€ä»½æ–°å·¥ä½œï¼Œç™¼ç¾æˆ‘ä¸€ç›´ä»¥ä¾†å¹³æ·¡ç„¡æƒ…çš„MavenåŸä¾†ä¹Ÿæ˜¯æœ‰å¾ˆå¤šç´°ç¯€çš„ï¼ˆæˆ‘ä¸€ç›´ä»¥ç‚ºå°±åªæ˜¯ä¸€å€‹æ‹¿ä¾†è‡ªå‹•ä¸‹è¼‰Jarçš„ç„¡æƒ…æ©Ÿå™¨è€Œå·²ï¼‰ï¼Œå…¶å¯¦Mavençš„pom.xmlçš„åç¨±å…¶å¯¦å°±å·²ç¶“éš±å«äº†å®ƒçš„åŠŸèƒ½\nProject Object Modelï¼ˆå°ˆæ¡ˆç‰©ä»¶æ¨¡å‹ï¼‰\næœ›æ–‡ç”Ÿç¾©å…¶å¯¦ä¹Ÿå¯ä»¥æ„Ÿå—åˆ°å®ƒå°±æ˜¯ç”¨ä¾†ç®¡ç†å°ˆæ¡ˆã€æˆ–å°ˆæ¡ˆèˆ‡å°ˆæ¡ˆä¹‹é–“é—œä¿‚çš„ä¸€å€‹æª”æ¡ˆï¼Œé€™ç¯‡æ–‡ç« çš„ä¸»é¡Œæ˜¯æˆ‘æƒ³è¦äº†è§£Maven Moduleç®¡ç†çš„éƒ¨åˆ†\nMavené …ç›®çµæ§‹ è¶…ç´šPOM 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603  pomä½œä¸ºé¡¹ç›®å¯¹è±¡æ¨¡å‹ã€‚é€šè¿‡xmlè¡¨ç¤ºmavené¡¹ç›®ï¼Œä½¿ç”¨pom.xmlæ¥å®ç°ã€‚ ä¸»è¦æè¿°äº†é¡¹ç›®ï¼šåŒ…æ‹¬é…ç½®æ–‡ä»¶ï¼›å¼€å‘è€…éœ€è¦éµå¾ªçš„è§„åˆ™ï¼Œç¼ºé™·ç®¡ç†ç³»ç»Ÿï¼Œç»„ç»‡å’Œlicensesï¼Œé¡¹ç›®çš„urlï¼Œé¡¹ç›®çš„ä¾èµ–æ€§ï¼Œä»¥åŠå…¶ä»–æ‰€æœ‰çš„é¡¹ç›®ç›¸å…³å› ç´ ã€‚ \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0http://maven.apache.org/maven-v4_0_0.xsd\u0026#34;\u0026gt; \u0026lt;!--çˆ¶é¡¹ç›®çš„åæ ‡ã€‚å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰è§„å®šæŸä¸ªå…ƒç´ çš„å€¼ï¼Œé‚£ä¹ˆçˆ¶é¡¹ç›®ä¸­çš„å¯¹åº”å€¼å³ä¸ºé¡¹ç›®çš„é»˜è®¤å€¼ã€‚ åæ ‡åŒ…æ‹¬group IDï¼Œartifact IDå’Œ versionã€‚--\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;!--è¢«ç»§æ‰¿çš„çˆ¶é¡¹ç›®çš„æ„ä»¶æ ‡è¯†ç¬¦--\u0026gt; \u0026lt;artifactId/\u0026gt; \u0026lt;!--è¢«ç»§æ‰¿çš„çˆ¶é¡¹ç›®çš„å…¨çƒå”¯ä¸€æ ‡è¯†ç¬¦--\u0026gt; \u0026lt;groupId/\u0026gt; \u0026lt;!--è¢«ç»§æ‰¿çš„çˆ¶é¡¹ç›®çš„ç‰ˆæœ¬--\u0026gt; \u0026lt;version/\u0026gt; \u0026lt;!-- çˆ¶é¡¹ç›®çš„pom.xmlæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚ç›¸å¯¹è·¯å¾„å…è®¸ä½ é€‰æ‹©ä¸€ä¸ªä¸åŒçš„è·¯å¾„ã€‚é»˜è®¤å€¼æ˜¯../pom.xmlã€‚Mavené¦–å…ˆåœ¨æ„å»ºå½“å‰é¡¹ç›®çš„åœ°æ–¹å¯»æ‰¾çˆ¶é¡¹ ç›®çš„pomï¼Œå…¶æ¬¡åœ¨æ–‡ä»¶ç³»ç»Ÿçš„è¿™ä¸ªä½ç½®ï¼ˆrelativePathä½ç½®ï¼‰ï¼Œç„¶ååœ¨æœ¬åœ°ä»“åº“ï¼Œæœ€ååœ¨è¿œç¨‹ä»“åº“å¯»æ‰¾çˆ¶é¡¹ç›®çš„pomã€‚--\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;!--å£°æ˜é¡¹ç›®æè¿°ç¬¦éµå¾ªå“ªä¸€ä¸ªPOMæ¨¡å‹ç‰ˆæœ¬ã€‚æ¨¡å‹æœ¬èº«çš„ç‰ˆæœ¬å¾ˆå°‘æ”¹å˜ï¼Œè™½ç„¶å¦‚æ­¤ï¼Œä½†å®ƒä»ç„¶æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè¿™æ˜¯ä¸ºäº†å½“Mavenå¼•å…¥äº†æ–°çš„ç‰¹æ€§æˆ–è€…å…¶ä»–æ¨¡å‹å˜æ›´çš„æ—¶å€™ï¼Œç¡®ä¿ç¨³å®šæ€§ã€‚--\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;!--é¡¹ç›®çš„å…¨çƒå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œé€šå¸¸ä½¿ç”¨å…¨é™å®šçš„åŒ…ååŒºåˆ†è¯¥é¡¹ç›®å’Œå…¶ä»–é¡¹ç›®ã€‚å¹¶ä¸”æ„å»ºæ—¶ç”Ÿæˆçš„è·¯å¾„ä¹Ÿæ˜¯ç”±æ­¤ç”Ÿæˆï¼Œ å¦‚com.mycompany.appç”Ÿæˆçš„ç›¸å¯¹è·¯å¾„ä¸ºï¼š/com/mycompany/app--\u0026gt; \u0026lt;groupId\u0026gt;asia.banseon\u0026lt;/groupId\u0026gt; \u0026lt;!-- æ„ä»¶çš„æ ‡è¯†ç¬¦ï¼Œå®ƒå’Œgroup IDä¸€èµ·å”¯ä¸€æ ‡è¯†ä¸€ä¸ªæ„ä»¶ã€‚æ¢å¥è¯è¯´ï¼Œä½ ä¸èƒ½æœ‰ä¸¤ä¸ªä¸åŒçš„é¡¹ç›®æ‹¥æœ‰åŒæ ·çš„artifact IDå’ŒgroupIDï¼›åœ¨æŸä¸ª ç‰¹å®šçš„group IDä¸‹ï¼Œartifact IDä¹Ÿå¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚æ„ä»¶æ˜¯é¡¹ç›®äº§ç”Ÿçš„æˆ–ä½¿ç”¨çš„ä¸€ä¸ªä¸œè¥¿ï¼ŒMavenä¸ºé¡¹ç›®äº§ç”Ÿçš„æ„ä»¶åŒ…æ‹¬ï¼šJARsï¼Œæº ç ï¼ŒäºŒè¿›åˆ¶å‘å¸ƒå’ŒWARsç­‰ã€‚--\u0026gt; \u0026lt;artifactId\u0026gt;banseon-maven2\u0026lt;/artifactId\u0026gt; \u0026lt;!--é¡¹ç›®äº§ç”Ÿçš„æ„ä»¶ç±»å‹ï¼Œä¾‹å¦‚jarã€warã€earã€pomã€‚æ’ä»¶å¯ä»¥åˆ›å»ºä»–ä»¬è‡ªå·±çš„æ„ä»¶ç±»å‹ï¼Œæ‰€ä»¥å‰é¢åˆ—çš„ä¸æ˜¯å…¨éƒ¨æ„ä»¶ç±»å‹--\u0026gt; \u0026lt;packaging\u0026gt;jar\u0026lt;/packaging\u0026gt; \u0026lt;!--é¡¹ç›®å½“å‰ç‰ˆæœ¬ï¼Œæ ¼å¼ä¸º:ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.å¢é‡ç‰ˆæœ¬-é™å®šç‰ˆæœ¬å·--\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!--é¡¹ç›®çš„åç§°, Mavenäº§ç”Ÿçš„æ–‡æ¡£ç”¨--\u0026gt; \u0026lt;name\u0026gt;banseon-maven\u0026lt;/name\u0026gt; \u0026lt;!--é¡¹ç›®ä¸»é¡µçš„URL, Mavenäº§ç”Ÿçš„æ–‡æ¡£ç”¨--\u0026gt; \u0026lt;url\u0026gt;http://www.baidu.com/banseon\u0026lt;/url\u0026gt; \u0026lt;!-- é¡¹ç›®çš„è¯¦ç»†æè¿°, Maven äº§ç”Ÿçš„æ–‡æ¡£ç”¨ã€‚ å½“è¿™ä¸ªå…ƒç´ èƒ½å¤Ÿç”¨HTMLæ ¼å¼æè¿°æ—¶ï¼ˆä¾‹å¦‚ï¼ŒCDATAä¸­çš„æ–‡æœ¬ä¼šè¢«è§£æå™¨å¿½ç•¥ï¼Œå°±å¯ä»¥åŒ…å«HTMLæ ‡ ç­¾ï¼‰ï¼Œ ä¸é¼“åŠ±ä½¿ç”¨çº¯æ–‡æœ¬æè¿°ã€‚å¦‚æœä½ éœ€è¦ä¿®æ”¹äº§ç”Ÿçš„webç«™ç‚¹çš„ç´¢å¼•é¡µé¢ï¼Œä½ åº”è¯¥ä¿®æ”¹ä½ è‡ªå·±çš„ç´¢å¼•é¡µæ–‡ä»¶ï¼Œè€Œä¸æ˜¯è°ƒæ•´è¿™é‡Œçš„æ–‡æ¡£ã€‚--\u0026gt; \u0026lt;description\u0026gt;A maven project to study maven.\u0026lt;/description\u0026gt; \u0026lt;!--æè¿°äº†è¿™ä¸ªé¡¹ç›®æ„å»ºç¯å¢ƒä¸­çš„å‰ææ¡ä»¶ã€‚--\u0026gt; \u0026lt;prerequisites\u0026gt; \u0026lt;!--æ„å»ºè¯¥é¡¹ç›®æˆ–ä½¿ç”¨è¯¥æ’ä»¶æ‰€éœ€è¦çš„Mavençš„æœ€ä½ç‰ˆæœ¬--\u0026gt; \u0026lt;maven/\u0026gt; \u0026lt;/prerequisites\u0026gt; \u0026lt;!--é¡¹ç›®çš„é—®é¢˜ç®¡ç†ç³»ç»Ÿ(Bugzilla, Jira, Scarab,æˆ–ä»»ä½•ä½ å–œæ¬¢çš„é—®é¢˜ç®¡ç†ç³»ç»Ÿ)çš„åç§°å’ŒURLï¼Œæœ¬ä¾‹ä¸º jira--\u0026gt; \u0026lt;issueManagement\u0026gt; \u0026lt;!--é—®é¢˜ç®¡ç†ç³»ç»Ÿï¼ˆä¾‹å¦‚jiraï¼‰çš„åå­—ï¼Œ--\u0026gt; \u0026lt;system\u0026gt;jira\u0026lt;/system\u0026gt; \u0026lt;!--è¯¥é¡¹ç›®ä½¿ç”¨çš„é—®é¢˜ç®¡ç†ç³»ç»Ÿçš„URL--\u0026gt; \u0026lt;url\u0026gt;http://jira.baidu.com/banseon\u0026lt;/url\u0026gt; \u0026lt;/issueManagement\u0026gt; \u0026lt;!--é¡¹ç›®æŒç»­é›†æˆä¿¡æ¯--\u0026gt; \u0026lt;ciManagement\u0026gt; \u0026lt;!--æŒç»­é›†æˆç³»ç»Ÿçš„åå­—ï¼Œä¾‹å¦‚continuum--\u0026gt; \u0026lt;system/\u0026gt; \u0026lt;!--è¯¥é¡¹ç›®ä½¿ç”¨çš„æŒç»­é›†æˆç³»ç»Ÿçš„URLï¼ˆå¦‚æœæŒç»­é›†æˆç³»ç»Ÿæœ‰webæ¥å£çš„è¯ï¼‰ã€‚--\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;!--æ„å»ºå®Œæˆæ—¶ï¼Œéœ€è¦é€šçŸ¥çš„å¼€å‘è€…/ç”¨æˆ·çš„é…ç½®é¡¹ã€‚åŒ…æ‹¬è¢«é€šçŸ¥è€…ä¿¡æ¯å’Œé€šçŸ¥æ¡ä»¶ï¼ˆé”™è¯¯ï¼Œå¤±è´¥ï¼ŒæˆåŠŸï¼Œè­¦å‘Šï¼‰--\u0026gt; \u0026lt;notifiers\u0026gt; \u0026lt;!--é…ç½®ä¸€ç§æ–¹å¼ï¼Œå½“æ„å»ºä¸­æ–­æ—¶ï¼Œä»¥è¯¥æ–¹å¼é€šçŸ¥ç”¨æˆ·/å¼€å‘è€…--\u0026gt; \u0026lt;notifier\u0026gt; \u0026lt;!--ä¼ é€é€šçŸ¥çš„é€”å¾„--\u0026gt; \u0026lt;type/\u0026gt; \u0026lt;!--å‘ç”Ÿé”™è¯¯æ—¶æ˜¯å¦é€šçŸ¥--\u0026gt; \u0026lt;sendOnError/\u0026gt; \u0026lt;!--æ„å»ºå¤±è´¥æ—¶æ˜¯å¦é€šçŸ¥--\u0026gt; \u0026lt;sendOnFailure/\u0026gt; \u0026lt;!--æ„å»ºæˆåŠŸæ—¶æ˜¯å¦é€šçŸ¥--\u0026gt; \u0026lt;sendOnSuccess/\u0026gt; \u0026lt;!--å‘ç”Ÿè­¦å‘Šæ—¶æ˜¯å¦é€šçŸ¥--\u0026gt; \u0026lt;sendOnWarning/\u0026gt; \u0026lt;!--ä¸èµæˆä½¿ç”¨ã€‚é€šçŸ¥å‘é€åˆ°å“ªé‡Œ--\u0026gt; \u0026lt;address/\u0026gt; \u0026lt;!--æ‰©å±•é…ç½®é¡¹--\u0026gt; \u0026lt;configuration/\u0026gt; \u0026lt;/notifier\u0026gt; \u0026lt;/notifiers\u0026gt; \u0026lt;/ciManagement\u0026gt; \u0026lt;!--é¡¹ç›®åˆ›å»ºå¹´ä»½ï¼Œ4ä½æ•°å­—ã€‚å½“äº§ç”Ÿç‰ˆæƒä¿¡æ¯æ—¶éœ€è¦ä½¿ç”¨è¿™ä¸ªå€¼ã€‚--\u0026gt; \u0026lt;inceptionYear/\u0026gt; \u0026lt;!--é¡¹ç›®ç›¸å…³é‚®ä»¶åˆ—è¡¨ä¿¡æ¯--\u0026gt; \u0026lt;mailingLists\u0026gt; \u0026lt;!--è¯¥å…ƒç´ æè¿°äº†é¡¹ç›®ç›¸å…³çš„æ‰€æœ‰é‚®ä»¶åˆ—è¡¨ã€‚è‡ªåŠ¨äº§ç”Ÿçš„ç½‘ç«™å¼•ç”¨è¿™äº›ä¿¡æ¯ã€‚--\u0026gt; \u0026lt;mailingList\u0026gt; \u0026lt;!--é‚®ä»¶çš„åç§°--\u0026gt; \u0026lt;name\u0026gt;Demo\u0026lt;/name\u0026gt; \u0026lt;!--å‘é€é‚®ä»¶çš„åœ°å€æˆ–é“¾æ¥ï¼Œå¦‚æœæ˜¯é‚®ä»¶åœ°å€ï¼Œåˆ›å»ºæ–‡æ¡£æ—¶ï¼Œmailto: é“¾æ¥ä¼šè¢«è‡ªåŠ¨åˆ›å»º--\u0026gt; \u0026lt;post\u0026gt;banseon@126.com\u0026lt;/post\u0026gt; \u0026lt;!--è®¢é˜…é‚®ä»¶çš„åœ°å€æˆ–é“¾æ¥ï¼Œå¦‚æœæ˜¯é‚®ä»¶åœ°å€ï¼Œåˆ›å»ºæ–‡æ¡£æ—¶ï¼Œmailto: é“¾æ¥ä¼šè¢«è‡ªåŠ¨åˆ›å»º--\u0026gt; \u0026lt;subscribe\u0026gt;banseon@126.com\u0026lt;/subscribe\u0026gt; \u0026lt;!--å–æ¶ˆè®¢é˜…é‚®ä»¶çš„åœ°å€æˆ–é“¾æ¥ï¼Œå¦‚æœæ˜¯é‚®ä»¶åœ°å€ï¼Œåˆ›å»ºæ–‡æ¡£æ—¶ï¼Œmailto: é“¾æ¥ä¼šè¢«è‡ªåŠ¨åˆ›å»º--\u0026gt; \u0026lt;unsubscribe\u0026gt;banseon@126.com\u0026lt;/unsubscribe\u0026gt; \u0026lt;!--ä½ å¯ä»¥æµè§ˆé‚®ä»¶ä¿¡æ¯çš„URL--\u0026gt; \u0026lt;archive\u0026gt;http:/hi.baidu.com/banseon/demo/dev/\u0026lt;/archive\u0026gt; \u0026lt;/mailingList\u0026gt; \u0026lt;/mailingLists\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…åˆ—è¡¨--\u0026gt; \u0026lt;developers\u0026gt; \u0026lt;!--æŸä¸ªé¡¹ç›®å¼€å‘è€…çš„ä¿¡æ¯--\u0026gt; \u0026lt;developer\u0026gt; \u0026lt;!--SCMé‡Œé¡¹ç›®å¼€å‘è€…çš„å”¯ä¸€æ ‡è¯†ç¬¦--\u0026gt; \u0026lt;id\u0026gt;HELLO WORLD\u0026lt;/id\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…çš„å…¨å--\u0026gt; \u0026lt;name\u0026gt;banseon\u0026lt;/name\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…çš„email--\u0026gt; \u0026lt;email\u0026gt;banseon@126.com\u0026lt;/email\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…çš„ä¸»é¡µçš„URL--\u0026gt; \u0026lt;url/\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…åœ¨é¡¹ç›®ä¸­æ‰®æ¼”çš„è§’è‰²ï¼Œè§’è‰²å…ƒç´ æè¿°äº†å„ç§è§’è‰²--\u0026gt; \u0026lt;roles\u0026gt; \u0026lt;role\u0026gt;Project Manager\u0026lt;/role\u0026gt; \u0026lt;role\u0026gt;Architect\u0026lt;/role\u0026gt; \u0026lt;/roles\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…æ‰€å±ç»„ç»‡--\u0026gt; \u0026lt;organization\u0026gt;demo\u0026lt;/organization\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…æ‰€å±ç»„ç»‡çš„URL--\u0026gt; \u0026lt;organizationUrl\u0026gt;http://hi.baidu.com/banseon\u0026lt;/organizationUrl\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…å±æ€§ï¼Œå¦‚å³æ—¶æ¶ˆæ¯å¦‚ä½•å¤„ç†ç­‰--\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;dept\u0026gt;No\u0026lt;/dept\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;!--é¡¹ç›®å¼€å‘è€…æ‰€åœ¨æ—¶åŒºï¼Œ -11åˆ°12èŒƒå›´å†…çš„æ•´æ•°ã€‚--\u0026gt; \u0026lt;timezone\u0026gt;-5\u0026lt;/timezone\u0026gt; \u0026lt;/developer\u0026gt; \u0026lt;/developers\u0026gt; \u0026lt;!--é¡¹ç›®çš„å…¶ä»–è´¡çŒ®è€…åˆ—è¡¨--\u0026gt; \u0026lt;contributors\u0026gt; \u0026lt;!--é¡¹ç›®çš„å…¶ä»–è´¡çŒ®è€…ã€‚å‚è§developers/developerå…ƒç´ --\u0026gt; \u0026lt;contributor\u0026gt; \u0026lt;name/\u0026gt;\u0026lt;email/\u0026gt;\u0026lt;url/\u0026gt;\u0026lt;organization/\u0026gt;\u0026lt;organizationUrl/\u0026gt;\u0026lt;roles/\u0026gt;\u0026lt;timezone/\u0026gt;\u0026lt;properties/\u0026gt; \u0026lt;/contributor\u0026gt; \u0026lt;/contributors\u0026gt; \u0026lt;!--è¯¥å…ƒç´ æè¿°äº†é¡¹ç›®æ‰€æœ‰Licenseåˆ—è¡¨ã€‚ åº”è¯¥åªåˆ—å‡ºè¯¥é¡¹ç›®çš„licenseåˆ—è¡¨ï¼Œä¸è¦åˆ—å‡ºä¾èµ–é¡¹ç›®çš„ licenseåˆ—è¡¨ã€‚å¦‚æœåˆ—å‡ºå¤šä¸ªlicenseï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å®ƒä»¬ä¸­çš„ä¸€ä¸ªè€Œä¸æ˜¯æ¥å—æ‰€æœ‰licenseã€‚--\u0026gt; \u0026lt;licenses\u0026gt; \u0026lt;!--æè¿°äº†é¡¹ç›®çš„licenseï¼Œç”¨äºç”Ÿæˆé¡¹ç›®çš„webç«™ç‚¹çš„licenseé¡µé¢ï¼Œå…¶ä»–ä¸€äº›æŠ¥è¡¨å’Œvalidationä¹Ÿä¼šç”¨åˆ°è¯¥å…ƒç´ ã€‚--\u0026gt; \u0026lt;license\u0026gt; \u0026lt;!--licenseç”¨äºæ³•å¾‹ä¸Šçš„åç§°--\u0026gt; \u0026lt;name\u0026gt;Apache 2\u0026lt;/name\u0026gt; \u0026lt;!--å®˜æ–¹çš„licenseæ­£æ–‡é¡µé¢çš„URL--\u0026gt; \u0026lt;url\u0026gt;http://www.baidu.com/banseon/LICENSE-2.0.txt\u0026lt;/url\u0026gt; \u0026lt;!--é¡¹ç›®åˆ†å‘çš„ä¸»è¦æ–¹å¼ï¼š repoï¼Œå¯ä»¥ä»Mavenåº“ä¸‹è½½ manualï¼Œ ç”¨æˆ·å¿…é¡»æ‰‹åŠ¨ä¸‹è½½å’Œå®‰è£…ä¾èµ–--\u0026gt; \u0026lt;distribution\u0026gt;repo\u0026lt;/distribution\u0026gt; \u0026lt;!--å…³äºlicenseçš„è¡¥å……ä¿¡æ¯--\u0026gt; \u0026lt;comments\u0026gt;A business-friendly OSS license\u0026lt;/comments\u0026gt; \u0026lt;/license\u0026gt; \u0026lt;/licenses\u0026gt; \u0026lt;!--SCM(Source Control Management)æ ‡ç­¾å…è®¸ä½ é…ç½®ä½ çš„ä»£ç åº“ï¼Œä¾›Maven webç«™ç‚¹å’Œå…¶å®ƒæ’ä»¶ä½¿ç”¨ã€‚--\u0026gt; \u0026lt;scm\u0026gt; \u0026lt;!--SCMçš„URL,è¯¥URLæè¿°äº†ç‰ˆæœ¬åº“å’Œå¦‚ä½•è¿æ¥åˆ°ç‰ˆæœ¬åº“ã€‚æ¬²çŸ¥è¯¦æƒ…ï¼Œè¯·çœ‹SCMsæä¾›çš„URLæ ¼å¼å’Œåˆ—è¡¨ã€‚è¯¥è¿æ¥åªè¯»ã€‚--\u0026gt; \u0026lt;connection\u0026gt; scm:svn:http://svn.baidu.com/banseon/maven/banseon/banseon-maven2-trunk(dao-trunk) \u0026lt;/connection\u0026gt; \u0026lt;!--ç»™å¼€å‘è€…ä½¿ç”¨çš„ï¼Œç±»ä¼¼connectionå…ƒç´ ã€‚å³è¯¥è¿æ¥ä¸ä»…ä»…åªè¯»--\u0026gt; \u0026lt;developerConnection\u0026gt; scm:svn:http://svn.baidu.com/banseon/maven/banseon/dao-trunk \u0026lt;/developerConnection\u0026gt; \u0026lt;!--å½“å‰ä»£ç çš„æ ‡ç­¾ï¼Œåœ¨å¼€å‘é˜¶æ®µé»˜è®¤ä¸ºHEAD--\u0026gt; \u0026lt;tag/\u0026gt; \u0026lt;!--æŒ‡å‘é¡¹ç›®çš„å¯æµè§ˆSCMåº“ï¼ˆä¾‹å¦‚ViewVCæˆ–è€…Fisheyeï¼‰çš„URLã€‚--\u0026gt; \u0026lt;url\u0026gt;http://svn.baidu.com/banseon\u0026lt;/url\u0026gt; \u0026lt;/scm\u0026gt; \u0026lt;!--æè¿°é¡¹ç›®æ‰€å±ç»„ç»‡çš„å„ç§å±æ€§ã€‚Mavenäº§ç”Ÿçš„æ–‡æ¡£ç”¨--\u0026gt; \u0026lt;organization\u0026gt; \u0026lt;!--ç»„ç»‡çš„å…¨å--\u0026gt; \u0026lt;name\u0026gt;demo\u0026lt;/name\u0026gt; \u0026lt;!--ç»„ç»‡ä¸»é¡µçš„URL--\u0026gt; \u0026lt;url\u0026gt;http://www.baidu.com/banseon\u0026lt;/url\u0026gt; \u0026lt;/organization\u0026gt; \u0026lt;!--æ„å»ºé¡¹ç›®éœ€è¦çš„ä¿¡æ¯--\u0026gt; \u0026lt;build\u0026gt; \u0026lt;!--è¯¥å…ƒç´ è®¾ç½®äº†é¡¹ç›®æºç ç›®å½•ï¼Œå½“æ„å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæ„å»ºç³»ç»Ÿä¼šç¼–è¯‘ç›®å½•é‡Œçš„æºç ã€‚è¯¥è·¯å¾„æ˜¯ç›¸å¯¹äºpom.xmlçš„ç›¸å¯¹è·¯å¾„ã€‚--\u0026gt; \u0026lt;sourceDirectory/\u0026gt; \u0026lt;!--è¯¥å…ƒç´ è®¾ç½®äº†é¡¹ç›®è„šæœ¬æºç ç›®å½•ï¼Œè¯¥ç›®å½•å’Œæºç ç›®å½•ä¸åŒï¼šç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯¥ç›®å½•ä¸‹çš„å†…å®¹ ä¼šè¢«æ‹·è´åˆ°è¾“å‡ºç›®å½•(å› ä¸ºè„šæœ¬æ˜¯è¢«è§£é‡Šçš„ï¼Œè€Œä¸æ˜¯è¢«ç¼–è¯‘çš„)ã€‚--\u0026gt; \u0026lt;scriptSourceDirectory/\u0026gt; \u0026lt;!--è¯¥å…ƒç´ è®¾ç½®äº†é¡¹ç›®å•å…ƒæµ‹è¯•ä½¿ç”¨çš„æºç ç›®å½•ï¼Œå½“æµ‹è¯•é¡¹ç›®çš„æ—¶å€™ï¼Œæ„å»ºç³»ç»Ÿä¼šç¼–è¯‘ç›®å½•é‡Œçš„æºç ã€‚è¯¥è·¯å¾„æ˜¯ç›¸å¯¹äºpom.xmlçš„ç›¸å¯¹è·¯å¾„ã€‚--\u0026gt; \u0026lt;testSourceDirectory/\u0026gt; \u0026lt;!--è¢«ç¼–è¯‘è¿‡çš„åº”ç”¨ç¨‹åºclassæ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚--\u0026gt; \u0026lt;outputDirectory/\u0026gt; \u0026lt;!--è¢«ç¼–è¯‘è¿‡çš„æµ‹è¯•classæ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚--\u0026gt; \u0026lt;testOutputDirectory/\u0026gt; \u0026lt;!--ä½¿ç”¨æ¥è‡ªè¯¥é¡¹ç›®çš„ä¸€ç³»åˆ—æ„å»ºæ‰©å±•--\u0026gt; \u0026lt;extensions\u0026gt; \u0026lt;!--æè¿°ä½¿ç”¨åˆ°çš„æ„å»ºæ‰©å±•ã€‚--\u0026gt; \u0026lt;extension\u0026gt; \u0026lt;!--æ„å»ºæ‰©å±•çš„groupId--\u0026gt; \u0026lt;groupId/\u0026gt; \u0026lt;!--æ„å»ºæ‰©å±•çš„artifactId--\u0026gt; \u0026lt;artifactId/\u0026gt; \u0026lt;!--æ„å»ºæ‰©å±•çš„ç‰ˆæœ¬--\u0026gt; \u0026lt;version/\u0026gt; \u0026lt;/extension\u0026gt; \u0026lt;/extensions\u0026gt; \u0026lt;!--å½“é¡¹ç›®æ²¡æœ‰è§„å®šç›®æ ‡ï¼ˆMaven2 å«åšé˜¶æ®µï¼‰æ—¶çš„é»˜è®¤å€¼--\u0026gt; \u0026lt;defaultGoal/\u0026gt; \u0026lt;!--è¿™ä¸ªå…ƒç´ æè¿°äº†é¡¹ç›®ç›¸å…³çš„æ‰€æœ‰èµ„æºè·¯å¾„åˆ—è¡¨ï¼Œä¾‹å¦‚å’Œé¡¹ç›®ç›¸å…³çš„å±æ€§æ–‡ä»¶ï¼Œè¿™äº›èµ„æºè¢«åŒ…å«åœ¨æœ€ç»ˆçš„æ‰“åŒ…æ–‡ä»¶é‡Œã€‚--\u0026gt; \u0026lt;resources\u0026gt; \u0026lt;!--è¿™ä¸ªå…ƒç´ æè¿°äº†é¡¹ç›®ç›¸å…³æˆ–æµ‹è¯•ç›¸å…³çš„æ‰€æœ‰èµ„æºè·¯å¾„--\u0026gt; \u0026lt;resource\u0026gt; \u0026lt;!-- æè¿°äº†èµ„æºçš„ç›®æ ‡è·¯å¾„ã€‚è¯¥è·¯å¾„ç›¸å¯¹target/classesç›®å½•ï¼ˆä¾‹å¦‚${project.build.outputDirectory}ï¼‰ã€‚ä¸¾ä¸ªä¾‹ å­ï¼Œå¦‚æœä½ æƒ³èµ„æºåœ¨ç‰¹å®šçš„åŒ…é‡Œ(org.apache.maven.messages)ï¼Œä½ å°±å¿…é¡»è¯¥å…ƒç´ è®¾ç½®ä¸ºorg/apache/maven /messagesã€‚ç„¶è€Œï¼Œå¦‚æœä½ åªæ˜¯æƒ³æŠŠèµ„æºæ”¾åˆ°æºç ç›®å½•ç»“æ„é‡Œï¼Œå°±ä¸éœ€è¦è¯¥é…ç½®ã€‚--\u0026gt; \u0026lt;targetPath/\u0026gt; \u0026lt;!--æ˜¯å¦ä½¿ç”¨å‚æ•°å€¼ä»£æ›¿å‚æ•°åã€‚å‚æ•°å€¼å–è‡ªpropertieså…ƒç´ æˆ–è€…æ–‡ä»¶é‡Œé…ç½®çš„å±æ€§ï¼Œæ–‡ä»¶åœ¨filterså…ƒç´ é‡Œåˆ—å‡ºã€‚--\u0026gt; \u0026lt;filtering/\u0026gt; \u0026lt;!--æè¿°å­˜æ”¾èµ„æºçš„ç›®å½•ï¼Œè¯¥è·¯å¾„ç›¸å¯¹POMè·¯å¾„--\u0026gt; \u0026lt;directory/\u0026gt; \u0026lt;!--åŒ…å«çš„æ¨¡å¼åˆ—è¡¨ï¼Œä¾‹å¦‚**/*.xml.--\u0026gt; \u0026lt;includes/\u0026gt; \u0026lt;!--æ’é™¤çš„æ¨¡å¼åˆ—è¡¨ï¼Œä¾‹å¦‚**/*.xml--\u0026gt; \u0026lt;excludes/\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resources\u0026gt; \u0026lt;!--è¿™ä¸ªå…ƒç´ æè¿°äº†å•å…ƒæµ‹è¯•ç›¸å…³çš„æ‰€æœ‰èµ„æºè·¯å¾„ï¼Œä¾‹å¦‚å’Œå•å…ƒæµ‹è¯•ç›¸å…³çš„å±æ€§æ–‡ä»¶ã€‚--\u0026gt; \u0026lt;testResources\u0026gt; \u0026lt;!--è¿™ä¸ªå…ƒç´ æè¿°äº†æµ‹è¯•ç›¸å…³çš„æ‰€æœ‰èµ„æºè·¯å¾„ï¼Œå‚è§build/resources/resourceå…ƒç´ çš„è¯´æ˜--\u0026gt; \u0026lt;testResource\u0026gt; \u0026lt;targetPath/\u0026gt;\u0026lt;filtering/\u0026gt;\u0026lt;directory/\u0026gt;\u0026lt;includes/\u0026gt;\u0026lt;excludes/\u0026gt; \u0026lt;/testResource\u0026gt; \u0026lt;/testResources\u0026gt; \u0026lt;!--æ„å»ºäº§ç”Ÿçš„æ‰€æœ‰æ–‡ä»¶å­˜æ”¾çš„ç›®å½•--\u0026gt; \u0026lt;directory/\u0026gt; \u0026lt;!--äº§ç”Ÿçš„æ„ä»¶çš„æ–‡ä»¶åï¼Œé»˜è®¤å€¼æ˜¯${artifactId}-${version}ã€‚--\u0026gt; \u0026lt;finalName/\u0026gt; \u0026lt;!--å½“filteringå¼€å…³æ‰“å¼€æ—¶ï¼Œä½¿ç”¨åˆ°çš„è¿‡æ»¤å™¨å±æ€§æ–‡ä»¶åˆ—è¡¨--\u0026gt; \u0026lt;filters/\u0026gt; \u0026lt;!--å­é¡¹ç›®å¯ä»¥å¼•ç”¨çš„é»˜è®¤æ’ä»¶ä¿¡æ¯ã€‚è¯¥æ’ä»¶é…ç½®é¡¹ç›´åˆ°è¢«å¼•ç”¨æ—¶æ‰ä¼šè¢«è§£ææˆ–ç»‘å®šåˆ°ç”Ÿå‘½å‘¨æœŸã€‚ç»™å®šæ’ä»¶çš„ä»»ä½•æœ¬åœ°é…ç½®éƒ½ä¼šè¦†ç›–è¿™é‡Œçš„é…ç½®--\u0026gt; \u0026lt;pluginManagement\u0026gt; \u0026lt;!--ä½¿ç”¨çš„æ’ä»¶åˆ—è¡¨ ã€‚--\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!--pluginå…ƒç´ åŒ…å«æè¿°æ’ä»¶æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚--\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;!--æ’ä»¶åœ¨ä»“åº“é‡Œçš„group ID--\u0026gt; \u0026lt;groupId/\u0026gt; \u0026lt;!--æ’ä»¶åœ¨ä»“åº“é‡Œçš„artifact ID--\u0026gt; \u0026lt;artifactId/\u0026gt; \u0026lt;!--è¢«ä½¿ç”¨çš„æ’ä»¶çš„ç‰ˆæœ¬ï¼ˆæˆ–ç‰ˆæœ¬èŒƒå›´ï¼‰--\u0026gt; \u0026lt;version/\u0026gt; \u0026lt;!--æ˜¯å¦ä»è¯¥æ’ä»¶ä¸‹è½½Mavenæ‰©å±•ï¼ˆä¾‹å¦‚æ‰“åŒ…å’Œç±»å‹å¤„ç†å™¨ï¼‰ï¼Œç”±äºæ€§èƒ½åŸå› ï¼Œåªæœ‰åœ¨çœŸéœ€è¦ä¸‹è½½æ—¶ï¼Œè¯¥å…ƒç´ æ‰è¢«è®¾ç½®æˆenabledã€‚--\u0026gt; \u0026lt;extensions/\u0026gt; \u0026lt;!--åœ¨æ„å»ºç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œä¸€ç»„ç›®æ ‡çš„é…ç½®ã€‚æ¯ä¸ªç›®æ ‡å¯èƒ½æœ‰ä¸åŒçš„é…ç½®ã€‚--\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;!--executionå…ƒç´ åŒ…å«äº†æ’ä»¶æ‰§è¡Œéœ€è¦çš„ä¿¡æ¯--\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;!--æ‰§è¡Œç›®æ ‡çš„æ ‡è¯†ç¬¦ï¼Œç”¨äºæ ‡è¯†æ„å»ºè¿‡ç¨‹ä¸­çš„ç›®æ ‡ï¼Œæˆ–è€…åŒ¹é…ç»§æ‰¿è¿‡ç¨‹ä¸­éœ€è¦åˆå¹¶çš„æ‰§è¡Œç›®æ ‡--\u0026gt; \u0026lt;id/\u0026gt; \u0026lt;!--ç»‘å®šäº†ç›®æ ‡çš„æ„å»ºç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œå¦‚æœçœç•¥ï¼Œç›®æ ‡ä¼šè¢«ç»‘å®šåˆ°æºæ•°æ®é‡Œé…ç½®çš„é»˜è®¤é˜¶æ®µ--\u0026gt; \u0026lt;phase/\u0026gt; \u0026lt;!--é…ç½®çš„æ‰§è¡Œç›®æ ‡--\u0026gt; \u0026lt;goals/\u0026gt; \u0026lt;!--é…ç½®æ˜¯å¦è¢«ä¼ æ’­åˆ°å­POM--\u0026gt; \u0026lt;inherited/\u0026gt; \u0026lt;!--ä½œä¸ºDOMå¯¹è±¡çš„é…ç½®--\u0026gt; \u0026lt;configuration/\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;!--é¡¹ç›®å¼•å…¥æ’ä»¶æ‰€éœ€è¦çš„é¢å¤–ä¾èµ–--\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;!--ä»»ä½•é…ç½®æ˜¯å¦è¢«ä¼ æ’­åˆ°å­é¡¹ç›®--\u0026gt; \u0026lt;inherited/\u0026gt; \u0026lt;!--ä½œä¸ºDOMå¯¹è±¡çš„é…ç½®--\u0026gt; \u0026lt;configuration/\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/pluginManagement\u0026gt; \u0026lt;!--ä½¿ç”¨çš„æ’ä»¶åˆ—è¡¨--\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!--å‚è§build/pluginManagement/plugins/pluginå…ƒç´ --\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId/\u0026gt;\u0026lt;artifactId/\u0026gt;\u0026lt;version/\u0026gt;\u0026lt;extensions/\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id/\u0026gt;\u0026lt;phase/\u0026gt;\u0026lt;goals/\u0026gt;\u0026lt;inherited/\u0026gt;\u0026lt;configuration/\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;goals/\u0026gt;\u0026lt;inherited/\u0026gt;\u0026lt;configuration/\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;!--åœ¨åˆ—çš„é¡¹ç›®æ„å»ºprofileï¼Œå¦‚æœè¢«æ¿€æ´»ï¼Œä¼šä¿®æ”¹æ„å»ºå¤„ç†--\u0026gt; \u0026lt;profiles\u0026gt; \u0026lt;!--æ ¹æ®ç¯å¢ƒå‚æ•°æˆ–å‘½ä»¤è¡Œå‚æ•°æ¿€æ´»æŸä¸ªæ„å»ºå¤„ç†--\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;!--æ„å»ºé…ç½®çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å³ç”¨äºå‘½ä»¤è¡Œæ¿€æ´»ï¼Œä¹Ÿç”¨äºåœ¨ç»§æ‰¿æ—¶åˆå¹¶å…·æœ‰ç›¸åŒæ ‡è¯†ç¬¦çš„profileã€‚--\u0026gt; \u0026lt;id/\u0026gt; \u0026lt;!--è‡ªåŠ¨è§¦å‘profileçš„æ¡ä»¶é€»è¾‘ã€‚Activationæ˜¯profileçš„å¼€å¯é’¥åŒ™ã€‚profileçš„åŠ›é‡æ¥è‡ªäºå®ƒ èƒ½å¤Ÿåœ¨æŸäº›ç‰¹å®šçš„ç¯å¢ƒä¸­è‡ªåŠ¨ä½¿ç”¨æŸäº›ç‰¹å®šçš„å€¼ï¼›è¿™äº›ç¯å¢ƒé€šè¿‡activationå…ƒç´ æŒ‡å®šã€‚activationå…ƒç´ å¹¶ä¸æ˜¯æ¿€æ´»profileçš„å”¯ä¸€æ–¹å¼ã€‚--\u0026gt; \u0026lt;activation\u0026gt; \u0026lt;!--profileé»˜è®¤æ˜¯å¦æ¿€æ´»çš„æ ‡å¿—--\u0026gt; \u0026lt;activeByDefault/\u0026gt; \u0026lt;!--å½“åŒ¹é…çš„jdkè¢«æ£€æµ‹åˆ°ï¼Œprofileè¢«æ¿€æ´»ã€‚ä¾‹å¦‚ï¼Œ1.4æ¿€æ´»JDK1.4ï¼Œ1.4.0_2ï¼Œè€Œ!1.4æ¿€æ´»æ‰€æœ‰ç‰ˆæœ¬ä¸æ˜¯ä»¥1.4å¼€å¤´çš„JDKã€‚--\u0026gt; \u0026lt;jdk/\u0026gt; \u0026lt;!--å½“åŒ¹é…çš„æ“ä½œç³»ç»Ÿå±æ€§è¢«æ£€æµ‹åˆ°ï¼Œprofileè¢«æ¿€æ´»ã€‚oså…ƒç´ å¯ä»¥å®šä¹‰ä¸€äº›æ“ä½œç³»ç»Ÿç›¸å…³çš„å±æ€§ã€‚--\u0026gt; \u0026lt;os\u0026gt; \u0026lt;!--æ¿€æ´»profileçš„æ“ä½œç³»ç»Ÿçš„åå­—--\u0026gt; \u0026lt;name\u0026gt;Windows XP\u0026lt;/name\u0026gt; \u0026lt;!--æ¿€æ´»profileçš„æ“ä½œç³»ç»Ÿæ‰€å±å®¶æ—(å¦‚ \u0026#39;windows\u0026#39;)--\u0026gt; \u0026lt;family\u0026gt;Windows\u0026lt;/family\u0026gt; \u0026lt;!--æ¿€æ´»profileçš„æ“ä½œç³»ç»Ÿä½“ç³»ç»“æ„ --\u0026gt; \u0026lt;arch\u0026gt;x86\u0026lt;/arch\u0026gt; \u0026lt;!--æ¿€æ´»profileçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬--\u0026gt; \u0026lt;version\u0026gt;5.1.2600\u0026lt;/version\u0026gt; \u0026lt;/os\u0026gt; \u0026lt;!--å¦‚æœMavenæ£€æµ‹åˆ°æŸä¸€ä¸ªå±æ€§ï¼ˆå…¶å€¼å¯ä»¥åœ¨POMä¸­é€šè¿‡${åç§°}å¼•ç”¨ï¼‰ï¼Œå…¶æ‹¥æœ‰å¯¹åº”çš„åç§°å’Œå€¼ï¼ŒProfileå°±ä¼šè¢«æ¿€æ´»ã€‚å¦‚æœå€¼ å­—æ®µæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå­˜åœ¨å±æ€§åç§°å­—æ®µå°±ä¼šæ¿€æ´»profileï¼Œå¦åˆ™æŒ‰åŒºåˆ†å¤§å°å†™æ–¹å¼åŒ¹é…å±æ€§å€¼å­—æ®µ--\u0026gt; \u0026lt;property\u0026gt; \u0026lt;!--æ¿€æ´»profileçš„å±æ€§çš„åç§°--\u0026gt; \u0026lt;name\u0026gt;mavenVersion\u0026lt;/name\u0026gt; \u0026lt;!--æ¿€æ´»profileçš„å±æ€§çš„å€¼--\u0026gt; \u0026lt;value\u0026gt;2.0.3\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;!--æä¾›ä¸€ä¸ªæ–‡ä»¶åï¼Œé€šè¿‡æ£€æµ‹è¯¥æ–‡ä»¶çš„å­˜åœ¨æˆ–ä¸å­˜åœ¨æ¥æ¿€æ´»profileã€‚missingæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ¿€æ´» profileã€‚å¦ä¸€æ–¹é¢ï¼Œexistsåˆ™ä¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™æ¿€æ´»profileã€‚--\u0026gt; \u0026lt;file\u0026gt; \u0026lt;!--å¦‚æœæŒ‡å®šçš„æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™æ¿€æ´»profileã€‚--\u0026gt; \u0026lt;exists\u0026gt;/usr/local/hudson/hudson-home/jobs/maven-guide-zh-to-production/workspace/\u0026lt;/exists\u0026gt; \u0026lt;!--å¦‚æœæŒ‡å®šçš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ¿€æ´»profileã€‚--\u0026gt; \u0026lt;missing\u0026gt;/usr/local/hudson/hudson-home/jobs/maven-guide-zh-to-production/workspace/\u0026lt;/missing\u0026gt; \u0026lt;/file\u0026gt; \u0026lt;/activation\u0026gt; \u0026lt;!--æ„å»ºé¡¹ç›®æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚å‚è§buildå…ƒç´ --\u0026gt; \u0026lt;build\u0026gt; \u0026lt;defaultGoal/\u0026gt; \u0026lt;resources\u0026gt; \u0026lt;resource\u0026gt; \u0026lt;targetPath/\u0026gt;\u0026lt;filtering/\u0026gt;\u0026lt;directory/\u0026gt;\u0026lt;includes/\u0026gt;\u0026lt;excludes/\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resources\u0026gt; \u0026lt;testResources\u0026gt; \u0026lt;testResource\u0026gt; \u0026lt;targetPath/\u0026gt;\u0026lt;filtering/\u0026gt;\u0026lt;directory/\u0026gt;\u0026lt;includes/\u0026gt;\u0026lt;excludes/\u0026gt; \u0026lt;/testResource\u0026gt; \u0026lt;/testResources\u0026gt; \u0026lt;directory/\u0026gt;\u0026lt;finalName/\u0026gt;\u0026lt;filters/\u0026gt; \u0026lt;pluginManagement\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!--å‚è§build/pluginManagement/plugins/pluginå…ƒç´ --\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId/\u0026gt;\u0026lt;artifactId/\u0026gt;\u0026lt;version/\u0026gt;\u0026lt;extensions/\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id/\u0026gt;\u0026lt;phase/\u0026gt;\u0026lt;goals/\u0026gt;\u0026lt;inherited/\u0026gt;\u0026lt;configuration/\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;goals/\u0026gt;\u0026lt;inherited/\u0026gt;\u0026lt;configuration/\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/pluginManagement\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!--å‚è§build/pluginManagement/plugins/pluginå…ƒç´ --\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId/\u0026gt;\u0026lt;artifactId/\u0026gt;\u0026lt;version/\u0026gt;\u0026lt;extensions/\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id/\u0026gt;\u0026lt;phase/\u0026gt;\u0026lt;goals/\u0026gt;\u0026lt;inherited/\u0026gt;\u0026lt;configuration/\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;goals/\u0026gt;\u0026lt;inherited/\u0026gt;\u0026lt;configuration/\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;!--æ¨¡å—ï¼ˆæœ‰æ—¶ç§°ä½œå­é¡¹ç›®ï¼‰ è¢«æ„å»ºæˆé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚åˆ—å‡ºçš„æ¯ä¸ªæ¨¡å—å…ƒç´ æ˜¯æŒ‡å‘è¯¥æ¨¡å—çš„ç›®å½•çš„ç›¸å¯¹è·¯å¾„--\u0026gt; \u0026lt;modules/\u0026gt; \u0026lt;!--å‘ç°ä¾èµ–å’Œæ‰©å±•çš„è¿œç¨‹ä»“åº“åˆ—è¡¨ã€‚--\u0026gt; \u0026lt;repositories\u0026gt; \u0026lt;!--å‚è§repositories/repositoryå…ƒç´ --\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;releases\u0026gt; \u0026lt;enabled/\u0026gt;\u0026lt;updatePolicy/\u0026gt;\u0026lt;checksumPolicy/\u0026gt; \u0026lt;/releases\u0026gt; \u0026lt;snapshots\u0026gt; \u0026lt;enabled/\u0026gt;\u0026lt;updatePolicy/\u0026gt;\u0026lt;checksumPolicy/\u0026gt; \u0026lt;/snapshots\u0026gt; \u0026lt;id/\u0026gt;\u0026lt;name/\u0026gt;\u0026lt;url/\u0026gt;\u0026lt;layout/\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; \u0026lt;!--å‘ç°æ’ä»¶çš„è¿œç¨‹ä»“åº“åˆ—è¡¨ï¼Œè¿™äº›æ’ä»¶ç”¨äºæ„å»ºå’ŒæŠ¥è¡¨--\u0026gt; \u0026lt;pluginRepositories\u0026gt; \u0026lt;!--åŒ…å«éœ€è¦è¿æ¥åˆ°è¿œç¨‹æ’ä»¶ä»“åº“çš„ä¿¡æ¯.å‚è§repositories/repositoryå…ƒç´ --\u0026gt; \u0026lt;pluginRepository\u0026gt; \u0026lt;releases\u0026gt; \u0026lt;enabled/\u0026gt;\u0026lt;updatePolicy/\u0026gt;\u0026lt;checksumPolicy/\u0026gt; \u0026lt;/releases\u0026gt; \u0026lt;snapshots\u0026gt; \u0026lt;enabled/\u0026gt;\u0026lt;updatePolicy/\u0026gt;\u0026lt;checksumPolicy/\u0026gt; \u0026lt;/snapshots\u0026gt; \u0026lt;id/\u0026gt;\u0026lt;name/\u0026gt;\u0026lt;url/\u0026gt;\u0026lt;layout/\u0026gt; \u0026lt;/pluginRepository\u0026gt; \u0026lt;/pluginRepositories\u0026gt; \u0026lt;!--è¯¥å…ƒç´ æè¿°äº†é¡¹ç›®ç›¸å…³çš„æ‰€æœ‰ä¾èµ–ã€‚ è¿™äº›ä¾èµ–ç»„æˆäº†é¡¹ç›®æ„å»ºè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªä¸ªç¯èŠ‚ã€‚å®ƒä»¬è‡ªåŠ¨ä»é¡¹ç›®å®šä¹‰çš„ä»“åº“ä¸­ä¸‹è½½ã€‚è¦è·å–æ›´å¤šä¿¡æ¯ï¼Œè¯·çœ‹é¡¹ç›®ä¾èµ–æœºåˆ¶ã€‚--\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;!--ä¸èµæˆä½¿ç”¨. ç°åœ¨Mavenå¿½ç•¥è¯¥å…ƒç´ .--\u0026gt; \u0026lt;reports/\u0026gt; \u0026lt;!--è¯¥å…ƒç´ åŒ…æ‹¬ä½¿ç”¨æŠ¥è¡¨æ’ä»¶äº§ç”ŸæŠ¥è¡¨çš„è§„èŒƒã€‚å½“ç”¨æˆ·æ‰§è¡Œâ€œmvn siteâ€ï¼Œè¿™äº›æŠ¥è¡¨å°±ä¼šè¿è¡Œã€‚ åœ¨é¡µé¢å¯¼èˆªæ èƒ½çœ‹åˆ°æ‰€æœ‰æŠ¥è¡¨çš„é“¾æ¥ã€‚å‚è§reportingå…ƒç´ --\u0026gt; \u0026lt;reporting\u0026gt; ...... \u0026lt;/reporting\u0026gt; \u0026lt;!--å‚è§dependencyManagementå…ƒç´ --\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; \u0026lt;!--å‚è§distributionManagementå…ƒç´ --\u0026gt; \u0026lt;distributionManagement\u0026gt; ...... \u0026lt;/distributionManagement\u0026gt; \u0026lt;!--å‚è§propertieså…ƒç´ --\u0026gt; \u0026lt;properties/\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;/profiles\u0026gt; \u0026lt;!--æ¨¡å—ï¼ˆæœ‰æ—¶ç§°ä½œå­é¡¹ç›®ï¼‰ è¢«æ„å»ºæˆé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚åˆ—å‡ºçš„æ¯ä¸ªæ¨¡å—å…ƒç´ æ˜¯æŒ‡å‘è¯¥æ¨¡å—çš„ç›®å½•çš„ç›¸å¯¹è·¯å¾„--\u0026gt; \u0026lt;modules/\u0026gt; \u0026lt;!--å‘ç°ä¾èµ–å’Œæ‰©å±•çš„è¿œç¨‹ä»“åº“åˆ—è¡¨ã€‚--\u0026gt; \u0026lt;repositories\u0026gt; \u0026lt;!--åŒ…å«éœ€è¦è¿æ¥åˆ°è¿œç¨‹ä»“åº“çš„ä¿¡æ¯--\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;!--å¦‚ä½•å¤„ç†è¿œç¨‹ä»“åº“é‡Œå‘å¸ƒç‰ˆæœ¬çš„ä¸‹è½½--\u0026gt; \u0026lt;releases\u0026gt; \u0026lt;!--trueæˆ–è€…falseè¡¨ç¤ºè¯¥ä»“åº“æ˜¯å¦ä¸ºä¸‹è½½æŸç§ç±»å‹æ„ä»¶ï¼ˆå‘å¸ƒç‰ˆï¼Œå¿«ç…§ç‰ˆï¼‰å¼€å¯ã€‚ --\u0026gt; \u0026lt;enabled/\u0026gt; \u0026lt;!--è¯¥å…ƒç´ æŒ‡å®šæ›´æ–°å‘ç”Ÿçš„é¢‘ç‡ã€‚Mavenä¼šæ¯”è¾ƒæœ¬åœ°POMå’Œè¿œç¨‹POMçš„æ—¶é—´æˆ³ã€‚è¿™é‡Œçš„é€‰é¡¹æ˜¯ï¼šalwaysï¼ˆä¸€ç›´ï¼‰ï¼Œdailyï¼ˆé»˜è®¤ï¼Œæ¯æ—¥ï¼‰ï¼Œintervalï¼šXï¼ˆè¿™é‡ŒXæ˜¯ä»¥åˆ†é’Ÿä¸ºå•ä½çš„æ—¶é—´é—´éš”ï¼‰ï¼Œæˆ–è€…neverï¼ˆä»ä¸ï¼‰ã€‚--\u0026gt; \u0026lt;updatePolicy/\u0026gt; \u0026lt;!--å½“MavenéªŒè¯æ„ä»¶æ ¡éªŒæ–‡ä»¶å¤±è´¥æ—¶è¯¥æ€ä¹ˆåšï¼šignoreï¼ˆå¿½ç•¥ï¼‰ï¼Œfailï¼ˆå¤±è´¥ï¼‰ï¼Œæˆ–è€…warnï¼ˆè­¦å‘Šï¼‰ã€‚--\u0026gt; \u0026lt;checksumPolicy/\u0026gt; \u0026lt;/releases\u0026gt; \u0026lt;!-- å¦‚ä½•å¤„ç†è¿œç¨‹ä»“åº“é‡Œå¿«ç…§ç‰ˆæœ¬çš„ä¸‹è½½ã€‚æœ‰äº†releaseså’Œsnapshotsè¿™ä¸¤ç»„é…ç½®ï¼ŒPOMå°±å¯ä»¥åœ¨æ¯ä¸ªå•ç‹¬çš„ä»“åº“ä¸­ï¼Œä¸ºæ¯ç§ç±»å‹çš„æ„ä»¶é‡‡å–ä¸åŒçš„ ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½æœ‰äººä¼šå†³å®šåªä¸ºå¼€å‘ç›®çš„å¼€å¯å¯¹å¿«ç…§ç‰ˆæœ¬ä¸‹è½½çš„æ”¯æŒã€‚å‚è§repositories/repository/releaseså…ƒç´  --\u0026gt; \u0026lt;snapshots\u0026gt; \u0026lt;enabled/\u0026gt;\u0026lt;updatePolicy/\u0026gt;\u0026lt;checksumPolicy/\u0026gt; \u0026lt;/snapshots\u0026gt; \u0026lt;!--è¿œç¨‹ä»“åº“å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å¯ä»¥ç”¨æ¥åŒ¹é…åœ¨settings.xmlæ–‡ä»¶é‡Œé…ç½®çš„è¿œç¨‹ä»“åº“--\u0026gt; \u0026lt;id\u0026gt;banseon-repository-proxy\u0026lt;/id\u0026gt; \u0026lt;!--è¿œç¨‹ä»“åº“åç§°--\u0026gt; \u0026lt;name\u0026gt;banseon-repository-proxy\u0026lt;/name\u0026gt; \u0026lt;!--è¿œç¨‹ä»“åº“URLï¼ŒæŒ‰protocol://hostname/pathå½¢å¼--\u0026gt; \u0026lt;url\u0026gt;http://192.168.1.169:9999/repository/\u0026lt;/url\u0026gt; \u0026lt;!-- ç”¨äºå®šä½å’Œæ’åºæ„ä»¶çš„ä»“åº“å¸ƒå±€ç±»å‹-å¯ä»¥æ˜¯defaultï¼ˆé»˜è®¤ï¼‰æˆ–è€…legacyï¼ˆé—ç•™ï¼‰ã€‚Maven 2ä¸ºå…¶ä»“åº“æä¾›äº†ä¸€ä¸ªé»˜è®¤çš„å¸ƒå±€ï¼›ç„¶ è€Œï¼ŒMaven 1.xæœ‰ä¸€ç§ä¸åŒçš„å¸ƒå±€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥å…ƒç´ æŒ‡å®šå¸ƒå±€æ˜¯defaultï¼ˆé»˜è®¤ï¼‰è¿˜æ˜¯legacyï¼ˆé—ç•™ï¼‰ã€‚--\u0026gt; \u0026lt;layout\u0026gt;default\u0026lt;/layout\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; \u0026lt;!--å‘ç°æ’ä»¶çš„è¿œç¨‹ä»“åº“åˆ—è¡¨ï¼Œè¿™äº›æ’ä»¶ç”¨äºæ„å»ºå’ŒæŠ¥è¡¨--\u0026gt; \u0026lt;pluginRepositories\u0026gt; \u0026lt;!--åŒ…å«éœ€è¦è¿æ¥åˆ°è¿œç¨‹æ’ä»¶ä»“åº“çš„ä¿¡æ¯.å‚è§repositories/repositoryå…ƒç´ --\u0026gt; \u0026lt;pluginRepository\u0026gt; ...... \u0026lt;/pluginRepository\u0026gt; \u0026lt;/pluginRepositories\u0026gt; \u0026lt;!--è¯¥å…ƒç´ æè¿°äº†é¡¹ç›®ç›¸å…³çš„æ‰€æœ‰ä¾èµ–ã€‚ è¿™äº›ä¾èµ–ç»„æˆäº†é¡¹ç›®æ„å»ºè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªä¸ªç¯èŠ‚ã€‚å®ƒä»¬è‡ªåŠ¨ä»é¡¹ç›®å®šä¹‰çš„ä»“åº“ä¸­ä¸‹è½½ã€‚è¦è·å–æ›´å¤šä¿¡æ¯ï¼Œè¯·çœ‹é¡¹ç›®ä¾èµ–æœºåˆ¶ã€‚--\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;!--ä¾èµ–çš„group ID--\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven\u0026lt;/groupId\u0026gt; \u0026lt;!--ä¾èµ–çš„artifact ID--\u0026gt; \u0026lt;artifactId\u0026gt;maven-artifact\u0026lt;/artifactId\u0026gt; \u0026lt;!--ä¾èµ–çš„ç‰ˆæœ¬å·ã€‚ åœ¨Maven 2é‡Œ, ä¹Ÿå¯ä»¥é…ç½®æˆç‰ˆæœ¬å·çš„èŒƒå›´ã€‚--\u0026gt; \u0026lt;version\u0026gt;3.8.1\u0026lt;/version\u0026gt; \u0026lt;!-- ä¾èµ–ç±»å‹ï¼Œé»˜è®¤ç±»å‹æ˜¯jarã€‚å®ƒé€šå¸¸è¡¨ç¤ºä¾èµ–çš„æ–‡ä»¶çš„æ‰©å±•åï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–ã€‚ä¸€ä¸ªç±»å‹å¯ä»¥è¢«æ˜ å°„æˆå¦å¤–ä¸€ä¸ªæ‰©å±•åæˆ–åˆ†ç±»å™¨ã€‚ç±»å‹ç»å¸¸å’Œä½¿ç”¨çš„æ‰“åŒ…æ–¹å¼å¯¹åº”ï¼Œ å°½ç®¡è¿™ä¹Ÿæœ‰ä¾‹å¤–ã€‚ä¸€äº›ç±»å‹çš„ä¾‹å­ï¼šjarï¼Œwarï¼Œejb-clientå’Œtest-jarã€‚å¦‚æœè®¾ç½®extensionsä¸º trueï¼Œå°±å¯ä»¥åœ¨ pluginé‡Œå®šä¹‰æ–°çš„ç±»å‹ã€‚æ‰€ä»¥å‰é¢çš„ç±»å‹çš„ä¾‹å­ä¸å®Œæ•´ã€‚--\u0026gt; \u0026lt;type\u0026gt;jar\u0026lt;/type\u0026gt; \u0026lt;!-- ä¾èµ–çš„åˆ†ç±»å™¨ã€‚åˆ†ç±»å™¨å¯ä»¥åŒºåˆ†å±äºåŒä¸€ä¸ªPOMï¼Œä½†ä¸åŒæ„å»ºæ–¹å¼çš„æ„ä»¶ã€‚åˆ†ç±»å™¨åè¢«é™„åŠ åˆ°æ–‡ä»¶åçš„ç‰ˆæœ¬å·åé¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦æ„å»ºä¸¤ä¸ªå•ç‹¬çš„æ„ä»¶æˆ JARï¼Œä¸€ä¸ªä½¿ç”¨Java 1.4ç¼–è¯‘å™¨ï¼Œå¦ä¸€ä¸ªä½¿ç”¨Java 6ç¼–è¯‘å™¨ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨åˆ†ç±»å™¨æ¥ç”Ÿæˆä¸¤ä¸ªå•ç‹¬çš„JARæ„ä»¶ã€‚--\u0026gt; \u0026lt;classifier\u0026gt;\u0026lt;/classifier\u0026gt; \u0026lt;!--ä¾èµ–èŒƒå›´ã€‚åœ¨é¡¹ç›®å‘å¸ƒè¿‡ç¨‹ä¸­ï¼Œå¸®åŠ©å†³å®šå“ªäº›æ„ä»¶è¢«åŒ…æ‹¬è¿›æ¥ã€‚æ¬²çŸ¥è¯¦æƒ…è¯·å‚è€ƒä¾èµ–æœºåˆ¶ã€‚ - compile ï¼šé»˜è®¤èŒƒå›´ï¼Œç”¨äºç¼–è¯‘ - providedï¼šç±»ä¼¼äºç¼–è¯‘ï¼Œä½†æ”¯æŒä½ æœŸå¾…jdkæˆ–è€…å®¹å™¨æä¾›ï¼Œç±»ä¼¼äºclasspath - runtime: åœ¨æ‰§è¡Œæ—¶éœ€è¦ä½¿ç”¨ - test: ç”¨äºtestä»»åŠ¡æ—¶ä½¿ç”¨ - system: éœ€è¦å¤–åœ¨æä¾›ç›¸åº”çš„å…ƒç´ ã€‚é€šè¿‡systemPathæ¥å–å¾— - systemPath: ä»…ç”¨äºèŒƒå›´ä¸ºsystemã€‚æä¾›ç›¸åº”çš„è·¯å¾„ - optional: å½“é¡¹ç›®è‡ªèº«è¢«ä¾èµ–æ—¶ï¼Œæ ‡æ³¨ä¾èµ–æ˜¯å¦ä¼ é€’ã€‚ç”¨äºè¿ç»­ä¾èµ–æ—¶ä½¿ç”¨--\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;!--ä»…ä¾›systemèŒƒå›´ä½¿ç”¨ã€‚æ³¨æ„ï¼Œä¸é¼“åŠ±ä½¿ç”¨è¿™ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”åœ¨æ–°çš„ç‰ˆæœ¬ä¸­è¯¥å…ƒç´ å¯èƒ½è¢«è¦†ç›–æ‰ã€‚è¯¥å…ƒç´ ä¸ºä¾èµ–è§„å®šäº†æ–‡ä»¶ç³»ç»Ÿä¸Šçš„è·¯å¾„ã€‚éœ€è¦ç»å¯¹è·¯å¾„è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„ã€‚æ¨èä½¿ç”¨å±æ€§åŒ¹é…ç»å¯¹è·¯å¾„ï¼Œä¾‹å¦‚${java.home}ã€‚--\u0026gt; \u0026lt;systemPath\u0026gt;\u0026lt;/systemPath\u0026gt; \u0026lt;!--å½“è®¡ç®—ä¼ é€’ä¾èµ–æ—¶ï¼Œ ä»ä¾èµ–æ„ä»¶åˆ—è¡¨é‡Œï¼Œåˆ—å‡ºè¢«æ’é™¤çš„ä¾èµ–æ„ä»¶é›†ã€‚å³å‘Šè¯‰mavenä½ åªä¾èµ–æŒ‡å®šçš„é¡¹ç›®ï¼Œä¸ä¾èµ–é¡¹ç›®çš„ä¾èµ–ã€‚æ­¤å…ƒç´ ä¸»è¦ç”¨äºè§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜--\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;artifactId\u0026gt;spring-core\u0026lt;/artifactId\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; \u0026lt;!--å¯é€‰ä¾èµ–ï¼Œå¦‚æœä½ åœ¨é¡¹ç›®Bä¸­æŠŠCä¾èµ–å£°æ˜ä¸ºå¯é€‰ï¼Œä½ å°±éœ€è¦åœ¨ä¾èµ–äºBçš„é¡¹ç›®ï¼ˆä¾‹å¦‚é¡¹ç›®Aï¼‰ä¸­æ˜¾å¼çš„å¼•ç”¨å¯¹Cçš„ä¾èµ–ã€‚å¯é€‰ä¾èµ–é˜»æ–­ä¾èµ–çš„ä¼ é€’æ€§ã€‚--\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;!--ä¸èµæˆä½¿ç”¨. ç°åœ¨Mavenå¿½ç•¥è¯¥å…ƒç´ .--\u0026gt; \u0026lt;reports\u0026gt;\u0026lt;/reports\u0026gt; \u0026lt;!--è¯¥å…ƒç´ æè¿°ä½¿ç”¨æŠ¥è¡¨æ’ä»¶äº§ç”ŸæŠ¥è¡¨çš„è§„èŒƒã€‚å½“ç”¨æˆ·æ‰§è¡Œâ€œmvn siteâ€ï¼Œè¿™äº›æŠ¥è¡¨å°±ä¼šè¿è¡Œã€‚ åœ¨é¡µé¢å¯¼èˆªæ èƒ½çœ‹åˆ°æ‰€æœ‰æŠ¥è¡¨çš„é“¾æ¥ã€‚--\u0026gt; \u0026lt;reporting\u0026gt; \u0026lt;!--trueï¼Œåˆ™ï¼Œç½‘ç«™ä¸åŒ…æ‹¬é»˜è®¤çš„æŠ¥è¡¨ã€‚è¿™åŒ…æ‹¬â€œé¡¹ç›®ä¿¡æ¯â€èœå•ä¸­çš„æŠ¥è¡¨ã€‚--\u0026gt; \u0026lt;excludeDefaults/\u0026gt; \u0026lt;!--æ‰€æœ‰äº§ç”Ÿçš„æŠ¥è¡¨å­˜æ”¾åˆ°å“ªé‡Œã€‚é»˜è®¤å€¼æ˜¯${project.build.directory}/siteã€‚--\u0026gt; \u0026lt;outputDirectory/\u0026gt; \u0026lt;!--ä½¿ç”¨çš„æŠ¥è¡¨æ’ä»¶å’Œä»–ä»¬çš„é…ç½®ã€‚--\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!--pluginå…ƒç´ åŒ…å«æè¿°æŠ¥è¡¨æ’ä»¶éœ€è¦çš„ä¿¡æ¯--\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;!--æŠ¥è¡¨æ’ä»¶åœ¨ä»“åº“é‡Œçš„group ID--\u0026gt; \u0026lt;groupId/\u0026gt; \u0026lt;!--æŠ¥è¡¨æ’ä»¶åœ¨ä»“åº“é‡Œçš„artifact ID--\u0026gt; \u0026lt;artifactId/\u0026gt; \u0026lt;!--è¢«ä½¿ç”¨çš„æŠ¥è¡¨æ’ä»¶çš„ç‰ˆæœ¬ï¼ˆæˆ–ç‰ˆæœ¬èŒƒå›´ï¼‰--\u0026gt; \u0026lt;version/\u0026gt; \u0026lt;!--ä»»ä½•é…ç½®æ˜¯å¦è¢«ä¼ æ’­åˆ°å­é¡¹ç›®--\u0026gt; \u0026lt;inherited/\u0026gt; \u0026lt;!--æŠ¥è¡¨æ’ä»¶çš„é…ç½®--\u0026gt; \u0026lt;configuration/\u0026gt; \u0026lt;!--ä¸€ç»„æŠ¥è¡¨çš„å¤šé‡è§„èŒƒï¼Œæ¯ä¸ªè§„èŒƒå¯èƒ½æœ‰ä¸åŒçš„é…ç½®ã€‚ä¸€ä¸ªè§„èŒƒï¼ˆæŠ¥è¡¨é›†ï¼‰å¯¹åº”ä¸€ä¸ªæ‰§è¡Œç›®æ ‡ ã€‚ä¾‹å¦‚ï¼Œæœ‰1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9ä¸ªæŠ¥è¡¨ã€‚1ï¼Œ2ï¼Œ5æ„æˆAæŠ¥è¡¨é›†ï¼Œå¯¹åº”ä¸€ä¸ªæ‰§è¡Œç›®æ ‡ã€‚2ï¼Œ5ï¼Œ8æ„æˆBæŠ¥è¡¨é›†ï¼Œå¯¹åº”å¦ä¸€ä¸ªæ‰§è¡Œç›®æ ‡--\u0026gt; \u0026lt;reportSets\u0026gt; \u0026lt;!--è¡¨ç¤ºæŠ¥è¡¨çš„ä¸€ä¸ªé›†åˆï¼Œä»¥åŠäº§ç”Ÿè¯¥é›†åˆçš„é…ç½®--\u0026gt; \u0026lt;reportSet\u0026gt; \u0026lt;!--æŠ¥è¡¨é›†åˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ŒPOMç»§æ‰¿æ—¶ç”¨åˆ°--\u0026gt; \u0026lt;id/\u0026gt; \u0026lt;!--äº§ç”ŸæŠ¥è¡¨é›†åˆæ—¶ï¼Œè¢«ä½¿ç”¨çš„æŠ¥è¡¨çš„é…ç½®--\u0026gt; \u0026lt;configuration/\u0026gt; \u0026lt;!--é…ç½®æ˜¯å¦è¢«ç»§æ‰¿åˆ°å­POMs--\u0026gt; \u0026lt;inherited/\u0026gt; \u0026lt;!--è¿™ä¸ªé›†åˆé‡Œä½¿ç”¨åˆ°å“ªäº›æŠ¥è¡¨--\u0026gt; \u0026lt;reports/\u0026gt; \u0026lt;/reportSet\u0026gt; \u0026lt;/reportSets\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/reporting\u0026gt; \u0026lt;!-- ç»§æ‰¿è‡ªè¯¥é¡¹ç›®çš„æ‰€æœ‰å­é¡¹ç›®çš„é»˜è®¤ä¾èµ–ä¿¡æ¯ã€‚è¿™éƒ¨åˆ†çš„ä¾èµ–ä¿¡æ¯ä¸ä¼šè¢«ç«‹å³è§£æ,è€Œæ˜¯å½“å­é¡¹ç›®å£°æ˜ä¸€ä¸ªä¾èµ–ï¼ˆå¿…é¡»æè¿°group IDå’Œ artifact IDä¿¡æ¯ï¼‰ï¼Œå¦‚æœgroup IDå’Œartifact IDä»¥å¤–çš„ä¸€äº›ä¿¡æ¯æ²¡æœ‰æè¿°ï¼Œåˆ™é€šè¿‡group IDå’Œartifact ID åŒ¹é…åˆ°è¿™é‡Œçš„ä¾èµ–ï¼Œå¹¶ä½¿ç”¨è¿™é‡Œçš„ä¾èµ–ä¿¡æ¯ã€‚--\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å‚è§dependencies/dependencyå…ƒç´ --\u0026gt; \u0026lt;dependency\u0026gt; ...... \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; \u0026lt;!--é¡¹ç›®åˆ†å‘ä¿¡æ¯ï¼Œåœ¨æ‰§è¡Œmvn deployåè¡¨ç¤ºè¦å‘å¸ƒçš„ä½ç½®ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯å°±å¯ä»¥æŠŠç½‘ç«™éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨æˆ–è€…æŠŠæ„ä»¶éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ã€‚--\u0026gt; \u0026lt;distributionManagement\u0026gt; \u0026lt;!--éƒ¨ç½²é¡¹ç›®äº§ç”Ÿçš„æ„ä»¶åˆ°è¿œç¨‹ä»“åº“éœ€è¦çš„ä¿¡æ¯--\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;!--æ˜¯åˆ†é…ç»™å¿«ç…§ä¸€ä¸ªå”¯ä¸€çš„ç‰ˆæœ¬å·ï¼ˆç”±æ—¶é—´æˆ³å’Œæ„å»ºæµæ°´å·ï¼‰ï¼Ÿè¿˜æ˜¯æ¯æ¬¡éƒ½ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬å·ï¼Ÿå‚è§repositories/repositoryå…ƒç´ --\u0026gt; \u0026lt;uniqueVersion/\u0026gt; \u0026lt;id\u0026gt;banseon-maven2\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;banseon maven2\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;file://${basedir}/target/deploy\u0026lt;/url\u0026gt; \u0026lt;layout/\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;!--æ„ä»¶çš„å¿«ç…§éƒ¨ç½²åˆ°å“ªé‡Œï¼Ÿå¦‚æœæ²¡æœ‰é…ç½®è¯¥å…ƒç´ ï¼Œé»˜è®¤éƒ¨ç½²åˆ°repositoryå…ƒç´ é…ç½®çš„ä»“åº“ï¼Œå‚è§distributionManagement/repositoryå…ƒç´ --\u0026gt; \u0026lt;snapshotRepository\u0026gt; \u0026lt;uniqueVersion/\u0026gt; \u0026lt;id\u0026gt;banseon-maven2\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;Banseon-maven2 Snapshot Repository\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;scp://svn.baidu.com/banseon:/usr/local/maven-snapshot\u0026lt;/url\u0026gt; \u0026lt;layout/\u0026gt; \u0026lt;/snapshotRepository\u0026gt; \u0026lt;!--éƒ¨ç½²é¡¹ç›®çš„ç½‘ç«™éœ€è¦çš„ä¿¡æ¯--\u0026gt; \u0026lt;site\u0026gt; \u0026lt;!--éƒ¨ç½²ä½ç½®çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨æ¥åŒ¹é…ç«™ç‚¹å’Œsettings.xmlæ–‡ä»¶é‡Œçš„é…ç½®--\u0026gt; \u0026lt;id\u0026gt;banseon-site\u0026lt;/id\u0026gt; \u0026lt;!--éƒ¨ç½²ä½ç½®çš„åç§°--\u0026gt; \u0026lt;name\u0026gt;business api website\u0026lt;/name\u0026gt; \u0026lt;!--éƒ¨ç½²ä½ç½®çš„URLï¼ŒæŒ‰protocol://hostname/pathå½¢å¼--\u0026gt; \u0026lt;url\u0026gt; scp://svn.baidu.com/banseon:/var/www/localhost/banseon-web \u0026lt;/url\u0026gt; \u0026lt;/site\u0026gt; \u0026lt;!--é¡¹ç›®ä¸‹è½½é¡µé¢çš„URLã€‚å¦‚æœæ²¡æœ‰è¯¥å…ƒç´ ï¼Œç”¨æˆ·åº”è¯¥å‚è€ƒä¸»é¡µã€‚ä½¿ç”¨è¯¥å…ƒç´ çš„åŸå› æ˜¯ï¼šå¸®åŠ©å®šä½é‚£äº›ä¸åœ¨ä»“åº“é‡Œçš„æ„ä»¶ï¼ˆç”±äºlicenseé™åˆ¶ï¼‰ã€‚--\u0026gt; \u0026lt;downloadUrl/\u0026gt; \u0026lt;!--å¦‚æœæ„ä»¶æœ‰äº†æ–°çš„group IDå’Œartifact IDï¼ˆæ„ä»¶ç§»åˆ°äº†æ–°çš„ä½ç½®ï¼‰ï¼Œè¿™é‡Œåˆ—å‡ºæ„ä»¶çš„é‡å®šä½ä¿¡æ¯ã€‚--\u0026gt; \u0026lt;relocation\u0026gt; \u0026lt;!--æ„ä»¶æ–°çš„group ID--\u0026gt; \u0026lt;groupId/\u0026gt; \u0026lt;!--æ„ä»¶æ–°çš„artifact ID--\u0026gt; \u0026lt;artifactId/\u0026gt; \u0026lt;!--æ„ä»¶æ–°çš„ç‰ˆæœ¬å·--\u0026gt; \u0026lt;version/\u0026gt; \u0026lt;!--æ˜¾ç¤ºç»™ç”¨æˆ·çš„ï¼Œå…³äºç§»åŠ¨çš„é¢å¤–ä¿¡æ¯ï¼Œä¾‹å¦‚åŸå› ã€‚--\u0026gt; \u0026lt;message/\u0026gt; \u0026lt;/relocation\u0026gt; \u0026lt;!-- ç»™å‡ºè¯¥æ„ä»¶åœ¨è¿œç¨‹ä»“åº“çš„çŠ¶æ€ã€‚ä¸å¾—åœ¨æœ¬åœ°é¡¹ç›®ä¸­è®¾ç½®è¯¥å…ƒç´ ï¼Œå› ä¸ºè¿™æ˜¯å·¥å…·è‡ªåŠ¨æ›´æ–°çš„ã€‚æœ‰æ•ˆçš„å€¼æœ‰ï¼šnoneï¼ˆé»˜è®¤ï¼‰ï¼Œconvertedï¼ˆä»“åº“ç®¡ç†å‘˜ä» Maven 1 POMè½¬æ¢è¿‡æ¥ï¼‰ï¼Œpartnerï¼ˆç›´æ¥ä»ä¼™ä¼´Maven 2ä»“åº“åŒæ­¥è¿‡æ¥ï¼‰ï¼Œdeployedï¼ˆä»Maven 2å®ä¾‹éƒ¨ ç½²ï¼‰ï¼Œverifiedï¼ˆè¢«æ ¸å®æ—¶æ­£ç¡®çš„å’Œæœ€ç»ˆçš„ï¼‰ã€‚--\u0026gt; \u0026lt;status/\u0026gt; \u0026lt;/distributionManagement\u0026gt; \u0026lt;!--ä»¥å€¼æ›¿ä»£åç§°ï¼ŒPropertieså¯ä»¥åœ¨æ•´ä¸ªPOMä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè§¦å‘æ¡ä»¶ï¼ˆè§settings.xmlé…ç½®æ–‡ä»¶é‡Œactivationå…ƒç´ çš„è¯´æ˜ï¼‰ã€‚æ ¼å¼æ˜¯\u0026lt;name\u0026gt;value\u0026lt;/name\u0026gt;ã€‚--\u0026gt; \u0026lt;properties/\u0026gt; \u0026lt;/project\u0026gt;   å¸¸ç”¨æŒ‡ä»¤ é¡¯ç¤ºç‰ˆæœ¬è¨Šæ¯  1  mvn -version    ç·¨è­¯Source Code  1  mvn compile   æ¸…é™¤ç·¨è­¯å®Œæ–‡ä»¶  1  mvn clean   æ‰“åŒ…æˆjar, war  1  mvn pakage   åŸ·è¡Œæ¸¬è©¦  1  mvn test   å°‡æ‰“åŒ…çš„jar, waræ”¾åˆ°æœ¬åœ°çš„repository,ä¾›å…¶ä»–é …ç›®ä½¿ç”¨  1  mvn install   æŸ¥çœ‹å•Ÿç”¨çš„profile  1  mvn help:active-profiles   Maven å‘½ä»¤åƒæ•¸ -D å‚³å…¥å±¬æ€§åƒæ•¸ è·³éå–®å…ƒæ¸¬è©¦ 1  mvn pakage -Dmaven.test.skip=true   -P ä½¿ç”¨æŒ‡å®šçš„Profileé…ç½® è©³ç´°è«‹åƒè€ƒæ­¤å½±ç‰‡\nhttps://www.bilibili.com/video/BV1Fz4y167p5?p=6\u0026amp;spm_id_from=pageDriver\u0026amp;vd_source=422eafa6570139128e44a83238959fa0\nåœ¨POMè£¡é¢å®šç¾©äº†é€™äº›æ±è¥¿\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  \u0026lt;profiles\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;!--ä¸åŒç¯å¢ƒProfileçš„å”¯ä¸€id--\u0026gt; \u0026lt;id\u0026gt;dev\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;!--profiles.activeæ˜¯è‡ªå®šä¹‰çš„å­—æ®µï¼ˆåå­—éšä¾¿èµ·ï¼‰ï¼Œè‡ªå®šä¹‰å­—æ®µå¯ä»¥æœ‰å¤šä¸ª--\u0026gt; \u0026lt;profiles.active\u0026gt;dev\u0026lt;/profiles.active\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;prod\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;profiles.active\u0026gt;prod\u0026lt;/profiles.active\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;activation\u0026gt; \u0026lt;activeByDefault\u0026gt;true\u0026lt;/activeByDefault\u0026gt; \u0026lt;/activation\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;test\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;profiles.active\u0026gt;test\u0026lt;/profiles.active\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;/profiles\u0026gt;   1 2 3 4 5 6 7 8 9 10 11  server.port=8080 spring.h2.console.enabled=true spring.h2.console.path=/h2 spring.sql.init.mode=always spring.datasource.url=jdbc:h2:~/dev;AUTO_SERVER=true spring.datasource.driver-class-name=org.h2.Driver spring.datasource.username=sa spring.datasource.password=sa spring.jpa.database-platform=org.hibernate.dialect.H2Dialect spring.jpa.hibernate.ddl-auto=update   åœ¨ç·¨è­¯projectæ™‚\nä½¿ç”¨\n1  mvn clean package -Pdev   å‰‡å¯ä½¿ç”¨devç’°å¢ƒçš„propertiesä¾†æ‰“åŒ…å°ˆæ¡ˆ\nä¸éœ€è¦å†æ‰‹å‹•åœ¨application.propertiesä¸­ä¿®æ”¹\né…ç½®MultiModule â˜†â˜†â˜†â˜†â˜† å¯åƒè€ƒè‡³æ­¤Repository\nhttps://github.com/Hoxton019030/SpringBoot-MultiModule-MVC-Structure/tree/main\nåœ¨åŸæœ‰çš„å°ˆæ¡ˆä¸­æ–°å¢Module\næ ¹ç›®éŒ„çš„POMæª”å°±æœƒæœ‰ç›¸æ‡‰çš„Moduleå¼•å…¥\n1 2 3 4 5 6 7  ... \u0026lt;modules\u0026gt; \u0026lt;module\u0026gt;service\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;dao\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;controller\u0026lt;/module\u0026gt; \u0026lt;/modules\u0026gt; ...   è€Œå­æ¨¡å¡Šçš„POMæª”æœƒç´€éŒ„å‰¯æ¨¡å¡Šçš„è³‡è¨Š\n1 2 3 4 5 6 7 8  ... \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;Maven_MultiModulePractice\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; ...   å¦‚æœä¸ç‰¹åˆ¥è¨­ç½®çš„è©±ï¼ŒParentçš„dependencyæœƒè¢«child-moduleçš„projectçµ¦ç¹¼æ‰¿ä½¿ç”¨ï¼Œæ‰€ä»¥ä¾‹å¦‚Lomboké€™ç¨®æ±è¥¿å°±å¯ä»¥é…ç½®åœ¨parent moduleä¸­ï¼Œè€Œgsoné€™ç¨®æ±è¥¿ï¼Œå°±å¯ä»¥å°ˆé–€é…ç½®åœ¨service-moduleä¸­ï¼Œé¿å…POMæª”ç„¡é™åˆ¶çš„å¢é•·\næŒ‡å®šä¸åŒé–‹ç™¼ç’°å¢ƒ https://github.com/Hoxton019030/SpringBoot-MultiModule-MVC-Structure\nåœ¨é–‹ç™¼ä¸­ï¼Œå¸¸å¸¸æœƒéœ€è¦ä¸åŒçš„é–‹ç™¼ç’°å¢ƒï¼Œæ¯”å¦‚èªªæœ¬åœ°é–‹ç™¼æ™‚ï¼Œå¯èƒ½æœƒé€£æ¥æœ¬åœ°çš„Databaseï¼Œç•¶ä¸Šç·šåˆ°é›²ç«¯å¾Œï¼Œå¯èƒ½æœƒéœ€è¦é€£æ¥é›²ç«¯çš„VMï¼Œæ–¼æ˜¯å°±å¯ä»¥åœ¨POMè£¡é¢å»æŒ‡å®šä¸åŒçš„ç’°å¢ƒã€ä¸åŒçš„æƒ…æ³ã€ä¸åŒçš„ä½œæ¥­ç³»çµ±æœƒåŸ·è¡Œä¸åŒçš„application.propertiesï¼Œç›¸é—œçš„é…ç½®å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;hoxton.multimodule\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;major\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;build\u0026gt; \u0026lt;resources\u0026gt; \u0026lt;resource\u0026gt; \u0026lt;directory\u0026gt;src/main/resources/resource-${env}\u0026lt;/directory\u0026gt; \u0026lt;!-- é€™é‚Šçš„envå°æ‡‰åˆ°(1)--\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resources\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;profiles\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;dev\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;env\u0026gt;dev\u0026lt;/env\u0026gt; \u0026lt;!--(1)--\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;local\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;env\u0026gt;local\u0026lt;/env\u0026gt; \u0026lt;!--(1)--\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;prod\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;env\u0026gt;prod\u0026lt;/env\u0026gt; \u0026lt;!--(1)--\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;activation\u0026gt; \u0026lt;!--é€™é‚Šé‚„æœ‰æ›´å¤šè¨­å®šå¯ä»¥è¨­å®šï¼Œæ¯”å¦‚èªªæŒ‡å®šJDKç‰ˆæœ¬ã€OSç­‰ç­‰ï¼Œä½†æˆ‘ç¾åœ¨æ‡¶å¾—ç ”ç©¶äº†--\u0026gt; \u0026lt;activeByDefault\u0026gt;true\u0026lt;/activeByDefault\u0026gt; \u0026lt;/activation\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;/profiles\u0026gt; \u0026lt;artifactId\u0026gt;application\u0026lt;/artifactId\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;maven.compiler.source\u0026gt;11\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;11\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;project.build.sourceEncoding\u0026gt;UTF-8\u0026lt;/project.build.sourceEncoding\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;hoxton.multimodule\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;controller\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt;   æ¥è‘—å°±å¯ä»¥ç”¨\n1  mvn clean package -Pdev   1  mvn clean package -Pprod   1  mvn clean package -Plocal   ä¾†æ‰“åŒ…æˆä¸åŒçš„jaräº†\n","date":"2023-07-09T09:47:13+08:00","image":"https://i.imgur.com/VcZp2b7.png","permalink":"https://hoxtoncraft.com/p/maven%E8%A9%B3%E7%B4%B0%E7%A0%94%E7%A9%B6/","title":"Mavenè©³ç´°ç ”ç©¶"},{"content":"åƒè€ƒ åƒè€ƒå½±ç‰‡å¦‚ä¸‹ Apache Airflow for Data Science #1 - How to Install Airflow Locally in 10 Minutes\næ•™å­¸  é¦–å…ˆå…ˆä¸‹è¼‰Anaconda   Anacondaæ˜¯ä¸€å€‹é–‹æºçš„Pythonç™¼è¡Œç‰ˆæœ¬ï¼Œæ—¨åœ¨ç°¡åŒ–Pythoné–‹ç™¼å’Œæ•¸æ“šç§‘å­¸å·¥ä½œçš„æµç¨‹ã€‚å®ƒåŒ…å«äº†è¨±å¤šå¸¸ç”¨çš„Pythonå¥—ä»¶å’Œå·¥å…·ï¼Œä¸¦ä¸”æä¾›äº†ä¸€å€‹æ–¹ä¾¿çš„ç’°å¢ƒç®¡ç†ç³»çµ±ã€‚\nAnacondaåŒ…å«äº†Pythonè§£é‡‹å™¨ä»¥åŠä¸€å€‹ç¨±ç‚ºCondaçš„åŒ…ç®¡ç†å’Œç’°å¢ƒç®¡ç†ç³»çµ±ã€‚Condaå¯ä»¥ç”¨æ–¼å®‰è£ã€å‡ç´šå’Œåˆªé™¤Pythonå¥—ä»¶ï¼Œä¸¦å¯ä»¥ç®¡ç†ä¸åŒç‰ˆæœ¬çš„å¥—ä»¶å’Œå®ƒå€‘ä¹‹é–“çš„ç›¸äº’ä¾è³´é—œä¿‚ã€‚é€™ä½¿å¾—åœ¨ä¸åŒçš„é …ç›®ä¸­ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„å¥—ä»¶è®Šå¾—å®¹æ˜“ï¼ŒåŒæ™‚é¿å…äº†å¥—ä»¶ä¹‹é–“çš„è¡çªã€‚\né™¤äº†Pythonè§£é‡‹å™¨å’ŒCondaå¤–ï¼ŒAnacondaé‚„åŒ…å«äº†è¨±å¤šå¸¸ç”¨çš„Pythonå¥—ä»¶ï¼Œå¦‚NumPyã€Pandasã€Matplotlibã€SciPyç­‰ï¼Œé€™äº›å¥—ä»¶åœ¨æ•¸æ“šç§‘å­¸å’Œç§‘å­¸è¨ˆç®—é ˜åŸŸéå¸¸æµè¡Œã€‚æ­¤å¤–ï¼ŒAnacondaé‚„æä¾›äº†ä¸€å€‹åç‚ºJupyter Notebookçš„ç’°å¢ƒï¼Œç”¨æ–¼äº¤äº’å¼çš„ç·¨å¯«å’ŒåŸ·è¡ŒPythonä»£ç¢¼ã€æ•¸æ“šå¯è¦–åŒ–å’Œæ–‡æª”ç·¨å¯«ã€‚\nç¸½çš„ä¾†èªªï¼ŒAnacondaç‚ºPythoné–‹ç™¼è€…å’Œæ•¸æ“šç§‘å­¸å®¶æä¾›äº†ä¸€å€‹ä¾¿æ·çš„å·¥å…·é›†ï¼Œä½¿å¾—å®‰è£å’Œç®¡ç†Pythonå¥—ä»¶è®Šå¾—æ›´åŠ å®¹æ˜“ï¼ŒåŒæ™‚æä¾›äº†ä¸€å€‹è±å¯Œçš„ç”Ÿæ…‹ç³»çµ±ï¼ŒåŒ…å«äº†è¨±å¤šå¸¸ç”¨çš„å¥—ä»¶å’Œå·¥å…·ï¼Œä½¿å¾—é–‹ç™¼å’Œæ•¸æ“šç§‘å­¸å·¥ä½œæ›´åŠ é«˜æ•ˆå’Œä¾¿åˆ©ã€‚\n æˆ‘å€‹äººæ˜¯å¾é€™é‚Šä¸‹è¼‰çš„\nhttps://docs.anaconda.com/free/anaconda/install/mac-os/\né€™é‚Šæä¾›å¹¾å€‹å¸¸è¦‹çš„condaæŒ‡ä»¤\n æŸ¥çœ‹ç‰ˆæœ¬  1  conda -V   æŸ¥çœ‹ç’°å¢ƒåˆ—è¡¨  1  conda env list   å•Ÿå‹•ç’°å¢ƒ  1  conda activate \u0026lt;ç’°å¢ƒå\u0026gt;   é€€å‡ºç’°å¢ƒ  1  conda deactivate   å‰µå»ºè™›æ“¬ç’°å¢ƒ  1  conda create --name airflow_env python=3.9 -y   å¦‚æœæˆåŠŸçš„è©±ï¼Œiterm2æœƒé¡¯ç¤ºæˆé€™æ¨£çš„ç•«é¢\nåœ¨terminalä¸­åŸ·è¡ŒæŒ‡ä»¤  1  pip install \u0026#34;apache-airflow==2.2.3\u0026#34; --constraint \u0026#34;https://raw.githubusercontent.com/apache/airflow/constraints-2.2.3/constraints-no-providers-3.9.txt\u0026#34;   åˆå§‹åŒ–è³‡æ–™åº«  1  airflow db init   é€²å…¥airflowè³‡æ–™å¤¾ä¸­  1  cd ~/airflow   lsæ‡‰è©²å¯ä»¥çœ‹åˆ°ä¸‹é¢é€™äº›è³‡è¨Š\nå‰µå»ºairflowä½¿ç”¨è€…  1  airflow users create --username admin --password admin --firstname hoxton --lastname Hsu --role Admin --email piyan@yahoo.com.tw   å•Ÿå‹•Aiflow  1  airflow webserver --port 8080 -D   1  airflow scheduler -D   ","date":"2023-07-07T19:46:21+08:00","image":"https://i.imgur.com/FWgJzl6.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E5%9C%A8m1m2%E4%B8%AD%E5%AE%89%E8%A3%9Dairflow/","title":"å¦‚ä½•åœ¨M1,M2ä¸­å®‰è£Airflow"},{"content":"è¨­æ–¹ç¨‹å¼\n$$ 3x+2y=11 \\\n2x+2y=8 $$\n","date":"2023-07-06T21:17:25+08:00","image":"https://i.imgur.com/kuvQKCh.png","permalink":"https://hoxtoncraft.com/p/%E8%A1%8C%E5%88%97%E5%BC%8F%E7%82%BA%E4%BB%80%E9%BA%BC%E6%98%AFab-bc%E8%A1%8C%E5%88%97%E5%BC%8F%E4%B9%8B%E8%A7%A3%E6%9E%90/","title":"è¡Œåˆ—å¼ç‚ºä»€éº¼æ˜¯ab-bc?è¡Œåˆ—å¼ä¹‹è§£æ"},{"content":"å‰ä¸€é™£å­åœ¨å…¬å¸è¢«ä¿å“¥å”¸äº†ä¸€é “ï¼Œã€Œåªçœ‹Terminalè€Œä¸çœ‹SourceTreegæ˜¯éŒ¯çš„ï¼ŒTreeæ‰æ˜¯Gitçš„ç²¾é«“ï¼ã€\næ–¼æ˜¯æ±ºå®šä¾†å­¸ä¸€ä¸‹å¦‚ä½•ç”¨TerminalæŸ¥çœ‹Treeã€‚\né›–ç„¶ä¸å¤šäººçŸ¥é“ï¼Œä½†å…¶å¯¦Gitè£¡é¢æ˜¯å¯ä»¥æŸ¥çœ‹Git Treeçš„\n1  git log --graph   ä½†é€™æ¨£å­åªæœƒé¡¯ç¤ºç•¶å‰åˆ†æ”¯çš„è³‡è¨Šï¼Œå¾ˆå¤šæ™‚å€™æˆ‘å€‘æƒ³çŸ¥é“çš„æ˜¯æ›´Overviewçš„æ±è¥¿ï¼Œæ–¼æ˜¯æˆ‘å€‘å°±éœ€è¦å®Œæˆä¸€ä¸‹æˆ‘å€‘çš„command line\n1  git log --graph --decorate --oneline --all   ä½†é€™å€‹æŒ‡ä»¤å¯¦åœ¨æ˜¯å¤ªé•·äº†ï¼Œæˆ‘å€‘å¯ä»¥é€égit aliasä¾†è®“ä»–æ›´å¥½è¼¸å…¥ä¸€é»ï¼\n1  git config --global alias.graph \u0026#39;log --graph --decorate --oneline --all\u0026#39;   å®Œæˆå¾Œå¯ä»¥è¼¸å…¥\n1  git config --global --list   ä¾†çœ‹çœ‹æˆ‘å€‘æ˜¯å¦æœ‰è¨­å®šæˆåŠŸï¼\nè¨­å®šå¥½äº†å¾Œæˆ‘å€‘å°±å¯ä»¥é€é\n1  git graph   ä¾†æŸ¥çœ‹å®Œæ•´çš„Treeäº† ï¼\n","date":"2023-07-03T16:09:33+08:00","image":"https://i.imgur.com/eESaO42.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8termianl%E4%B8%AD%E9%A1%AF%E7%A4%BA%E5%AE%8C%E6%95%B4%E7%9A%84git-tree/","title":"åœ¨Termianlä¸­é¡¯ç¤ºå®Œæ•´çš„Git Tree"},{"content":" Iterm2è£¡é¢ï¼Œç•¶æˆ‘è¼¸å…¥\n1  git log --oneline   æ™‚ï¼Œæœƒåœ¨æˆ‘çš„terminalä¸Šé¡¯ç¤ºå‡ºä¾†ï¼Œä½†ç•¶æˆ‘é€€å‡ºå¾Œï¼Œé€™äº›è³‡è¨Šåˆä¸è¦‹ï¼Œæœƒè®“æˆ‘åœ¨rebaseçš„æ™‚å€™é‡åˆ°å¾ˆå¤šå›°é›£ï¼Œä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ä¹‹å¾Œç™¼ç¾æœ‰é€™å€‹åŠŸèƒ½å¯å·²é–‹èµ·\n1  git config --global --replace-all core.pager \u0026#34;less -F -X\u0026#34;   é€™æ¨£å°±å¯ä»¥æŒçºŒé¡¯ç¤ºäº†\n","date":"2023-06-27T11:14:03+08:00","image":"https://i.imgur.com/nivCoDF.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8iterm2%E4%B8%8A%E6%8C%81%E7%BA%8C%E9%A1%AF%E7%A4%BAlog-branch/","title":"åœ¨Iterm2ä¸ŠæŒçºŒé¡¯ç¤ºlog, branch"},{"content":"å‰è¨€ å‰ä¸€é™£å­èŠ±äº†65,000è²·äº†ä¸€å°Macbookï¼Œä¸å¾—ä¸èªªï¼Œä½¿ç”¨é«”é©—é‚„æ˜¯è¦ºå¾—åƒä¸€å¨ç­”è¾¯ä¸€æ¨£ï¼Œå¾ˆå¤šæ±è¥¿éƒ½è¦è‡ªå·±ä¾†ã€‚ç”¨äº†å¿«ä¸€å€‹æœˆå·¦å³ï¼Œé‚„æ˜¯æœ‰å¾ˆå¤šåœ°æ–¹ä¸é©æ‡‰ï¼Œæœ€ç›´è§€çš„é«”é©—å°±æ˜¯Terinalå§ï¼ŒWindowsæœ‰ä¸€å€‹éå¸¸å¼·çš„Terminalä»‹é¢å«åšWindow Terminalï¼Œå®ƒçš„ç•«é¢è¨­è¨ˆé‚„æœ‰ä½¿ç”¨é«”é©—ï¼Œæµ·æ”¾äº†Itermä¸çŸ¥é“å¹¾æ¢è¡—ï¼Œå°¤å…¶æ˜¯windowéµ+`ï¼Œå¿«é€Ÿé–‹å•ŸTerminalçš„åŠŸèƒ½è‡³ä»Šè®“æˆ‘é›£ä»¥å¿˜æ‡·ã€‚æ›åˆ°Macä¸Šï¼Œæˆ‘è©¦è‘—ç†Ÿæ‚‰å·¦å³åˆ‡æ›è¦–çª—çš„æ–¹å¼ä¾†æ¨¡æ“¬é‚£ç†Ÿæ‚‰çš„æ„Ÿè¦ºï¼Œä½†åˆ‡æ›çš„å‹•ç•«çš„é‚£ä¸€ç§’é‚„æ˜¯è®“æˆ‘ç…©èºä¸å·²ã€‚æ–¼æ˜¯æœå°‹äº†ä¸€ä¸‹ï¼Œç™¼ç¾Itermæœ¬èº«å°±æœ‰å…§å»ºå¦‚åŒWindow Terminalå¿«é€Ÿé–‹å•ŸTerminalçš„æ–¹å¼ã€‚ï½€\nè¨­å®š å°‡Exculde from Dock\u0026hellip;çš„è¨­å®šæ‰“é–‹\nå†å°‡A hotkey opens a dedicated window \u0026hellip;æ‰“é–‹\nè¨­å®šä½ è‡ªå·±æƒ³è¦çš„å¿«æ·éµï¼Œæˆ‘å°±è¨­æˆè·Ÿwindowä¸€æ¨£çš„è¨­å®šäº†\n","date":"2023-06-15T16:32:19+08:00","image":"https://i.imgur.com/w12QKbR.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E8%AE%93iterm2%E6%93%81%E6%9C%89%E5%A6%82window-terminal%E8%88%AC%E7%9A%84%E7%B5%B2%E6%BB%91%E9%AB%94%E9%A9%97/","title":"å¦‚ä½•è®“Iterm2æ“æœ‰å¦‚Window Terminalèˆ¬çš„çµ²æ»‘é«”é©—"},{"content":"æ•™å­¸ å¯ä»¥å…ˆè¼¸å…¥\n1  env   ä¾†æŸ¥çœ‹è‡ªå·±ç›®å‰çš„ç’°å¢ƒè®Šæ•¸æœ‰ä»€éº¼\nå†ä¾†é€é\n1  vim ~/.bash_profile   ä¾†ç·¨è¼¯bash_profileï¼Œç·¨è¼¯è£¡é¢çš„å…§å®¹\n1  export DESKTOP=\u0026#34;$HOME/Desktop\u0026#34;   ä¹‹å¾Œå†è¼¸å…¥\n1  source ~/.bash_profile   1  vim ~/.zshrc   ç„¶å¾Œå†é–‹é ­çš„åœ°æ–¹åŠ ä¸Š\n1 2 3  if [ -f ~/.bash_profile ]; then source ~/.bash_profile fi   ä¿å­˜å¾Œé€€å‡ºï¼Œä¸¦è¼¸å…¥\n1  source ~/.zshrc   èªªæ˜ï¼šhttps://www.twblogs.net/a/5eee14bd45d52357fb494be6\nåŸå› è§£é‡‹å¦‚ä¸‹ï¼š bashçš„é…ç½®æ–‡ä»¶æ˜¯.bashrc, zshçš„é…ç½®æ–‡ä»¶æ˜¯.zshrcï¼Œç•¶ä½ ä½¿ç”¨zshä½œçˆ²é»˜èªshellå·¥å…·çš„æ™‚å€™ï¼Œå®ƒå•“å‹•æ™‚ä¸¦ä¸æœƒåŠ è¼‰bashçš„é€™å…©å€‹é…ç½®æ–‡ä»¶.bashrcå’Œ.bash_profileï¼Œè€Œåªæœƒ åŠ è¼‰è‡ªå·±çš„é…ç½®æ–‡ä»¶.zshrcï¼Œçˆ²äº†è®“æˆ‘å€‘çš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼Œåªèƒ½åœ¨.zshrcä¸­æ·»åŠ ä¸Šé¢çš„é…ç½®ã€‚\nå¦‚æœä¸åšä¸Šè¿°è¨­ç½®ï¼Œä½ å°±æœƒç™¼ç¾ï¼Œåªæœ‰ç•¶ä½ æ¯æ¬¡source ~/.bash_profileå¾Œçº”æœƒç”Ÿæ•ˆï¼Œä¸‹æ¬¡é‡æ–°æ‰“é–‹zshçª—å£ï¼Œé‚„æ˜¯ä¸ç”Ÿæ•ˆã€‚\n é€™æ¨£å°±å¯ä»¥å›‰ï¼\nä¹‹å¾Œå¯ä»¥å†è¼¸å…¥ä¸€æ¬¡envï¼Œä¾†ç¢ºèªç’°å¢ƒè®Šæ•¸æœ‰è¢«åŠ å…¥åˆ°ç³»çµ±ä¸­\nçµæœå±•ç¤º ","date":"2023-06-14T15:34:15+08:00","image":"https://i.imgur.com/O9emCTx.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E7%82%BAmac%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/","title":"å¦‚ä½•ç‚ºMacè¨­å®šç’°å¢ƒè®Šæ•¸"},{"content":"åœ¨é ç«¯çš„é›»è…¦ä¸Šè¼¸å…¥\n1  sudo ufw allow 8081   å°‡8081 Portæ›éœ²å‡ºä¾†\né€™æ¨£å¤–éƒ¨å°±å¯ä»¥é€é\nhttp://{ip-address}:8081/\nä¾†è¨ªå•ç¶²ç«™äº†\n","date":"2023-05-20T11:40:25+08:00","image":"https://i.imgur.com/qKt7ANw.png","permalink":"https://hoxtoncraft.com/p/%E5%B0%87linux%E7%9A%84port%E6%89%93%E9%96%8B%E8%AE%93%E5%A4%96%E9%83%A8%E5%8F%AF%E4%BB%A5%E8%A8%AA%E5%95%8F/","title":"å°‡Linuxçš„Portæ‰“é–‹ï¼Œè®“å¤–éƒ¨å¯ä»¥è¨ªå•"},{"content":"å‰ä¸€é™£å­è²·äº†Macï¼Œè®“Macå¯ä»¥ç”¨Terminalé–‹å•ŸIntelliJï¼Œé—œæ–¼Macçš„è¨­å®šå¯ä»¥æŸ¥çœ‹é€™ç¯‡æ–‡ç« ï¼Œä½†é€™æ˜¯ä¸€ç›´é²é²æ²’æœ‰æŠŠwindowsä¹Ÿè¨­å®šèµ·ä¾†ï¼Œä½†ä»Šå¤©å®ƒä¾†å•¦ï¼\nå¯¦éš›æ¼”ç¤º æ•™å­¸  å°‡IntelliJçš„binåŠ åˆ°Pathä¸­   PATHæ˜¯ä¸€å€‹åŒ…å«å¤šå€‹è·¯å¾‘çš„ç’°å¢ƒè®Šæ•¸ï¼Œç³»çµ±ä½¿ç”¨å®ƒä¾†å°‹æ‰¾åŸ·è¡Œæª”æ¡ˆã€‚ç•¶ä½ åœ¨å‘½ä»¤æç¤ºå­—å…ƒæˆ–çµ‚ç«¯ä¸­è¼¸å…¥ä¸€å€‹å‘½ä»¤æ™‚ï¼Œç³»çµ±æœƒæª¢æŸ¥é€™äº›è·¯å¾‘ï¼Œçœ‹æ˜¯å¦æœ‰åŒ…å«è©²å‘½ä»¤çš„å¯åŸ·è¡Œæª”æ¡ˆã€‚\n 1  setx PATH \u0026#34;%PATH%;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.1.2\\bin\u0026#34;   åˆ‡åˆ°IntelliJçš„è³‡æ–™å¤¾ä¸­  1  cd C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.1.2\\bin   â€‹\tå…¶å¯¦åšåˆ°é€™é‚Šå°±å·®ä¸å¤šäº†ï¼Œä½ å·²ç¶“å¯ä»¥ä½¿ç”¨\n1  idea .   â€‹\tä¾†é–‹å•Ÿæª”æ¡ˆäº†ï¼Œä½†å¦‚æœé€™æ¨£å­ä½ æœƒç™¼ç¾ä½ çš„termianlåœ¨å•Ÿå‹•å°ˆæ¡ˆçš„æ™‚å€™å°±\tè¢«ä½”ç”¨äº†ï¼ŒåŸå› æ˜¯å› ç‚ºé€™å€‹æŒ‡ä»¤æ˜¯åœ¨ç”¨\\binåº•ä¸‹çš„idea.batå•Ÿå‹•ï¼Œæ–¼æ˜¯æˆ‘\tå€‘è¦æ”¹æˆç”¨idea64.exeçš„æ–¹å¼ä¾†é–‹å•Ÿæª”æ¡ˆï¼Œéœ€è¦åšä»¥ä¸‹çš„æ­¥é©Ÿ\nå°‡åç¨±ç‚ºideaçš„batæª”å‘½åç‚ºidea64   å…¶å¯¦è¦å‘½åæˆä»€éº¼éƒ½æ²’å·®ï¼Œä¸è¦å†å«ideaå°±å¥½\n å°‡idea64.exeçš„æª”æ¡ˆå‘½åç‚ºidea  å°‡idea64.exe.vmoptionså‘½åç‚ºidea.exe.vmoptions   å¦‚æœä¸æ”¹çš„è©±ï¼Œæœƒå‡ºç¾æ‰¾ä¸åˆ°intelliJ æ‰¾ä¸åˆ°vm optionçš„å•é¡Œ\n é€™æ¨£å°±å¯ä»¥ç”¨idea .ä¾† é–‹å•Ÿæª”æ¡ˆäº†\næ³¨æ„äº‹é … é€™æ¨£çš„ä¿®æ”¹æœƒå°è‡´æ¡Œé¢çš„æ·å¾‘å‡ºç¾å•é¡Œï¼Œå› ç‚ºæˆ‘å€‘æŠŠå•Ÿå‹•çš„ç¨‹å¼å¾idea64.exeé‡æ–°å‘½åæˆidea.exeäº†ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°å»ºç«‹ä¸€å€‹æ–°çš„æ¡Œé¢æ·å¾‘\n","date":"2023-05-19T20:56:38+08:00","image":"https://i.imgur.com/fkzGuEX.jpg","permalink":"https://hoxtoncraft.com/p/windows%E7%B3%BB%E7%B5%B1%E4%B8%AD%E4%BD%BF%E7%94%A8terminal%E9%96%8B%E5%95%9Fintellij/","title":"Windowsç³»çµ±ä¸­ï¼Œä½¿ç”¨Terminalé–‹å•ŸIntelliJ"},{"content":"å‰è¨€ ä¸€ç›´ä»¥ä¾†éƒ½è¦ºå¾—è¦åœ¨è³‡æ–™å¤¾å…§æœå°‹æ˜¯ä¸€ä»¶å¾ˆéº»ç…©çš„äº‹æƒ…ï¼ŒåŸå› æ˜¯é€™æ¨£çš„ï¼Œæˆ‘æ–‡ç« çš„è³‡æ–™å¤¾é•·é€™æ¨£\nä»–çš„æ’åºåŸºæœ¬ä¸Šå°±æ˜¯ä¾ç…§è‹±æ–‡å­—æ¯(æˆ–ASCII)çš„æ–¹å¼æ’åºï¼Œä½†æˆ‘æ›´å¸Œæœ›çš„æ˜¯ä»–å¯ä¾ç…§æˆ‘å‰µå»ºçš„æ™‚é–“æ’åºã€‚æˆ‘æ˜¯å¯ä»¥åœ¨windonsç¸½ç®¡å’ŒFinderå…§æŒ‡å®šæƒ³è¦çš„æ’åºæ–¹å¼ï¼Œä½†æˆ‘åœ¨ç·šä¸Šçš„Github.devä¸èƒ½ï¼Œæ–¼æ˜¯æˆ‘å°±æƒ³è®“æˆ‘çš„æ¯ç¯‡æ–‡ç« åœ¨å‰µå»ºçš„æ™‚å¾Œï¼Œèƒ½å¤ åœ¨å‰é¢çš„è³‡æ–™å¤¾å…§åŠ ä¸Šæ’åºï¼Œæœ€æ—©å‰µç«‹çš„æ˜¯1ï¼Œå…¶æ¬¡æ˜¯2ï¼Œä»¥æ­¤é¡æ¨\u0026hellip;\nå¯¦éš›æ“ä½œ è©³ç´°çš„shellscriptèªæ³•å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11  echo \u0026#34;è«‹è¼¸å…¥æ–‡ç« æ¨™é¡Œ\u0026#34; read title # cd content/post/$title # è®€å–è³‡æ–™å¤¾å…§çš„æª”æ¡ˆæ•¸é‡ï¼Œç‚ºæ–‡ç« è³‡æ–™å¤¾å‘½å file_count=$(ls -1 content/post| wc -l) file_count=\u0026#34;${file_count// /}\u0026#34; # å»é™¤file_countåŒ…å«çš„ç©ºç™½ titleWithNumber=$file_count-$title hugo new post/$titleWithNumber/index.md cd content/post/$titleWithNumber open index.md cd ../../..   éœ€è¦é—œæ³¨çš„å°±æ˜¯é‚£å€‹file_countï¼Œé‚£æ®µå°±æ˜¯å»è®€è³‡æ–™å¤¾å…§ç•¶å‰çš„æª”æ¡ˆæ•¸ä¸¦å›å ±ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ä»–å–å‡ºä¾†çš„å€¼å‰é¢æ˜¯æœƒå¸¶ä¸€å€‹ç©ºç™½çš„ï¼Œæ¯”å¦‚èªª\n1  51   é€™æ¨£å­ï¼Œæ‰€ä»¥éœ€è¦å†æŠŠå®ƒçš„ç©ºç™½å»æ‰ï¼Œé€™æ¨£å°±å¯ä»¥åœ¨å¾Œé¢ä»¥å­—ä¸²ä¸²æ¥çš„æ–¹å¼å°‡æ–‡ç« çš„æ¨™é¡Œè‡ªå‹•å¸¶ä¸Šç·¨è™Ÿäº†\n","date":"2023-05-19T15:06:55+08:00","image":"https://i.imgur.com/mdbKbaT.png","permalink":"https://hoxtoncraft.com/p/%E4%BD%BF%E7%94%A8shellscript%E8%AE%80%E5%8F%96%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%AD%E7%9A%84%E6%AA%94%E6%A1%88%E5%80%8B%E6%95%B8/","title":"ä½¿ç”¨shellScriptè®€å–è³‡æ–™å¤¾ä¸­çš„æª”æ¡ˆå€‹æ•¸"},{"content":"å‰è¨€ å‰é™£å­è²·äº†Macï¼Œå½±éŸ¿æˆ‘æœ€å¤§çš„æ‡‰è©²å°±æ˜¯ä¸èƒ½å†åƒWindowsä¸€æ¨£ï¼Œä½¿ç”¨å³éµé–‹å•Ÿå°ˆæ¡ˆäº†ï¼å› ç‚ºå…¬å¸çš„ç”¢å“æœ‰å…©å€‹å°ˆæ¡ˆï¼Œæˆ‘ä¹Ÿå¸¸å¸¸æŠŠå°ˆæ¡ˆç æ‰é‡æŠ“ï¼Œå¦‚æœä¸èƒ½ç”¨å³éµé–‹å•Ÿï¼Œé‚£å°±å¾—å¾ä¸­æ‰‹å‹•åŒ¯å…¥ï¼Œé€™æ¨£å­ä¸€ä¾†ä¸€å¾€çœŸçš„æ˜¯é åŒ—éº»ç…©ã€‚\nå¦‚ä½•ä½¿ç”¨Terminalé–‹å•Ÿ å…¶å¯¦ç¶²è·¯ä¸Šæˆ‘çœ‹äº†å¾ˆå¤šæ•™å­¸ï¼Œå¤§æ¦‚çœ‹äº†4ã€5å¤©å§ï¼Œåˆ°æœ€å¾Œæˆ‘æ‰ç™¼ç¾å…¶å¯¦å®˜ç¶²å°±æœ‰å¯«äº†ï¼ŒåŸä¾†å¹¸ç¦çš„é’é³¥ä¸€ç›´å°±åœ¨èº«é‚Šï¼Œå”‰åƒåœ¾Mac\nhttps://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html\nåˆ‡æ›è‡³/usr/local/bin/ é¦–å…ˆå…ˆåˆ‡æ›è‡³\n1  cd /usr/local/bin/   å‰µå»ºideaæª”æ¡ˆ 1  touch idea   ç·¨è¼¯ideaæª”æ¡ˆä¸­çš„å…§å®¹ 1 2 3  #!/bin/sh  open -na \u0026#34; IDEA.app\u0026#34; --args \u0026#34;$@\u0026#34;   Chat GPTå°é€™æ®µçš„è§£é‡‹å¦‚ä¸‹\n1 2 3 4 5 6 7  open: é€™æ˜¯ macOS çš„ä¸€å€‹å…§å»ºå‘½ä»¤ï¼Œå¯ä»¥ç”¨ä¾†æ‰“é–‹æ‡‰ç”¨ç¨‹å¼ã€æª”æ¡ˆæˆ–ç¶²å€ã€‚ -na: é€™æ˜¯ open å‘½ä»¤çš„å…©å€‹åƒæ•¸ã€‚å…¶ä¸­ -n è¡¨ç¤ºã€ŒOpen a new instance even if one is already runningã€ï¼Œæ„æ€æ˜¯ç„¡è«–æ˜¯å¦å·²ç¶“æœ‰ä¸€å€‹ IntelliJ IDEA åŸ·è¡Œä¸­ï¼Œéƒ½è¦æ‰“é–‹ä¸€å€‹æ–°çš„å¯¦ä¾‹ã€‚è€Œ -a \u0026#34;IDEA.app\u0026#34; å‰‡æŒ‡å®šäº†è¦æ‰“é–‹çš„æ‡‰ç”¨ç¨‹å¼æ˜¯ \u0026#34;IDEA.app\u0026#34;ï¼Œå³ IntelliJ IDEA çš„æ‡‰ç”¨ç¨‹å¼ã€‚ --args \u0026#34;$@\u0026#34;: é€™æ˜¯å‚³éçµ¦ \u0026#34;IDEA.app\u0026#34; çš„åƒæ•¸ã€‚$@ ä»£è¡¨æ‰€æœ‰çš„å‘½ä»¤åˆ—åƒæ•¸ï¼Œé€™æ¨£ç•¶ä½ åœ¨çµ‚ç«¯æ©Ÿä¸­è¼¸å…¥é€™å€‹æŒ‡ä»¤æ™‚ï¼Œå¾Œé¢çš„ä»»ä½•åƒæ•¸éƒ½æœƒè¢«å‚³éçµ¦ IntelliJ IDEAã€‚ ç¶œåˆèµ·ä¾†ï¼Œé€™å€‹æŒ‡ä»¤çš„ç›®çš„æ˜¯åœ¨ macOS ä¸­æ‰“é–‹ä¸€å€‹æ–°çš„ IntelliJ IDEA å¯¦ä¾‹ï¼Œä¸¦å°‡å¾Œé¢çš„åƒæ•¸å‚³éçµ¦ IntelliJ IDEAã€‚é€™æ¨£ä½ å¯ä»¥å¾çµ‚ç«¯æ©Ÿä¸­ç›´æ¥å•Ÿå‹• IntelliJ IDEAï¼ŒåŒæ™‚å¯ä»¥æŒ‡å®šç‰¹å®šçš„å°ˆæ¡ˆæˆ–æª”æ¡ˆä¾†é–‹å•Ÿã€‚   é€™ä¸€æ­¥æˆ‘å€‹äººè¦ºå¾—ç®—æ˜¯ã€Œå¯«ä¸€å€‹scriptè…³æœ¬ã€ç„¶å¾Œè®“terminalå»é‹è¡Œï¼Œå¯ä»¥è¼¸å…¥\n1  env   ç™¼ç¾æˆ‘å€‘çš„PATHè®Šæ•¸ä¸­æœ‰åŒ…å«\n1  /usr/local/bin   ä¹Ÿå°±æ˜¯æˆ‘å€‘ideaè…³æœ¬æ‰€å„²å­˜çš„ä½ç½®\nå­˜æ“‹å¾Œä½¿ç”¨Chmodèª¿æ•´æ¬Šé™ è¼¸å…¥æŒ‡ä»¤\n1  chmod 755 idea   \u0026ldquo;chmod 755\u0026rdquo; æ˜¯ä¸€å€‹ç”¨æ–¼è¨­ç½®æª”æ¡ˆæˆ–ç›®éŒ„æ¬Šé™çš„å‘½ä»¤ã€‚åœ¨ Linux å’Œå…¶ä»–é¡ Unix ç³»çµ±ä¸­ï¼Œ\u0026ldquo;chmod\u0026rdquo; æ˜¯æ”¹è®Šæª”æ¡ˆæ¬Šé™çš„æŒ‡ä»¤ï¼Œè€Œ \u0026ldquo;755\u0026rdquo; æ˜¯ä¸€å€‹è¡¨ç¤ºæ¬Šé™çš„æ•¸å­—ã€‚\nåœ¨ \u0026ldquo;chmod 755\u0026rdquo; ä¸­ï¼Œ\u0026ldquo;755\u0026rdquo; æ˜¯ç”±ä¸‰å€‹æ•¸å­—çµ„æˆçš„æ¬Šé™è¡¨ç¤ºæ³•ã€‚æ¯å€‹æ•¸å­—ä»£è¡¨äº†ä¸åŒçš„ä½¿ç”¨è€…é¡åˆ¥å’Œä»–å€‘å°æª”æ¡ˆçš„æ¬Šé™ã€‚\nç¬¬ä¸€å€‹æ•¸å­—ï¼ˆ7ï¼‰è¡¨ç¤ºæª”æ¡ˆæ‰€æœ‰è€…çš„æ¬Šé™ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œ7 è¡¨ç¤ºæ‰€æœ‰è€…å…·æœ‰è®€å–ã€å¯«å…¥å’ŒåŸ·è¡Œçš„æ¬Šé™ï¼ˆ4 + 2 + 1ï¼‰ã€‚ ç¬¬äºŒå€‹æ•¸å­—ï¼ˆ5ï¼‰è¡¨ç¤ºæª”æ¡ˆæ‰€å±¬ç¾¤çµ„çš„æ¬Šé™ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œ5 è¡¨ç¤ºç¾¤çµ„å…·æœ‰è®€å–å’ŒåŸ·è¡Œçš„æ¬Šé™ï¼Œä½†æ²’æœ‰å¯«å…¥çš„æ¬Šé™ï¼ˆ4 + 1ï¼‰ã€‚ ç¬¬ä¸‰å€‹æ•¸å­—ï¼ˆ5ï¼‰è¡¨ç¤ºå…¶ä»–ä½¿ç”¨è€…ï¼ˆéæ‰€æœ‰è€…ä¸”éç¾¤çµ„æˆå“¡ï¼‰çš„æ¬Šé™ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œ5 è¡¨ç¤ºå…¶ä»–ä½¿ç”¨è€…å…·æœ‰è®€å–å’ŒåŸ·è¡Œçš„æ¬Šé™ï¼Œä½†æ²’æœ‰å¯«å…¥çš„æ¬Šé™ï¼ˆ4 + 1ï¼‰ã€‚ å› æ­¤ï¼Œ\u0026ldquo;chmod 755\u0026rdquo; çš„å«ç¾©æ˜¯å°‡æª”æ¡ˆè¨­ç½®ç‚ºæ“æœ‰è€…å…·æœ‰è®€å–ã€å¯«å…¥å’ŒåŸ·è¡Œæ¬Šé™ï¼Œç¾¤çµ„æˆå“¡å’Œå…¶ä»–ä½¿ç”¨è€…å…·æœ‰è®€å–å’ŒåŸ·è¡Œæ¬Šé™ï¼Œä½†ä¸å…·æœ‰å¯«å…¥æ¬Šé™ã€‚\nåˆ·æ–°é é¢ ç¢ºèªmac osçš„æª”æ¡ˆiconæ˜¯å¦æœ‰æ›´æ”¹æˆexec\nå¦‚æœæ›´æ”¹æˆåŠŸï¼Œå°±å¯ä»¥é€é\n1  idea .   ä½¿ç”¨é–‹å•Ÿæª”æ¡ˆäº† ï¼\nä»¥ä¸‹å…§å®¹ä½œå»¢ï¼Œè«‹å‹¿åƒè€ƒï¼Œé€™æ˜¯æˆ‘éŒ¯çš„ç´€éŒ„ å¦‚ä½•åœ¨Macä¸­è¨­ç½®ç’°å¢ƒè®Šæ•¸é–‹å•ŸIDEA\nåœ¨Terminalä¸­è¼¸å…¥\n1  vim ~/.bash_profile   é€²å…¥è¼¸å…¥ç•«é¢å¾Œï¼Œè¼¸å…¥ä»¥ä¸‹è³‡è¨Š\n1  export PATH=\u0026#34;/Applications/ IDEA.app/Contents/MacOS:$PATH\u0026#34;   å„²å­˜å¾Œé€€å‡ºï¼Œä¸¦è¼¸å…¥\n1  source ~/.bash_profile   å³å¯ä½¿ç”¨\n1  idea .   ç”¨Ideaé–‹å•Ÿç•¶å‰ç›®éŒ„\nä¹Ÿå¯åœ¨terminalè¼¸å…¥\n1  env   ä¾†æŸ¥çœ‹ç›®å‰çš„ç’°å¢ƒè®Šæ•¸ï¼Œç¢ºå®šæ˜¯å¦æœ‰åŠ å…¥PATHä¸­\n1  open -na \u0026#34; IDEA.app\u0026#34; --args \u0026#34;$@\u0026#34;   ","date":"2023-05-18T21:22:51+08:00","image":"https://i.imgur.com/AEhodYS.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8macbook-m1%E7%92%B0%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8terimnal%E9%96%8B%E5%95%9Fintellij/","title":"åœ¨MacBook M1ç’°å¢ƒä¸‹ä½¿ç”¨Terimnalé–‹å•ŸIntelliJ"},{"content":"å°å›  M1çš„CPUæ˜¯ä½¿ç”¨ARMæ¶æ§‹ï¼Œè€Œæœ‰äº›é›»è…¦å‰‡æ˜¯ä½¿ç”¨x86æ¶æ§‹ï¼Œä¸¦ä¸”å› Dockeræ˜¯Runåœ¨OSä¸Šæ–¹ï¼Œæ‰€ä»¥åœ¨åŸ·è¡ŒImageæ™‚ä¹Ÿè¦è€ƒæ…®ä½œæ¥­ç³»çµ±çš„å•é¡Œ\n1  The requested image\u0026#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested   è§£æ±ºæ–¹æ³• åœ¨docker runå•Ÿå‹•åƒæ•¸å¾ŒåŠ ä¸Š--platform linux/amd64å³å¯è§£æ±ºé€™å€‹å•é¡Œ\n1  docker run --platform linux/amd64 -p 8080:8080 fe744192d855   è§£æ±ºæ–¹æ³•äºŒ å¹¹ä½ åª½çš„ï¼Œæˆ‘ç™¼ç¾runçš„æ™‚å€™é‚„æ˜¯ä¸è¡Œï¼Œé‚„æ˜¯è¦åœ¨buildå°±æ§åˆ¶å®ƒçš„æ¶æ§‹\n1  docker build . --platform linux/x86_64   ","date":"2023-05-13T19:09:41+08:00","image":"https://i.imgur.com/8XJ9XWE.png","permalink":"https://hoxtoncraft.com/p/arm%E6%9E%B6%E6%A7%8B%E8%88%87x86%E6%9E%B6%E6%A7%8B%E4%B8%8Bdocker%E5%95%9F%E5%8B%95%E5%95%8F%E9%A1%8C/","title":"ARMæ¶æ§‹èˆ‡x86æ¶æ§‹ä¸‹ï¼ŒDockerå•Ÿå‹•å•é¡Œ"},{"content":"ç°¡ä»‹ æœ€è¿‘è¦æ›æ–°å·¥ä½œäº†ï¼Œæ­£å¥½æ–°å·¥ä½œçš„å…¬å¸æœ‰é›»è…¦è£œåŠ©ï¼Œå°±è¶é€™å€‹æ©ŸæœƒæŠŠMacbookä¹Ÿè²·äº†ï¼Œä¸€æ‹¿åˆ°æ‰‹ä¹‹å¾Œç™¼ç¾è¶…ç´šé›£ç”¨ï¼Œé›£ç”¨åˆ°é åŒ—ï¼ŒçœŸçš„ä¸æ‡‚ç‚ºä»€éº¼ä¸€å †äººèªªå¥½ç”¨ã€‚\nå¦‚ä½•æ›´æ”¹Termialé è¨­è·¯å¾‘ é è¨­æƒ…æ³ä¸‹ï¼ŒTerminalè·¯å¾‘éƒ½æ˜¯\n1  /Users/[ä½¿ç”¨è€…åç¨±]   ä½†æˆ‘å¸Œæœ›ä»–é–‹å•Ÿçš„è·¯å¾‘æ˜¯\n1  /Users/[ä½¿ç”¨è€…åç¨±]/Desktop   å› æ­¤è¦åˆ°.zshrcå»æ›´æ”¹\né€šå¸¸é€™å€‹æª”æ¡ˆéƒ½æœƒæ”¾åœ¨\n/Users/[ä½¿ç”¨è€…åç¨±]åº•ä¸‹ï¼Œå¦‚æœæ²’æœ‰çš„è©±å¯ä»¥è‡ªå·±å‰µä¸€å€‹å°±å¥½\nç„¶å¾Œç·¨è¼¯è£¡é¢çš„å…§å®¹ï¼ŒåŠ ä¸Šé€™æ®µ\n1  cd /Users/hoxtonashes/Desktop   é€™æ¨£ä¸‹æ¬¡é–‹å•Ÿçš„æ™‚å€™ï¼Œé è¨­çš„Terminalè·¯å¾‘å°±æœƒæ˜¯Desktopäº†\n","date":"2023-05-13T17:44:38+08:00","image":"https://i.imgur.com/ieJ6kkK.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E6%9B%B4%E6%94%B9mac-terminal%E7%9A%84%E9%A0%90%E8%A8%AD%E8%B7%AF%E5%BE%91/","title":"å¦‚ä½•æ›´æ”¹Mac terminalçš„é è¨­è·¯å¾‘"},{"content":"åœ¨IntelliJé–‹å•Ÿä»¥ä¸‹çš„è·¯å¾‘\nSetting \u0026gt; Editor \u0026gt; File and Code Templates \u0026gt; Includes \u0026gt; File Header\nå³å¯åœ¨é€™é‚Šç·¨è¼¯å‰µå»ºClassçš„æ¨¡æ¿ï¼Œä¸€æ—¦è¨­å®šå¥½å¾Œï¼Œç•¶ä½ å‰µå»ºä¸€å€‹æ–°çš„Classæ™‚ï¼ŒIntelliJå°±æœƒåœ¨ä½ çš„Classä¸Šæ’å…¥é€™äº›è³‡è¨Š\n","date":"2023-05-12T15:41:07+08:00","image":"https://i.imgur.com/dEvsZm3.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8intellij%E4%B8%AD%E8%A8%AD%E5%AE%9Aclass%E6%A8%A1%E6%9D%BF/","title":"åœ¨IntelliJä¸­è¨­å®šClassæ¨¡æ¿"},{"content":"ä»‹ç´¹ æœ€è¿‘å…¬å¸æå€¡ä½¿ç”¨rebaseè€Œémergeä¾†åˆä½µåˆ†æ”¯ï¼Œä½†åœ¨rebaseçš„æƒ…æ³ä¸‹ï¼Œå¸¸å¸¸å‡ºç¾å¤šç¨®commitæœƒæœ‰é‡è¤‡confictçš„æƒ…å½¢ç™¼ç”Ÿï¼Œå¾€å¾€å¯èƒ½è¦è§£å€‹2,30å€‹conflictï¼Œä¸€ä¾†ä¸€å¾€å¯èƒ½æœƒè€—è²»è¨±å¤šæ™‚é–“ï¼Œæ–¼æ˜¯ä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ï¼Œç™¼ç¾æœ‰\n1  git rerere   é€™ç¨®ç¥å¥‡çš„æŒ‡ä»¤\né€™æ˜¯ç”±3å€‹å–®å­—ç¸®å¯«æ‰€çµ„æˆçš„æŒ‡ä»¤ï¼Œåˆ†åˆ¥æ˜¯reuseã€recorded èˆ‡ resolutionã€‚git rerereæœ‰é»åƒæ˜¯ä¸€å€‹è¨˜æ†¶åå¸çš„æ¦‚å¿µï¼Œèƒ½å¤ è¨˜éŒ„ä½ ä¹‹å‰è§£Conflictçš„æ–¹å¼ï¼Œç„¶å¾Œè‡ªå‹•å¹«ä½ å¥—ç”¨åˆ°ç›¸åŒçš„åœ°æ–¹ã€‚\nè€Œé€™å€‹rerereçš„è¡Œç‚ºé è¨­æ˜¯é—œé–‰çš„ï¼Œæƒ³è¦æ‰“é–‹çš„è©±å¯ä»¥è¼¸å…¥\n1  git config --global rerere.enabled true   ä¾†å•Ÿç”¨ï¼Œè‹¥ä¸æƒ³è¦ä½¿ç”¨çš„è©±å¯ä»¥è¼¸å…¥\n1  git config --global --unset rerere.enabled   ","date":"2023-05-12T11:05:10+08:00","image":"https://i.imgur.com/FJcgPVI.png","permalink":"https://hoxtoncraft.com/p/git-rerere%E4%B9%8B%E4%BB%8B%E7%B4%B9/","title":"Git-rerereä¹‹ä»‹ç´¹"},{"content":"ä¾è³´å¦‚ä¸‹\n1 2 3 4 5  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.h2database\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;h2\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt;   é…ç½®å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10  server.port=8080 spring.h2.console.enabled=true spring.h2.console.path=/h2 spring.sql.init.mode=always spring.datasource.url=jdbc:h2:~/dev;AUTO_SERVER=true spring.datasource.driver-class-name=org.h2.Driver spring.datasource.username=sa spring.datasource.password=sa spring.jpa.database-platform=org.hibernate.dialect.H2Dialect spring.jpa.hibernate.ddl-auto=update   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  server:port:8080spring:h2:console:enabled:truepath:/h2sql:init:mode:alwaysdatasource:url:jdbc:h2:~/test;AUTO_SERVER=true# ??????C/user/userName?????driver-class-name:org.h2.Driver#??driverusername:sapassword:sajpa:database-platform:org.hibernate.dialect.H2Dialecthibernate:ddl-auto:update  ","date":"2023-05-06T00:13:33+08:00","image":"https://i.imgur.com/xYmsInY.png","permalink":"https://hoxtoncraft.com/p/h2database%E4%B9%8B%E9%85%8D%E7%BD%AE%E6%AA%94%E7%B4%80%E9%8C%84/","title":"H2Databaseä¹‹é…ç½®æª”ç´€éŒ„"},{"content":"è¨­å®šç’°å¢ƒè®Šæ•¸ å¯ä»¥åœ¨æ­¤é…ç½®ç’°å¢ƒè®Šæ•¸\næ ¼å¼å¦‚ä¸‹\n1  username=sa;password=sa   Application.propertiesä¹‹è¨­ç½® ä½¿ç”¨${username}ä¾†ç²å–ç’°å¢ƒè®Šæ•¸\nå¦‚ä¸‹\nå³å¯åœ¨å°ˆæ¡ˆä¸­é…ç½®ç’°å¢ƒè®Šæ•¸ï¼Œä¸¦è®“é…ç½®æª”è®€å–\n","date":"2023-05-06T00:07:44+08:00","image":"https://i.imgur.com/lRrDIvY.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8intellij%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E4%B8%A6%E8%AE%93application.properties%E8%AE%80%E5%8F%96/","title":"åœ¨IntelliJè¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œä¸¦è®“Application.propertiesè®€å–"},{"content":"1  sudo lsof -i:8080\t  ç„¶å¾Œæ‰¾åˆ°å®ƒçš„PID\n1  kill 31128   å°±å¯ä»¥äº†\n","date":"2023-05-03T16:25:22+08:00","image":"https://i.imgur.com/m3Lr6uG.png","permalink":"https://hoxtoncraft.com/p/macos%E5%A6%82%E4%BD%95%E7%B5%82%E6%AD%A2portprocess/","title":"MacOSå¦‚ä½•çµ‚æ­¢port,process"},{"content":" æ‹†æ‰ä¸Šæ¬¡Commit  1  git reset HEAD^   ","date":"2023-05-03T14:01:35+08:00","image":"https://i.imgur.com/v0TYB05.png","permalink":"https://hoxtoncraft.com/p/git%E7%AD%86%E8%A8%98/","title":"Gitç­†è¨˜"},{"content":"åƒè€ƒå½±ç‰‡\nDcardå¦‚ä½•é€²è¡ŒCache å…ˆPassæ‰ï¼Œ\nDcard DataBaseä¹‹é¸æ“‡èˆ‡èª¿æ•´ è³‡æ–™å„²å­˜é¡å‹ã€è³‡æ–™å„²å­˜é‡ã€è³‡æ–™æ˜¯è¢«å¤§é‡å„²å­˜é‚„æ˜¯è¢«ä¿®æ”¹?\nDcardä¹‹RDBé¸æ“‡-Postgres\nMongGODB Dcardçš„é€šçŸ¥ã€æ„›å¿ƒï¼Œé‹ç”¨Mogodbçš„ShardingåŠŸèƒ½\nREDIS\nç”¨ä¾†å„²å­˜Userçš„Tokenï¼Œæˆ–æ˜¯æœƒå¤§é‡è¢«ä½¿ç”¨çš„è³‡æ–™\nCacheå¯¦æˆ°å­¸ç¿’-Serving Post List\né™¤äº†æœ€å·¦é‚Šçš„ä¸‰å¼µè¡¨ä»¥å¤–ï¼Œå…¶ä»–éƒ½æ˜¯Materialize Viewï¼Œå› ç‚ºåœ¨å¯¦éš›å–ç”¨æ–‡ç« æ™‚ï¼Œå­¸æ ¡ã€ç³»æ‰€ã€æ€§åˆ¥ç›¸é—œçš„è³‡è¨Šã€ä»¥åŠåœ¨å“ªä¸€å€‹çœ‹æ¿ï¼Œé€™æ¨£çš„Materilize Viewåœ¨é‡åˆ°Migrationæ™‚å°±æœƒé‡åˆ°å¾ˆå¤§çš„å•é¡Œï¼Œå¹¾ä¹å…¨éƒ¨éƒ½è¦é‡å¯«\nä½¿ç”¨Paging Serviceä¾†æ›¿ä»£Materlize View\nCase Studies Handle Reaction\nå°‡Reactionçš„æœå‹™æŠ½é›¢å‡ºä¾†ï¼Œè®“Loadingé™ä½\nQ\u0026amp;A\n","date":"2023-05-01T11:45:37+08:00","image":"https://i.imgur.com/dqGgQLi.png","permalink":"https://hoxtoncraft.com/p/dcard%E5%BE%8C%E7%AB%AF%E6%8A%80%E8%A1%93%E5%88%86%E4%BA%AB%E7%B4%94%E7%B4%80%E9%8C%84/","title":"Dcardå¾Œç«¯æŠ€è¡“åˆ†äº«ï¼ç´”ç´€éŒ„"},{"content":"SpringBootçš„Beanæœ‰ä¸‰ç¨®æ³¨å…¥æ–¹å¼\n @Autowired Constructor Injection Setting Injection  è€Œå®˜æ–¹æ¨è–¦çš„æ˜¯ç¬¬äºŒç¨®çš„å»ºæ§‹å­æ³¨å…¥ï¼Œè€ŒLombokæœ‰å€‹è¨»è§£å«åš@RequiredArgsConstructorï¼Œå®ƒèƒ½å¤ ç”¢ç”Ÿä¸€å€‹åªæœ‰final fieldçš„å»ºæ§‹å­\nå°±åƒé€™æ¨£\n23è¡Œçš„@RequiredArgsConstructorï¼Œæœƒå‰µå»ºMemberControlleråº•ä¸‹çš„final fieldï¼Œä¹Ÿå°±æ˜¯é€™æ¨£\n1 2 3  public MemberController(MemberService memberService) { this.memberService = memberService; }   é€™æ¨£ä¸€ä¾†æˆ‘å€‘çš„Serviceå±¤è·ŸControllerå±¤å°±æœƒæ›´ç°¡æ½”ï¼Œç•¶æ–°çš„ä¾è³´é€²å…¥å¾Œï¼Œä¸éœ€è¦å†é‡æ–°å¯«ä¸€å€‹å»ºæ§‹å­ï¼Œåªè¦å°‡å…¶å®£å‘Šæˆfinalå¾Œï¼ŒLombokå°±æœƒå¹«æˆ‘å€‘å‰µå»ºäº†\n","date":"2023-04-30T02:39:36+08:00","image":"https://i.imgur.com/1OBx1AG.png","permalink":"https://hoxtoncraft.com/p/%E7%B5%90%E5%90%88lombok%E5%AF%AB%E5%87%BA%E6%9B%B4%E6%95%B4%E6%BD%94%E7%9A%84%E7%A8%8B%E5%BC%8F%E7%A2%BC/","title":"çµåˆLombokå¯«å‡ºæ›´æ•´æ½”çš„ç¨‹å¼ç¢¼"},{"content":"åƒè€ƒå½±ç‰‡ï¼šClean Architecture with Spring by Tom Hombergs @ Spring I/O 2019\næ¶æ§‹çš„ç›®æ¨™  Facilitate Development Facilitate Deployment Facilitatte maintenance keep software soft keep frameworks of arm\u0026rsquo;s length keep options open  æ¶æ§‹çš„çµ‚æ¥µç›®æ¨™ The Goal of software Achitecture is to minimize the lifetime cost of the software\nåˆ†å±¤å¼(Layers)æ¶æ§‹æœ‰ä»€éº¼å•é¡Œï¼Ÿ åˆ†å±¤æ¶æ§‹æ˜¯ä¸€ç¨®å¯é çš„æ¶æ§‹æ¨¡å¼ï¼ä½†æ˜¯å¦‚æœæ²’æœ‰é¡å¤–çš„é™åˆ¶ï¼Œå®ƒå€‘å®¹æ˜“å‡ºç¾è¨­è¨ˆç¼ºé™·ã€‚ æ ¹æ“šè¬›è€…çš„ç¶“é©—ï¼Œæˆ‘å€‘æœ‰å¾ˆå¤šçš„æ¶æ§‹æ˜¯æ‰€è¬‚çš„è³‡æ–™åº«é©…å‹•è¨­è¨ˆ(Database Driven design)\nåœ¨æˆ‘å€‘çš„Domain Layerï¼Œæˆ‘å€‘æœ‰Service Layerã€Persistence Layerï¼Œè£¡é¢å­˜åœ¨è‘—æˆ‘å€‘çš„Entityä»¥åŠJPAç›¸é—œçš„ä¸€äº›è³‡è¨Š\næ¨¡ç³Šçš„ç•Œç·š(Blurred Boundaries) å¦ä¸€å€‹é—œæ–¼Layerçš„è­°é¡Œæ˜¯ï¼Œæˆ‘å€‘é€šå¸¸æœƒæœ‰ä¸€å€‹å·¥å…·é¡(utili)ä¾†å°è£æˆ‘å€‘å¸¸ç”¨çš„ä¸€äº›å‡½å¼åº«ï¼Œé€™äº›æ±è¥¿æœƒåœ¨å„å±¤ä¹‹é–“æµç«„ï¼Œé€™æ¨£æœƒä½¿å¾—å„å±¤ä¹‹é–“çš„é—œä¿‚è¶Šç™¼æ¨¡ç³Šã€‚\né›£ä»¥æ¸¬è©¦ éœ€è¦Mockå¾ˆå¤šæ±è¥¿ï¼Œæ¯”å¦‚èªªServiceã€Repositoryã€‚\nè¨±å¤šåŠŸèƒ½è¢«éš±è—èµ·ä¾†äº† å‡ä½¿æˆ‘å€‘æœ‰ä¸€å€‹Orderçš„ç³»çµ±ï¼Œé‚£æˆ‘å€‘æ‰€æœ‰å°Orderçš„CRUDéƒ½æœƒé›†ä¸­åœ¨OrderServiceä¸­ï¼Œä¸€æ—¦é€™å€‹æ–¹æ³•æœ‰å¾ˆå¤šå€‹ï¼Œé‚£éº¼å¾ˆå¤šæ–¹æ³•(Functionality)å°±æœƒè¢«åŸ‹æ²’èµ·ä¾†\né‚£éº¼å¦‚ä½•è§£æ±ºé€™äº›å•é¡Œå‘¢ ï¼Ÿ\nDo Circles Instead å†è­°SOLIDè¨­è¨ˆæ¨¡å¼ Dependency Inverision Principle ä¾è³´åè½‰åŸå‰‡\n(å·¦åœ–ç‚ºDatabase Driven Development)\nå½±ç‰‡æˆ³è¨˜æ™‚é–“\nè‹¥è¦åŸ·è¡Œä¾è³´åè½‰åŸå‰‡ï¼Œé‚£éº¼Domainå±¤ä¸æ‡‰è©²ä¾è³´Persistenceå±¤ï¼Œè€Œæ˜¯åè½‰éä¾†ï¼Œ(Use Caseç­‰åŒæ–¼Serviceå±¤)ï¼Œ\né€™æ¨£åšçš„å¥½è™•æ˜¯ä»€éº¼ï¼Ÿæˆ‘å€‘å¯ä»¥é¸æ“‡ä»»ä½•Codeçš„ä¾è³´æ–¹å‘\nSingle Responsibility Priniciple ä¸€å€‹Classæˆ–ä¸€å€‹Moduleåªåšä¸€ä»¶äº‹æƒ…\nä¸€å€‹Classæˆ–ä¸€å€‹Moduleåªèƒ½æœ‰ä¸€å€‹åŸå› è¢«ä¿®æ”¹(Change)\nåˆ†å±¤å¼æ¶æ§‹ä¸‹ï¼Œè‹¥Persistenceä¿®æ”¹äº†ï¼Œé‚£éº¼Businesså±¤æœ‰å¾ˆå¤§æ©Ÿç‡ä¹Ÿæœƒé€£å‹•ä¿®æ”¹ï¼Œä½†åœ¨Clean Architectureçš„æ¶æ§‹ä¸‹ï¼ŒPersistenceç”±æ–¼ä¸è™•æ–¼æœ€æ ¸å¿ƒçš„éƒ¨åˆ†(Entity)ï¼Œå› æ­¤ä¸éœ€è¦ä¸€èµ·æ”¹å‹•\nå‡ä½¿æˆ‘å€‘æœ‰ä¸€å€‹Order Serviceï¼Œå…¶ä¸­æœ‰ä¸‰å€‹user Rolesï¼Œç•¶å…¶ä¸­ä¸€å€‹User Rolesæ”¹è®Šå¾Œï¼Œæˆ‘å€‘å°±è¦å»æ”¹å‹•æˆ‘å€‘çš„Service\nä½†ç•¶æˆ‘å€‘æŠŠServiceåˆ†å‰²æˆä¸åŒçš„Use Casesï¼Œæ¯ä¸€å€‹CasesæŒ‡å°æ‡‰ä¸€å€‹Use Rolesï¼Œé‚£éº¼é€™å€‹Use Caseä¹Ÿåªæœƒæœ‰ä¸€å€‹åŸå› è¢«ä¿®æ”¹\n Serviceæ‡‰è©²è¢«åˆ‡å‰²æˆè¨±å¤šä¸åŒçš„Use Case(First-Class Citizens)\n Only a Domain-Centric Architecture Allows Domian-Driven Design\nClean Architecture Hexagons å…­è§’æ¶æ§‹æ˜¯Clean Architectureçš„å…·ç¾åŒ–\n Input Portï¼šå°å¤–æš´éœ²çš„API  use case class implements an input port, the input port is just a Java interface, then the use case class modifies the domain model\nå•é¡Œæ™‚é–“ï¼šé€™å€‹æ‡‰ç”¨ç¨‹å¼åœ¨åšä»€éº¼ï¼Ÿ åˆ†å±¤æ¶æ§‹ä¸‹ï¼Œåªé€éClassåç¨±ç„¡æ³•ç²å¾—æœ‰ç”¨çš„è¨Šæ¯\nå…­è§’æ¶æ§‹ä¸­ï¼Œå°‡Serviceæ‹†åˆ†æˆä¸åŒçš„Use Caseï¼Œæ‰€æœ‰çš„è·è²¬æœƒæ›´åŠ ä¸€ç›®äº†ç„¶\nå¯¦ä½œæ™‚é–“ Codeé€£çµï¼šthombergs/buckpal\n\n\n\n\nSummary å¦‚ä½•å¼·è¿«æˆ‘å€‘ä½¿ç”¨é€™å€‹æ¶æ§‹\n","date":"2023-04-25T10:24:57+08:00","image":"https://i.imgur.com/wlAKij1.jpg","permalink":"https://hoxtoncraft.com/p/spring%E4%B8%AD%E7%9A%84clean-architecture/","title":"Springä¸­çš„Clean Architecture"},{"content":"åˆ©ç”¨ä¸€å€‹ä¸‹åˆï¼ŒæŠŠå°Cherry Pickçš„ä¸€äº›å•é¡Œæ•´ç†æˆä¸€ç¯‡æ–‡ç« ï¼Œä¸¦ä¸”é€™å€‹æŒ‡ä»¤å¸¸å¸¸èˆ‡Rebase, Mergeå…©è€…ä¾†å°æ¯”ï¼Œç›®å‰æ„Ÿè¦ºå¦‚ä¸‹\n   æŒ‡ä»¤ merge rebase cherry pick     èªªæ˜ å°‡ä¸€æ¢åˆ†æ”¯åˆé€²å¦ä¸€æ¢åˆ†æ”¯ä¸­ã€‚ä¸æœƒç ´å£æäº¤æ­·å²çš„å®Œæ•´æ€§ï¼Œä½†ç¼ºé»æ˜¯åˆä½µå¾Œçš„æäº¤æ­·å²è¼ƒç‚ºæ··äº‚ï¼Œæœ‰æ™‚å¯èƒ½æœƒç”¢ç”Ÿå†—é•·çš„æäº¤æ­·å²ã€‚ å°‡ç•¶å‰åˆ†æ”¯èˆ‡ç›®æ¨™åˆ†æ”¯çµåˆï¼Œä¸¦ä»¥ç›®æ¨™åˆ†æ”¯ç‚ºåº•(base)é‡æ–°å‡ºç™¼ã€‚å°‡ä¸€å€‹åˆ†æ”¯ä¸­çš„æäº¤æ­·å²æ‡‰ç”¨åˆ°å¦ä¸€å€‹åˆ†æ”¯ä¸Šï¼Œä½¿å¾—ç›®æ¨™åˆ†æ”¯ä¸­çš„æäº¤æ­·å²è®Šå¾—æ›´åŠ ç·Šæ¹Šå’Œç°¡æ½” å‘½ä»¤å¯ä»¥å¾ä¸€å€‹åˆ†æ”¯ä¸­é¸æ“‡å–®å€‹æäº¤ï¼Œä¸¦å°‡å…¶æ‡‰ç”¨åˆ°å¦ä¸€å€‹åˆ†æ”¯ä¸Šï¼Œé€šå¸¸ç”¨æ–¼éœ€è¦ç‰¹å®šæäº¤çš„æƒ…æ³ã€‚åªæƒ³è¦æŸå€‹åˆ†æ”¯çš„æŸäº›commitï¼Œä¸å¸Œæœ›æŠŠæ•´å€‹åˆ†æ”¯æ¬éä¾†   æŒ‡ä»¤ git merge salve git rebase main git cherry-pick c4   åœ–ç¤º      å„ªé» ç°¡å–®æ˜“æ“ä½œï¼Œä¸ç ´å£commitæ­·å² ä¸ç”¢ç”Ÿå¤šé¤˜commit èˆ‡åˆ†æ”¯ç·š ä¸æœƒæ›´å‹•åˆ°Commitçš„æ­·å²é †åº   ç¼ºé» æœƒç”¢ç”Ÿé¡å¤–çš„åˆ†æ”¯åˆæˆç·š ä¸å¯ä»¥åœ¨å…±ç”¨åˆ†æ”¯ä¸Šä½¿ç”¨ï¼Œå¦å‰‡å°‡æ‰“æ–·commité †åºï¼Œç ´å£commitå®Œæ•´æ€§ è‹¥cherry pick commitéå¤šï¼Œæ˜“ç”¢ç”Ÿé‡è¤‡çš„commitç´€éŒ„   æ‡‰ç”¨å ´æ™¯ æ•´åˆåˆ†æ”¯ ç”¨ä»¥å–å¾—åˆ¥çš„åˆ†æ”¯æ•´å€‹é€²åº¦ ç”¨ä»¥å–å¾—åˆ¥çš„åˆ†æ”¯çš„å€‹åˆ¥é€²åº¦    é è¦½ é€™æ˜¯ä¸€å€‹SpringBootå°ˆæ¡ˆï¼ŒMainåˆ†æ”¯ç›®å‰é•·é€™æ¨£ï¼Œä¸¦ä¸”é‚„æœ‰å…©å€‹å”ä½œè€…ï¼Œåˆ†åˆ¥æ˜¯Hoxtonè·ŸDallas\nSourceTreeå¦‚ä¸‹\nHoxtoné€™å€‹æœ‰å››å€‹Commit\nä¾åºå¦‚ä¸‹\n å‰µå»ºMemberDaoã€€f198 å‰µå»ºMemberService 185a å‰µå»ºMemberController 310a ç‚ºMemberControlleræ–°å¢ä¸€å€‹æ–¹æ³• 99b2 åˆªé™¤MemberController fd8b  Dallasé€™å€‹åˆ†æ”¯æœ‰å…©å€‹Commit\n å‰µå»ºLoginContorller 7eb2 ç‚ºLogingControlleræ–°å¢ä¸€å€‹æ–¹æ³• e92a  Mainé€™å€‹åˆ†æ”¯æœ‰ä¸€å€‹Commit\n å‰µå»ºREADME fce6  æ¥ä¸‹ä¾†åœ¨ä¸åŒæƒ…å¢ƒä¸‹ï¼Œä½¿ç”¨Cherry Pickï¼Œçœ‹çœ‹æœƒæœ‰ä»€éº¼çµæœèˆ‡å•é¡Œ\nå¯¦éš›æ¼”ç·´ Mainéœ€è¦hoxtonçš„é€²åº¦ï¼Œå…¶ä¸­æœ‰åŒ…å«Mainä¸Šæœªæœ‰çš„æª”æ¡ˆ(99b2) çµæœï¼š\nç™¼ç”Ÿè¡çªï¼Œå› Mainä¸Šæ²’æœ‰MemberControllerã€‚é›–ç„¶æœ€æ–°çš„Commit åªæœ‰å°MemberControlleræ›´æ–°ï¼Œæ²’æœ‰å‰µå»ºMemberControllerçš„éƒ¨åˆ†ï¼Œä½†å› ç‚ºè¦Cherry Pickçš„é—œä¿‚ï¼Œæ‰€ä»¥é‚„æ˜¯æœƒæŠŠMemberControllerå‰µå»ºèµ·ä¾†ï¼Œä¸¦ä¸”å…¶å…§å®¹æ˜¯æœ€æ–°çš„å…§å®¹è‡³æ–¼Serviceã€Daoå‰‡ä¸æœƒå¸¶éä¾†ï¼Œå› ç‚ºé‚£æ˜¯å±¬æ–¼åˆ¥çš„Commitçš„ï¼Œå› æ­¤æœ€çµ‚æ˜¯é•·é€™æ¨£ï¼Œç¶ è‰²éƒ¨åˆ†æ˜¯æ–°å¢çš„éƒ¨åˆ†\n hoxton-310a å‰µå»ºMember Controller\n  hoxton-99b2 åœ¨Member Controlleræ–°å¢æ–¹æ³•\n Mainåªéœ€è¦Hoxtonçš„å¹¾å€‹é€²åº¦ï¼Œå…¶ä¸­çš„commitä¸¦éé€£çºŒ(310a, f198) çµæœï¼š\nå°‡MemberControllerèˆ‡Daoå‰µå»ºé€²ä¾†ï¼Œå…¶ä¸­ä¸åŒ…å«Daoï¼Œå› ç‚ºCherry-pickçš„éƒ¨åˆ†ä¸åŒ…å«ï¼Œæ³¨æ„åˆ°çš„æ˜¯ï¼Œå› ç‚ºCherry pickæ™‚æˆ‘å€‘çš„æŒ‡ä»¤æ˜¯é€™æ¨£\n1  git cherry-pick 310a f198   å› æ­¤Commit çš„é †åºèª¿æ›äº†ï¼Œè®Šæˆå…ˆControlleråœ¨Dao\næª”æ¡ˆé•·é€™æ¨£\nMainåªéœ€è¦Hoxtonçš„å¹¾å€‹é€²åº¦ï¼Œå…¶ä¸­çš„commitä¸¦éé€£çºŒ(f198, 310a) çµæœï¼š\nå°‡MemberControllerèˆ‡Daoå‰µå»ºé€²ä¾†ï¼Œå…¶ä¸­ä¸åŒ…å«Serviceï¼Œå› ç‚ºCherry-pickçš„éƒ¨åˆ†ä¸åŒ…å«ï¼Œæ³¨æ„åˆ°çš„æ˜¯ï¼Œå› ç‚ºæˆ‘å€‘Cherry Pickçš„æŒ‡ä»¤å¦‚ä¸‹\n1  git cherry-pick f198 310a   å› æ­¤Commit é †åºèˆ‡hoxtonä¸Šåˆ†æ”¯çš„é †åºä¸€æ¨£\næª”æ¡ˆé•·é€™æ¨£\nCherry-pickä¸€å€‹åªæœ‰åˆªé™¤æª”æ¡ˆçš„commitï¼Œæ˜¯å¦èƒ½æˆåŠŸ fd8bé€™å€‹Commitæ˜¯å°‡MemberControlleråˆªæ‰ï¼Œåœ¨Mainä¸Šcherry Pickå¾Œæœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…å‘¢?\nçµæœ\nçµæœï¼š\né¡¯ç¤º\n Bad revision\n ç›´æ¥ä¸è®“cherry-pickï¼Œæˆ‘çŒœå¤šåŠæ˜¯å› ç‚ºé€™å€‹Commitåªæœ‰åŒ…å«åˆªé™¤ï¼Œå› æ­¤æ²’è¾¦æ³•pick\nCherry-pickä¸€å€‹ç¯„åœçš„commitï¼Œæœ€çµ‚çš„çµæœå‘ˆç¾å¦‚ä½•? 1  git cherry-pick f198 .. fd8b   çµæœï¼š\nå‡è¨­ç¾åœ¨Dallaséœ€è¦Hoxtonçš„Commitï¼Œå®ƒåˆé€²å»Mainå¾Œæœƒé•·ä»€éº¼æ¨£å­å‘¢? å¦‚æœå…©é‚Šåˆé€²Mainä¹‹å¾Œæœƒé•·æ€éº¼æ¨£å‘¢ï¼Ÿæœƒä¸æœƒå…©é‚Šéƒ½æœ‰é‡è¤‡çš„Commitå°è‡´ç•«é¢å¾ˆäº‚å‘¢?\nçµæœï¼š\næœƒï¼Œåˆé€²å»å¾Œæœƒæœ‰è¨±å¤šé‡è¤‡çš„commitï¼Œå› ç‚ºCherry pickéå»å¾Œï¼Œé›–ç„¶çœ‹èµ·ä¾†ä¸€æ¨£ï¼Œä½†å®ƒå€‘çš„Hash Codeå·²ç¶“æœ‰æ‰€ä¸åŒï¼Œå› æ­¤æœƒæœ‰é‡è¤‡çš„æƒ…å½¢ç™¼ç”Ÿ\n","date":"2023-04-16T17:30:28+08:00","image":"https://i.imgur.com/n1qX6TQ.gif","permalink":"https://hoxtoncraft.com/p/cherry-pick%E7%9A%84%E4%B8%80%E9%BB%9E%E7%A0%94%E7%A9%B6/","title":"Cherry Pickçš„ä¸€é»ç ”ç©¶"},{"content":"æœ¬æ–‡åƒè€ƒè‡³MyBatiså…¥é–€æ•™å­¸\nä»¥åŠmy-batiså®˜æ–¹æ–‡ä»¶\næ–°å¢Mavenä¾è³´ 1 2 3 4 5  \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.13\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;   XMLé…ç½®å…§å®¹  æ­¤ç‚ºé è¨­çš„æ¨¡æ¿\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;${driver}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;${url}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;${username}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;${password}\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;org/mybatis/example/BlogMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt;   æª”æ¡ˆå¤§æ¦‚é…ç½®æˆé€™æ¨£\nXMLå…·é«”é…ç½®å…§å®¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;org.h2.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:h2:~/cherry;AUTO_SERVER=true\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;sa\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;sa\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;org/example/BlogMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt;   é…ç½®BlogMapper.xml æ–¼å°ˆæ¡ˆä¸­ï¼Œæ­¤Xmlç”¨ä»¥å„²å­˜SQLèªå¥\n1 2 3 4 5 6 7 8 9  \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;BlogMapper\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;selectBlog\u0026#34; resultType=\u0026#34;Blog\u0026#34;\u0026gt; select * from Blog where id = #{id} \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt;   ","date":"2023-04-16T16:01:05+08:00","image":"https://i.imgur.com/wG62XWP.jpg","permalink":"https://hoxtoncraft.com/p/mybatis%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"MyBatiså­¸ç¿’ç­†è¨˜"},{"content":"å°å›  é€šå¸¸æ˜¯å› ç‚ºåœ¨JPAçš„åœ°æ–¹ä½¿ç”¨äº†@GeneratedValue(strategy = GenerationType.AUTO)é€™å€‹è¨»è§£ï¼Œé€™å€‹è¨»è§£æœƒç”±è³‡æ–™åº«è‡ªå‹•(AUTO)å»é…ç½®ï¼Œå¦‚æœè³‡æ–™åº«æœ‰å°±æ²’å•é¡Œï¼Œä½†æœ‰äº›è³‡æ–™åº«å¯èƒ½æœƒæ²’æœ‰ï¼Œæ¯”å¦‚èªªæˆ‘ç”¨çš„è³‡æ–™åº«æ˜¯PostgresSQLå°±æœƒå‡ºç¾é€™å€‹å•é¡Œ\nè§£æ±ºæ–¹å¼\nå°‡@GeneratedValue(strategy = GenerationType.AUTO)æ›´æ”¹ï¼Œæ›´æ”¹ç‚º@GeneratedValue(strategy = GenerationType.IDENTITY)å³å¯\n","date":"2023-04-16T03:55:44+08:00","image":"https://i.imgur.com/kdTSaSC.png","permalink":"https://hoxtoncraft.com/p/springboot%E5%95%9F%E5%8B%95%E6%99%82%E5%87%BA%E7%8F%BEmissing-table-hibernate-sequence%E4%B9%8B%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/","title":"SpringBootå•Ÿå‹•æ™‚ï¼Œå‡ºç¾Missing table hibernate sequenceä¹‹è§£æ±ºæ–¹æ³•"},{"content":"å‰è¨€ é€£å‡å¯¦åœ¨æœ‰é»ç„¡èŠï¼Œæ‰“ç®—ä¾†æ‰‹å¯«ä¸€å€‹SprintBootå°ˆæ¡ˆï¼Œä¾†åŠ æ·±è‡ªå·±å°é€™ç¨®IoCæ¡†æ¶çš„ç†è§£ï¼Œæˆ‘æ‰“ç®—æŠŠé€™å€‹æ¡†æ¶å«åšWinterï¼Œè±¡å¾µæˆ‘æ¯æ³æ„ˆä¸‹çš„äººç”Ÿï¼Œå”‰\nSprintBoot å–®ä¾‹æ±  æœ¬ç« æ‰€ç”¨åˆ°çš„ç¨‹å¼ç¢¼å­˜æ”¾åœ¨é€™\nhttps://github.com/Hoxton019030/Winter/tree/bean-scan-and-beandefinition\nä¸€åˆ‡é–‹å§‹çš„åœ°æ–¹ï¼ŒMain å•Ÿå‹•é¡çš„å¯«æ³•å¦‚ä¸‹\n1 2 3 4 5  public class Main { public static void main(String[] args) { WinterApplicationContext applicationContext = new WinterApplicationContext(AppConfig.class); } }   é€™é‚Šçœ‹åˆ°å…©å€‹é™Œç”Ÿçš„Classï¼ŒWinterApplicationContextï¼Œä»¥åŠAppConfigã€‚å…ˆè¬›AppConfigæ˜¯ä»€éº¼ï¼Œå®ƒæ˜¯Winterçš„é…ç½®é¡ï¼Œæˆ‘å€‘æœƒåœ¨é€™é‚Šå»é…ç½®æˆ‘å€‘Winter Beançš„ä½ç½®åœ¨å“ªé‚Šï¼Œæ‰€ä»¥æˆ‘å€‘è¦åŠ ä¸Š@ComponentScané€™å€‹è¨»è§£ï¼Œè®“æˆ‘å€‘çš„Winteræ¡†æ¶çŸ¥é“å®ƒè¦å»ä»€éº¼packageåº•ä¸‹æ‰¾åˆ°Beanã€‚é€™é‚Šæˆ‘å€‘å°±å…ˆå‰µé€™å€‹Classå°±å¥½ï¼Œç›®å‰å…ˆä¸æœƒå¯«åˆ°å®ƒã€‚\nAppConfig 1 2 3 4 5 6 7  /** * Winterçš„é…ç½®æ–‡ä»¶ */ @ComponentScan(\u0026#34;org.hoxton.service\u0026#34;) public class AppConfig { }   @ComponentScan 1 2 3 4 5  @Retention(RetentionPolicy.RUNTIME) @Target(ElementType.TYPE) public @interface ComponentScan { String value() default \u0026#34;\u0026#34; ; }   ç”¨ä¾†ç¤ºæ„æˆ‘å€‘çš„Winteræ¡†æ¶ï¼Œè¦å»å“ªé‚Šæ‰¾åˆ°æˆ‘å€‘çš„Beanï¼Œæˆ‘å€‘çš„Beanéƒ½æœƒå¯«åœ¨org.hoxton.serviceé€™å€‹è·¯å¾‘ä¸‹é¢ã€‚\n@Component é€™å€‹å¤§å®¶ç†Ÿçš„å§ï¼Œå°‡ç•¶å‰é¡è®Šæˆä¸€å€‹Spring Beançš„è¨»è§£\n1 2 3 4 5 6  @Retention(RetentionPolicy.RUNTIME) @Target(ElementType.TYPE) public @interface Component { String value() default \u0026#34;\u0026#34;; }   @Scope æ¨™ç¤ºç•¶å‰é¡æ‰€è¦å‰µå»ºçš„Beanæ˜¯ä¸€å€‹å–®ä¾‹é‚„æ˜¯ä¸€å€‹Prototypeçš„Bean\n1 2 3 4 5  @Retention(RetentionPolicy.RUNTIME) @Target(ElementType.TYPE) public @interface Scope { String value(); }   UserService ç”¨ä¾†å‡è¨­MVCæ¶æ§‹ä¸­çš„Serviceå±¤\n1 2 3 4  @Component(\u0026#34;userService\u0026#34;) @Scope(\u0026#34;singleton\u0026#34;) public class UserService { }   WinterApplicationContext é€™å€‹é¡å°±æ˜¯SpringBootæ¡†æ¶ä¸­çš„å®¹å™¨é¡ï¼Œæˆ‘å€‘æ¥ä¸‹ä¾†è¦ä¾†æ‰‹å¯«ä¸€å€‹å®¹å™¨é¡ï¼Œé¦–å…ˆå…ˆå‰µé€™å€‹é¡å‡ºä¾†ï¼Œä¸¦ä¸”å®ƒè¦åƒä¸€å€‹Classåƒæ•¸ä½œç‚ºConstructor\n1 2 3 4 5 6 7  public class WinterApplicationContext { private Class configClass; public WinterApplicationContext(Class configClass){ this.configClass=configClass; } }   æ¥ä¸‹ä¾†æˆ‘å€‘å¯«ä¸€å€‹æ–¹æ³•ï¼Œå«åšScanï¼Œé€™å€‹Scanæ–¹æ³•æœƒå»å¾—åˆ°@ComponentScané€™å€‹è¨»è§£çš„å€¼ï¼Œå–å¾—è¦æƒæçš„Packageè·¯å¾‘ï¼Œå–å¾—è·¯å¾‘ä¹‹å¾Œï¼Œæœƒå»æƒæè·¯å¾‘åº•ä¸‹æœ‰å“ªäº›é¡æœ‰è¢«@Componenté€™å€‹è¨»è§£æ‰€ä¿®é£¾ï¼Œä¸¦ä¸”æœƒå»æ‰¾å°‹@Scopeé€™å€‹è¨»è§£ï¼Œå¾—çŸ¥å“ªäº›Beanæ˜¯Singletonï¼Œå“ªäº›Beanæ˜¯prototypeï¼Œå°‡é€™äº›è³‡è¨Šæ”¾å…¥\n1  private ConcurrentHashMap\u0026lt;String, BeanDefinition\u0026gt; beanDefinitionMap = new ConcurrentHashMap\u0026lt;\u0026gt;();   é€™å€‹ConcurrentHashMapä¸­\næ­¥é©Ÿ  å¾Configé¡ä¸­å–å¾—ComponentScanè¨»è§£çš„å€¼ï¼Œå…¶å€¼å³ç‚ºè·¯å¾‘  1 2 3 4 5 6  private void scan(Class configClass) { // å¾Configé¡ä¸­å–å¾—ComponetScanè¨»è§£çš„å€¼ï¼Œå…¶å€¼å³ç‚ºè·¯å¾‘  ComponentScan componentScanAnnotation = (ComponentScan) configClass.getAnnotation(ComponentScan.class); String path = componentScanAnnotation.value(); }    ä½¿ç”¨é¡åŠ è¼‰ï¼Œè®€å‡ºClassæª”æ¡ˆçš„è³‡è¨Š  1 2 3 4 5 6 7 8 9 10 11  private void scan(Class configClass) { // å¾Configé¡ä¸­å–å¾—ComponentScanè¨»è§£çš„å€¼ï¼Œå…¶å€¼å³ç‚ºè·¯å¾‘  ComponentScan componentScanAnnotation = (ComponentScan) configClass.getAnnotation(ComponentScan.class); String path = componentScanAnnotation.value(); //æƒæ org.hoxton.service  // é¡åŠ è¼‰å™¨ (Class Loader)  // Javaä¸­æœ‰ä¸‰ç¨®é¡åŠ è¼‰å™¨ï¼Œä»¥åŠå°æ‡‰çš„åŠ è¼‰è·¯å¾‘  // BootStrap ---\u0026gt; jre/lib  // Ext ---\u0026gt; jre/ext/lib  // App ---\u0026gt; classpath ---\u0026gt; \u0026#34;C:\\Program Files\\Java\\jdk-11\\bin\\java.exe\u0026#34; \u0026#34;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=5445:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin\u0026#34; -Dfile.encoding=UTF-8 -classpath C:\\Users\\hoxton\\Desktop\\Winter\\target\\classes org.hoxton.Test ç·¨è­¯å™¨é¡¯ç¤ºçš„è³‡è¨Š  }    BeanDefinition  æˆ‘å€‘å…ˆä¾†è¨è«–ä¸€å€‹æ±è¥¿å«åšBeanDefinitionï¼Œé€™å€‹é¡ç”¨ä¾†æè¿°ä¸€å€‹Beançš„è³‡è¨Šï¼Œæˆ‘å€‘ç›®å‰è®“é€™å€‹é¡ç›¡é‡ç°¡å–®ä¸€é»ï¼Œæˆ‘å€‘åªéœ€è¦ç´€éŒ„ä¸€å€‹Beanå®ƒçš„é¡å‹ä»¥åŠå®ƒçš„ä½œç”¨ç¯„åœ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  public class BeanDefinition { /** * ç•¶å‰Beané¡å‹ */ private Class clazz; /** * ç•¶å‰Beanä½œç”¨ç¯„åœ */ private String scope; public BeanDefinition() { } public BeanDefinition(Class clazz, String scope) { this.clazz = clazz; this.scope = scope; } public Class getClazz() { return clazz; } public void setClazz(Class clazz) { this.clazz = clazz; } public String getScope() { return scope; } public void setScope(String scope) { this.scope = scope; } }   ä½¿ç”¨é¡åŠ è¼‰å™¨ï¼Œä¾ç…§@ComponentScançš„å€¼ï¼Œå»æƒæåº•ä¸‹çš„Beanï¼Œ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  private void scan(Class configClass) { ComponentScan componentScanAnnotation = (ComponentScan) configClass.getAnnotation(ComponentScan.class); String path = componentScanAnnotation.value(); //æƒæè·¯å¾‘  //æƒæ org.hoxton.service  // é¡åŠ è¼‰å™¨ (Class Loader)  // Javaä¸­æœ‰ä¸‰ç¨®é¡åŠ è¼‰å™¨ï¼Œä»¥åŠå°æ‡‰çš„åŠ è¼‰è·¯å¾‘  // BootStrap ---\u0026gt; jre/lib  // Ext ---\u0026gt; jre/ext/lib  // App ---\u0026gt; classpath ---\u0026gt; \u0026#34;C:\\Program Files\\Java\\jdk-11\\bin\\java.exe\u0026#34; \u0026#34;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=5445:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin\u0026#34; -Dfile.encoding=UTF-8 -classpath C:\\Users\\za546\\Desktop\\Winter\\target\\classes org.hoxton.Test ç·¨è­¯å™¨é¡¯ç¤ºçš„è³‡è¨Š  ClassLoader classLoader = WinterApplicationContext.class.getClassLoader(); //appåŠ è¼‰å™¨  URL resource = classLoader.getResource(\u0026#34;org/hoxton/service\u0026#34;); //ä½¿ç”¨é¡åŠ è¼‰ï¼Œæƒè‹—æª”æ¡ˆä¸‹çš„.classæª”  File file = new File(resource.getFile()); if (file.isDirectory()) { File[] files = file.listFiles(); for (File f : files) { String fileName = f.getAbsolutePath(); if (fileName.endsWith(\u0026#34;.class\u0026#34;)) { //è‹¥æª”æ¡ˆä»¥.classçµå°¾å³ç‚º.classæª”ï¼Œå‰‡é€²å…¥æµç¨‹åˆ¤æ–·  String className = fileName.substring(fileName.indexOf(\u0026#34;org\u0026#34;), fileName.indexOf(\u0026#34;.class\u0026#34;)); className = className.replace(\u0026#34;\\\\\u0026#34;, \u0026#34;.\u0026#34;); Class\u0026lt;?\u0026gt; clazz = null; try { clazz = classLoader.loadClass(className); } catch (ClassNotFoundException e) { throw new RuntimeException(e); } if (clazz.isAnnotationPresent(Component.class)) { //é¡ä¸Šè‹¥æœ‰@Componentè¨»è§£ï¼Œä»£è¡¨ç‚ºä¸€å€‹Bean  //è¡¨ç¤ºé€™å€‹é¡æ˜¯å€‹Bean  // ...? Class -- \u0026gt; bean ?  // è§£æé¡ï¼Œåˆ¤æ–·ç•¶å‰Beanæ˜¯å–®ä¾‹Beané‚„æ˜¯Prototypeçš„Beanï¼Œç”ŸæˆBeanDefinition  Component componentAnnotation = clazz.getDeclaredAnnotation(Component.class); String beanName = componentAnnotation.value(); //å–å¾—@Componentçš„å€¼(beanå)  //BeanDefinition- Beanå®šç¾©  BeanDefinition beanDefinition = new BeanDefinition(); //å–å¾—ä¸€å€‹BeanDefinitionç‰©ä»¶  beanDefinition.setClazz(clazz); if (clazz.isAnnotationPresent(Scope.class)) { Scope scopeAnnotation = clazz.getDeclaredAnnotation(Scope.class); beanDefinition.setScope(scopeAnnotation.value()); } else { beanDefinition.setScope(SINGLETON); //æ²’åŠ Scopeè¨»è§£ï¼Œé è¨­ç‚ºå–®ä¾‹  } beanDefinitionMap.put(beanName, beanDefinition); // å°‡beanDefinitionæ”¾é€²ConcurrentHashMapä¸­  } } } } }   æˆ‘å€‘å…ˆä¾†ç¨å¾®é è¦½ä¸€ä¸‹æ•´å€‹Classå®Œæˆå¾Œæœƒé•·ä»€éº¼æ¨£å­ï¼Œè®“å¤§å®¶æ›´æœ‰ä¸€å€‹æ¦‚å¿µ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126  public class WinterApplicationContext { final String SINGLETON =\u0026#34;singleton\u0026#34;; private Class configClass; /** * ä¸€å€‹å–®ä¾‹æ± ï¼Œå­˜æ”¾Spring Bean */ private ConcurrentHashMap\u0026lt;String, Object\u0026gt; singletonPool = new ConcurrentHashMap\u0026lt;\u0026gt;(); /** * å­˜æ”¾æ‰€æœ‰Spring Beançš„å®šç¾© */ private ConcurrentHashMap\u0026lt;String, BeanDefinition\u0026gt; beanDefinitionMap = new ConcurrentHashMap\u0026lt;\u0026gt;(); /** * @param configClass Winterçš„é…ç½®æ–‡ä»¶ */ public WinterApplicationContext(Class configClass) { this.configClass = configClass; //è§£æé…ç½®é¡  // ComponentScanè¨»è§£è§£æ -\u0026gt; æƒæè·¯å¾‘ -\u0026gt; æƒæ ---\u0026gt; BeanDefinition ---\u0026gt; BeanDefinitionMap  scan(configClass); for (String beanName : beanDefinitionMap.keySet()) { BeanDefinition beanDefinition = beanDefinitionMap.get(beanName); //å¦‚æœbean scopeæ˜¯å–®ä¾‹ï¼Œå‰‡æ”¾é€²å–®ä¾‹æ± ä¸­  if(beanDefinition.getScope().equals(SINGLETON)){ Object bean = createBean(beanDefinition); singletonPool.put(beanName, bean); } } } public Object createBean(BeanDefinition beanDefinition){ Class clazz = beanDefinition.getClazz(); try { Object instance = clazz.getDeclaredConstructor().newInstance(); return instance; } catch (InstantiationException e) { throw new RuntimeException(e); } catch (IllegalAccessException e) { throw new RuntimeException(e); } catch (InvocationTargetException e) { throw new RuntimeException(e); } catch (NoSuchMethodException e) { throw new RuntimeException(e); } } private void scan(Class configClass) { ComponentScan componentScanAnnotation = (ComponentScan) configClass.getAnnotation(ComponentScan.class); String path = componentScanAnnotation.value(); //æƒæè·¯å¾‘  //æƒæ org.hoxton.service  // é¡åŠ è¼‰å™¨ (Class Loader)  // Javaä¸­æœ‰ä¸‰ç¨®é¡åŠ è¼‰å™¨ï¼Œä»¥åŠå°æ‡‰çš„åŠ è¼‰è·¯å¾‘  // BootStrap ---\u0026gt; jre/lib  // Ext ---\u0026gt; jre/ext/lib  // App ---\u0026gt; classpath ---\u0026gt; \u0026#34;C:\\Program Files\\Java\\jdk-11\\bin\\java.exe\u0026#34; \u0026#34;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=5445:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin\u0026#34; -Dfile.encoding=UTF-8 -classpath C:\\Users\\za546\\Desktop\\Winter\\target\\classes org.hoxton.Test ç·¨è­¯å™¨é¡¯ç¤ºçš„è³‡è¨Š  ClassLoader classLoader = WinterApplicationContext.class.getClassLoader(); //appåŠ è¼‰å™¨  URL resource = classLoader.getResource(\u0026#34;org/hoxton/service\u0026#34;); //ä½¿ç”¨é¡åŠ è¼‰ï¼Œæƒè‹—æª”æ¡ˆä¸‹çš„.classæª”  File file = new File(resource.getFile()); if (file.isDirectory()) { File[] files = file.listFiles(); for (File f : files) { String fileName = f.getAbsolutePath(); if (fileName.endsWith(\u0026#34;.class\u0026#34;)) { String className = fileName.substring(fileName.indexOf(\u0026#34;org\u0026#34;), fileName.indexOf(\u0026#34;.class\u0026#34;)); className = className.replace(\u0026#34;\\\\\u0026#34;, \u0026#34;.\u0026#34;); Class\u0026lt;?\u0026gt; clazz = null; try { clazz = classLoader.loadClass(className); } catch (ClassNotFoundException e) { throw new RuntimeException(e); } if (clazz.isAnnotationPresent(Component.class)) { //è¡¨ç¤ºé€™å€‹é¡æ˜¯å€‹Bean  // ...? Class -- \u0026gt; bean ?  // è§£æé¡ï¼Œåˆ¤æ–·ç•¶å‰Beanæ˜¯å–®ä¾‹Beané‚„æ˜¯Prototypeçš„Beanï¼Œç”ŸæˆBeanDefinition  Component componentAnnotation = clazz.getDeclaredAnnotation(Component.class); String beanName = componentAnnotation.value(); //BeanDefinition- Beanå®šç¾©  BeanDefinition beanDefinition = new BeanDefinition(); beanDefinition.setClazz(clazz); if (clazz.isAnnotationPresent(Scope.class)) { Scope scopeAnnotation = clazz.getDeclaredAnnotation(Scope.class); beanDefinition.setScope(scopeAnnotation.value()); } else { beanDefinition.setScope(SINGLETON); } beanDefinitionMap.put(beanName, beanDefinition); } } //  } } } public Object getBean(String beanName) { // ä¾ç…§beanNameå»åˆ¤æ–·æ˜¯å–®ä¾‹Beané‚„æ˜¯Prototype Bean  if (beanDefinitionMap.containsKey(beanName)) { BeanDefinition beanDefinition = beanDefinitionMap.get(beanName); if (beanDefinition.getScope().equals(SINGLETON)) { Object bean = singletonPool.get(beanName); return bean; } else { //å‰µå»ºbeanå°è±¡å—?  Object bean = createBean(beanDefinition); return bean; } } else { throw new NullPointerException(\u0026#34;æ²’æœ‰é€™å€‹Bean\u0026#34;); } } }   æ¥ä¸‹ä¾†æˆ‘å€‘ç¹¼çºŒå›åˆ°WinterApplicationContexté€™å€‹Constructorï¼Œæˆ‘å€‘å·²ç¶“æŠŠæˆ‘å€‘Packageåº•ä¸‹çš„Beanæƒæå®Œï¼Œæ”¾é€²beanDefinitionMapä¸­ï¼Œé‚£æˆ‘å€‘æ¥ä¸‹ä¾†è¦ä¾ç…§é€™å€‹Mapï¼Œå‰µå»ºSINGLETONçš„beanï¼Œæ¥è‘—æŠŠSINGLETONçš„Beanæ”¾é€²singletonPoolä¸­ï¼Œé€™å€‹singletonPoolä¹Ÿå°±æ˜¯Springä¸­çš„å–®ä¾‹æ±   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  public WinterApplicationContext(Class configClass) { this.configClass = configClass; //è§£æé…ç½®é¡  // ComponentScanè¨»è§£è§£æ -\u0026gt; æƒæè·¯å¾‘ -\u0026gt; æƒæ ---\u0026gt; BeanDefinition ---\u0026gt; BeanDefinitionMap  scan(configClass); for (String beanName : beanDefinitionMap.keySet()) { //éæ•´å€‹beanDefinitionMapï¼Œæ‰¾å‡ºå–®ä¾‹çš„Beanï¼Œæ”¾é€²singletonPoolä¸­  BeanDefinition beanDefinition = beanDefinitionMap.get(beanName); //å¦‚æœbean scopeæ˜¯å–®ä¾‹ï¼Œå‰‡æ”¾é€²å–®ä¾‹æ± ä¸­  if(beanDefinition.getScope().equals(SINGLETON)){ Object bean = createBean(beanDefinition); singletonPool.put(beanName, bean); } } }   æ’°å¯«createBeanæ–¹æ³•æœƒåƒä¸€å€‹BeanDefinitionç‚ºåƒæ•¸ï¼Œé€™å€‹æ–¹æ³•æœƒç”¨BeanDefinitionçš„Clazzå‰µå»ºä¸€å€‹Classï¼Œæ¥è‘—èª¿ç”¨classåº•ä¸‹çš„getDeclaredConstructor()å–å¾—å»ºæ§‹å­ï¼Œä¸¦ç”¨newInstance()æ–¹æ³•å‰µé€ å‡ºä¸€å€‹é‚£å€‹beançš„ç‰©ä»¶å‡ºä¾†  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  public Object createBean(BeanDefinition beanDefinition){ Class clazz = beanDefinition.getClazz(); try { Object instance = clazz.getDeclaredConstructor().newInstance(); return instance; } catch (InstantiationException e) { throw new RuntimeException(e); } catch (IllegalAccessException e) { throw new RuntimeException(e); } catch (InvocationTargetException e) { throw new RuntimeException(e); } catch (NoSuchMethodException e) { throw new RuntimeException(e); } }   åˆ°Mainä¸­ï¼Œä½¿ç”¨getBeanä¾†å–å¾—singletonpoolä¸­çš„Bean  1 2 3 4 5 6 7 8 9 10  public class Main { public static void main(String[] args) { WinterApplicationContext applicationContext = new WinterApplicationContext(AppConfig.class); System.out.println(\u0026#34;å¯ä»¥çœ‹åˆ°é€™ä¸‰å€‹çš„å€¼æ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ï¼Œä»£è¡¨é€™å¹¾å€‹ç‰©ä»¶éƒ½æ˜¯åŒä¸€å€‹\u0026#34;); System.out.println(applicationContext.getBean(\u0026#34;userService\u0026#34;)); System.out.println(applicationContext.getBean(\u0026#34;userService\u0026#34;)); System.out.println(applicationContext.getBean(\u0026#34;userService\u0026#34;)); } }   é€™æ¨£å°±æ˜¯ä¸€å€‹åŸºç¤çš„SprintBoot å–®ä¾‹æ± çš„å‰µå»º\nAutowiredä¹‹å¯¦ç¾åŸç† To Be Continued \u0026hellip;\n","date":"2023-04-01T19:40:36+08:00","image":"https://i.imgur.com/1G2G1o4.png","permalink":"https://hoxtoncraft.com/p/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%AF%ABsprintboot%E6%A1%86%E6%9E%B6/","title":"æ‰‹æŠŠæ‰‹æ•™ä½ å¯«SprintBootæ¡†æ¶"},{"content":"SpringBootä¸­æƒ³è¦å¾Application.propertiesä¸­å–çš„å€¼ï¼Œæœ‰å…©ç¨®å¸¸è¦‹çš„æ–¹å¼ï¼Œå…¶ä¸­ä¸€ç¨®æ˜¯åˆ©ç”¨@Valueçš„æ–¹å¼\n@Value 1 2  @Value(\u0026#34;${app.version}) String version   Enviroment å¦ä¸€ç¨®å‰‡æ˜¯é€é Enviromentç‰©ä»¶ä¾†å–çš„\n1 2 3 4 5  private final Environment env; public String getAppVersion() { return environment.getProperty(\u0026#34;app.version\u0026#34;); }   ä»¥å–å€¼çš„è¡¨ç¾å½¢å¼ä¾†çœ‹ åœ¨æŸäº›æƒ…å½¢ä¸‹ï¼Œæˆ‘å€‘å¯èƒ½æœƒå¾applicaiton.propertiesä¸­å–å‡ºä¸€å€‹é™£åˆ—å€¼ï¼Œæ¯”å¦‚èªª\n1  language=en,zh,jp   é€™æ™‚å¦‚æœä½¿ç”¨Enviromentä¾†å–ï¼Œå–å‡ºä¾†çš„å€¼æœƒä¸€å€‹Stringï¼Œéœ€è¦å†é€éè½‰æ›ï¼Œå°‡å®ƒè®Šç‚ºä¸€å€‹String\n1 2 3 4 5 6 7 8 9 10 11  @Autowired private Environment env; public String[] getMyArrayProperty() { String propertyValue = env.getProperty(\u0026#34;my.array.property\u0026#34;); if (propertyValue != null) { return propertyValue.split(\u0026#34;,\u0026#34;); } else { return new String[0]; } }   ä½†å¦‚æœç”¨@Valueçš„æ–¹å¼ä¾†å–å€¼ï¼Œå‰‡å¯ä»¥åœ¨å®£å‘Šè®Šæ•¸æ™‚ï¼Œè²æ˜å®ƒæ˜¯ä¸€å€‹Stringæˆ–æ˜¯ä¸€å€‹String[]ï¼Œé¿å…å¾ŒçºŒçš„è½‰æ›\n1 2  @Value(\u0026#34;${language}\u0026#34;) private String[] myArray;   ä»¥å–®å…ƒæ¸¬è©¦è§’åº¦ä¾†çœ‹ é€™å…©å€‹è¡¨ç¾å½¢å¼å¹¾ä¹ä¸€æ¨¡ä¸€æ¨£ï¼Œéƒ½å¯ä»¥å–å¾—æƒ³è¦çš„éƒ¨åˆ†ï¼Œä½†æœ€å¤§å·®åˆ¥å°±åœ¨å–®å…ƒæ¸¬è©¦æ™‚ï¼Œç”±æ–¼@Valueé€™å€‹å–å€¼æ–¹å¼æœ‰è³´å°‡æ•´å€‹SpringBootå°ˆæ¡ˆå•Ÿå‹•æ‰å¯ä»¥æ³¨å…¥ï¼Œåœ¨å–®å…ƒæ¸¬è©¦çš„ç’°å¢ƒä¸‹ä¸¦æ²’æœ‰è¾¦æ³•åšåˆ°é€™ä»¶äº‹æƒ…ã€‚ä½†ç›¸åçš„ï¼Œç”±æ–¼Environmentæœ¬èº«å±¬æ–¼ä¸€å€‹å¤–éƒ¨ä¾è³´ï¼Œæˆ‘å€‘å¯ä»¥å¾ˆå¥½çš„æ›¿ä»£æ‰ä»–\n1 2 3 4 5 6 7 8 9 10 11 12 13  @Service public class VersionService { Environment environment; public VersionService(Environment environment) { this.environment = environment; } public String getEunoExAppVersion() { return environment.getProperty(\u0026#34;eunoex.version\u0026#34;); } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14  @ExtendWith(MockitoExtension.class) class VersionServiceTest { @Mock Environment environment; @InjectMocks VersionService versionService; @Test void getAppVersion_everythingFine_returnSuccessfully() { given(environment.getProperty(any())).willReturn(\u0026#34;v1.2.0\u0026#34;); String ExAppVersion = versionService.getAppVersion(); System.out.println(\u0026#34;AppVersion = \u0026#34; + AppVersion); } }   å¤§æ¦‚Guy4é€™æ¨£\n","date":"2023-03-24T01:41:57Z","image":"https://i.imgur.com/UDvSvgw.png","permalink":"https://hoxtoncraft.com/p/%E8%AB%96value%E8%88%87environment%E4%B9%8B%E5%84%AA%E5%8A%A3/","title":"è«–@Valueèˆ‡Environmentä¹‹å„ªåŠ£"},{"content":"å®‰è£window terminal è‡³Microsoft Storeå®‰è£window terminal\nå®‰è£Cmder Cmderè¼‰é»\nä¸¦å°‡å®ƒè§£å£“ç¸®å¾Œæ”¾ç½®\n%USERPROFILE%/AppData/Roaming\nä¸­\nä¹Ÿå°±æ˜¯\nC:\\Users\\you_userName\\AppData\\Roaming\nè¨­å®šç’°å¢ƒè®Šæ•¸ æ¥è‘—è¨­å®šç’°å¢ƒè®Šæ•¸\n1 2  è®Šæ•¸åç¨±ï¼šCMDER_ROOT è®Šæ•¸å€¼ï¼š%USERPROFILE%/AppData/Roaming/cmder   1 2  è®Šæ•¸åç¨±ï¼šConEmuDir è®Šæ•¸å€¼ï¼š%USERPROFILE%/AppData/Roaming/cmder/vendor/conemu-maximus5   è¨­å®šwindow Termianl\næ‰“é–‹è¨­å®š\næŒ‰å·¦ä¸‹è§’çš„é–‹å•ŸJSONæª”æ¡ˆ\nå°‡ä¸‹åˆ—é€™æ®µè²¼ä¸Šè‡³JSONæª”ä¸­çš„é€™å€‹ä½ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  { \u0026#34;background\u0026#34;: \u0026#34;#2E3436\u0026#34;, \u0026#34;commandline\u0026#34;: \u0026#34;cmd.exe /k %CMDER_ROOT%\\\\vendor\\\\init.bat\u0026#34;, \u0026#34;font\u0026#34;: { \u0026#34;face\u0026#34;: \u0026#34;Cascadia Code\u0026#34;, \u0026#34;size\u0026#34;: 10.0 }, \u0026#34;guid\u0026#34;: \u0026#34;{6d953325-a939-475d-a151-940cbd0302fb}\u0026#34;, \u0026#34;icon\u0026#34;: \u0026#34;%CMDER_ROOT%\\\\icons\\\\cmder.ico\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Cmder\u0026#34;, \u0026#34;padding\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;startingDirectory\u0026#34;: \u0026#34;%USERPROFILE%/Documents\u0026#34; }   å°±åƒé€™æ¨£å­\næ¥è‘—é‡é–‹window terminalå°±å¯ä»¥å›‰~\n","date":"2023-03-21T10:40:57+08:00","image":"https://i.imgur.com/l3t70N4.png","permalink":"https://hoxtoncraft.com/p/%E5%9C%A8window-terminal%E4%B8%AD%E4%BD%BF%E7%94%A8cmder/","title":"åœ¨window Terminalä¸­ä½¿ç”¨Cmder"},{"content":"å‰æƒ…æè¦ æœ€è¿‘åœ¨å­¸ç¿’zabbixæ™‚ï¼Œå®‰è£åœ¨Linuxç³»çµ±ä¸‹æ™‚ï¼Œé€éPostmanæ˜¯å¯ä»¥æ­£å¸¸å–å¾—è³‡æ–™çš„\nä½†æ˜¯ç•¶æˆ‘ç”¨DockeræŠŠZabbixæ¶è¨­åœ¨Windowç’°å¢ƒä¸‹æ™‚å»ä¸€ç›´å‡ºç¾\n1  File not found.   çš„éŒ¯èª¤\nç™¼ç¾éŒ¯èª¤ å…©é‚Šçš„ç‰ˆæœ¬ã€è¨­ç½®ã€Server Portéƒ½ä¸€æ¨£ï¼Œå®Œå…¨ä¸çŸ¥é“åˆ°åº•ç™¼ç”Ÿäº†ä»€éº¼å•é¡Œï¼Œå¾Œä¾†æ˜¯é€éç¶²é çš„é–‹ç™¼äººå“¡å·¥å…·æ‰ç™¼ç¾ä¸€å°è™•çš„ä¸åŒ\né€™æ˜¯Linuxç’°å¢ƒä¸‹çš„APIè«‹æ±‚\né€™æ˜¯Windowä¸‹çš„APIè«‹æ±‚\nè°æ˜çš„ä½ ä¸€å®šç™¼ç¾äº†ï¼Œè‚ä½ åª½çš„é€™å…©å€‹APIè«‹æ±‚çš„URLå®Œå…¨ä¸ä¸€æ¨£å•Šï¼Œå¹¹ä½ åª½çš„\nè§£æ±ºæ–¹æ³• æˆ‘å€‹äººçŒœæ‡‰è©²æ˜¯Dockeråœ¨éƒ¨å±¬çš„æ™‚å€™ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼è£¡é¢æª”æ¡ˆçš„çµæ§‹å±¤ç´šç›´æ¥è·³éäº†\\zabbixé€™ä¸€å±¤ï¼Œç›´æ¥è®Šæˆhttp://localhost/api_jsonrpc.phpçš„è·¯å¾‘ã€‚\nå°‡URLæ”¹æˆæ­£ç¢ºåœ°ä¹‹å¾Œå°±èƒ½æ­£å¸¸è¨ªå•äº†\n","date":"2023-03-16T06:41:23Z","image":"https://i.imgur.com/AP3wJLN.png","permalink":"https://hoxtoncraft.com/p/%E4%BD%BF%E7%94%A8docker%E5%9C%A8window%E6%9C%83%E5%87%BA%E7%8F%BE%E7%9A%84file-not-found%E5%95%8F%E9%A1%8C/","title":"ä½¿ç”¨Dockeråœ¨windowæœƒå‡ºç¾çš„File Not Foundå•é¡Œ"},{"content":"å¦‚æœä¾ç…§å­˜åœ¨å³åˆç†çš„èªªæ³•ä¾†çœ‹ï¼ŒSwitchçš„å­˜åœ¨ç¢ºå¯¦æ˜¯æœ‰è§£æ±ºä¸€äº›å•é¡Œï¼Œæ¯”å¦‚èªªä¸€äº›è¦ä¾ç…§ä¸åŒæƒ…æ³ä¾†å›å‚³ä¸åŒçµæœçš„Functionï¼Œç›¸è¼ƒæ–¼ç”¨å†—é•·çš„if-elseï¼Œé¸æ“‡ç”¨Switchç¢ºå¯¦æ˜¯å€‹ä¸éŒ¯çš„è§£æ³•ã€‚ä½†ç•¶ä»Šå¤©çš„Switch Caseæœƒå¢é•·çš„æƒ…æ³ï¼Œåœ¨é¸æ“‡ä½¿ç”¨å®ƒå°±æœƒé•åäº†OCP(é–‹æ”¾æ“´å……ã€å°é–‰ä¿®æ”¹)çš„åŸå‰‡ï¼Œäº¦å³æ¯æ¬¡æœ‰æ–°çš„æƒ…æ³å‡ºç¾ï¼Œæˆ‘å€‘å°±å¾—å›é ­å»æ”¹Switchèªæ³•ï¼Œæ–°å¢ä¸åŒçš„caseï¼Œä¸€ä¾†ä¸€å¾€å¢åŠ äº†ç¶­è­·çš„è² æ“”ï¼Œé€™é‚Šåˆ†äº«ä¸€å€‹æˆ‘æŠŠswitchèªæ³•æ‹†è§£çš„æ–¹å¼ï¼Œä»¥ä¾›ç´€éŒ„é€™æ¨£å­ã€‚\næƒ…å¢ƒ æˆ‘åœ¨è¨­è¨ˆä¸€æ¬¾å¯ä»¥é€£çµä¸åŒSQL Engineçš„ç¨‹å¼ï¼Œç•¶ç”¨æˆ¶é¸æ“‡äº†ä¸åŒçš„SQL Engineï¼Œæˆ‘èƒ½å¤ åŸ·è¡Œä¸åŒè³‡æ–™åº«çš„èªæ³•ä¾†è¿”å›çµæœï¼Œåœ–ç¤ºå¦‚ä¸‹\nä¿®æ”¹å‰ é€™æ˜¯æˆ‘çš„è¨­è¨ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  @RestController public class DatasourceController { DatabaseService databaseService; public DatasourceController(DatabaseService databaseService) { this.databaseService = databaseService; } @GetMapping(\u0026#34;/query\u0026#34;) public String query(@RequestBody QueryRequest queryRequest) throws SQLException, JsonProcessingException, ClassNotFoundException { return databaseService.query(queryRequest); } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  @Service public class DatabaseServiceImp implements DatabaseService{ DatabaseDao databaseDao; public DatabaseServiceImp(DatabaseDao databaseDao) { this.databaseDao = databaseDao; } @Override public String query(QueryRequest queryRequest) throws SQLException, JsonProcessingException, ClassNotFoundException { String databaseName = queryRequest.getDatabaseEngine(); databaseDao = getDatabaseDao(databaseName); return databaseDao.connect().query(queryRequest.getQuery()); } private DatabaseDao getDatabaseDao(String databaseName) { switch (databaseName){ case \u0026#34;Postgres\u0026#34;: return new PostgresDaoImpl(); case \u0026#34;MsSql\u0026#34;: return new MySQLDaoImpl(); default: throw DatabaseNotFoundException.createDatabaseNotFoundException(\u0026#34;Not this Database\u0026#34;); } } }   1 2 3 4 5 6 7 8 9 10 11  @Repository public interface DatabaseDao { DatabaseDao connect() throws SQLException, ClassNotFoundException; void close() throws SQLException; String query(String query) throws SQLException, JsonProcessingException; }   æˆ‘åœ¨Serviceå±¤çš„åœ°æ–¹æœƒæœ‰ä¸€å€‹methodgetDatabaseDaoï¼Œä¾†ä¾ç…§è¼¸å…¥çš„databaseNameä¾†å°‡ä¸åŒçš„Daoè³¦å€¼é€²filedä¸­ï¼Œé¦–å…ˆé€™æœ‰å…©å€‹å•é¡Œ\n ç•¶è³‡æ–™åº«åœ¨æ“´å……æ™‚ï¼Œå¿…é ˆè¦å›é ­ä¿®æ”¹getDatabaseDaoï¼Œå¢åŠ ä¿®æ”¹çš„æˆæœ¬ ç„¡æ³•åˆ©ç”¨SpringBeançš„IoCï¼Œæ¯æ¬¡æœ‰æ–°çš„Requestè¿‘ä¾†ï¼Œéƒ½æœƒå‰µé€ ä¸€å€‹Daoçš„Objectå­˜åœ¨æ–¼è¨˜æ†¶é«”ä¸­ï¼Œé€ æˆè¨˜æ†¶é«”ç©ºé–“çš„æµªè²»  ä¿®æ”¹å¾Œ å› æ­¤å¾Œä¾†çš„ä¿®æ”¹å¿…é ˆå¾—æ”¹å–„ä¸Šé¢å…©é»ï¼Œå¿…é ˆè¦ç¬¦åˆOCPçš„è¦å‰‡ï¼Œæˆ‘åªè¦æ–°å¢æ–°çš„Daoï¼Œè€Œæ¯‹éœ€ä¿®æ”¹å°±æœ‰çš„ç¨‹å¼ç¢¼ï¼Œä¸¦ä¸”é‚„è¦ä½¿ç”¨SpringBeanï¼Œä»¥ä¸‹æ˜¯ä¿®æ”¹å¾Œçš„ç‰ˆæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  @Service public class DatabaseServiceImp implements DatabaseService { DatabaseEngineDao databaseEngineDao; List\u0026lt;DatabaseEngineDao\u0026gt; databaseDaoList; public DatabaseServiceImp(List\u0026lt;DatabaseEngineDao\u0026gt; databaseDaoList) { this.databaseDaoList = databaseDaoList; } @Override public String query(QueryRequest queryRequest) throws SQLException, JsonProcessingException, ClassNotFoundException { String databaseName = queryRequest.getDatabaseEngine(); databaseEngineDao = getDatabaseDao(databaseName); return databaseEngineDao.connect().query(queryRequest.getQuery()); } private DatabaseEngineDao getDatabaseDao(String databaseEngine) { for (DatabaseEngineDao databaseDao : databaseDaoList) { if (databaseEngine.equals(databaseDao.getDatabaseEngineName())) { return databaseDao; } } throw DatabaseNotFoundException.createDatabaseNotFoundException(\u0026#34;Not Found This DatabaseEngineï¼Œè«‹æª¢æŸ¥æ˜¯å¦æœ‰ç›¸æ‡‰çš„databaseEngineNameåœ¨DAOä¸­\u0026#34;); } }   1 2 3 4 5 6 7 8  @Repository public interface DatabaseEngineDao { DatabaseEngineDao connect() throws SQLException; void close() throws SQLException; String query(String query) throws SQLException, JsonProcessingException; public String getDatabaseEngineName(); }   å°‡åŸæœ¬çš„DatabaseDao databaseDao;ä¿®æ”¹ç‚ºï¼ŒList\u0026lt;DatabaseEngineDao\u0026gt; databaseDaoList;ï¼Œåœ¨SpringBootå•Ÿå‹•æ™‚ï¼Œå°‡æ‰€æœ‰çš„DatabaseEngineDaoé¡é…ç½®é€²databaseDaoListä¸­ï¼Œè®“springBootæ§åˆ¶objectçš„å‰µå»ºï¼Œä¸¦ä¸”å°‡getDatabaseDaoæ”¹å¯«ï¼Œæ”¹æˆå»for-each databaseDaoListï¼Œå°‹æ‰¾Listä¸­æ˜¯å¦æœ‰åç¨±ç¬¦åˆçš„SQL Engineã€‚ä¸¦åœ¨DatabaseEngineDao Interfaceè™•æ–°å¢getDatabaseEngineNameï¼Œè®“æ¯å€‹å¯¦ä½œå®ƒçš„Impléƒ½å¿…é ˆå»å®Œæˆé€™å€‹methodï¼Œå®Œæˆäº†OCPçš„åŸå‰‡ã€‚\n","date":"2023-03-14T00:31:03+08:00","image":"https://i.imgur.com/rfkvgRO.png","permalink":"https://hoxtoncraft.com/p/%E9%81%8B%E7%94%A8arraylist%E8%88%87%E8%87%AA%E5%8B%95%E9%85%8D%E7%BD%AE%E5%B0%87swich%E8%AA%9E%E6%B3%95%E6%8B%86%E8%A7%A3/","title":"é‹ç”¨ArrayListèˆ‡è‡ªå‹•é…ç½®å°‡Swichèªæ³•æ‹†è§£"},{"content":"åƒè€ƒç¶²å€ï¼šç›£æ§å¤§æŒ‘æˆ° - ä»¥ Zabbix ç‚ºä¾‹\nç‚ºä»€éº¼é¸æ“‡Zabbix? ç›®å‰å¸¸è¦‹çš„ç›£æ§è»Ÿé«”æœ‰ä¸‰è€…\n Zabbix Cacti Nagios  NagiOsçš„ä»‹é¢ Cactiçš„ä»‹é¢ Zabbixçš„ä»‹é¢    ç›£æ§ç”¢å“ Zabbix Nagios Cacti     åœ–å½¢ä»‹é¢ å¥½çœ‹ ä¸æ˜¯ç‰¹åˆ¥å¥½ é‚„è¡Œ   ç›£æ§æ€§èƒ½ ä½µç™¼ç›£æ§ï¼Œå°CPUè¦æ±‚è¼ƒé«˜ ä½µç™¼ç›£æ§ï¼Œå°CPUè¦æ±‚è¼ƒé«˜ è¼ªè©¢ç›£æ§ï¼Œæ•ˆèƒ½ä½   é…ç½®é›£åº¦ è¼ƒä½ï¼Œæœ‰åœ–å½¢åŒ–ä»‹é¢ä½¿ç”¨ éœ€ä½¿ç”¨CommandLine éœ€ä½¿ç”¨CommandLine   è‡ªå‹•ç™¼ç¾ æ”¯æŒ ä¸æ”¯æŒ ä¸æ”¯æŒ   ç•°å¸¸é€šçŸ¥æ–¹å¼ Email,ç°¡è¨Š,webhook,Line\u0026hellip; Email,ç°¡è¨Š,webhook,Line\u0026hellip; è¼ƒå¼±ï¼Œé è¨­åªæ”¯æ´Email    Zabbixæ˜¯ä»€éº¼ Zabbixæ˜¯ä¸€ç¨®é–‹æºçš„ç¶²çµ¡ç›£è¦–å’Œè­¦å ±ç³»çµ±ï¼Œç”¨æ–¼ç›£è¦–å„ç¨®ç¶²çµ¡è¨­å‚™ï¼ŒåŒ…æ‹¬æœå‹™å™¨ã€ç¶²çµ¡è¨­å‚™å’Œæ‡‰ç”¨ç¨‹åºç­‰ã€‚Zabbixæä¾›äº†ä¸€å€‹å¯æ“´å±•çš„æ¶æ§‹ï¼Œå¯ç”¨æ–¼ç›£è¦–å¤šå€‹ä½ç½®çš„æ•¸åƒå€‹è¨­å‚™ã€‚\nZabbixæ”¯æŒå„ç¨®ç›£è¦–æ–¹å¼ï¼ŒåŒ…æ‹¬SNMPã€JMXã€IPMIå’ŒVMwareç›£è¦–ï¼Œé‚„å¯ä»¥é€šéè‡ªå®šç¾©ç›£è¦–è…³æœ¬é€²è¡Œæ“´å±•ã€‚Zabbixé‚„æä¾›äº†ä¸€å€‹å¼·å¤§çš„å ±è­¦ç³»çµ±ï¼Œå¯ä»¥é€šéé›»å­éƒµä»¶ã€SMSå’Œå…¶ä»–æ–¹å¼ç™¼é€è­¦å ±ï¼Œä»¥ä¾¿å¿«é€Ÿè§£æ±ºå•é¡Œã€‚\nZabbixé‚„æä¾›äº†ä¸€å€‹ç”¨æˆ¶å‹å¥½çš„Webç•Œé¢ï¼Œå¯ä»¥è¼•é¬†è¨­ç½®ç›£è¦–å™¨å’Œè­¦å ±ã€‚Zabbixçš„é–‹æºè¨­è¨ˆä½¿å…¶æˆç‚ºä¸€å€‹éå¸¸æœ‰ç”¨çš„ç›£è¦–è§£æ±ºæ–¹æ¡ˆï¼Œå¯ä»¥æ»¿è¶³å„ç¨®è¦æ¨¡çš„ä¼æ¥­å’Œçµ„ç¹”çš„éœ€æ±‚\nZabbixè¡“èª Zabbix Server\n Zabbix serveræ˜¯agentç¨‹åºå ±å‘Šç³»çµ±å¯ç”¨æ€§ã€ç³»çµ±å®Œæ•´æ€§å’Œçµ±è¨ˆæ•¸æ“šçš„æ ¸å¿ƒçµ„ä»¶ï¼Œæ˜¯æ‰€æœ‰é…ç½®è¨Šæ¯ã€çµ±è¨ˆè¨Šæ¯å’Œæ“ä½œæ•¸æ“šçš„æ ¸å¿ƒå„²å­˜å™¨  Zabbixè³‡æ–™åº«å­˜å–\n æ‰€æœ‰é…ç½®è¨Šæ¯å’ŒZabbixæ”¶é›†åˆ°çš„æ•¸æ“šéƒ½è¢«å„²å­˜åœ¨è³‡æ–™åº«ä¸­  Zabbix Webä»‹é¢\n ç‚ºäº†å¾ä»»ä½•åœ°æ–¹å’Œä»»ä½•å¹³å°éƒ½å¯ä»¥è¼•é¬†åœ°è¨ªå•Zabbixï¼Œæˆ‘å€‘æä¾›åŸºæ–¼Webçš„Zabbixä»‹é¢ï¼Œè©²ä»‹é¢æ˜¯Zabbix Serverçš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸(ä½†ä¸ä¸€å®š)è·ŸZabbix Serveré‹è¡Œåœ¨åŒä¸€å°ç‰©ç†ä¸»æ©Ÿä¸Š  Zabbix Proxy ä»£ç†æœå‹™å™¨\n Zabbix Proxyå¯ä»¥æ›¿Zabbix Serveræ”¶é›†æ€§èƒ½å’Œå¯ç”¨æ€§æ•¸æ“šã€‚Proxyä»£ç†æœå‹™å™¨æ˜¯Zabbixè»Ÿé«”å¯é¸æ“‡éƒ¨å±¬çš„ä¸€éƒ¨åˆ†ï¼Œç•¶ç„¶ï¼ŒProxyä»£ç†æœå‹™å™¨å¯ä»¥å¹«åŠ©å–®å°Zabbix Serveråˆ†æ“”è² è¼‰å£“åŠ›  Zabbix Agent ç›£æ§ä»£ç†\n Zabbix agent ç›£æ§ä»£ç†ï¼Œéƒ¨å±¬åœ¨ç›£æ§ç›®æ¨™ä¸Šï¼Œèƒ½å¤ ä¸»å‹•é–“ç©ºæœ¬åœ°è³‡æºå’Œæ‡‰ç”¨ç¨‹åºï¼Œä¸¦å°‡æ”¶é›†åˆ°çš„æ•¸æ“šå ±å‘Šçµ¦Zabbix Server  Zabbixæ•¸æ“šæµ\n ç›£æ§æ–¹é¢ï¼Œç‚ºäº†å‰µé€ ä¸€å€‹ç›£æ§é …(item)ç”¨æ–¼æ¡é›†æ•¸æ“šï¼Œå¿…é ˆå…ˆå‰µå»ºä¸€å€‹ä¸»æ©Ÿ(host) å‘Šè­¦æ–¹é¢ï¼Œåœ¨ç›£æ§é …è£¡é¢å‰µé€ è§¸ç™¼å™¨(trigger)ï¼Œé€šéè§¸ç™¼å™¨(trigger)ä¾†è§¸ç™¼å‘Šè­¦å‹•ä½œ(action)ã€‚å› æ­¤å¦‚æœä½ æƒ³æ”¶åˆ°Server XCPUè² è¼‰éé«˜çš„å‘Šè­¦ï¼Œå¿…é ˆæ»¿è¶³   ç‚ºServer Xå‰µå»ºä¸€å€‹Hostä¸¦é—œè¯ä¸€å€‹ç”¨å°CPUé€²è¡Œç›£æ§çš„ç›£æ§é …(item) å‰µå»ºä¸€å€‹Triggerï¼Œè¨­ç½®æˆç•¶CPUè² è¼‰éé«˜æ™‚æœƒè§¸ç™¼ Triggerè¢«è§¸ç™¼ï¼Œç™¼é€å‘Šè­¦éƒµä»¶  é›–ç„¶çœ‹èµ·ä¾†æœ‰å¾ˆå¤šæ­¥é©Ÿï¼Œä½†æ˜¯ä½¿ç”¨æ¨¡æ¿çš„è©±æ“ä½œèµ·ä¾†å…¶å¯¦éå¸¸ç°¡å–®ï¼ŒZabbixé€™æ¨£çš„è¨­è¨ˆä½¿å¾—é…ç½®æ©Ÿåˆ¶éå¸¸éˆæ´»æ˜“ç”¨\nä¸»æ©Ÿ(Host)\n ä¸€å°ä½ æƒ³ç›£æ§çš„ç¶²è·¯è¨­å‚™ï¼Œç”¨IPå’ŒåŸŸåè¡¨ç¤º  ä¸»æ©Ÿçµ„(host Group)\n ä¸»æ©Ÿçš„é‚è¼¯çµ„ï¼›åŒ…å«äº†ä¸»æ©Ÿå’Œæ¨¡æ¿ã€‚ä¸€å€‹ä¸»æ©Ÿè£¡çš„ä¸»æ©Ÿå’Œæ¨¡æ¿ä¹‹é–“ä¸¦æ²’æœ‰ä»»ä½•ç›´æ¥çš„é—œè¯ï¼Œé€šå¸¸åœ¨çµ¦ä¸åŒç”¨æˆ¶çµ„çš„ä¸»æ©Ÿåˆ†é…æ¬Šé™æ™‚ï¼Œä½¿ç”¨ä¸»æ©Ÿçµ„  ç›£æ§é …(item)\n ä½ æƒ³è¦æ¥æ”¶çš„ä¸»æ©Ÿçš„ç‰¹å®šæ•¸æ“šï¼Œä¸€å€‹åº¦é‡æ•¸æ“š  è§¸ç™¼å™¨(Trigger)\n ä¸€å€‹è¢«ç”¨æ–¼å®šç¾©å•é¡Œé–¾å€¼å’Œ\u0026quot;è©•ä¼°\u0026quot;ç›£æ§é …æ¥å—åˆ°çš„æ•¸æ“šçš„é‚è¼¯è¡¨é”å¼ï¼Œç•¶æ¥æ”¶åˆ°çš„æ•¸æ“šé«˜æ–¼é–¾å€¼æ™‚ï¼Œè§¸ç™¼å™¨å¾OKè®ŠæˆProblemç‹€æ…‹ã€‚ç•¶æ¥æ”¶åˆ°çš„æ•¸æ“šä½æ–¼é–¾å€¼æ™‚ï¼Œè§¸ç™¼å™¨ä¿ç•™/è¿”å›ä¸€å€‹OKçš„ç‹€æ…‹  äº‹ä»¶(Event)\n å–®æ¬¡ç™¼ç”Ÿçš„éœ€è¦æ³¨æ„çš„äº‹æƒ…ï¼Œä¾‹å¦‚è§¸ç™¼å™¨ç‹€æ…‹æ”¹è®Šï¼Œæˆ–æ˜¯ç™¼ç¾æœ‰ç›£æ§ä»£ç†è‡ªå‹•è¨»å†Š  ç•°å¸¸(Problem)\n ä¸€å€‹è™•åœ¨ç•°å¸¸ç‹€æ…‹çš„è§¸ç™¼å™¨  å‹•ä½œ(Action)\n ä¸€å€‹å°äº‹ä»¶åšå‡ºåæ‡‰çš„é å®šç¾©çš„æ“ä½œ ä¸€å€‹å‹•ä½œç”±æ“ä½œ(ä¾‹å¦‚ç™¼å‡ºé€šçŸ¥)å’Œæ¢ä»¶(ç•¶æ™‚æ“ä½œæ­£åœ¨ç™¼ç”Ÿ)çµ„æˆ  å‡ç´š(Escalation)\n ä¸€å€‹åœ¨å‹•ä½œå…§åŸ·è¡Œæ“ä½œçš„è‡ªå®šç¾©å ´æ™¯ï¼›ç™¼ç”Ÿé€šçŸ¥ï¼åŸ·è¡Œé ç¨‹å‘½ä»¤çš„åºåˆ—  åª’ä»‹(Media)\n ç™¼é€å‘Šè­¦é€šçŸ¥çš„æ‰‹æ®µï¼›å‘Šè­¦é€šçŸ¥çš„é€”å¾‘  é€šçŸ¥(Notification)\n åˆ©ç”¨å·²é¸æ“‡çš„åª’é«”é€”å¾‘æŠŠè·Ÿäº‹ä»¶ç›¸é—œçš„è¨Šæ¯ç™¼é€çµ¦ç”¨æˆ¶  é ç¨‹å‘½ä»¤(remote command)\n ä¸€å€‹é å®šç¾©å¥½çš„ï¼Œæ»¿è¶³ä¸€äº›æ¢ä»¶çš„æƒ…æ³ä¸‹ï¼Œå¯ä»¥åœ¨è¢«ç›£æ§ä¸»æ©Ÿä¸Šè‡ªå‹•åŸ·è¡Œçš„å‘½ä»¤  æ¨¡æ¿(template)\n ä¸€çµ„å¯ä»¥è¢«æ‡‰ç”¨åˆ°ä¸€å€‹æˆ–å¤šå€‹ä¸»æ©Ÿä¸Šçš„å¯¦é«”(ç›£æ§é …ã€è§¸ç™¼å™¨ã€åœ–å½¢ã€èšåˆåœ–å½¢ã€æ‡‰ç”¨ã€LLDã€Webå ´æ™¯)çš„é›†åˆ æ¨¡æ¿çš„ä»»å‹™å°±æ˜¯åŠ å¿«å°ä¸»æ©Ÿç›£æ§ä»»å‹™çš„å¯¦æ–½ï¼›ä¹Ÿå¯ä»¥ä½¿ç›£æ§ä»»å‹™çš„æ‰¹é‡ä¿®æ”¹æ›´ç°¡å–®ã€‚æ¨¡æ¿æ˜¯ç›´æ¥é—œé€£åˆ°æ¯å°å–®ç¨çš„ä¸»æ©Ÿä¸Š  æ‡‰ç”¨(Application)\n ä¸€çµ„ç›£æ§é …çµ„æˆçš„é‚è¼¯åˆ†çµ„  Webå ´æ™¯(Web Scenario)\n åˆ©ç”¨ä¸€å€‹æˆ–å¤šå€‹HTTPè«‹æ±‚ä¾†æª¢æŸ¥ç¶²ç«™çš„å¯ç”¨æ€§  å‰ç«¯(FrontEnd)\n Zabbixæä¾›çš„Webä»‹é¢  Zabbix API\n Zabbix APIå…è¨±ä½ ä½¿ç”¨JSON RPCå”è­°(æ˜¯ä¸€å€‹ç„¡ç‹€æ…‹ä¸”è¼•é‡ç´šçš„é ç¨‹éç¨‹èª¿ç”¨Remote Procedure Call å‚³é€å”è­°ï¼Œå…¶å‚³éå…§å®¹é€éJSONç‚ºä¸»)ä¾†å‰µå»ºã€æ›´æ–°å’Œç²å–Zabbixå°è±¡(å¦‚ä¸»æ©Ÿã€ç›£æ§é …ã€åœ–å½¢å’Œå…¶ä»–)ä¿¡æ¯æˆ–è€…åŸ·è¡Œä»»ä½•å…¶ä»–çš„å­—å®šç¾©çš„ä»»å‹™  Zabbix Server\n Zabbixè»Ÿä»¶å¯¦ç¾ç›£æ§çš„æ ¸å¿ƒç¨‹åºï¼Œä¸»è¦åŠŸèƒ½æ˜¯èˆ‡Zabbix proxieså’ŒAgentsé€²è¡Œäº¤äº’ã€è§¸ç™¼å™¨è¨ˆç®—ã€ç™¼é€å‘Šè­¦é€šçŸ¥ã€ä¸¦å°‡è³‡æ–™é›†ä¸­ä¿å­˜  Zabbix Agent\n ä¸€å€‹éƒ¨å±¬åœ¨ç›£æ§å°è±¡ä¸Šçš„ï¼Œèƒ½å¤ ä¸»å‹•ç›£æ§æœ¬åœ°è³‡æºå’Œæ‡‰ç”¨çš„ç¨‹åº Zabbix Agentéƒ¨å±¬åœ¨ç›£æ§çš„ç›®æ¨™ä¸Šï¼Œä¸»å‹•ç›£æ¸¬æœ¬åœ°çš„è³‡æºå’Œæ‡‰ç”¨(ç¡¬é«”é©…å‹•ã€è¨˜æ†¶é«”ã€è™•ç†å™¨çµ±è¨ˆç­‰ç­‰) Zabbix Agentæ”¶é›†æœ¬åœ°çš„æ“ä½œè¨Šæ¯ä¸¦å°‡è³‡æ–™å ±å‘Šçµ¦Zabbix Serverç”¨æ–¼é€²ä¸€æ­¥è™•ç†ã€‚ä¸€æ—¦å‡ºç¾ç•°å¸¸(æ¯”å¦‚ç¡¬ç¢Ÿç©ºé–“å·²æ»¿æˆ–è€…æœ‰å´©æ½°çš„æœå‹™å™¨Process)ï¼ŒZabbix Serveræœƒä¸»å‹•è­¦å‘Šç®¡ç†å“¡æŒ‡å®šæ©Ÿå™¨ä¸Šçš„ç•°å¸¸ã€‚Zabbix Agentsçš„æ¥µç«¯é«˜æ ¡æºæ–¼ä»–å¯ä»¥åˆ©ç”¨æœ¬åœ°ç³»çµ±èª¿ç”¨ä¾†å®Œæˆçµ±è¨ˆæ•¸æ“šçš„æ”¶é›†  è¢«å‹•(Passive) å’Œ ä¸»å‹•(Active)æª¢æŸ¥\n Zabbix Agentå¯ä»¥åŸ·è¡Œè¢«å‹•å’Œä¸»å‹•å…©ç¨®æª¢æŸ¥æ–¹å¼   è¢«å‹•æª¢æŸ¥(Passive Check)æ¨¡å¼ä¸­Agentæ‡‰ç­”æ•¸æ“šè«‹æ±‚ï¼ŒZabbix Server(æˆ–è€…Proxy)è©¢å•Agentè³‡æ–™ï¼Œå¦‚CPUè² ä»”ç‹€æ³ï¼Œç„¶å¾ŒZabbix Agentå›å‚³çµæœ ä¸»å‹•æª¢æŸ¥(Active Checks) è™•ç†éç¨‹å°‡ç›¸å°è¤‡é›œã€‚Agentå¿…é ˆé¦–å…ˆå¾Zabbix serverç´¢å–ç›£æ§é …åˆ—è¡¨ä»¥é€²è¡Œç¨ç«‹è™•ç†ï¼Œç„¶å¾Œé€±æœŸæ€§çš„ç™¼é€æ–°çš„å€¼çµ¦Server  åŸ·è¡Œè¢«å‹•æˆ–ä¸»å‹•æª¢æŸ¥æ˜¯é€šéé¸æ“‡ç›¸æ‡‰çš„ç›£æ¸¬é …ç›®é¡å‹ä¾†é…ç½®çš„ã€‚Item Type. Zabbix Agentè™•ç†ç›£æ§é …é¡å‹æœ‰Zabbix agentå’Œ Zabbix Agent(Active)\nZabbix Proxy\n ä¸€å€‹å¹«åŠ©Zabbix serveræ”¶é›†æ•¸æ“šï¼Œåˆ†æ“”Zabbix Serverè² æ“”çš„ç¨‹å¼ Zabbix Proxyæ˜¯ä¸€å€‹å¯ä»¥å¾ä¸€å€‹æˆ–å¤šå€‹å—ç›£æ§è¨­å‚™æ”¶é›†ç›£æ§æ•¸æ“šï¼Œä¸¦å°‡è¨Šæ¯çµæœç™¼é€åˆ°Zabbix Serverçš„Processï¼ŒåŸºæœ¬ä¸Šæ˜¯ä»£è¡¨Serverå·¥ä½œçš„ã€‚æ‰€æœ‰æ”¶é›†çš„æ•¸æ“šéƒ½åœ¨æœ¬åœ°é€²è¡Œå¿«å–ï¼Œç„¶å¾Œå‚³é€åˆ°Proxyæ‰€å±¬çš„Zabbix Serverã€‚ éƒ¨å±¬Proxyæ˜¯å¯é¸çš„ï¼Œä½†æ˜¯å¯èƒ½æœƒéå¸¸æœ‰ç›Šæ–¼åˆ†æ•£å–®å€‹Zabbix Severçš„è² è¼‰ï¼Œå¦‚æœåªæœ‰Proxyæ”¶é›†æ•¸æ“šï¼ŒServerä¸Šçš„é€²ç¨‹å°±æœƒæ¸›å°‘ï¼ŒCPUæ¶ˆè€—å’Œç£ç¢ŸI/Oè² è¼‰ Zabbix Proxyæ˜¯å®Œæˆé ç«¯å€åŸŸï¼Œåˆ†æ”¯æ©Ÿæ§‹ï¼Œæ²’æœ‰æœ¬åœ°ç®¡ç†å“¡çš„ç¶²è·¯é›†ä¸­ç›£æ§çš„ç†æƒ³è§£æ±ºæ–¹æ¡ˆ Zabbix Proxyéœ€è¦ä½¿ç”¨ç¨ç«‹çš„è³‡æ–™åº«  ä½¿ç”¨Dockerå®‰è£ Zabbix é¦–å…ˆå…ˆé»åˆ°ä¸‹åˆ—ç¶²ç«™ https://www.zabbix.com/documentation/5.0/en/manual/installation/containers\nä¸¦åœ¨é€™é‚Šé¸æ“‡è¦ä½¿ç”¨çš„ç‰ˆæœ¬ é€™æ¬¡æ˜¯ä½¿ç”¨å®˜ç¶²æä¾›çš„ï¼Œä¹Ÿå°±æ˜¯ç”¨mysqlç•¶databaseçš„ç‰ˆæœ¬\nä¸¦æŒ‰ç…§ä¸‹åˆ—çš„cmdæŒ‡ä»¤è¼¸å…¥ï¼Œä¸‹é¢çš„åƒæ•¸ï¼Œè‹¥æœ‰éœ€è¦è®Šå¯ä»¥åœ¨è‡ªè¡Œä¿®æ”¹\n1  docker network create --subnet 172.20.0.0/16 --ip-range 172.20.240.0/20 zabbix-net    1  docker run --name postgres-server -t -e POSTGRES_USER=\u0026#34;zabbix\u0026#34; -e POSTGRES_PASSWORD=\u0026#34;zabbix_pwd\u0026#34; -e POSTGRES_DB=\u0026#34;zabbix\u0026#34; --network=zabbix-net --restart unless-stopped -d postgres:latest    1  docker run --name zabbix-snmptraps -t -v /zbx_instance/snmptraps:/var/lib/zabbix/snmptraps:rw -v /var/lib/zabbix/mibs:/usr/share/snmp/mibs:ro --network=zabbix-net -p 162:1162/udp --restart unless-stopped -d zabbix/zabbix-snmptraps:alpine-5.0-latest    1  docker run --name zabbix-server-pgsql -t -e DB_SERVER_HOST=\u0026#34;postgres-server\u0026#34; -e POSTGRES_USER=\u0026#34;zabbix\u0026#34; -e POSTGRES_PASSWORD=\u0026#34;zabbix_pwd\u0026#34; -e POSTGRES_DB=\u0026#34;zabbix\u0026#34; -e ZBX_ENABLE_SNMP_TRAPS=\u0026#34;true\u0026#34; --network=zabbix-net -p 10051:10051 --volumes-from zabbix-snmptraps --restart unless-stopped -d zabbix/zabbix-server-pgsql:alpine-5.0-latest    1  docker run --name zabbix-web-nginx-pgsql -t -e ZBX_SERVER_HOST=\u0026#34;zabbix-server-pgsql\u0026#34; -e DB_SERVER_HOST=\u0026#34;postgres-server\u0026#34; -e POSTGRES_USER=\u0026#34;zabbix\u0026#34; -e POSTGRES_PASSWORD=\u0026#34;zabbix_pwd\u0026#34; -e POSTGRES_DB=\u0026#34;zabbix\u0026#34; --network=zabbix-net -p 443:8443 -p 80:8080 -v /etc/ssl/nginx:/etc/ssl/nginx:ro --restart unless-stopped -d zabbix/zabbix-web-nginx-pgsql:alpine-5.0-latest   é€étermianlè¨ªå•Containerä¸­çš„è³‡æ–™åº«ï¼Œä»¥psqlç‚ºä¾‹ 1  docker exec -it [containerId] bash    1  psql -U zabbix -h localhost zabbix   ç•¶å…¨éƒ¨éƒ½è¨­ç½®å¥½å¾Œ\nè¨ªå• http://localohst/ å³å¯è¨ªå•Zabbixé é¢\nå¸³è™Ÿï¼šAdmin å¯†ç¢¼ï¼šzabbix\nåœ¨Windowä¸‹å®‰è£ Zabbix Agent é€™é‚Šå¾…è£œå•¦ï¼Œä¸éå…ˆè¬›ä¸€ä¸‹Zabbixçš„Serverç«¯è¦æ€éº¼å°æ‡‰\nâ€‹\tHost Nameï¼šè¦å’Œç•¶åˆè¨­å®šAgentçš„Nameä¸€è‡´\nGroupï¼šTemplates/Operating systems\nAgentï¼šç•¶Agentçš„é‚£ä¸€å°ä¸»æ©Ÿçš„IP\nTemlateï¼šTemplate OS Windows by Zabbix agent\nAPIçš„ä½¿ç”¨ å¯ä»¥åˆ°ä¸‹åˆ—çš„ç¶²ç«™ä½¿ç”¨ç·šä¸Šçš„Zabbix API Test\nhttps://sbcode.net/zabbix/zabbix-api-test-form/\nurléƒ½æ˜¯ http://localhost/api_jsonrpc.phpï¼Œå·®åˆ¥åœ¨æ–¼Bodyçš„å…§å®¹\næ¸¬è©¦ç”¨APIï¼Œç”¨ä»¥è¿”å›ç‰ˆæœ¬è™Ÿ 1 2 3 4 5 6 7  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;apiinfo.version\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;auth\u0026#34;: null, \u0026#34;params\u0026#34;: {} }   è¿”å›çš„çµæœ\n1 2 3 4 5  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: \u0026#34;5.0.32\u0026#34;, \u0026#34;id\u0026#34;: 1 }   ç™»å…¥ç”¨çš„APIï¼Œç”¨ä¾†å–å¾—Token 1 2 3 4 5 6 7 8 9 10  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;user.login\u0026#34;, \u0026#34;params\u0026#34;: { \u0026#34;user\u0026#34;: \u0026#34;Admin\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;zabbix\u0026#34; }, \u0026#34;id\u0026#34;: 1, \u0026#34;auth\u0026#34;: null }   è¿”å›çš„çµæœ\n1 2 3 4 5  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: \u0026#34;1a6022b1a01b787b2129d011763c73e6\u0026#34;, \u0026#34;id\u0026#34;: 1 }   resultå°±æ˜¯Tokenå€¼\nè¿”å›ç›®å‰å­˜åœ¨çš„Agent è¨˜å¾—æŠŠAuthçš„å€¼æ”¹æˆloginè¿”å›çš„token\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;host.get\u0026#34;, \u0026#34;params\u0026#34;: { \u0026#34;output\u0026#34;: [ \u0026#34;hostid\u0026#34;, \u0026#34;host\u0026#34; ], \u0026#34;selectInterfaces\u0026#34;: [ \u0026#34;interfaceid\u0026#34;, \u0026#34;ip\u0026#34; ] }, \u0026#34;id\u0026#34;: 2, \u0026#34;auth\u0026#34;: \u0026#34;1a6022b1a01b787b2129d011763c73e6\u0026#34; }   è¿”å›çš„çµæœ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: [ { \u0026#34;hostid\u0026#34;: \u0026#34;10084\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Zabbix server\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;127.0.0.1\u0026#34; } ] }, { \u0026#34;hostid\u0026#34;: \u0026#34;10438\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Ian\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;192.168.100.51\u0026#34; } ] }, { \u0026#34;hostid\u0026#34;: \u0026#34;10440\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Bill\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;4\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;192.168.100.57\u0026#34; } ] }, { \u0026#34;hostid\u0026#34;: \u0026#34;10439\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Jess\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;3\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;192.168.100.51\u0026#34; } ] } ], \u0026#34;id\u0026#34;: 2 }   Zabbix APIä»‹ç´¹ https://sbcode.net/zabbix/zabbix-api-test-form/\nåœ¨å¾ˆå¤šçš„API Parameterä¸­ï¼Œæœƒå¸¸å¸¸çœ‹åˆ°\n1  {\u0026#34;output\u0026#34;: \u0026#34;extend\u0026#34;}   é€™æ®µã€‚é€™å¥è©±çš„æ„æ€æ˜¯é€™æ¨£çš„ outputä»£è¡¨ä½ æƒ³è¦è¿”å›çš„valueå€¼æœ‰ä»€éº¼ä¸‹é¢æœƒæœ‰è©³ç´°çš„ä»‹ç´¹ è€Œextendå‰‡ä»£è¡¨ã€Œè«‹æä¾›çµ¦æˆ‘ï¼Œæ›´å¤šçš„è³‡è¨Šã€ï¼Œè©³ç´°çš„å·®ç•°å¦‚ä¸‹\næˆ‘å€‘å‡è¨­ host.getçš„è¿”å›å€¼ç‚ºä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: [ { \u0026#34;hostid\u0026#34;: \u0026#34;10084\u0026#34;, \u0026#34;proxy_hostid\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Zabbix server\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;disable_until\u0026#34;: \u0026#34;1679972679\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;Get value from agent failed: cannot connect to [[127.0.0.1]:10050]: [111] Connection refused\u0026#34;, \u0026#34;available\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;errors_from\u0026#34;: \u0026#34;1679019319\u0026#34;, \u0026#34;lastaccess\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ipmi_authtype\u0026#34;: \u0026#34;-1\u0026#34;, \u0026#34;ipmi_privilege\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;ipmi_username\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ipmi_password\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ipmi_disable_until\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ipmi_available\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;snmp_disable_until\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;snmp_available\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;maintenanceid\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;maintenance_status\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;maintenance_type\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;maintenance_from\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ipmi_errors_from\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;snmp_errors_from\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ipmi_error\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;snmp_error\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;jmx_disable_until\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;jmx_available\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;jmx_errors_from\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;jmx_error\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Zabbix server\u0026#34;, \u0026#34;flags\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;templateid\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;tls_connect\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;tls_accept\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;tls_issuer\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;tls_subject\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;tls_psk_identity\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;tls_psk\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;proxy_address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;auto_compress\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;inventory_mode\u0026#34;: \u0026#34;-1\u0026#34; } ], \u0026#34;id\u0026#34;: 2 }   ä½†æˆ‘å€‘ä¸¦ä¸æƒ³è¦é‚£éº¼å¤šè³‡è¨Šï¼Œæˆ‘å€‘å¯èƒ½åªæƒ³è¦å…¶ä¸­å¹¾é …ï¼Œæ¯”å¦‚èªªproxy_hostid,statusè€Œå·²ï¼Œé‚£æˆ‘å€‘å°±å¯ä»¥æŠŠæˆ‘å€‘Parametersçš„åƒæ•¸ä¿®æ”¹æˆé€™æ¨£\n1  {\u0026#34;output\u0026#34;: [\u0026#34;hostid\u0026#34;,\u0026#34;proxy_hostid\u0026#34;]}   å›å‚³çš„çµæœå°±æœƒè®Šæˆé€™æ¨£ ä½¿ç”¨Zabbixä¾†å–å¾—CPU Utilization (in %)  å…ˆä½¿ç”¨host.getä¾†å–å¾—æ‰€æœ‰hostè³‡è¨Š  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;host.get\u0026#34;, \u0026#34;params\u0026#34;: { \u0026#34;output\u0026#34;: [ \u0026#34;hostid\u0026#34;, \u0026#34;host\u0026#34; ], \u0026#34;selectInterfaces\u0026#34;: [ \u0026#34;interfaceid\u0026#34;, \u0026#34;ip\u0026#34; ] }, \u0026#34;id\u0026#34;: 2, \u0026#34;auth\u0026#34;: \u0026#34;7cdc68d62750b0ed7ae693d1d7a52466\u0026#34; }   è¿”å›çš„çµæœå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: [ { \u0026#34;hostid\u0026#34;: \u0026#34;10084\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Zabbix server\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;127.0.0.1\u0026#34; } ] }, { \u0026#34;hostid\u0026#34;: \u0026#34;10438\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Ian\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;192.168.100.51\u0026#34; } ] }, { \u0026#34;hostid\u0026#34;: \u0026#34;10440\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;Bill\u0026#34;, \u0026#34;interfaces\u0026#34;: [ { \u0026#34;interfaceid\u0026#34;: \u0026#34;4\u0026#34;, \u0026#34;ip\u0026#34;: \u0026#34;192.168.100.57\u0026#34; } ] } ], \u0026#34;id\u0026#34;: 2 }   é€éitem.getå–å¾—hostIdçš„è³‡æ–™  å‡è¨­æˆ‘å€‘ç¾åœ¨è¦æ‰¾åˆ°hostId=10440çš„è³‡æ–™ï¼Œæˆ‘å€‘çš„API BODYè¦é€™æ¨£é€\n1 2 3 4 5 6 7 8 9 10 11 12  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;item.get\u0026#34;, \u0026#34;params\u0026#34;: { \u0026#34;output\u0026#34;:[\u0026#34;name\u0026#34;,\u0026#34;description\u0026#34;,\u0026#34;lastvalue\u0026#34;], \u0026#34;filter\u0026#34;:{ \u0026#34;hostid\u0026#34;:\u0026#34;10440\u0026#34; } }, \u0026#34;id\u0026#34;: 2, \u0026#34;auth\u0026#34;: \u0026#34;7cdc68d62750b0ed7ae693d1d7a52466\u0026#34; }   å…¶ä¸­ outputçš„å€¼ä»£è¡¨ï¼Œåªé¡¯ç¤ºname,description,lastvalueé€™å¹¾å€‹keyçš„è³‡æ–™ï¼Œfilterå‰‡ä»£è¡¨æˆ‘åªè¦key-valueç‚ºhostid:10440çš„è³‡æ–™\nè¿”å›çš„çµæœå¾ˆé•·ï¼Œé€™é‚Šè¬›å€‹å¤§æ¦‚å°±å¥½\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: [ { \u0026#34;itemid\u0026#34;: \u0026#34;37631\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Interface Intel(R) Ethernet Connection (14) I219-V(ä¹™å¤ªç¶²è·¯): Outbound packets with errors\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;The number of outgoing packets with errors on the network interface.\u0026#34;, \u0026#34;lastvalue\u0026#34;: \u0026#34;0\u0026#34; }, { \u0026#34;itemid\u0026#34;: \u0026#34;37632\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Interface Intel(R) Ethernet Connection (14) I219-V(ä¹™å¤ªç¶²è·¯): Inbound packets discarded\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;The number of incoming packets dropped on the network interface.\u0026#34;, \u0026#34;lastvalue\u0026#34;: \u0026#34;0\u0026#34; }, { \u0026#34;itemid\u0026#34;: \u0026#34;37633\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Interface Intel(R) Ethernet Connection (14) I219-V(ä¹™å¤ªç¶²è·¯): Inbound packets with errors\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;The number of incoming packets with errors on the network interface.\u0026#34;, \u0026#34;lastvalue\u0026#34;: \u0026#34;0\u0026#34; }, { \u0026#34;itemid\u0026#34;: \u0026#34;37634\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Interface Intel(R) Ethernet Connection (14) I219-V(ä¹™å¤ªç¶²è·¯): Bits received\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Incoming traffic on the network interface.\u0026#34;, \u0026#34;lastvalue\u0026#34;: \u0026#34;6431168\u0026#34; } ... //ä»¥ä¸‹ç•¥.. }   æ‰¾åˆ°CPU Utilizationçš„è³‡è¨Š  æœå°‹é—œéµå­— CPU\né€™é‚Šï¼Œé‚£å€‹lastValueå…¶å¯¦å°±æ˜¯æœ€æ–°çš„CPUä½¿ç”¨ç‡ï¼Œé€™æ¨£å°±æˆåŠŸå–å¾—CPUçš„ä½¿ç”¨ç‡å›‰ï¼\nå–å¾—CPU Utilizationçš„ä½¿ç”¨ç‡  API Bodyå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;history.get\u0026#34;, \u0026#34;params\u0026#34;: { \u0026#34;history\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;itemids\u0026#34;: \u0026#34;37631\u0026#34;, \u0026#34;output\u0026#34;: \u0026#34;extend\u0026#34; }, \u0026#34;auth\u0026#34;: \u0026#34;7cdc68d62750b0ed7ae693d1d7a52466\u0026#34;, \u0026#34;id\u0026#34;: 1 }   è¿”å›çš„çµæœå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;result\u0026#34;: [ { \u0026#34;itemid\u0026#34;: \u0026#34;37568\u0026#34;, \u0026#34;clock\u0026#34;: \u0026#34;1679900528\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;5.186729\u0026#34;, \u0026#34;ns\u0026#34;: \u0026#34;297585693\u0026#34; }, { \u0026#34;itemid\u0026#34;: \u0026#34;37568\u0026#34;, \u0026#34;clock\u0026#34;: \u0026#34;1679900648\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;6.917095\u0026#34;, \u0026#34;ns\u0026#34;: \u0026#34;233421931\u0026#34; } // ... ç•¥ ] }   ä½¿ç”¨Dockerå®‰è£ï¼Œå¯èƒ½å°è‡´APIè·¯å¾‘ä¸æ­£ç¢º æœ€è¿‘åœ¨å­¸ç¿’zabbixæ™‚ï¼Œå®‰è£åœ¨Linuxç³»çµ±ä¸‹æ™‚ï¼Œé€éPostmanæ˜¯å¯ä»¥æ­£å¸¸å–å¾—è³‡æ–™çš„\nä½†æ˜¯ç•¶æˆ‘ç”¨DockeræŠŠZabbixæ¶è¨­åœ¨Windowç’°å¢ƒä¸‹æ™‚å»ä¸€ç›´å‡ºç¾\n1  File not found.   çš„éŒ¯èª¤\nç™¼ç¾éŒ¯èª¤ å…©é‚Šçš„ç‰ˆæœ¬ã€è¨­ç½®ã€Server Portéƒ½ä¸€æ¨£ï¼Œå®Œå…¨ä¸çŸ¥é“åˆ°åº•ç™¼ç”Ÿäº†ä»€éº¼å•é¡Œï¼Œå¾Œä¾†æ˜¯é€éç¶²é çš„é–‹ç™¼äººå“¡å·¥å…·æ‰ç™¼ç¾ä¸€å°è™•çš„ä¸åŒ\né€™æ˜¯Linuxç’°å¢ƒä¸‹çš„APIè«‹æ±‚\né€™æ˜¯Windowä¸‹çš„APIè«‹æ±‚\nè°æ˜çš„ä½ ä¸€å®šç™¼ç¾äº†ï¼Œè‚ä½ åª½çš„é€™å…©å€‹APIè«‹æ±‚çš„URLå®Œå…¨ä¸ä¸€æ¨£å•Šï¼Œå¹¹ä½ åª½çš„\nè§£æ±ºæ–¹æ³• æˆ‘å€‹äººçŒœæ‡‰è©²æ˜¯Dockeråœ¨éƒ¨å±¬çš„æ™‚å€™ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼è£¡é¢æª”æ¡ˆçš„çµæ§‹å±¤ç´šç›´æ¥è·³éäº†\\zabbixé€™ä¸€å±¤ï¼Œç›´æ¥è®Šæˆhttp://localhost/api_jsonrpc.phpçš„è·¯å¾‘ã€‚\nå°‡URLæ”¹æˆæ­£ç¢ºåœ°ä¹‹å¾Œå°±èƒ½æ­£å¸¸è¨ªå•äº†\n","date":"2023-03-13T05:40:02Z","image":"https://i.imgur.com/7g77ZiN.png","permalink":"https://hoxtoncraft.com/p/zabbix%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AD%86%E8%A8%98/","title":"Zabbixçš„ä¸€äº›ç­†è¨˜"},{"content":"ä»‹ç´¹ PicGoæ˜¯å€‹é–‹æºçš„åœ–ç‰‡ä¸Šå‚³ç¨‹å¼(ä¸¦éå¹³å°)ï¼Œç”±æ–¼è¨­å®šå¿«é€Ÿï¼Œæ•ˆæœç°¡å–®è€Œæ·±å—æˆ‘çš„å–œæ„›ï¼Œæ±ºå®šå¯«ä¸€ç¯‡æ–‡ç« ä¾†ä»‹ç´¹é€™æ±è¥¿è©²æ€éº¼ä½¿ç”¨\nå®‰è£ æˆ‘å€‘ä½¿ç”¨Chocoä¾†å®‰è£ï¼ŒChocoæ˜¯ä¸€å€‹Windowç³»çµ±çš„æª”æ¡ˆä¸‹è¼‰å·¥å…·ï¼Œå¯ä»¥åšé¡ä¼¼npmçš„åŠŸèƒ½ï¼Œä»¥ä¸‹æ˜¯å®ƒçš„å®‰è£æ–¹å¼ã€‚\nä½¿ç”¨ç³»çµ±ç®¡ç†å“¡åŸ·è¡ŒCMDï¼Œä¸¦è¼¸å…¥ä»¥ä¸‹çš„æŒ‡ä»¤\n1  Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(\u0026#39;https://community.chocolatey.org/install.ps1\u0026#39;))   å³ä¸‹è¼‰æˆåŠŸï¼Œè‹¥ä¸‹è¼‰æˆåŠŸï¼Œå¯ä»¥è¼¸å…¥\n1  choco --version   ä¾†æŸ¥çœ‹æ˜¯å¦å®‰è£æˆåŠŸ\nè‹¥Chocoå®‰è£æ²’å•é¡Œï¼Œå‰‡å¯ä»¥é€éä»¥ä¸‹æŒ‡ä»¤å®‰è£picGoï¼Œè‹¥è·³å‡ºä»€éº¼ç„¡æ³•å­˜å–ï¼Œå‰‡è«‹è¨˜å¾—è¦ä½¿ç”¨ç³»çµ±ç®¡ç†å“¡èº«åˆ†åŸ·è¡Œ\n1  choco install picgo   ä½¿ç”¨ æˆ‘æœ‰é»æ‡¶å¾—æ‰“ï¼Œå°±éŒ„æˆGifäº†ï¼Œé€™é‚Šå…¶å¯¦å°±æ˜¯å»Imgurçš„\nhttps://imgur.com/account/settings/apps\né€™é‚Šï¼Œå»è¨­å®šä½ çš„ä¸€å€‹ClinetId\nç„¶å¾ŒæŠŠå®ƒè²¼åˆ°è¨­å®šClinetIdé‚£ä¸€æ¬„å°±å¯ä»¥\nä¸¦ä¸”æˆ‘ä¹Ÿæœƒæ¨è–¦å°‡ä¸Šå‚³çš„å¿«æ·éµèª¿æˆCtrl+Alt+V\né€™æ¨£ç•¶ä½ æŒ‰ä¸‹Win+Shift+Sï¼Œæˆªåœ–å¾Œï¼Œåªè¦æŒ‰ä¸‹Ctrl+Alt+Vï¼Œåœ–ç‰‡å°±æœƒè‡ªå‹•å¹«ä½ ä¸Šå‚³è‡³Imgurå›‰\n","date":"2023-03-08T20:56:55+08:00","image":"https://i.imgur.com/teYQFXk.png","permalink":"https://hoxtoncraft.com/p/%E5%8F%AA%E8%A6%81%E6%8C%89%E5%80%8B%E9%8D%B5%E5%9C%96%E7%89%87%E7%AB%8B%E5%88%BB%E4%B8%8A%E5%82%B3%E8%87%B3%E9%9B%B2%E7%AB%AF-picgo%E4%BB%8B%E7%B4%B9/","title":"åªè¦æŒ‰å€‹éµï¼Œåœ–ç‰‡ç«‹åˆ»ä¸Šå‚³è‡³é›²ç«¯ PicGoä»‹ç´¹"},{"content":"å‰è¨€ æ¯æ¬¡åœ¨æ–°é›»è…¦ä¸Šä½¿ç”¨Gitçš„æ™‚å€™éƒ½æœƒè·³é€™å€‹æ±è¥¿å‡ºä¾†ï¼Œä½†ä¸€ç›´ä¸çŸ¥é“é€™æ˜¯å•¥ï¼Œé€™æ¬¡ä¾†ç ”ç©¶ä¸€ä¸‹\nç¸½çµ é€™æ±è¥¿å…¶å¯¦æ˜¯å› ç‚ºå¦‚æœè¦æ¨æ±è¥¿ä¸Šå»æˆ–æ˜¯æ‹‰Privateå°ˆæ¡ˆä¸‹ä¾†çš„è©±ï¼Œæœƒéœ€è¦åšèªè­‰(Credential)çš„éƒ¨åˆ†ï¼Œè€Œé€™å€‹è¦–çª—å…¶å¯¦å°±æ˜¯åœ¨å•ä½ ï¼Œä½ æ‰€æä¾›çš„é€™äº›ç™»å…¥è³‡è¨Šæƒ³å­˜åœ¨å“ªé‚Š?\næœƒå»ºè­°å°±ç”¨é è¨­çš„manager-coreå°±å¥½ï¼Œå¦‚æœæƒ³å­˜åœ¨ç£ç¢Ÿä¸­çš„è©±å°±é¸storeï¼Œå¦‚æœæƒ³å­˜åœ¨Cacheå°±é¸cache é€™æ¨£å°±å¯ä»¥å›‰\nå¦‚æœå·²ç¶“å­˜äº†ï¼Œé‚£å¯ä»¥è¼¸å…¥ä»¥ä¸‹çš„æŒ‡ä»¤ä¾†èª¿æ•´\n æŸ¥çœ‹ç›®å‰çš„credential.helper æ˜¯ä»€éº¼  1  git config credential.helper    å°‡credential.helper çš„è¨­å®šæ”¹æ‰  1  git config --global credential.helper manager-core    è¨­å®šå¸³è™Ÿå¯†ç¢¼  ç”±æ–¼è‡ª2021å¹´å¾Œï¼ŒGitHubä¸åœ¨æä¾›ä½¿ç”¨å¸³è™Ÿå¯†ç¢¼çš„èªè­‰æ–¹å¼ï¼Œè¦ä½¿ç”¨Tokené€²è¡Œèªè­‰ï¼Œå¸³è™Ÿè¼¸å…¥è‡ªå·±çš„Githubå¸³è™Ÿï¼Œè€Œå¯†ç¢¼å‰‡æ˜¯è¼¸å…¥è‡ªå·±çš„Tokenï¼Œé€™æ¨£å°±è¨­å®šæˆåŠŸå›‰ï¼\n","date":"2023-03-08T20:48:18+08:00","image":"https://i.imgur.com/PFJUZO4.png","permalink":"https://hoxtoncraft.com/p/git%E5%9C%A8%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8%E7%9A%84credentialhelperselector%E8%A9%B2%E6%80%8E%E9%BA%BC%E8%A8%AD%E5%AE%9A%E5%91%A2/","title":"Gitåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„credentialhelperselectorè©²æ€éº¼è¨­å®šå‘¢"},{"content":"åƒè€ƒç¶²ç«™\né€™ç¯‡æ–‡ç« æ˜¯ä»¥Postgres SQLçš„èªæ³•ç‚ºä¸»ï¼Œå…¶ä»–RDBçš„èªæ³•ç•¥æœ‰ä¸åŒ\nä»€éº¼æ˜¯Store Procedure é å­˜ç¨‹åºï¼ˆStored Procedureï¼‰æ˜¯ä¸€ç¨®è³‡æ–™åº«å°è±¡ï¼Œå®ƒæ˜¯ä¸€å€‹é ç·¨è­¯çš„SQLç¨‹å¼ç¢¼ï¼Œå¯ä»¥åœ¨è³‡æ–™åº«ä¸­å­˜å„²ä¸¦é‡è¤‡ä½¿ç”¨ã€‚å®ƒé€šå¸¸ç”±ä¸€ç³»åˆ—SQLèªå¥å’Œç·¨ç¨‹é‚è¼¯çµ„æˆï¼Œå¯ä»¥æ¥å—è¼¸å…¥åƒæ•¸ã€è¿”å›è¼¸å‡ºåƒæ•¸å’Œçµæœé›†ã€‚å­˜å„²éç¨‹é€šå¸¸ç”±æ•¸æ“šåº«ç®¡ç†å“¡æˆ–é–‹ç™¼äººå“¡ç·¨å¯«å’Œç¶­è­·ï¼Œä¸¦ä¸”å¯ä»¥åœ¨æ•¸æ“šåº«ä¸­åŸ·è¡Œã€‚\nå­˜å„²éç¨‹æœ‰ä»¥ä¸‹å¹¾å€‹å„ªé»ï¼š\n æé«˜äº†æ•¸æ“šåº«æ€§èƒ½ï¼šå­˜å„²éç¨‹æ˜¯é ç·¨è­¯çš„ï¼Œä¸€æ—¦ç·¨è­¯å°±æœƒå­˜å„²åœ¨æ•¸æ“šåº«ä¸­ï¼ŒåŸ·è¡Œé€Ÿåº¦å¿«ã€‚æ­¤å¤–ï¼Œå­˜å„²éç¨‹å¯ä»¥æ¸›å°‘å®¢æˆ¶ç«¯èˆ‡æœå‹™å™¨ä¹‹é–“çš„é€šä¿¡ï¼Œå¾è€Œé™ä½ç¶²çµ¡å»¶é²ï¼Œæé«˜æ•¸æ“šåº«æ€§èƒ½ã€‚ æé«˜äº†æ•¸æ“šå®‰å…¨æ€§ï¼šå­˜å„²éç¨‹å¯ä»¥åœ¨æ•¸æ“šåº«å±¤é¢ä¸Šå¯¦ç¾å®‰å…¨æ§åˆ¶ï¼Œå¯ä»¥é™åˆ¶æŸäº›ç”¨æˆ¶æˆ–è§’è‰²çš„æ“ä½œæ¬Šé™ï¼Œå¾è€Œä¿è­‰æ•¸æ“šçš„å®‰å…¨æ€§ã€‚ ä»£ç¢¼å¾©ç”¨ï¼šå­˜å„²éç¨‹å¯ä»¥è¢«å¤šå€‹æ‡‰ç”¨ç¨‹åºæˆ–è€…è…³æœ¬é‡è¤‡èª¿ç”¨ï¼Œå¾è€Œå¯¦ç¾ä»£ç¢¼å¾©ç”¨ï¼Œæ¸›å°‘é‡è¤‡ç·¨å¯«ä»£ç¢¼çš„æ™‚é–“å’Œå·¥ä½œé‡ã€‚ äº‹å‹™è™•ç†ï¼šå­˜å„²éç¨‹å¯ä»¥å°è£äº‹å‹™è™•ç†é‚è¼¯ï¼Œç•¶å¤šå€‹SQLèªå¥éœ€è¦åœ¨ä¸€å€‹äº‹å‹™ä¸­åŸ·è¡Œæ™‚ï¼Œå¯ä»¥ä½¿ç”¨å­˜å„²éç¨‹å°‡å®ƒå€‘å°è£åœ¨ä¸€å€‹äº‹å‹™ä¸­ï¼Œå¾è€Œä¿è­‰äº†æ•¸æ“šçš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚ ç°¡åŒ–äº†è¤‡é›œçš„æ“ä½œï¼šå­˜å„²éç¨‹å¯ä»¥å°‡å¤šå€‹SQLèªå¥çµ„åˆæˆä¸€å€‹æ“ä½œï¼Œå¾è€Œç°¡åŒ–äº†è¤‡é›œçš„æ“ä½œï¼Œä½¿å¾—æ‡‰ç”¨ç¨‹åºæ›´æ˜“æ–¼é–‹ç™¼å’Œç¶­è­·ã€‚  å­˜å„²éç¨‹å¯ä»¥å¯¦ç¾å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š\n æ•¸æ“šåº«çš„å‚™ä»½å’Œé‚„åŸ æ•¸æ“šåº«çš„è¤‡è£½å’ŒåŒæ­¥ æ•¸æ“šåº«çš„æ—¥èªŒè¨˜éŒ„å’Œç›£æ§ æ•¸æ“šåº«çš„æŸ¥è©¢å„ªåŒ– æ•¸æ“šåº«çš„æ•¸æ“šåŠ å¯†å’Œè§£å¯† æ•¸æ“šåº«çš„æ•¸æ“šæ¸…æ´—å’Œè½‰æ› æ•¸æ“šåº«çš„æ¥­å‹™é‚è¼¯å¯¦ç¾ æ•¸æ“šåº«çš„å­˜å„²å’Œæª¢ç´¢éç¨‹ä¸­çš„éŒ¯èª¤è™•ç† æ•¸æ“šåº«çš„å ±è¡¨ç”Ÿæˆå’ŒåŒ¯å‡ºç­‰ã€‚  Procedureèˆ‡Functionä¹‹å·®ç•° åœ¨PostgreSQLä¸­ï¼Œfunctionå’Œprocedureéƒ½æ˜¯å„²å­˜é‹ç®—é‚è¼¯çš„ç‰©ä»¶ï¼Œå®ƒå€‘åœ¨è¨­è¨ˆç›®çš„å’Œä½¿ç”¨æ–¹å¼ä¸Šç•¥æœ‰ä¸åŒã€‚\nFunctionä¸»è¦æ˜¯ç”¨æ–¼åŸ·è¡Œä¸€å€‹ç‰¹å®šçš„è¨ˆç®—æˆ–é‚è¼¯ï¼Œè¿”å›ä¸€å€‹å–®ä¸€çš„å€¼æˆ–ä¸€å€‹çµæœé›†ï¼Œä¸¦ä¸”å¯ä»¥åœ¨SELECTèªå¥ã€WHEREèªå¥ç­‰ä¸­ä½¿ç”¨ã€‚Functionå¯ä»¥è¿”å›ä¸€å€‹æˆ–å¤šå€‹çµæœé›†ï¼Œä½†åªèƒ½è¿”å›ä¸€å€‹å€¼ä½œç‚ºè¼¸å‡ºï¼Œå› æ­¤å®ƒè¢«ç¨±ç‚ºæœ‰è¿”å›å€¼çš„Functionã€‚\nProcedureä¸»è¦ç”¨æ–¼åŸ·è¡Œä¸€é€£ä¸²çš„æ“ä½œï¼Œä¸è¿”å›çµæœé›†ï¼Œé€šå¸¸æ˜¯ç”¨ä¾†åŸ·è¡Œè¤‡é›œçš„æ¥­å‹™é‚è¼¯ï¼Œå¦‚äº‹å‹™è™•ç†ã€è³‡æ–™åº«ç®¡ç†ç­‰ã€‚Procedureå¯ä»¥åŸ·è¡ŒINSERTã€UPDATEã€DELETEç­‰æ•¸æ“šæ“ä½œï¼Œä½†æ˜¯ä¸èƒ½ä½œç‚ºSELECTèªå¥çš„ä¸€éƒ¨åˆ†ä½¿ç”¨ã€‚Procedureä¸è¿”å›ä»»ä½•å€¼æˆ–çµæœé›†ï¼Œå› æ­¤å®ƒè¢«ç¨±ç‚ºç„¡è¿”å›å€¼çš„Procedureã€‚\nåœ¨è¨­è¨ˆæ™‚ï¼Œéœ€è¦æ ¹æ“šå¯¦éš›éœ€æ±‚é¸æ“‡ä½¿ç”¨å“ªç¨®ç‰©ä»¶ã€‚å¦‚æœéœ€è¦åŸ·è¡Œä¸€å€‹ç‰¹å®šçš„è¨ˆç®—æˆ–é‚è¼¯ï¼Œä¸¦è¿”å›ä¸€å€‹çµæœé›†ï¼Œå‰‡ä½¿ç”¨Functionã€‚å¦‚æœéœ€è¦åŸ·è¡Œä¸€é€£ä¸²çš„æ“ä½œä¸¦ä¸”ä¸éœ€è¦è¿”å›çµæœé›†ï¼Œå‰‡ä½¿ç”¨Procedureã€‚\næ›´ç›´æ¥çš„ä¸åŒæ˜¯ï¼ŒProcedureä¸¦æ²’æœ‰å®šç¾©å®ƒè‡ªèº«çš„å›å‚³å€¼ï¼Œé€£Returns voidéƒ½æ²’æœ‰ï¼Œè€ŒFunctionæ˜¯æœ‰å›å‚³å€¼çš„ï¼Œå³ä½¿æ˜¯Returns Voidä¹Ÿæ˜¯æœ‰å›å‚³å€¼\nå‰µå»ºprocedureçš„èªæ³• 1 2 3 4 5 6 7  create or replace function test() LANGUAGE plpgsql AS $$ BEGIN END $$;   è‹¥åŠ å…¥RETURNS VOIDå‰‡æœƒå›å ±éŒ¯èª¤\nå‰µå»ºFunctionçš„èªæ³• 1 2 3 4 5 6 7  create or replace function test() LANGUAGE plpgsql AS $$ BEGIN END $$;   è‹¥ä¸æŒ‡å®šå›å‚³å€¼ï¼Œå‰‡æœƒå ±éŒ¯èª¤function result type must be specified\nå®šç•Œç¬¦$$ (delimiter) åœ¨SQLä¸­ï¼Œå…©å€‹ç¾å…ƒç¬¦è™Ÿï¼ˆ$$ï¼‰ç”¨ä¾†å®šç¾©ä¸€å€‹å€å¡Šæˆ–ä¸€å€‹æ¨™è­˜ç¬¦ï¼ˆidentifierï¼‰ã€‚\nä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨$$ä¾†.å®šç¾©ä¸€å€‹å­˜å„²éç¨‹æˆ–å‡½æ•¸çš„ä¸»é«”ã€‚åœ¨$$ä¹‹é–“çš„æ‰€æœ‰å…§å®¹éƒ½è¢«è¦–ç‚ºå­˜å„²éç¨‹æˆ–å‡½æ•¸çš„ä¸»é«”ï¼Œå¯ä»¥åŒ…å«SQLèªå¥ã€æµç¨‹æ§åˆ¶èªå¥ç­‰ã€‚\nå¦å¤–ï¼Œ$$é‚„å¯ä»¥ç”¨ä¾†å®šç¾©ä¸€å€‹æ¨™è­˜ç¬¦ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨$$ä¾†å®šç¾©ä¸€å€‹è®Šé‡æˆ–ä¸€å€‹æ¨™è­˜ç¬¦çš„åç¨±ã€‚åœ¨$$ä¹‹é–“çš„æ‰€æœ‰å…§å®¹éƒ½è¢«è¦–ç‚ºæ¨™è­˜ç¬¦çš„åç¨±ï¼Œå¯ä»¥åŒ…å«å­—æ¯ã€æ•¸å­—å’Œä¸‹åŠƒç·šç­‰å­—ç¬¦ã€‚ä½¿ç”¨$$å®šç¾©æ¨™è­˜ç¬¦æ™‚ï¼Œå¯ä»¥å¹«åŠ©å€åˆ†ä¿ç•™å­—å’Œè‡ªå®šç¾©çš„æ¨™è­˜ç¬¦ï¼Œä»¥åŠé¿å…æ¨™è­˜ç¬¦ä¸­åŒ…å«ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦æ‰€å¸¶ä¾†çš„å•é¡Œã€‚\n1 2 3 4 5 6 7 8  CREATE FUNCTION myfunc(x INT, y INT) RETURNS INT AS $$ BEGIN RETURN x + y; END; $$ LANGUAGE plpgsql; -- åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ$$ ç”¨ä¾†å®šç¾©å‡½æ•¸çš„ä¸»é«”ã€‚CREATE FUNCTION æŒ‡ä»¤å‰µå»ºäº†ä¸€å€‹åç‚º myfunc çš„å‡½æ•¸ï¼Œå®ƒæ¥å—å…©å€‹æ•´æ•¸åƒæ•¸ x å’Œ yï¼Œè¿”å›å®ƒå€‘çš„å’Œã€‚ RETURN æŒ‡ä»¤ç”¨æ–¼è¿”å›å‡½æ•¸çš„å€¼ã€‚  -- åœ¨é€™è£¡ï¼Œ$ ç”¨ä½œå®šç•Œç¬¦ï¼Œå®ƒå®šç¾©äº†å‡½æ•¸çš„ä¸»é«”ã€‚å¦‚æœä¸ä½¿ç”¨å®šç•Œç¬¦ï¼Œå‰‡åœ¨å‡½æ•¸ä¸»é«”ä¸­ä½¿ç”¨åˆ†è™Ÿ ; å¯èƒ½æœƒå°è‡´éŒ¯èª¤ã€‚ä½¿ç”¨å®šç•Œç¬¦å¯ä»¥å¹«åŠ©å€åˆ†ä¸åŒçš„ SQL å€å¡Šï¼Œå¾è€Œæ›´å¥½åœ°çµ„ç¹”å’Œç®¡ç† SQL ä»£ç¢¼ã€‚   ä½¿ç”¨Terminalæ“ä½œPostgres SQL æœ‰å…©ç¨®æ–¹å¼ï¼Œä¸€ç¨®æ˜¯ç”¨psqlçš„Shellï¼Œå¦ä¸€ç¨®å‰‡æ˜¯ç”¨powershell\nä½¿ç”¨psqlçš„Shell æ‰“é–‹psql\nè¼¸å…¥ç›¸æ‡‰çš„è³‡è¨Š\nä½¿ç”¨powerShell é¦–å…ˆå…ˆä¸‹è¼‰Postgres SQLï¼Œæ¥è‘—åœ¨æŠŠç’°å¢ƒè®Šæ•¸åŠ å…¥è‡³é›»è…¦ä¸­ï¼Œè·¯å¾‘å¤§æ¦‚æœƒå¦‚ä¸‹\n1  C:\\ProgramFiles\\PostgreSQL\\14\\bin   å³å¯åœ¨Termianlä¸­æ“ä½œpostgres SQL\nå¦‚ä»¥ä¸‹æŒ‡ä»¤\næŸ¥çœ‹ç•¶å‰Psqlæœ‰ä»€éº¼Database 1  psql -l   é€£çµé€²å…¥Database 1 2 3 4 5 6  psql [dbname] psql -U [role] [dbname] # ä»¥ postgres çš„ role ç™»å…¥ postgres çš„ database psql -U postgres # ä½¿ç”¨ postgres çš„ role ç™»å…¥ çš„ postgres é€™å€‹ database psql -U aaronchen minicare_demo # ä»¥ aaronchen çš„ role ç™»å…¥ minicare_demo é€™å€‹ database psql -U postgres -d minicare_demo   1 2  psql -h localhost -p 5432 -U postgres school ## psql -h localhost -p 5432 -U \u0026lt;your_username\u0026gt; \u0026lt;your_database\u0026gt;   (èˆ‡ä¹‹å°æ‡‰çš„Serverè¨­å®š)\né€£çµæˆåŠŸå¾Œçš„ç•«é¢ å¯ä»¥è¼¸å…¥\n1  \\dt   ä¾†æŸ¥çœ‹è©²databaseåº•ä¸‹çš„table\n åœ¨ psql ä¸­ï¼Œ\\ ç¬¦è™Ÿæ˜¯ä¸€å€‹ç‰¹æ®Šçš„å­—å…ƒï¼Œç¨±ç‚º \u0026ldquo;psql å…§éƒ¨å‘½ä»¤å‰ç¶´\u0026rdquo;ã€‚ç•¶æ‚¨åœ¨ psql çµ‚ç«¯æ©Ÿä¸­è¼¸å…¥ä»¥ \\ é–‹é ­çš„å‘½ä»¤æ™‚ï¼Œpsql å°‡è§£é‡‹é€™å€‹å‘½ä»¤ï¼Œä¸¦åŸ·è¡Œå°æ‡‰çš„æ“ä½œã€‚\nä»¥ä¸‹æ˜¯å¹¾å€‹å¸¸ç”¨çš„ psql å…§éƒ¨å‘½ä»¤ï¼š\n \\c: åˆ‡æ›åˆ°å¦ä¸€å€‹æ•¸æ“šåº« \\dt: åˆ—å‡ºç•¶å‰æ•¸æ“šåº«ä¸­çš„æ‰€æœ‰è¡¨æ ¼ \\d table_name: æŸ¥çœ‹æŒ‡å®šè¡¨æ ¼çš„çµæ§‹ \\q: é€€å‡º psql çµ‚ç«¯æ©Ÿ \\! clear: æ¸…ç©ºpsql çµ‚ç«¯æ©Ÿç•«é¢  ç•¶æ‚¨æƒ³è¦ä½¿ç”¨ psql å…§éƒ¨å‘½ä»¤æ™‚ï¼Œå¿…é ˆåœ¨å‘½ä»¤å‰åŠ ä¸Š \\ ç¬¦è™Ÿã€‚ä¾‹å¦‚ï¼Œè¦åˆ—å‡ºç•¶å‰æ•¸æ“šåº«ä¸­çš„æ‰€æœ‰è¡¨æ ¼ï¼Œæ‚¨å¯ä»¥è¼¸å…¥ \\dtã€‚\nå¦‚æœæ‚¨æƒ³è¦è¼¸å…¥ä»¥ \\ é–‹é ­çš„æ™®é€šæ–‡æœ¬ï¼Œè€Œä¸æ˜¯ psql å…§éƒ¨å‘½ä»¤ï¼Œå‰‡å¿…é ˆåœ¨ \\ å‰é¢å†åŠ ä¸Šä¸€å€‹ \\ ç¬¦è™Ÿã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è¦åœ¨ SQL é™³è¿°å¥ä¸­ä½¿ç”¨åæ–œç·šï¼ˆ\\ï¼‰å­—å…ƒï¼Œå‰‡å¿…é ˆå°‡å…¶å¯«æˆ \\\\ã€‚\nè«‹æ³¨æ„ï¼Œåœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œpsql å…§éƒ¨å‘½ä»¤å‰ç¶´ \\ å¯èƒ½æœƒå’Œ SQL èªå¥çš„é—œéµå­—æ··æ·†ã€‚ä¾‹å¦‚ï¼ŒCREATE TABLE é™³è¿°å¥ä¸­çš„ TABLE é—œéµå­—å¾Œé¢å¦‚æœä¸åŠ å¼•è™Ÿå¯èƒ½æœƒè¢« psql èªç‚ºæ˜¯ä¸€å€‹å…§éƒ¨å‘½ä»¤ã€‚ç‚ºé¿å…é€™ç¨®æƒ…æ³ï¼Œå»ºè­°åœ¨ä½¿ç”¨é—œéµå­—æ™‚åŠ ä¸Šå¼•è™Ÿï¼Œä¾‹å¦‚ \u0026quot;TABLE\u0026quot;ã€‚\\\n åŸºæœ¬ä¸Šé€™å€‹terminalå°±æ˜¯æˆ‘å€‘çš„Query Toolï¼Œæ‰€ä»¥æ˜¯å¯ä»¥åœ¨é€™é‚ŠåšCRUDçš„ï¼Œå¦‚ä¸‹\nå¸¸ç”¨çš„psql æŒ‡ä»¤  \\q - é€€å‡º psql å‘½ä»¤è¡Œç•Œé¢ã€‚ \\c \u0026lt;database_name\u0026gt; - é€£æ¥åˆ°æŒ‡å®šçš„æ•¸æ“šåº«ã€‚ \\dt - åˆ—å‡ºç•¶å‰æ•¸æ“šåº«ä¸­çš„æ‰€æœ‰è¡¨æ ¼ã€‚ \\d \u0026lt;table_name\u0026gt; - åˆ—å‡ºæŒ‡å®šè¡¨æ ¼çš„è©³ç´°ä¿¡æ¯ï¼ŒåŒ…æ‹¬åˆ—åã€é¡å‹å’Œç´„æŸç­‰ã€‚ \\du - åˆ—å‡ºæ‰€æœ‰ç”¨æˆ¶å¸³è™Ÿçš„è©³ç´°ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ¶åã€æ¬Šé™å’Œç¾¤çµ„ç­‰ã€‚ \\dp - åˆ—å‡ºæ‰€æœ‰è¡¨æ ¼çš„æ¬Šé™è¨­ç½®ã€‚ \\timing - å•Ÿç”¨æˆ–ç¦ç”¨æŸ¥è©¢åŸ·è¡Œæ™‚é–“çš„é¡¯ç¤ºã€‚ \\set - åˆ—å‡ºæˆ–è¨­ç½® psql çš„é…ç½®é¸é …ã€‚ \\i \u0026lt;file_path\u0026gt; - å¾æŒ‡å®šçš„æª”æ¡ˆè¼‰å…¥ SQL å‘½ä»¤ã€‚ \\e - æ‰“é–‹å¤–éƒ¨ç·¨è¼¯å™¨ç·¨è¼¯ç•¶å‰ç·©è¡å€ä¸­çš„ SQL å‘½ä»¤ã€‚ \\! clear: æ¸…ç©ºpsql çµ‚ç«¯æ©Ÿç•«é¢ \\dt: æŸ¥çœ‹æ‰€æœ‰è¡¨æ ¼ \\df: æŸ¥çœ‹è³‡æ–™åº«ä¸­çš„æ‰€æœ‰å‡½æ•¸ä»¥åŠStored Procedure \\ef: ç·¨è¼¯ç¾æœ‰çš„å‡½æ•¸ï¼Œå¯èƒ½ä½ å¯«éŒ¯äº†é‚„æ˜¯å•¥çš„ â˜†ä¿®æ”¹å®Œå¾Œï¼Œå­˜æª”é€€å‡ºè¨˜äº‹æœ¬ï¼Œé€²åˆ°terminalè¦åŠ ä¸Š \\g æ‰æœƒæŠŠé€™å€‹ä¿®æ”¹goå‡ºå»ï¼Œä¸ç„¶ä½ æ€éº¼æ”¹éƒ½æ˜¯æ²’æœ‰ç”¨ã„‰ï¼Œè¡€èˆ‡æ·šçš„æ•™è¨“Q_Q \\sf: æŸ¥çœ‹æ›´è©³ç´°çš„å‡½æ•¸å…§å®¹ï¼Œs stand for show  dt, du, dfçš„dä»£è¡¨Describeçš„ç¸®å¯«ï¼Œç”¨ä»¥é¡¯ç¤ºè³‡æ–™åº«çš„è³‡æ–™\nStored Procedureçš„å¯¦æˆ° é¦–å…ˆå‰µé€ è¡¨æ ¼\n1 2 3 4 5  CREATE TABLE users ( id SERIAL PRIMARY KEY, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL UNIQUE );   æ’å…¥è³‡æ–™\n1 2 3 4 5  INSERT INTO users (name, email) VALUES (\u0026#39;John Doe\u0026#39;, \u0026#39;john.doe@example.com\u0026#39;), (\u0026#39;Jane Doe\u0026#39;, \u0026#39;jane.doe@example.com\u0026#39;), (\u0026#39;Bob Smith\u0026#39;, \u0026#39;bob.smith@example.com\u0026#39;);   è¿”å›å€¼ç‚ºç©ºçš„Function å…ˆå‰µå»ºä¸€å€‹ç„¡é—œç·Šè¦çš„stored procedureä¾†æ„Ÿå—ä¸€ä¸‹å®ƒçš„ä½œç”¨å§ï¼Œæˆ‘å€‘å‰µé€ ä¸€å€‹functionï¼Œç”¨ä¾†è¿”å›ä»Šå¤©çš„æ—¥æœŸï¼Œèªæ³•å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10  CREATE OR REPLACE FUNCTION -- å‰µå»ºstored procedureçš„èµ·æ‰‹å¼ã€‚ get_current_date() -- å‡½å¼åç¨± RETURNS DATE -- è©²å‡½å¼çš„è¿”å›å€¼ï¼Œè‹¥æœªæŒ‡å®šå‰‡ç‚ºReturn Null AS -- ç”¨ä»¥åˆ†æ˜å‡½æ•¸è²æ˜èˆ‡å‡½æ•¸é«”ï¼ŒASä¸Šé¢çš„æ˜¯å‡½æ•¸è²æ˜ï¼ŒASä¸‹é¢çš„æ˜¯å‡½æ•¸é«” $$ -- å®šç•Œç¬¦ï¼Œåƒç…§ä¸Šæ–¹èªªæ˜ BEGIN RETURN CURRENT_DATE; -- å‡½æ•¸é«” END; $$ -- å®šç•Œç¬¦ï¼Œåƒç…§ä¸Šæ–¹èªªæ˜ LANGUAGE plpgsql; -- ä¸åŠ é€™å€‹å°±æ˜¯é»˜èªä½¿ç”¨SQLèªè¨€ï¼Œåªèƒ½ä½¿ç”¨ä¸€äº›æ¯”è¼ƒç°¡å–®çš„èªæ³•ï¼ŒåŠ äº†é€™å€‹ä¹‹å¾Œå°±å¯ä»¥ä½œæµç¨‹æ§åˆ¶ã€å¾ªç’°ã€ç•°å¸¸è™•ç†ç­‰ç­‰...   æ¥è‘—å‘¼å«å®ƒ\n1  SELECT get_current_date();   å›å‚³ç‰¹å®šè³‡æ–™çš„function è©²functionæœƒè¿”å›åƒæ•¸å€¼çš„ä½¿ç”¨è€…çš„ç›¸é—œè³‡è¨Š\n1 2 3 4 5 6 7  CREATE OR REPLACE FUNCTION get_user_info(user_id INTEGER) RETURNS TABLE (name VARCHAR(255), email VARCHAR(255)) AS $$ BEGIN RETURN QUERY SELECT users.name, users.email FROM users WHERE id = user_id; END; $$ LANGUAGE plpgsql;   æ›´æ–°è³‡æ–™çš„function 1 2 3 4 5 6 7 8  CREATE OR REPLACE FUNCTION public.update_user_info(user_id integer, name character varying, email character varying) RETURNS void LANGUAGE plpgsql AS $$ BEGIN UPDATE users AS u SET name = $2, email = $3 WHERE u.id = $1; END; $$   è®Šæ•¸å®£å‘Š :=ä¾†é€²è¡Œè®Šæ•¸å®£å‘Šï¼Œ=åœ¨postgresSQLæ¯”è¼ƒåƒæ˜¯ç”¨ä¾†æ¯”è¼ƒ\n1 2 3 4 5 6 7 8 9 10 11 12  CREATE OR REPLACE FUNCTION my_function(param1 integer, param2 integer) RETURNS integer AS $$ DECLARE var1 integer := 0; var2 integer := 0; BEGIN var1 := param1 + 1; var2 := param2 + 2; RETURN var1 * var2; END; $$ LANGUAGE plpgsql;   WHILE èªæ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14  CREATE OR REPLACE PROCEDURE public.factorial(IN n INT, OUT result BIGINT) LANGUAGE plpgsql AS $$ DECLARE i INT := 1; BEGIN result := 1; WHILE i \u0026lt;= n LOOP result := result * i; i := i + 1; END LOOP; END; $$;   IFèªæ³• 1 2 3 4 5 6 7 8 9 10 11 12  CREATE OR REPLACE PROCEDURE example_if_proc (a INT) AS BEGIN IF a \u0026lt; 0 THEN DBMS_OUTPUT.PUT_LINE(\u0026#39;a is negative\u0026#39;); ELSIF a = 0 THEN DBMS_OUTPUT.PUT_LINE(\u0026#39;a is zero\u0026#39;); ELSE DBMS_OUTPUT.PUT_LINE(\u0026#39;a is positive\u0026#39;); END IF; END;   å°‡SELECTå‡ºä¾†çš„å€¼å„²å­˜åœ¨ä¸€è®Šæ•¸ä¸­ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  CREATE OR REPLACE PROCEDURE public.get_customer_info( IN customer_id INTEGER, OUT customer_name VARCHAR(50), OUT customer_email VARCHAR(50) ) LANGUAGE plpgsql AS $$ BEGIN SELECT name, email INTO customer_name, customer_email FROM customers WHERE id = customer_id; IF NOT FOUND THEN RAISE EXCEPTION \u0026#39;Customer not found\u0026#39;; END IF; END; $$;   å°‡è³‡è¨Šæ‰“å°å‡ºä¾†(print) 1 2 3 4 5 6 7 8 9  CREATE OR REPLACE procedure sayHello() RETURNS void LANGUAGE plpgsql AS $$ DECLARE BEGIN RAISE NOTICE \u0026#39;hello word:\u0026#39;; END; $$   ","date":"2023-03-01T09:45:17+08:00","image":"https://i.imgur.com/1BTtOUL.png","permalink":"https://hoxtoncraft.com/p/storeprocedure%E8%B7%9Fpsql%E7%9A%84%E7%AD%86%E8%A8%98/","title":"StoreProcedureè·ŸPSQLçš„ç­†è¨˜"},{"content":"åƒè€ƒå½±ç‰‡ï¼šç‚ºä½ è‡ªå·±å­¸GitLab CICD\nç‚ºä½•é¸æ“‡Jenkinsï¼Ÿ ç›®å‰å¸‚é¢ä¸Šæœ‰ä¸‰ç¨®CI/CDçš„å·¥å…·ï¼Œåˆ†åˆ¥æ˜¯\n Github Action GitLab CI/CD Jenkins  è€Œä»–å€‘å„è‡ªçš„é›£æ˜“åº¦å¦‚ä¸‹ï¼š\nGithub Action Jenkins GitlabCICD ä¸‰è€…ä¹‹æ¯”è¼ƒ     Github Action GitLab CI/CD Jenkins     å„ªé» ç°¡å–®æ˜“ç”¨ï¼Œå¯ä»¥é€éçµ„åˆ Actions ä¾†è¨­å®š CI/CD æµç¨‹ã€‚é›†æˆèˆ‡ GitHub ç›¸ç•¶è‰¯å¥½ï¼Œæ–¹ä¾¿åœ°èˆ‡å…¶ä»– GitHub å·¥å…·æ•´åˆã€‚ åŠŸèƒ½é½Šå…¨ï¼Œæ¶µè“‹äº†ç‰ˆæœ¬æ§åˆ¶ã€éœ€æ±‚ç®¡ç†ã€æ¸¬è©¦ã€æ‰“åŒ…ã€éƒ¨ç½²ç­‰ã€‚å…§å»ºäº†æ¸¬è©¦è¦†è“‹ç‡åˆ†æã€ç‰ˆæœ¬å›æº¯ã€ç¶²è·¯æ¨é€ç­‰å·¥å…·ã€‚æ”¯æ´æ›´å¤šçš„ç™¼ä½ˆå¹³è‡ºå’Œèªè¨€ï¼Œå¯ä»¥æ”¯æ´æ›´å¤šä¸åŒçš„é–‹ç™¼åœ˜éšŠã€‚ åŠŸèƒ½å¼·å¤§ï¼Œæ“æœ‰è±å¯Œçš„æ’ä»¶ç³»çµ±ï¼Œå¯ä»¥æ»¿è¶³å¤šç¨® CI/CD éœ€æ±‚ã€‚ç¤¾å€æ´»èºï¼Œæœ‰å¤§é‡ç¤¾å€æ’ä»¶å¯ä»¥ä½¿ç”¨ã€‚å¯ä»¥è‡ªå®šç¾©å·¥ä½œæµç¨‹ï¼Œéˆæ´»æ‡‰å°è¤‡é›œéœ€æ±‚ã€‚   ç¼ºé» è¨­å®šè¤‡é›œçš„æµç¨‹å¯èƒ½æœƒæ¯”è¼ƒå›°é›£ã€‚æœ‰äº›åŠŸèƒ½ï¼Œæ¯”å¦‚èªªé«˜ç´šçš„æ¬Šé™ç®¡ç†ï¼Œå¯èƒ½æ¯”è¼ƒå¼±ã€‚ è¼ƒç‚ºè¤‡é›œï¼Œå¯èƒ½æœƒèŠ±è²»ä¸€äº›æ™‚é–“ä¾†å­¸ç¿’å’Œè¨­å®šã€‚æœ‰äº›åŠŸèƒ½ï¼Œä¾‹å¦‚é«˜ç´šçš„å®‰å…¨æ€§ï¼Œå¯èƒ½æœƒæœ‰é¡å¤–çš„è²»ç”¨ã€‚ ç›¸å°è¼ƒé›£å­¸ç¿’å’Œä½¿ç”¨ï¼Œä¸å¦‚ GitHub Actions å’Œ GitLab CI/CD ç°¡å–®æ˜“ç”¨ã€‚é…ç½®å’Œç®¡ç†ç›¸å°è¤‡é›œï¼Œéœ€è¦ä¸€å®šçš„æŠ€è¡“æ”¯æŒã€‚    ç‚ºä»€éº¼CI/CDé‡è¦ï¼Œå®ƒåšäº†å“ªäº›äº‹æƒ…ï¼Ÿ\n åœ¨é‚„æ²’æœ‰CI/CDçš„æµç¨‹ä¹‹å‰ï¼Œéƒ¨å±¬ä¸€å€‹webå¤§æ¦‚æ˜¯é€™æ¨£   CI/CDå»ºç«‹å®Œæˆå¾Œï¼Œé–‹ç™¼äººå“¡åªéœ€è¦å°ˆæ³¨åœ¨ä»»å‹™çš„å®Œæˆï¼Œè€Œä¸éœ€è¦åšé‡è¤‡çš„éƒ¨å±¬å·¥ä½œ  åè©è§£æ Pipeline å°±æ˜¯è…³æœ¬(script)çš„æ„æ€ï¼Œç”¨ä¾†è¨­è¨ˆCICDçš„æµç¨‹ï¼Œä¸€å€‹å¸¸è¦‹çš„pipelineå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61  # ç¨±ä¹‹ç‚ºéšæ®µï¼Œå¯ä»¥ç‚ºæ¯å€‹Jobåˆ†é…éšæ®µï¼Œå¸¸è¦‹çš„æ¯”å¦‚èªªæœ‰æ¸¬è©¦éšæ®µã€æ‰“åŒ…éšæ®µã€éƒ¨å±¬éšæ®µç­‰ç­‰ï¼Œæ¯å€‹jobéƒ½å±¬æ–¼ä¸€å€‹éšæ®µ stages: - linter - testing - building - deploy # å·¥ä½œæµ workflow: rules: - if: $CI_COMMIT_BRANCH ==\u0026#34;main\u0026#34; #è‹¥ç™¼ç”Ÿä»€éº¼äº‹ when: always #å‰‡åšä»€éº¼äº‹ - when: never #ä¸ç„¶å‰‡åšä»€éº¼ # è®Šæ•¸ï¼Œå°±æ˜¯é‚£å€‹è®Šæ•¸ï¼Œå¯ä»¥å¯«åœ¨å¤–å±¤çš„å°±æ˜¯å…¨åŸŸè®Šæ•¸ï¼Œå¯«åœ¨Jobè£¡é¢çš„å°±æ˜¯Jobè®Šæ•¸ variables: host_name: \u0026#34;hoxton\u0026#34; # ç¨±ä¹‹ç‚ºJob Helloworld: # Jobåç¨± image: ruby:3.1.2-alpine3.16 #æŒ‡å®šè¦ç”¨ä»€éº¼imageä¾†è·‘ï¼Œç­‰åŒæ–¼Executor variables: # Jobè®Šæ•¸ my_name: \u0026#34;hello kitty\u0026#34; stage: linter # é€™å€‹Jobæ˜¯ä»€éº¼éšæ®µçš„ script: # è¦åŸ·è¡Œä»€éº¼æ¨£çš„è…³æœ¬ - echo \u0026#34;hello world, GitLab! $my_name\u0026#34; - echo \u0026#34;hello world, GitLab! $host_name\u0026#34; - chmod +x ./run.sh - ./run.sh run_unit_tests: # Jobåç¨± stage: testing # é€™å€‹Jobæ˜¯ä»€éº¼éšæ®µçš„ needs: # æ±ºå®šJobçš„é †åº - Helloworld # åœ¨é€™äº›Jobå®Œæˆå¾Œæ‰æœƒå»åšrun_unit_testsçš„Job script: # è¦åŸ·è¡Œä»€éº¼æ¨£çš„è…³æœ¬ - echo \u0026#34;åŸ·è¡Œå–®å…ƒæ¸¬è©¦\u0026#34; before_script: #åœ¨åŸ·è¡Œè…³æœ¬ä¹‹å‰éœ€è¦åŸ·è¡Œä»€éº¼è…³æœ¬ - echo \u0026#34;å®‰è£å¥—ä»¶\u0026#34; - echo \u0026#34;è¨­å®šè³‡æ–™åº«é€£ç·š\u0026#34; after_script :#åœ¨åŸ·è¡Œè…³æœ¬ä¹‹å¾Œéœ€è¦åŸ·è¡Œä»€éº¼è…³æœ¬ - echo \u0026#34;åˆªé™¤ä¸å¿…è¦çš„æª”æ¡ˆ\u0026#34; bad_job: # Jobåç¨± stage: testing # é€™å€‹Jobæ˜¯ä»€éº¼éšæ®µçš„ script: # è¦åŸ·è¡Œä»€éº¼æ¨£çš„è…³æœ¬ - echo \u0026#34;bad_job\u0026#34; build_docker_images: # Jobåç¨± only: # æŒ‡å®šJobåªæœƒåœ¨ä»€éº¼åˆ†æ”¯åŸ·è¡Œ - main stage: building # é€™å€‹Jobæ˜¯ä»€éº¼éšæ®µçš„ script: # è¦åŸ·è¡Œä»€éº¼æ¨£çš„è…³æœ¬ - echo \u0026#34;building docker images\u0026#34; deploy_to_production: # Jobåç¨± except: # æŒ‡å®šJobä¸åœ¨ä»€éº¼åˆ†æ”¯åŸ·è¡Œ - dev # åˆ†æ”¯åç¨± stage: deploy # # é€™å€‹Jobæ˜¯ä»€éº¼éšæ®µçš„ script: # è¦åŸ·è¡Œä»€éº¼æ¨£çš„è…³æœ¬ - echo \u0026#34;deploy to production\u0026#34;   Runner å¤§æ¦‚ç­‰åŒæ–¼ã€Œè¦ç”¨å“ªå°é›»è…¦ä¾†åŸ·è¡ŒPipelineã€ï¼Œä»¥ä¸‹å¯ä»¥è­‰æ˜\næ¬²åŸ·è¡Œçš„script\n1 2 3 4 5  print-location: tags: - euno script: - echo \u0026#34;$HOSTNAME\u0026#34;   è‹¥ä¸æŒ‡å®šè¦æœ‰ç”¨å“ªå°é›»è…¦åŸ·è¡Œï¼Œå‰‡gitlabæœƒæä¾›ï¼Œä½†é€™æ™‚å€™å°±æ˜¯åœ¨ä½¿ç”¨gitlabæ‰€æä¾›çš„æœå‹™ï¼Œå…è²»å¸³æˆ¶æ¯æœˆè¶…é40å°æ™‚å³åˆ°é”ä¸Šé™ï¼Œå› æ­¤éœ€è¦å»è¨»å†Šä¸€å€‹Runner\n å¦‚ä½•è¨»å†Šä¸€å€‹Runner  å¯ä»¥åƒè€ƒGitLabçš„å®˜æ–¹æ–‡ä»¶ https://docs.gitlab.com/runner/install/\nåœ¨Ubuntuç³»çµ±ä¸‹\n1 2  curl -L \u0026#34;https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh\u0026#34; | sudo bash   æ¥è‘—åŸ·è¡Œ\n1  sudo apt-get install gitlab-runner   Executor ä»£è¡¨pipelineæ‰€é‹è¡Œçš„ç’°å¢ƒï¼Œå¯ä»¥æ˜¯shellï¼Œä¹Ÿå¯ä»¥æ˜¯Dockerå®¹å™¨ï¼Œç«¯çœ‹ç›®çš„è€Œå®šï¼Œä½†åƒè¬è¦è¨˜å¾—ï¼Œè¦åŸ·è¡ŒæŒ‡å®šçš„Executorï¼Œä¹Ÿè¦çœ‹è‡ªå·±çš„é›»è…¦æˆ–VMæœ‰æ²’æœ‰é€™å€‹ç’°å¢ƒï¼Œä¹‹å‰æœ‰é‡åˆ°ä¸€å€‹å•é¡Œæ˜¯ï¼Œæˆ‘åœ¨æœ¬åœ°èµ·äº†ä¸€å€‹runnerï¼Œä½†ä¸€ç›´èªªæ‰¾ä¸åˆ°pwsdçš„æŒ‡ä»¤ï¼Œæ­¤æ™‚è¦åˆ°gitlab-runnerå®‰è£çš„è³‡æ–™å¤¾å»èª¿æ•´tomlæª”æ¡ˆï¼Œå°‡shellæ”¹æˆç”¨powershellé‹è¡Œï¼Œå› ç‚ºwindowä¸‹æ²’æœ‰pwsdé€™å€‹æŒ‡å®š\nå¦‚ä½•ä½¿ç”¨GitLabçš„CI/CDå·¥å…· åœ¨å°ˆæ¡ˆåº•ä¸‹æ–°å¢.gitlab-ci.ymlçš„æª”æ¡ˆï¼Œè£¡é¢çš„æ ¼å¼é•·é€™æ¨£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  # ç¨±ä¹‹ç‚ºç‹€æ…‹stages:- linter- testing- building- deploy # ç¨±ä¹‹ç‚ºJobHelloworld:stage:linterscript:- echo \u0026#34;hello world, GitLab!\u0026#34;run_unit_tests:stage:testingscript:- echo \u0026#34;åŸ·è¡Œå–®å…ƒæ¸¬è©¦\u0026#34;before_script:- echo \u0026#34;å®‰è£å¥—ä»¶\u0026#34;- echo \u0026#34;è¨­å®šè³‡æ–™åº«é€£ç·š\u0026#34;after_script:- echo \u0026#34;åˆªé™¤ä¸å¿…è¦çš„æª”æ¡ˆ\u0026#34;bad_job:stage:testingscript:- epaewjdqwebuild_docker_images:stage:buildingscript:- echo \u0026#34;building docker images\u0026#34;deploy_to_production:stage:deployscript:- echo \u0026#34;deploy to production\u0026#34;  æŠŠImageæ¨ä¸ŠGitlab å•é¡Œå½™æ•´ Got permission denied while trying to connect to the Docker daemon socket at unix:/// \u0026hellip; è§£æ±ºæ–¹æ³•ï¼š\nåœ¨vmä¸­è¼¸å…¥\n1  usermod -aG docker gitlab-runner   \u0026ldquo;usermod -aG docker gitlab-runner\u0026rdquo; é€™å€‹æŒ‡ä»¤æ˜¯ç”¨ä¾†å°‡ \u0026ldquo;gitlab-runner\u0026rdquo; ç”¨æˆ¶åŠ å…¥ \u0026ldquo;docker\u0026rdquo; ç¾¤çµ„ã€‚ \u0026ldquo;-a\u0026rdquo; é¸é …ç”¨æ–¼å°‡ç”¨æˆ¶é™„åŠ åˆ°æŒ‡å®šçš„ç¾¤çµ„ï¼Œ \u0026ldquo;-G\u0026rdquo; é¸é …ç”¨æ–¼æŒ‡å®šç¾¤çµ„ã€‚\né€™é€šå¸¸æ˜¯ç‚ºäº†å…è¨± \u0026ldquo;gitlab-runner\u0026rdquo; ç”¨æˆ¶åœ¨ GitLab Runner ç®¡ç†çš„ CI/CD æµç¨‹ä¸­åŸ·è¡Œ Docker å®¹å™¨ã€‚ é€šéå°‡ç”¨æˆ¶åŠ å…¥ \u0026ldquo;docker\u0026rdquo; ç¾¤çµ„ï¼Œç”¨æˆ¶å¯ä»¥åœ¨ä¸éœ€è¦æ¬Šé™å‡ç´šçš„æƒ…æ³ä¸‹é‹è¡Œ Docker æŒ‡ä»¤ã€‚\nè«‹æ³¨æ„ï¼Œ\u0026ldquo;usermod\u0026rdquo; æŒ‡ä»¤çš„ç¢ºåˆ‡èªæ³•å’Œè¡Œç‚ºå¯èƒ½å› æ‚¨ä½¿ç”¨çš„ä½œæ¥­ç³»çµ±è€Œç•°ã€‚ è«‹æŸ¥é–±æ‚¨çš„ä½œæ¥­ç³»çµ±çš„æ–‡æª”ä»¥ç²å–æ›´å¤šä¿¡æ¯ã€‚\ndenied : requested access to the resource is denied. å…«æˆæ˜¯ä½ çš„pushæ²’æœ‰å¯«å¥½ï¼Œå¯ä»¥åƒè€ƒä¸‹é¢çš„æ¨£å­\nrunneræœƒå°‡targetæª”æ¡ˆåˆªæ‰ï¼Œå°è‡´dokcer buildä¸èµ·ä¾† GitLab CICD runneråœ¨åŸ·è¡Œæ¯æ¬¡ä½œæ¥­æ™‚(Job)ï¼Œç‚ºäº†ä¿æŒäº’ç›¸çš„ç¨ç«‹æ€§ï¼Œæœƒå°‡Jobæ‰€ç”¢ç”Ÿçš„æª”æ¡ˆï¼Œåˆ‡æ›è‡³ä¸‹å€‹æª”æ¡ˆæ™‚åˆªé™¤ï¼Œä¾‹å¦‚\n1  mvn clean package   æ™‚æœƒç”¢ç”Ÿ/targetçš„è³‡æ–™å¤¾ï¼Œåœ¨ä¸‹ä¸€å€‹Jobæ™‚å°±æœƒè¢«åˆªé™¤ï¼Œå¦‚ä¸‹\næ­¤æ™‚å¯ä»¥åœ¨pipelineè£¡é¢åŠ ä¸Šé€™æ®µ\n1 2 3  artifacts: paths: - temp/*.jar   é€™æ¨£å°±ä»£è¡¨åœ¨ä¸‹ä¸€æ¬¡Jobæ™‚ï¼Œé€™å€‹ç›®éŒ„åº•ä¸‹çš„æ±è¥¿ä¸¦ä¸æœƒè¢«åˆªé™¤\n","date":"2023-02-06T19:50:08+08:00","image":"https://i.imgur.com/b9bWXWs.jpg","permalink":"https://hoxtoncraft.com/p/gitlab-ci/cd%E7%AD%86%E8%A8%98/","title":"GitLab-CI/CDç­†è¨˜"},{"content":"æ­¥é©Ÿ ç”¢ç”Ÿkeyçš„æ–¹å¼ 1  ssh-keygen   å„²å­˜Keyçš„ä½ç½® è¦æ”¹å°±æ”¹ï¼Œä¸æ”¹å°±æ˜¯é è¨­çš„\næ˜¯å¦è¦é‡å°privateKeyè¨­ç½®å¯†ç¢¼ ä½¿ç”¨é€™çµ„Keyæ™‚éœ€ä¸éœ€è¦é¡å¤–ä½¿ç”¨å¯†ç¢¼ï¼Œä¸è¼¸å…¥å°±æ˜¯ç©ºç™½\næŸ¥çœ‹ç”¢ç”Ÿçš„key .pubå¾Œç¶´çš„å°±ä»£è¡¨æ˜¯pubKey\né€²å…¥ä¸»æ©Ÿå…§ï¼Œå°‡private KeyåŠ å…¥ åœ¨.sshåº•ä¸‹æœƒæœ‰ä¸€å€‹authorized_keysçš„æª”æ¡ˆ å°‡privateKeyæ”¾å…¥å…¶ä¸­å°±å¥½\nè¼¸å…¥\n1  cat id_rsa.pub   ä¾†æŸ¥çœ‹\næ­¤æ™‚å°‡é€™ä¸²è¤‡è£½ä¸‹ä¾†ï¼Œè²¼åˆ°GitHubçš„SSH Keyè¨­å®š\næ¥è‘—åªè¦ä¸Šå‚³æ˜¯ä½¿ç”¨SSHæ–¹å¼ä¸Šå‚³ï¼Œå°±ä¸éœ€è¦å†ç™»å…¥githubäº†\n","date":"2023-02-05T21:06:21+08:00","image":"https://i.imgur.com/8ocM55M.png ","permalink":"https://hoxtoncraft.com/p/%E4%BD%BF%E7%94%A8ssh%E4%BE%86%E9%80%A3%E5%8B%95gitscm/","title":"ä½¿ç”¨SSHä¾†é€£å‹•GITSCM"},{"content":"ç·£èµ· å¹´å‡å¯¦åœ¨å¤ªç„¡èŠäº†ï¼Œæœ‰é»å»¢åˆ°é€£æ›¸éƒ½è®€ä¸ä¸‹å»ï¼Œå°±æ‰“é–‹Netflixæƒ³çœ‹çœ‹æœ‰ä»€éº¼å¥½çœ‹çš„ï¼ŒåŸæœ¬æƒ³çœ‹åˆæˆ€First Loveçš„ï¼Œä½†ç„¡å¥ˆæˆ‘å°æ–¼æ„›æƒ…é¡å‹çš„æ±è¥¿å¯¦åœ¨æ²’ä»€éº¼å¤ªå¤§çš„èˆˆè¶£ï¼Œæ­£å¥½çœ‹åˆ°äº†wednesdayå‡ºç¾åœ¨æ¨è–¦åå–®ä¸Šï¼Œç¨å¾®çœ‹äº†ä¸€ä¸‹é å‘Šï¼Œè¦ºå¾—Wednesdayé€™ç¨®å­ä¸–åˆ°æ¥µé™çš„äººè¨­æ·±å¾—æˆ‘å¿ƒï¼Œå†æ­é…ä¸Šå¥³é…è§’ä¼Šå¦®å½¢æˆçš„åå·®ï¼Œå…©é‚Šçš„å°æ¯”å¯¦åœ¨å¤ªéå¼·çƒˆï¼Œè®“æˆ‘å¿ä¸ä½å¥½å¥‡åˆ°åº•é€™éƒ¨åœ¨æ¼”ä»€éº¼ï¼Œæ–¼æ˜¯å°±é»é€²å»äº†ã€‚\nå…ˆè¬›çµè«–ï¼Œæˆ‘è¦ºå¾—æ•´éƒ¨äººè¨­æ»¿åˆ†ï¼ŒåŠ‡æƒ…çœŸçš„ä¸è¡Œï¼Œå¾Œé¢åŠ‡æƒ…æ„Ÿè¦ºæ²’ä¸€å€‹äººæ˜¯ç”¨è…¦è¢‹åœ¨åšäº‹çš„ï¼Œçœ‹å®Œåªè¦ºå¾—æˆ‘çš„æ™ºå•†è¢«ç‹ ç‹ çš„å¼·æš´äº†ä¸€éã€‚\nå‰é¢å››é›†ç®—æ˜¯è »å¤šè¨˜æ†¶é»çš„ï¼Œæ¯”å¦‚èªªèˆæœƒã€æ‹‰å¤§æç´ã€é›•åƒçˆ†ç ´ç­‰ç­‰ï¼Œå°æ–¼æ˜ŸæœŸä¸‰çš„è§’è‰²å¡‘é€ ä¹Ÿç®—è±æ»¿(å°±æ˜¯å€‹æ€ªèƒ)ã€‚ä½†ç„¡å¥ˆåˆ°å¾Œé¢å¹¾é›†æ„Ÿè¦ºæ•´éƒ¨åŠ‡æƒ…çš„èª¿æ€§å°±é–‹å§‹è„«é›¢äº†Addams Familyçš„é‚£ç¨®é»‘è‰²å¹½é»˜ã€‚\né¦–å…ˆæ˜¯ç¬¬äº”é›†ï¼Œé€™ä¸€é›†å®¶åº­æ¢è¨ªæ—¥ï¼Œæ ¡é•·è¦æ±‚Addamsä¸€å®¶å»åšå¿ƒç†è«®å•†ï¼Œæˆ‘æœ¬ä»¥ç‚ºå¯ä»¥çœ‹åˆ°å¥¹å€‘ä¸€å®¶äººã€Œèˆ‡çœ¾ä¸åŒã€çš„é‚£é¢ï¼Œæ¯”å¦‚èªªäº’ç›¸æŒ–è‹¦ã€æ„›å½¼æ­¤æ„›åˆ°è¦æ®ºæ­»å°æ–¹çš„é‚£ä¸€ç¨®é—œå¿ƒæ–¹å¼ï¼Œä½†æ²’æƒ³åˆ°è©±é‹’ä¸€è½‰ï¼Œå¥¹å€‘ä¸€å®¶äººå±…ç„¶æ•´æ•´é½Šé½Šçš„èªçœŸåœ¨åšä¸€å ´è«®å•†ï¼Œç•¶å•åˆ°Gormozå¹´è¼•æ™‚æ˜¯å¦çœŸçš„æ®ºéäººï¼ŒMorticiaé‚„ç‰™èµ·ä¾†ï¼Œè¦Wedensdayä¸è¦å†ç¹¼çºŒè¿½å•ä¸‹å»äº†ã€‚\nç•¶æ™‚å¿ƒè£¡åœ¨æƒ³ï¼Œé€™å®¶äººä¸æ˜¯ä¸€ç¾¤outcastå—ï¼Ÿæ€éº¼çªç„¶é–“æœƒé€™éº¼åš´è‚…åœ°åœ¨è¬›é€™ä»¶äº‹æƒ…ï¼Ÿæ•´å ´è«®å•†ä¸‹ä¾†å®Œå…¨æ²’æœ‰ä»»ä½•Addams Familyçš„æ„Ÿè¦ºï¼Œè·Ÿä¸€èˆ¬å®¶åº­æ²’ä»€éº¼ä¸åŒçš„åœ°æ–¹ã€‚ç›´åˆ°å¾Œé¢è¬é¡Œæ­æ›‰æ™‚ï¼Œæˆ‘é‚„æƒ³èªªé€™éº¼åš´è‚…è‚¯å®šæ˜¯æœ‰ä»€éº¼å¤©å¤§çš„äº‹æƒ…æ‰€ä»¥æ‰ä¸èƒ½èªªï¼ŒåŸä¾†å°±åªæ˜¯çˆ¸çˆ¸å¹«åª½åª½èƒŒé»‘é‹è€Œå·²ï¼Œè«‹å•é€™ä»¶äº‹æƒ…æœ‰å¿…è¦çè‘—Wednesdayå—ï¼Ÿæœ‰å¿…è¦æ•…å¼„ç„è™›å—ï¼Ÿ\nç·Šæ¥è‘—åˆ°ç¬¬å…­é›†ï¼Œè«åå…¶å¦™çš„Xavierè·ŸTyleréƒ½å°Wednesdayæšˆèˆ¹ï¼Œè€Œä¸”æšˆèˆ¹çš„ä¸æ¸…ï¼Œç›¸ç¹¼èªªå‡ºä»€éº¼ã€Œèˆæœƒéå¾Œï¼Œæˆ‘åªæƒ³å¿˜æ‰å¦³ï¼Œå»éƒ½å¿˜ä¸æ‰ã€\nã€Œé›–ç„¶å¯èƒ½æ˜¯æˆ‘çš„éŒ¯è¦ºï¼Œæ˜ŸæœŸä¸‰ï¼Œä½†ä½ æ˜æ˜ä¸åœå°æˆ‘æ˜ç¤ºæš—ç¤ºã€ï¼Œæˆ‘çš„å¤©ï¼Œæˆ‘ä»¥ç‚ºé»é€²ä¾†æ˜¯é»‘è‰²å¹½é»˜çš„æ‡¸ç–‘ç‰‡ï¼Œæ²’æƒ³åˆ°é»é€²ä¾†çš„åŸä¾†æ˜¯ä¸‰è§’æˆ€ä¿®ç¾…å ´é€£çºŒåŠ‡ï¼Œå†å›é ­çœ‹çœ‹å‰é¢çš„åŠ‡æƒ…ï¼Œå¯¦åœ¨ä¸è¦ºå¾—æ˜ŸæœŸä¸‰è·Ÿé€™å…©äººçš„äº’å‹•æœ‰ä»€éº¼åœ°æ–¹æœƒè®“äººæšˆèˆ¹çš„ï¼Œå¯èƒ½é€™å…©äººéƒ½æ˜¯æ˜“æšˆé«”è³ªå§ï¼Œåªèƒ½èªªWednesdayæœ‰æµ·ç‹å¤©ä»½ï¼Œæ·±è«³å„ç¨®å°å¿ƒæ©Ÿå§ï¼Œæœ‰ä¸€å¹•å¥½åƒæ˜¯Xavierçœ‹åˆ°Wednesdayè·ŸTylerå»èˆæœƒé‚„æ˜¯å•¥çš„ï¼Œå†ç”Ÿæ‚¶æ°£ï¼Œæ²’æƒ³åˆ°Wedensdayå±…ç„¶å•Xavieråˆ°åº•åœ¨ä¸é–‹å¿ƒä»€éº¼ï¼Œæˆ‘ç•¶æ™‚å¿ƒè£¡åœ¨æƒ³ã€Œä½ é€™ä¸æ˜¯å¾ˆæ‡‚å—ï¼Ÿæµ·ç‹Wednesdayã€ï¼Œåªèƒ½èªªç”·äººçµ‚ç©¶æ˜¯æŠµæŠ—ä¸äº†ç¥ç¥•æ­£å¦¹çš„é‚€è«‹ï¼Œå”‰ã€‚\nåˆ°äº†å¾Œé¢é€²å…¥ä¸»ç·šï¼ŒWednesdayé¨™Enidè·ŸTyleræƒ³è¦å‡ºå»ï¼Œçµæœå¯¦éš›ä¸Šæ˜¯å»Gateså®¶èª¿æŸ¥ï¼Œçµæœèª¿æŸ¥ä¸é †é­åˆ°Hydeçš„æ”»æ“Šï¼Œçµå°¾æ™‚çœ‹åˆ°Enidç”Ÿæ°£çš„å°Wedensdayèªªã€Œä½ æ ¹æœ¬ä¸åœ¨ä¹ä½ èº«é‚Šçš„äººï¼Œä½ åªåœ¨ä¹ä½ è‡ªå·±ã€æ™‚ï¼Œæˆ‘å¿ƒè£¡æƒ³èªªçµ‚æ–¼å•Šï¼Œæœ‰äººçµ‚æ–¼è¬›å‡ºå¯¦è©±äº†ï¼Œçµæœä¸‹ä¸€é›†Enidåˆæ´»è¹¦äº‚è·³çš„ä¾†æ‰¾WednesdayèŠå¤©ï¼Œä¸åªæ˜¯é€™å¹•ï¼Œå…¶å¯¦ä¹‹å‰ä¹Ÿæœ‰å¾ˆå¤šé¡ä¼¼çš„åŠ‡æƒ…\nWednesdayæäº†äº›ä»€éº¼è®“å¤§å®¶å¾ˆä¸çˆ½ï¼Œçµæœéæ²’å¹¾é›†å¤§å®¶åˆä¸»å‹•ä¾†æ‰¾WednesdayèŠå¤©ï¼Œé“æ­‰ã€‚å¥‡æ€ªï¼Œåˆ°åº•ç‚ºä»€éº¼è¦è·Ÿå¥¹é“æ­‰å•Šï¼Œé›£é“äººé•·å¾—æ­£å°±å¯ä»¥é€™æ¨£å­å—ã€‚\næ¥è‘—åŠ‡æƒ…åœ¨å¾€ä¸‹èµ°ï¼Œç™¼ç¾æ›´åŠ å¼±æ™ºï¼Œæ˜ŸæœŸä¸‰æŒ‡èªXavierå°±æ˜¯å…‡æ‰‹ï¼Œçµæœå¯¦éš›ä¸ŠæŠ“éŒ¯äº†ï¼Œæˆ‘å€‹äººèªç‚ºæ²’å•é¡Œï¼Œç•¢ç«Ÿäººç¸½æ˜¯æœ‰å‡ºéŒ¯çš„æ™‚å€™ï¼Œè€Œä¸”ç¢ºå¯¦å¾ˆå¤šè­‰æ“šéƒ½æŒ‡å‘Xavierã€‚ä½†ç•¶Wednesadayèªªå¥¹æŠ“éŒ¯ï¼ŒTyleræ‰æ˜¯å…‡æ‰‹æ™‚ï¼Œå¥¹çš„å¿«æ¨‚å¤¥ä¼´ä¾ç„¶æ˜¯ç„¡æ¢ä»¶åœ°ç›¸ä¿¡Wednesdayï¼Œç”šè‡³é€£è­‰æ“šéƒ½æ²’æä¾›ï¼Œå¥¹çš„å¿«æ¨‚å¤¥ä¼´æ²’æœ‰çµ²æ¯«çš„æ‡·ç–‘å¥¹è¬›å¾—åˆ°åº•æ˜¯çœŸæ˜¯å‡ï¼Œæ•´å€‹æŠ“æ•éç¨‹ç´°çµ²æ¥µæï¼Œæˆ‘ç”šè‡³è¦ºå¾—ï¼Œå‡ä½¿Tylerä¸æ˜¯å…‡æ‰‹ï¼ŒWednesdayèªªAjaxæ˜¯å…‡æ‰‹ï¼Œé‚£ç¾¤å¿«æ¨‚å¤¥ä¼´ä¹Ÿæ˜¯æœƒå¾ˆæ¨‚æ„åœ°æŠŠAjaxæŠ“èµ·ä¾†ä¸Šä¾›çµ¦Wednesdayã€‚ä¹Ÿå°±æ˜¯èªªå…¶å¯¦æ˜ŸæœŸä¸‰çš„è¡Œç‚ºæ ¹æœ¬æ˜¯æ‘éœ¸çš„è¡Œç‚ºå§ï¼Œèªªä½ æœ‰ç½ªå°±æœ‰ç½ªï¼ŒæŠ“çŠ¯äººä¸é è…¦è¢‹è€Œæ˜¯é æ‹³é ­ï¼Œå…¨ç¨‹ç¡¬Aï¼Œç”šè‡³æœ€å¾ŒæŠ“çŠ¯äººé‚„æ˜¯é å¹»è¦–æ‰æŠ“åˆ°çš„ï¼Œ0é‚è¼¯æ€è€ƒã€è§£è¬ã€‚\nåˆ°æœ€å¾Œä¸€é›†å‰‡æ˜¯å¼±æ™ºæƒ…ç¯€å¤§é›†åˆï¼ŒçŸ¥é“ä¸»è¬€æ˜¯Thornhillè€å¸«ï¼Œæ ¡é•·ç”¨è®Šå½¢è¡“è®ŠæˆTylerçš„æ¨£å­å»è·ŸWednesdayåŒ…åœå¥¹ï¼Œçµæœæ ¡é•·åœ¨Thornhillé¢å‰è§£é™¤è®Šå½¢å¾Œï¼Œæˆ‘æœ¬ä»¥ç‚ºæœƒæœ‰ä»€éº¼åˆºæ¿€çš„å°æ±ºç•«é¢ï¼ŒçµæœThornhillåªæ˜¯æèµ·ã€Œæ‰‹ä¸­ã€çš„é‡ç­’ï¼Œå°±å¾€æ ¡é•·çš„ã€Œè„–å­ã€åˆºä¸‹å»ï¼Œæ ¡é•·å°±æ­»äº†ï¼Œé‚£åˆ°åº•ç‚ºä»€éº¼è¦è®Šå½¢æ¥è¿‘è€å¸«å•Šï¼Œä¸èƒ½èº²åœ¨æ—é‚Šè½å°±å¥½å—ï¼Ÿé€€ä¸€è¬æ­¥ä¾†èªªï¼Œæ ¡é•·ä½ çœŸçš„ä¸æ˜¯åœ¨æ¼”å—ï¼Ÿä½ èº«é«˜190ï¼Œè€å¸«èº«é«˜155ï¼Œèƒ½ä¸èƒ½åæ‡‰ä¸€ä¸‹å•Šï¼Œçµæœå°±é€™æ¨£æ­»äº†ï¼Œå®Œå…¨æ²’æœ‰ä»»ä½•æ¨é€²åŠ‡æƒ…çš„ä½œç”¨ï¼Œæ ¡é•·åœ¨ä¸åœ¨é‚£å€‹å ´æ™¯å°æ–¼åŠ‡æƒ…å½±éŸ¿éƒ½ä¸å¤§ï¼ŒçœŸçš„å°±åªæ˜¯ç‚ºäº†éä¾†æ­»è€Œå·²ã€‚\nå¾Œä¾†Crackstoneå¾©æ´»ï¼Œæˆ‘æœ¬ä»¥ç‚ºæœƒæœ‰ä»€éº¼è¶…ç‚«çš„æŠ€èƒ½ï¼Œçµæœå®Œå…¨æ²’æœ‰ï¼Œæˆ°åŠ›å€¼ä½è½åˆ°æˆ‘ç”šè‡³èªç‚ºNevermoreå­¸ç”Ÿæ¯å€‹äººéƒ½è¡ä¸Šå»ï¼Œä»–å°±æœƒæ´»æ´»ç•¶å ´è¢«æ‰“æ­»åœ¨ç¾å ´ï¼Œå°±åªæœ‰é€²Nevermoreå¾Œæ”¾å€‹ç«ç„°é¢¨æš´å¾Œï¼Œæ¥è‘—å°±æ‹¿èµ·æ³•ä»—ç•¶ä¸€å€‹é€²æˆ°æ³•å¸«ï¼Œè·ŸWednesdayè¿‘èº«å¹³Aèµ·ä¾†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è…¦è¢‹é‚„æ²’ç†±èµ·ä¾†ï¼Œå¿˜è¨˜è‡ªå·±æ˜¯ä¸€å€‹æ³•å¸«ï¼Œæ‡‰è©²æ‹‰é–‹è·é›¢ï¼Œæˆ–æ˜¯è¶éš™æ”¾å€‹ä»€éº¼é­”æ³•ä¹‹é¡çš„ï¼Œæœ€å¾Œé‚„è¢«Biancaå¾å¾Œé¢èƒŒåˆºï¼Œç•¶ä»–è½‰éå»æ‰“é£›Biancaå¾Œï¼Œæ¥è‘—åˆè¢«WednesdayèƒŒåˆºï¼Œçœ‹åˆ°é€™å¹•çš„æ™‚å€™æˆ‘é‚„ä»¥ç‚ºåœ¨çœ‹å‘¨æ˜Ÿé¦³çš„é›¶é›¶æ¼†å¤§æˆ°é‡‘é—å®¢ï¼Œé€™ç¨®å¤éˆé‡‘æ€ªæ§çš„å¹½é»˜æ²’æƒ³åˆ°ä¹Ÿè¢«æ´‹äººç™¼æšå…‰å¤§å»äº†ã€‚æœ€å¾ŒThornhillè€å¸«æ‹¿äº†ä¸€æŠŠæ§èµ°å‡ºä¾†æ™‚ï¼Œæˆ‘å¿ƒè£¡åœ¨æƒ³ã€Œçµ‚æ–¼å•Šï¼å¤§äººï¼Œæ™‚ä»£è®Šäº†ï¼Œè©²æ‹¿æ§äº†ã€ï¼Œçµæœæ‹¿æ§æŠ–äº†è€åŠå¤©ï¼Œè¬›äº†ä¸€å †è©±å°±æ˜¯æ²’é–‹ä¸‹å»ï¼Œçµæœå¾Œé¢è¢«èœœèœ‚å®çš„æ™‚å€™æ‰é–‹æ§ï¼ŒçœŸçš„ä¸æ˜¯ç•¶å¹´è…¦å­é€²æ°´å—ï¼ŸCrackerstoneå¾©æ´»å¾Œä¸å°±å«ä½ é–‰å˜´ï¼Œè­¦å‘Šä½ è©±å¤ªå¤šäº†å—ï¼Ÿçµæœæœ€å¾Œé‚„æ˜¯æ²’æŠŠä»–çš„è©±è½é€²å»ï¼Œé›£æ€ªä¸æˆå¤§æ°£ã€‚\næœ€å¾Œå¿«æ¨‚å¤§çµå±€ï¼Œè©²ç™¼ç³–çš„ç™¼ç³–ã€è©²ç‹¼åŒ–çš„ç‹¼åŒ–ï¼ŒXavierç¹¼çºŒæšˆèˆ¹Wednesdayï¼Œçµå°¾é‚„é€äº†å°Iphoneçµ¦Wednesdayï¼Œçœ‹åˆ°é€™å¹•æ™‚ï¼Œæˆ‘å¿½ç„¶æƒ³èµ·çŸ¥é“ç‚ºä»€éº¼Xavierä¸€é–‹å§‹æœƒæ‡·ç–‘è‡ªå·±è¢«Biancaè ±æƒ‘ï¼Œå¾åŠ‡æƒ…è¡¨ç¾ä¸Šçœ‹èµ·ä¾†ä»–ç¢ºå¯¦æ˜¯æšˆåˆ°ç¥æ™ºä¸æ¸…ï¼Œæˆ‘ä¹Ÿæ‡·ç–‘ä»–æœ€å¾ŒçœŸçš„è¢«æ˜ŸæœŸä¸‰è ±æƒ‘äº†ï¼Œå°è­‰äº†é‚£å¥ã€Œæ˜ŸæœŸä¸‰è™æˆ‘åƒç™¾éï¼Œæˆ‘ä»å¾…å¥¹å¦‚åˆæˆ€ã€ï¼Œé‹¼éµæ˜ŸæœŸä¸‰ç²‰å¯¦è‡³åæ­¸ã€‚\nçµå°¾ èªçœŸå›æƒ³äº†ä¸€ä¸‹ï¼Œæ•´éƒ¨åŠ‡æƒ…æœ€å¤§è©²åæ§½çš„é»å°±æ˜¯Wednesdayèº«é‚Šçš„äººå°å¥¹è¿‘ä¹ç›²ç›®çš„åŒ…å®¹ï¼Œæ ¡é•·åŒ…å®¹å¥¹ã€è­¦é•·åŒ…å®¹å¥¹ã€ç‹¼å¦¹åŒ…å®¹å¥¹ã€ç”·é…ä¹ŸåŒ…å®¹å¥¹ï¼ŒWednesdayè‡³å§‹è‡³çµ‚é™¤äº†å°æ‰‹å¤–ï¼Œå¹¾ä¹æ²’å°ä»»ä½•äººé“éæ­‰ï¼Œä¹Ÿæ²’æ·±åˆ»çš„åçœï¼Œä½†å°±æ˜¯æ‰€æœ‰çš„äººéƒ½æœƒè«åå…¶å¦™çš„åŸè«’å¥¹ï¼Œæ¯«ç„¡é‚è¼¯èˆ‡æ·±åº¦å¯è¨€ã€‚ç¬¬äºŒå­£å‡ºçš„è©±æˆ‘æ‡‰è©²é‚„æ˜¯æœƒçœ‹ï¼Œç•¢ç«Ÿäººè¨­å¯¦åœ¨å¤ªé¦™äº†ï¼Œå¸Œæœ›ç¬¬äºŒå­£ä¸è¦åœ¨è™é ­è›‡å°¾äº†ã€‚\n","date":"2023-01-29T17:20:08+08:00","image":"https://i.imgur.com/C9FgAaF.jpg","permalink":"https://hoxtoncraft.com/p/wednesday-%E6%98%9F%E6%9C%9F%E4%B8%89%E8%88%87%E5%A5%B9%E7%9A%84%E6%9A%88%E8%88%B9%E5%A4%A5%E4%BC%B4%E5%80%91/","title":"Wednesday æ˜ŸæœŸä¸‰èˆ‡å¥¹çš„æšˆèˆ¹å¤¥ä¼´å€‘"},{"content":"å‰è¨€ è¨˜å¾—åœ¨æŸæ¬¡å¤–å‹¤çš„æ™‚å€™ï¼Œé‚£æ™‚å€™å¥½åƒæ˜¯è¦åšç¨…æŠ½é‚„æ˜¯è¦æŸ¥ä»€éº¼æ±è¥¿ï¼Œéœ€è¦ç”¨å®¢æˆ¶çš„é›»è…¦SAPè£¡é¢æŸ¥ä¸€äº›è³‡æ–™ï¼Œå¯æ˜¯æˆ‘æŒ‰äº†è€åŠå¤©ï¼Œä¸€ç›´å‡ºç¾éŒ¯èª¤ï¼Œè¿·è¿·ç³Šç³Šåœ°å¾é‚£äº›æ–‡å­—ä¸­æ‹¼æ¹Šå‡ºä¸€äº›å–®è©ï¼Œåªè¨˜å¾—æœ‰ä»€éº¼SQL Errorï¼Œç•¶æ™‚æŠŠé€™ä»¶äº‹æƒ…è·Ÿå®¢æˆ¶çš„æœƒè¨ˆåæ‡‰ï¼Œä»–æ—‹å³è«‹äº†å·¥ç¨‹å¸«éä¾†è™•ç†ï¼Œå¼„äº†ä¸€ä¸‹ä¹‹å¾Œè·Ÿæˆ‘èªªéœ€è¦æ˜å¤©æ‰æœƒå¥½ï¼Œè¦æˆ‘æ˜å¤©å†å»æ’ˆ\n(ç¯„ä¾‹ï¼Œéç•¶äº‹éŒ¯èª¤)\nå¾Œä¾†é€™å¹¾å¹´å·¥ä½œä¸Šå¸¸å¸¸æ¥è§¸åˆ°è³‡æ–™åº«çš„æ±è¥¿ï¼Œæœ€è¿‘åˆæƒ³èµ·é€™ä»¶äº‹ä¾†ï¼Œä¹Ÿç¸½ç®—çŸ¥é“ç•¶æ™‚é‡åˆ°çš„éŒ¯èª¤æ˜¯ä»€éº¼äº†æˆ‘çŒœæ˜¯IPé€£ä¸åˆ°ã€‚å› æ­¤ç¹¼çºŒè¶è‘—å¹´å‡é€™å€‹çœŸçš„ä¸çŸ¥é“åšä»€éº¼äº‹çš„æ™‚é–“é»ä¾†ç§‘æ™®ä¸€ä¸‹ERPç³»çµ±å¾Œé¢çš„æ±è¥¿ï¼ŒSQL DataBaseæ˜¯ä»€éº¼ï¼Ÿ\nä»€éº¼æ˜¯SQL é¦–å…ˆè¦çŸ¥é“SQLæ€éº¼ç™¼éŸ³ï¼Œæˆ‘éƒ½å¿µSQLï¼Œä½†ä¹Ÿæœ‰äº›äººå¿µSQLï¼ŒSQLçš„å¿µæ³•æ˜¯ï¼ŒCé—Š(Ess-cue-ell')ã€‚SQLé€™å€‹è©çš„ç”±ä¾†æœ‰äººèªªæ²’æ„ç¾©ï¼Œå°±æ˜¯å«SQLï¼Œä¹Ÿæœ‰äººèªç‚ºæ˜¯æœ‰æ„ç¾©çš„ï¼Œä¹Ÿå°±æ˜¯Structured Query Language(çµæ§‹åŒ–æŸ¥è©¢èªè¨€)çš„ç¸®å¯«ã€‚ç°¡è€Œè¨€ä¹‹SQLå°±æ˜¯ç”¨ä¾†è·Ÿè³‡æ–™åº«(Database)æºé€šçš„ä¸€ç¨®Syntax(èªæ³•)ï¼ŒSQLèˆ‡è³‡æ–™åº«çš„é—œä¿‚åƒé­”æ³•å¸«èˆ‡é­”æ³•æ›¸çš„é—œä¿‚ï¼Œé­”æ³•å¸«é€éè© å”±å’’èª(SQLèªæ³•)ä¾†ä½¿ç”¨é­”æ³•æ›¸(Database)çš„èƒ½åŠ›ã€‚\nç¬¬ä¸€æ¬¡æ¥è§¸åˆ°SQLæ˜¯åœ¨å¤§å››å¤§ä¸‰çš„æ™‚å€™å§ï¼Œé‚£æ™‚å€™å¥½åƒæœ‰å€‹ç³»å¿…ä¿®æ˜¯ä»€éº¼è³‡è¨Šæ¦‚è«–é¡ä¼¼çš„èª²ç¨‹ï¼Œè€å¸«ä¸Šèª²çš„æ™‚å€™æœ‰æåˆ°ä¸€å€‹æ±è¥¿ï¼Œä»–çš„ä»‹é¢æ˜¯éš»æµ·è±šï¼Œç„¶å¾Œæœ‰å¾ˆå¤šå¥‡æ€ªçš„æŒ‰éˆ•ï¼Œ\nç•¶æ™‚çš„æˆ‘å®Œå…¨ä¸çŸ¥é“é€™äº›æ˜¯å•¥ï¼Œç”šè‡³é€£SQLæ˜¯ä»€éº¼éƒ½æ²’æœ‰åŠé»é ­ç·’ï¼Œé‚£é–€èª²æˆ‘è¨˜å¾—æˆ‘åªè² è²¬è™•ç†ä¸€äº›å¾ˆç‘£ç¢çš„äº‹æƒ…ï¼Œå…¶ä»–éƒ½é æˆ‘åŒå­¸Carryéçš„XDã€‚çµæœæ²’æƒ³åˆ°é€ƒçš„äº†ä¸€æ™‚ï¼Œé€ƒä¸äº†ä¸€ä¸–ï¼Œç¾åœ¨å¤©å¤©éƒ½æœƒçœ‹åˆ°ï¼Œæ„Ÿå˜†å‘½é‹å¤šèˆ›å•Šã€‚\nè©±èªªå›ä¾†ï¼Œæ‰€ä»¥ä»€éº¼æ˜¯SQLå‘¢ï¼Ÿä»–æ˜¯ç”¨ä¾†åšä»€éº¼çš„ï¼Ÿæˆ‘å€‘é¦–å…ˆå…ˆä¾†è¬›ä¸€ä¸‹ä»€éº¼æ˜¯é—œè¯å¼è³‡æ–™åº«ã€‚å¤§å®¶æ‡‰è©²æœ‰ä¸Šéå­¸å§ï¼Œå­¸æ ¡è£¡ï¼Œæœ‰ç­ç´šã€æœ‰å­¸ç”Ÿã€æœ‰ç­å°ï¼Œæœ‰ç§‘ä»»è€å¸«ï¼Œé€™äº›æ±è¥¿éƒ½æ˜¯äº’ç›¸æœ‰é—œè¯çš„ï¼Œæ¯”å¦‚èªªä¸€å€‹ç­å°å¯ä»¥æœ‰å¾ˆå¤šå­¸ç”Ÿï¼Œä½†æ¯å€‹å­¸ç”Ÿåªèƒ½æœ‰ä¸€å€‹ç­å°ï¼Œä¸€å€‹ç§‘ä»»è€å¸«ä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šå­¸ç”Ÿï¼Œæ¯å€‹å­¸ç”Ÿä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šçš„ç§‘ä»»è€å¸«ã€‚ç”¨ä¾†è¨˜éŒ„é€™äº›è³‡è¨Šçš„è³‡æ–™åº«å°±æ˜¯æ‰€è¬‚çš„é—œè¯å¼è³‡æ–™åº«æ³¨ï¼šæœ‰é—œè¯å¼å°±æœƒæœ‰éé—œè¯å¼è³‡æ–™åº«ï¼Œä½†é€™éƒ¨åˆ†æˆ‘å°±ä¸ç†Ÿäº†ã€‚\n(æ³¨ï¼šæˆ‘äº‹å¾Œå›ä¾†çœ‹ï¼Œæˆ‘è¦ºå¾—é€™æ¨£è¨­è¨ˆæœ‰å¾ˆå¤šå•é¡Œï¼Œå…¶å¯¦å¯ä»¥åœ¨ç²¾ç°¡ä¸€é»çš„ï¼Œå¤§ä½¬å°±åˆ¥é­å¤ªå¤§åŠ›äº†ï¼‰\nç•«æˆé—œè¯åœ–å¤§æ¦‚å°±æ˜¯é•·é€™æ¨£ï¼ŒåŸè«’æˆ‘ç•«çš„çœŸçš„æœ‰é»é†œï¼Œä¸éå¤§æ¦‚çœ‹çš„å‡ºä¾†å®ƒå€‘å½¼æ­¤æœ‰å“ªäº›é—œä¿‚å§ï¼Ÿå­¸ç”Ÿè·Ÿç­ç´šã€å°å¸«ã€ç§‘ä»»è€å¸«æœ‰é—œè¯ã€ç­ç´šè·Ÿå­¸ç”Ÿé‚„æœ‰ç­å°æœ‰é—œè¯ã€ç­å°è·Ÿç§‘ä»»è€å¸«æ²’æœ‰é—œè¯(å…¶å¯¦é€™é‚Šè¨­è¨ˆçš„ä¸å¤ªå¥½ï¼Œæœƒé•åè³‡æ–™æ­£è¦åŒ–ï¼Œä½†åªæ˜¯ç¤ºç¯„è€Œå·²ï¼‰ã€‚SQL Databaseæˆ‘å€‘æ¯å¤©éƒ½æœƒç¢°åˆ°ï¼Œæ¯”å¦‚èªªä½ æ¯å¤©ä¸Šè»Šé€¼çš„æ‚ éŠå¡ï¼Œä½ çš„å¡è™Ÿå°±è¢«è¨˜åœ¨æ”¿åºœçš„æ‚ éŠå¡SQL Databaseè£¡é¢ï¼Œåªè¦ä½ éºå¤±å¾Œï¼Œå°±æœƒæŠŠä½ çš„é‚£ç­†è³‡æ–™æ‹‰å‡ºä¾†ï¼Œæ¨™æ³¨å·²éºå¤±ã€‚æˆ–æ˜¯æœƒè¨ˆå¸«è€ƒè©¦å ±åæ™‚ï¼Œæœƒçµ¦ä½ ä¸€çµ„å‡†è€ƒè­‰è™Ÿç¢¼ï¼Œæ‰€ä»¥è€ƒè©¦é™¢çš„SQLè³‡æ–™åº«è£é¢ï¼Œä¹Ÿæœƒæœ‰é€™ç­†å‡†è€ƒè­‰çš„è³‡æ–™ï¼Œé€™ç­†è³‡æ–™åŒ…å«ä½ çš„èº«åˆ†è­‰ã€è€ƒè©¦æˆç¸¾ç­‰ç­‰ï¼Œåªè¦æ¶‰åŠè³‡æ–™å„²å­˜çš„éƒ¨åˆ†ï¼Œå…¶å¯¦èƒŒå¾Œéƒ½æœ‰è³‡æ–™åº«çš„å­˜åœ¨ï¼Œä¹ŸåŒ…å«ä½ çš„æ‰‹æ©Ÿè£¡é¢çš„é€šè¨ŠéŒ„ç­‰ç­‰ï¼Œè£¡é¢éƒ½æœ‰å°å‹çš„è³‡æ–™åº«åœ¨è£¡é¢è™•ç†ä½ çš„informationã€‚\nSQLçš„å¯¦ä½œ å¤šèªªç„¡ç›Šï¼Œæˆ‘å€‘å°±ç”¨ç·šä¸Šç‰ˆçš„SQLç·¨è¼¯å™¨ä¾†çœ‹çœ‹SQLæ˜¯æ€éº¼é‹ä½œçš„å§ï¼Œå»ºè­°é€™é‚Šé»é–‹æˆ‘ä¸Šé¢çš„HackMdï¼Œæˆ‘æœ‰ç”¨Gifçš„æ–¹å¼éŒ„å½±ä¸‹ä¾†ã€‚\nç·šä¸Šçš„SQLç·¨è¼¯å™¨ï¼šhttps://sqliteonline.com/\né»é€²å»å¾Œæœƒçœ‹åˆ°è£¡é¢é•·é€™å€‹æ¨£å­ï¼Œæ™‚é–“å¯¶è²´ï¼Œæˆ‘æŠŠå·¦é‚Šçš„æ¬„ä½è¬›ä¸€ä¸‹å°±å¥½ï¼Œå…¶å¯¦å·¦é‚Šå°±æ˜¯å„æ˜¯å„æ¨£çš„SQL Databaseï¼Œä¸åŒçš„Databaseéƒ½æœ‰ä¸€äº›ç‰¹æ€§\n SQLiteï¼šè¼•é‡åŒ–çš„SQLè³‡æ–™åº«ï¼Œå¸¸ç”¨æ–¼æ‰‹æ©Ÿç«¯ã€‚ MariaDBï¼šMySQLçš„ä½œè€…ç¨ç«‹å‡ºä¾†é–‹ç™¼çš„SQLè³‡æ–™åº« PostgreSQLï¼šä¹Ÿæ˜¯SQLè³‡æ–™åº« MSSQLï¼šå¾®è»Ÿé–‹ç™¼çš„SQLè³‡æ–™åº«ï¼Œæœƒæœ‰å¾®è»Ÿçš„å¥§æ´  ç•¶ç„¶ä¸åªé€™äº›ï¼Œåƒå¸¸è½åˆ°çš„Oracleï¼Œä¸åªæœ‰åšERPç³»çµ±ï¼Œå…¶å¯¦é‚„æœ‰åšSQLè³‡æ–™åº«ï¼Œç•¶ç„¶Oracleåšçš„ä¸æ­¢é€™äº›ã€‚è©±èªªå›ä¾†ï¼Œé€™äº›èªæ³•éƒ½å¤§åŒå°ç•°ï¼Œä½†ç‚ºäº†æ–¹ä¾¿å„ä½ï¼Œæˆ‘å€‘é€™æ¬¡å°±ç”¨SQLiteåšç¤ºç¯„ï¼Œå› ç‚ºé€™å€‹é é¢ä¸€é»é€²ä¾†å°±æ˜¯SQLiteäº†ã€‚\né€™å€‹ç´…è‰²æ¡†æ¡†çš„åœ°æ–¹å°±æ˜¯è®“æˆ‘å€‘æ‰“SQLèªæ³•çš„éƒ¨åˆ†ï¼Œæˆ‘å€‘å…ˆä¾†å‰µä¸€äº›è³‡æ–™å§ï¼ç§‰æŒè‘—èƒ½äº¤çµ¦åˆ¥äººåšçš„äº‹æƒ…çµ•å°ä¸è‡ªå·±ä¾†çš„åŸå‰‡ï¼Œé€™éƒ¨åˆ†æˆ‘å€‘è«‹ChatGPTä¾†å¹«æˆ‘å€‘å°±å¥½ï¼šï¼‰\nChatGPTç”¢ç”Ÿçš„èªæ³•å¦‚ä¸Šï¼Œé€™é‚Šå…ˆè¬›è§£ä¸€ä¸‹æœƒå‡ºç¾çš„åè©ä»£è¡¨çš„æ„æ€ï¼Œé¦–å…ˆ\n Tableï¼šè¿‘ä¼¼æ–¼Excelè£¡é¢çš„æ´»é è¡¨ï¼Œæ¯å€‹æ´»é è¡¨éƒ½æ‹¿ä¾†æè¿°ä¸åŒçš„æ±è¥¿ï¼Œæ¯”å¦‚èªªå­¸ç”Ÿé€™å¼µTableå°±æ˜¯æ‹¿ä¾†å­˜æ”¾è·Ÿå­¸ç”Ÿæœ‰é—œçš„è³‡æ–™ï¼Œæ¯”å¦‚èªªå§“åã€å­¸è™Ÿä¹‹é¡çš„æ±è¥¿ã€‚ DROPï¼šè¿‘ä¼¼æ–¼åˆªé™¤  1 2 3 4 5 6 7 8  CREATE TABLE Student ( Name TEXT,ã€€ClassTeacherName TEXT, StudentID INTEGER, ClassroomID INTEGER, Birthdate DATE, Subjects TEXT );   é€™æ¨£çš„èªæ³•ä»£è¡¨å‰µå»ºä¸€å¼µåç‚ºStudentçš„è¡¨æ ¼ï¼Œè£¡é¢è¦æœ‰\n åç‚ºNameçš„æ¬„ä½ï¼Œè³‡æ–™å‹åˆ¥æ˜¯æ–‡å­— åç‚ºClassTeacherNameçš„æ¬„ä½ï¼Œè³‡æ–™å‹åˆ¥æ˜¯æ–‡å­— åç‚ºStudentIDçš„æ¬„ä½ï¼Œè³‡æ–™å‹åˆ¥æ˜¯æ•¸å­— åç‚ºClassroomIDçš„æ¬„ä½ï¼Œè³‡æ–™å‹åˆ¥æ˜¯æ•¸å­— åç‚ºBirthdateçš„æ¬„ä½ï¼Œè³‡æ–™å‹åˆ¥æ˜¯DATE(æ—¥æœŸï¼Œäº¦å³åªèƒ½å­˜æ”¾æ—¥æœŸæ ¼å¼çš„æ±è¥¿) åç‚ºSubjectsçš„æ¬„ä½ï¼Œè³‡æ–™å‹åˆ¥æ˜¯æ–‡å­—  è³‡æ–™å‹åˆ¥ä»£è¡¨é€™å€‹æ¬„ä½åªèƒ½å­˜ä»€éº¼æ±è¥¿ï¼Œå¦‚æœè³‡æ–™å‹åˆ¥æ˜¯æ•¸å­—ï¼Œå°±ä»£è¡¨åªèƒ½å­˜åœ¨ç¾…é¦¬æ•¸å­—ï¼Œå¦‚æœè¼¸å…¥ å¤©æ°£ å°±æœƒå‡ºéŒ¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  -- å¦‚æœå·²ç¶“å­˜åœ¨é€™äº›è¡¨å°±åˆªé™¤ï¼Œç¢ºä¿æ¯æ¬¡éƒ½æ˜¯ç”¢ç”Ÿå…¨æ–°çš„Table DROP TABLE IF EXISTS demo; DROP TABLE IF EXISTS Student; DROP TABLE IF EXISTS Teacher; DROP TABLE IF EXISTS Classroom; DROP TABLE IF EXISTS SubjectTeacher; -- Create Student table CREATE TABLE Student ( Name TEXT, ClassTeacherName TEXT, StudentID INTEGER, ClassroomID INTEGER, Birthdate DATE, Subjects TEXT ); -- Create Teacher table CREATE TABLE Teacher ( Name TEXT, TeacherID INTEGER, ClassroomID INTEGER ); -- Create Classroom table CREATE TABLE Classroom ( ClassroomID INTEGER, ClassID INTEGER ); -- Create SubjectTeacher table CREATE TABLE SubjectTeacher ( Name TEXT, TeacherID INTEGER, Subject TEXT );   å®Œæˆå¾Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°æˆ‘å€‘çš„å·¦é‚Šå°±å‡ºç¾å¾ˆå¤šçš„æ±è¥¿ï¼Œå°±ä»£è¡¨æˆ‘å€‘æˆåŠŸå‰µå»ºäº†Tableå–”ï¼\nä½†æ­¤æ™‚Tableè£¡é¢çš„æ±è¥¿éƒ½æ˜¯ç©ºçš„ï¼Œæˆ‘å€‘è©¦è‘—å¡ä¸€äº›è³‡æ–™é€²å»Tableè£¡é¢å§ï¼Œé€™é‚Šå†æ¬¡é‚€è«‹æˆ‘å€‘çš„å‹æ¨¡ChatGPT\né€™é‚Šçš„INSERTå…¶å¯¦å°±æ˜¯æ–°å¢è³‡æ–™é€²å»çš„æ„æ€ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  -- Insert data into the Teacher table INSERT INTO Teacher (Name, TeacherID, ClassroomID) VALUES (\u0026#39;John Smith\u0026#39;, 1, 101); INSERT INTO Teacher (Name, TeacherID, ClassroomID) VALUES (\u0026#39;Jane Doe\u0026#39;, 2, 102); INSERT INTO Teacher (Name, TeacherID, ClassroomID) VALUES (\u0026#39;Bob Johnson\u0026#39;, 3, 103); -- Insert data into the Classroom table INSERT INTO Classroom (ClassroomID, ClassID) VALUES (101, 1); INSERT INTO Classroom (ClassroomID, ClassID) VALUES (102, 2); INSERT INTO Classroom (ClassroomID, ClassID) VALUES (103, 3); -- Insert data into the SubjectTeacher table INSERT INTO SubjectTeacher (Name, TeacherID, Subject) VALUES (\u0026#39;John Smith\u0026#39;, 1, \u0026#39;Math\u0026#39;); INSERT INTO SubjectTeacher (Name, TeacherID, Subject) VALUES (\u0026#39;Jane Doe\u0026#39;, 2, \u0026#39;Science\u0026#39;); INSERT INTO SubjectTeacher (Name, TeacherID, Subject) VALUES (\u0026#39;Bob Johnson\u0026#39;, 3, \u0026#39;English\u0026#39;); INSERT INTO SubjectTeacher (Name, TeacherID, Subject) VALUES (\u0026#39;Bob Johnson\u0026#39;, 3, \u0026#39;History\u0026#39;); -- Insert data into the Student table INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Alice Smith\u0026#39;, \u0026#39;John Smith\u0026#39;, 1, 101, \u0026#39;2000-01-01\u0026#39;, \u0026#39;Math, Science\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Bob Brown\u0026#39;, \u0026#39;John Smith\u0026#39;, 2, 101, \u0026#39;2001-01-01\u0026#39;, \u0026#39;Math, English\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Charlie Johnson\u0026#39;, \u0026#39;Jane Doe\u0026#39;, 3, 102, \u0026#39;2002-01-01\u0026#39;, \u0026#39;Science, History\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;David Wilson\u0026#39;, \u0026#39;Jane Doe\u0026#39;, 4, 102, \u0026#39;2003-01-01\u0026#39;, \u0026#39;Science, English\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Eve Davis\u0026#39;, \u0026#39;Bob Johnson\u0026#39;, 5, 103, \u0026#39;2004-01-01\u0026#39;, \u0026#39;English, History\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Frank Miller\u0026#39;, \u0026#39;John Smith\u0026#39;, 6, 101, \u0026#39;2005-01-01\u0026#39;, \u0026#39;Math\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Gary Moore\u0026#39;, \u0026#39;Jane Doe\u0026#39;, 7, 102, \u0026#39;2006-01-01\u0026#39;, \u0026#39;Science\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Helen Anderson\u0026#39;, \u0026#39;Bob Johnson\u0026#39;, 8, 103, \u0026#39;2007-01-01\u0026#39;, \u0026#39;English, History\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;Irene Thomas\u0026#39;, \u0026#39;John Smith\u0026#39;, 9, 101, \u0026#39;2008-01-01\u0026#39;, \u0026#39;Math, Science\u0026#39;); INSERT INTO Student (Name, ClassTeacherName, StudentID, ClassroomID, Birthdate, Subjects) VALUES (\u0026#39;James Hernandez\u0026#39;, \u0026#39;Jane Doe\u0026#39;, 10, 102, \u0026#39;2009-01-01\u0026#39;, \u0026#39;Science, English\u0026#39;);   å®Œæˆå¾Œï¼Œåœ¨Tableä¸Šé¢é»é¸å³éµï¼Œé¸æ“‡SELECTå³å¯é€™å¼µè¡¨çš„æ‰€æœ‰å±¬æ€§å–” ï¼\n æ•™å®¤Table   å­¸ç”ŸTable é€™é‚Šä¹Ÿé•åè³‡æ–™åº«æ­£è¦åŒ–ï¼Œä¸€å€‹æ‡‰è©²åªå¡ä¸€ç­†è³‡æ–™çš„åŸå‰‡ï¼Œæˆ‘çš„subjectå¡äº†è¤‡æ•¸ç­†è³‡æ–™ï¼Œä½†å–®ç´”Demoè€Œå·²ï¼Œæœ‰é»æ‡¶å¾—æ”¹äº†    ç§‘ä»»è€å¸«Table  è€å¸«Table\n  SQLèªæ³•çš„ä»‹ç´¹ æˆ‘å€‘ä¸€æ¨£åœ¨æ¡†æ¡†è£¡é¢æ“ä½œ\n1  SELECT * FROM Teacher   é€™å€‹èªæ³•çš„æ„æ€å°±æ˜¯ SELECTé¸æ“‡ *å…¨éƒ¨æ¬„ä½ FROMä¾†è‡ª Teacheré€™å¼µè¡¨ï¼Œç¿»æˆç™½è©±æ–‡çš„æ„æ€å°±æ˜¯ï¼Œå¹«æˆ‘é¸å‡ºTeacheré€™å¼µè¡¨çš„å…¨éƒ¨å…§å®¹ï¼Œç•¶ç„¶æˆ‘å€‘ä¹Ÿå¯ä»¥å†è¤‡é›œä¸€é»ï¼Œæ¯”å¦‚èªª\n1  SELECT * FROM Teacher WHERE teacherid = 2   ä¹Ÿå°±æ˜¯å¾Teacheré€™å¼µè¡¨è£¡é¢é¸å‡ºTeacherIdç‚º2çš„æ¬„ä½\n1  SELECT * FROM Student WHERE subjects LIKE \u0026#39;%Math%\u0026#39;   ç•¶ç„¶æˆ‘å€‘å†è¤‡é›œä¸€é»é»ï¼Œé€™å€‹èªæ³•æœƒæ‰¾å‡ºæ‰€æœ‰åœ¨Studenté€™å¼µTableè£¡é¢subjectsæ¬„ä½è£¡æœ‰Mathçš„å­¸ç”Ÿï¼Œè½èµ·ä¾†æœ‰é»ç¹å£å°å§XDï¼Œæ¥è‘—æˆ‘å€‘å°±æŠŠé€™äº›èªæ³•çµ„åˆèµ·ä¾†ï¼Œè©¦è‘—æ‰¾çœ‹çœ‹\n1 2 3 4  SELECT Student.* FROM Student JOIN SubjectTeacher ON Student.ClassTeacherName = SubjectTeacher.Name WHERE Birthdate BETWEEN \u0026#39;2001-01-01\u0026#39; AND \u0026#39;2005-12-31\u0026#39; AND SubjectTeacher.Subject = \u0026#39;Math\u0026#39;   æˆ‘å€‘å†è¤‡é›œä¸€é»é»é»é»ï¼Œæˆ‘å€‘æƒ³æ‰¾å‡ºæ‰€æœ‰åœ¨2001å¹´è‡³2005å¹´å‡ºç”Ÿï¼Œä¸¦ä¸”æœ‰ä¿®Mathçš„å­¸ç”Ÿï¼Œçœ‹åˆ°é€™é‚Šé€™å€‹èªæ³•å¤§å®¶æ˜¯ä¸æ˜¯æœ‰é»æ„Ÿè¦ºäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒæˆ‘å€‘å»æ’ˆè³‡æ–™å¸¸å¸¸ç”¨åˆ°çš„ï¼Œè¦æ’ˆç™¼ç”Ÿåœ¨æœ¬å¹´åº¦çš„100018æ‡‰ä»˜å¸³æ¬¾å…¨éƒ¨è³‡æ–™XDã€‚å…¶å¯¦èƒŒå¾Œçš„SQLèªæ³•å°±åƒé€™æ¨£å­ã€‚\nç•¶ç„¶å¯¦éš›ä¸Šçš„æƒ…æ³SQLèªæ³•é‚„æœƒæ›´è¤‡é›œä¸€é»ï¼Œå› ç‚ºé€™äº›é€™æ˜¯é—œè¯å¼è³‡æ–™åº«ï¼Œå½¼æ­¤é–“å¯èƒ½å¯ä»¥é—œè¯åˆ°å¾ˆé å¾ˆé çš„Tableï¼Œåªæ˜¯ç‚ºäº†åšç§‘æ™®è€Œå·²å°±ä¸å¼„å¾—é‚£éº¼è¤‡é›œäº†ã€‚å¦å¤–SQL Syntax(èªæ³•)ä¹Ÿä¸åªSELECTï¼Œå¸¸è¦‹çš„é‚„æœ‰UPDATA, DELETE, CREATEç­‰ç­‰ï¼Œåªæ˜¯é€™äº›å¯©è¨ˆäººå“¡ä¸€èˆ¬ä¸æœƒç¢°åˆ°ã€‚\nçµèª å…¶å¯¦æ²’å•¥æƒ³è¬›çš„ï¼Œåªæ˜¯è¦ºå¾—å¾ˆé–’è€Œå·²ï¼Œæƒ³èªªè¶å¹´å‡æ™‚å¾ŒæŠŠæƒ³å¯«çš„æ±è¥¿å¯«ä¸€å¯«ï¼Œé †ä¾¿ä¹Ÿç•¶ç§‘æ™®ä¸€æ¨£ï¼Œæ„Ÿè¦ºæœƒè¨ˆé€™å€‹åœˆå­å¥½åƒå¾ˆå°‘äººåœ¨å¯«ç§‘æ™®æˆ–æ˜¯çŸ¥è­˜ä»‹ç´¹çš„æ±è¥¿ï¼Œå°±èŠ±å€‹ä¸€å…©å€‹å°æ™‚çš„æ™‚é–“å¯«ä¸€ä¸‹ï¼Œå¦‚æœå°SQLæœ‰èˆˆè¶£çš„è©±ï¼Œå¯ä»¥å»è¼‰ä¾†ç©çœ‹çœ‹\n MySQLï¼šå…¨è‹±ä»‹é¢ï¼Œä¸€é–‹å§‹å¯èƒ½ä¸å¤ªå‹å¥½ï¼Œä½†ç¶²è·¯ä¸Šè³‡æºæœ€å¤š MSSQLï¼šå¾®è»Ÿçš„SQLï¼Œæœ‰ä¸­æ–‡ä»‹é¢ï¼Œä½†ç¶²è·¯ä¸Šè³‡æºç›¸å°è¼ƒå°‘ï¼Œå…¶å¯¦SQLçš„èªæ³•éƒ½å¤§åŒå°ç•°ï¼Œä½†å…¶å¯¦é‚„æ˜¯æœ‰ä¸€äº›ä¸åŒè™• PostgreSQLï¼šé€šå¸¸ä¸æœƒç”¨é€™å€‹å…¥é–€ï¼Œæˆ‘å€‹äººè¦ºå¾—å®ƒGUIçš„ä»‹é¢å¾ˆçˆ›ï¼Œæˆ‘ç”¨é€™å€‹çš„è©±é€šå¸¸éƒ½æ˜¯ç”¨Terminal SQLiteï¼šä¸å¤ªæ¨è–¦ï¼Œå› ç‚ºé€™ç®—æ˜¯è¼•é‡åŒ–ç‰ˆçš„ï¼Œæœ‰å¾ˆå¤šè³‡æ–™å‹åˆ¥æ˜¯ç‰¹è¦çš„ã€‚  æˆ‘æ–‡ç« å¸¸æåˆ°çš„è³‡æ–™åº«æ­£è¦åŒ–ä»‹ç´¹å¦‚ä¸‹\nhttps://ithelp.ithome.com.tw/articles/10229472\nå¿™å­£åŠ æ²¹ï¼å‚µè¦‹\n","date":"2023-01-26T17:50:33+08:00","image":"https://i.imgur.com/6aiiDXi.png","permalink":"https://hoxtoncraft.com/p/oraclesap%E9%BC%8E%E6%96%B0%E6%B7%BA%E8%AB%87%E9%80%99%E4%BA%9Berp%E8%83%8C%E5%BE%8C%E7%9A%84%E6%98%AF%E4%BB%80%E9%BA%BC-sql%E8%B3%87%E6%96%99%E5%BA%AB/","title":"Oracle?SAP?é¼æ–°?æ·ºè«‡é€™äº›ERPèƒŒå¾Œçš„æ˜¯ä»€éº¼-SQLè³‡æ–™åº«"},{"content":"æƒ³è¬›ä¸€äº›å¯¦ç”¨çš„ï¼Œä½†å»å¾ˆå°‘äººçŸ¥é“çš„ä¸€äº›é›»è…¦ä½¿ç”¨çš„åŠŸèƒ½ï¼ŒçŸ¥é“é€™äº›å°åšåº•ç¨¿ã€ç¿»æ†‘è­‰ä¸æœƒæœ‰å¤ªå¤§çš„å¹«åŠ©ï¼Œä½†æœƒç”¨çš„è©±æˆ‘å€‹äººè¦ºå¾—å¯ä»¥ç¯€çœå¾ˆå¤šæ™‚é–“ï¼Œä¾›å¤§å®¶åƒè€ƒã€‚\nå¿«é€Ÿé—œæ©Ÿ window+Dï¼šå›åˆ°æ¡Œé¢\nåœ¨æ¡Œé¢Alt+F4å³å¯è·³å‡ºé—œæ©Ÿé¸é …\nè¨˜å¾—ç•¶åˆåœ¨å¤–å‹¤çš„æ™‚å€™ï¼Œåªè¦çµ„é•·èªªæ’¤çš„æ™‚å€™æˆ‘å°±æœƒç”¨æœ€å¿«çš„é€Ÿåº¦é—œæ©ŸXDï¼Œé‚£æ™‚å€™åŒäº‹éƒ½å•æˆ‘æ€éº¼ç”¨çš„ï¼Œé€™å°±æ˜¯è¨£ç«…ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥é¸æ“‡é‡æ–°å•Ÿå‹•æˆ–ä¼‘çœ ï¼Œçœ‹è‡ªå·±å–œå¥½æ±ºå®šã€‚\næˆªåœ– window+shift+s\né€™å€‹æ‡‰è©²æœ€åŸºæœ¬ï¼Œåœ¨Window10ä»¥ä¸Šçš„ç³»çµ±å¯ä»¥é€éé€™å€‹shortcutä¾†æ‰“é–‹æˆªåœ–è¦–çª—ï¼Œå°±æ‹¿ä¾†è²¼åœ–ç‰‡çµ¦çµ„é•·ï¼Œè·Ÿçµ„é•·èªªæˆ‘å“ªé‚Šä¸æœƒQQ\nå¿«é€Ÿæ‰“é–‹Excel, Word, è¨˜äº‹æœ¬, å°ç•«å®¶,è¨ˆç®—æ©Ÿ\u0026hellip; Window+Rï¼šè·³å‡ºåŸ·è¡Œé¸é …\nåœ¨è£¡é¢è¼¸å…¥ä»¥ä¸‹çš„å…§å®¹å·²æ‰“é–‹ä¸åŒçš„Application\nmspaintï¼šæ‰“é–‹å°ç•«å®¶\nnotepadï¼šè¨˜äº‹æœ¬\nwinwordï¼šword\nexcelï¼šexcel\nè¨ˆç®—æ©Ÿï¼šcalc\nå¿«é€Ÿæ‰“é–‹å·¥ä½œåˆ—çš„æ‡‰ç”¨ç¨‹å¼ window+1\nå¯ä»¥æ‰“é–‹å·¥ä½œåˆ—çš„ç¬¬ä¸€å€‹æ‡‰ç”¨\nwindow+2\nå¯ä»¥æ‰“é–‹å·¥ä½œåˆ—çš„ç¬¬äºŒå€‹æ‡‰ç”¨ï¼Œä»¥æ­¤é¡æ¨\u0026hellip;\né€™å€‹æŒ‡ä»¤æˆ‘å¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨ä¾†é–‹Chromeï¼Œæˆ–æ˜¯Excelä¹‹é¡çš„æ±è¥¿\nç€è¦½å™¨å¿«é€Ÿé¸æ“‡æœå°‹åˆ— æ‰“é–‹Chrormå¾Œï¼Œæ‰“alt+Då°±å¯ä»¥å®šä½åˆ°æœå°‹åˆ—ï¼Œä¸¦ä¸”åœ¨é€™é‚ŠæŒ‰Ctrl+1,2,3\u0026hellip;å³å¯åˆ‡æ›è‡³ä¸åŒçš„é é¢ï¼Œé€šå¸¸æ˜¯æˆ‘æ‹¿ä¾†æ‰“æ··æ‘¸é­šçš„æ™‚å€™ç”¨çš„ï¼ŒCtrl+Tå‰‡å¯ä»¥æ‰“é–‹æ–°çš„åˆ†é ï¼Œæ‰€ä»¥å…©å€‹å’Œå†ä¸€èµ·å°±æ˜¯ï¼Œé–‹å•Ÿä¸€å€‹æ–°åˆ†é ä¸¦æœå°‹ï¼Œå¦‚æœæ—é‚Šæœ‰äººéä¾†å°±ç«‹åˆ»Ctrl+wé—œé–‰ç•¶å‰é é¢ï¼Œé¿å…æ‘¸é­šè¢«æŠ“åŒ…ã€‚\n","date":"2023-01-26T00:31:43+08:00","image":"https://i.imgur.com/Ln2xqzT.png","permalink":"https://hoxtoncraft.com/p/%E6%B7%BA%E8%AB%87%E4%B8%80%E4%BA%9B%E5%AF%A6%E7%94%A8%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%8D%B5/","title":"æ·ºè«‡ä¸€äº›å¯¦ç”¨çš„å¿«æ·éµ"},{"content":"å‰è¨€ å¹´å‡å›è€å®¶å¯¦åœ¨æ˜¯å¤ªç„¡èŠäº†ï¼Œæƒ³æŠŠé€™å¹¾å¹´å­¸åˆ°çš„æ±è¥¿åˆ†äº«ä¸€ä¸‹ï¼Œå¸Œæœ›å¯ä»¥å¹«åŠ©ä¸€äº›è˜è˜å­¸å­ï¼Œèƒ½ç”¨æ›´æœ‰æ•ˆç‡çš„æ–¹å¼ä¾†æ•´ç†ç­†è¨˜ã€‚\nè¨˜å¾—å¤§äºŒæˆ–æ˜¯å¤§ä¸‰çš„æ™‚å€™å¾ˆæ²‰è¿·æ–¼ä½œç­†è¨˜é€™ä»¶äº‹æƒ…ï¼Œæœ€å–œæ­¡åšçš„äº‹æƒ…ï¼Œå°±æ˜¯ç”¨ä¸€å…©å€‹ä¸‹åˆæŠŠé‚£å€‹ç¦®æ‹œæ‰€ä¸Šçš„æˆæœƒæˆ–æ˜¯ä¸­æœƒæ•´ç†æˆç­†è¨˜ï¼Œä»¥åˆ©å¾Œé¢çš„è¤‡ç¿’ã€‚ä¸å¾—ä¸èªªç•¶æ™‚é€™æ¨£åšçš„å›é¥‹é‚„ä¸éŒ¯ï¼Œç•¶æ™‚ä¸­æœƒè·Ÿæˆæœƒçš„æˆç¸¾éƒ½é‚„ç®—ä¸éŒ¯ã€‚\nï¼ˆç•¶æ™‚å¾ˆèªçœŸçš„ç­†è¨˜ï¼‰\nç´™æœ¬ç­†è¨˜çš„ç¼ºé» é€™æ¨£çš„ç­†è¨˜åœ¨ç•¶æ™‚æ‡‰ä»˜æœŸä¸­è€ƒæœŸæœ«è€ƒé‚„è¡Œï¼Œå› ç‚ºé€™äº›ç­†è¨˜å¯èƒ½éƒ½æ˜¯ä¸€å…©å€‹æœˆå¯«çš„ï¼Œéƒ½é‚„ç®—æœ‰å°è±¡ï¼Œä½†æ˜¯ç•¶æˆ‘æº–å‚™ç ”ç©¶æ‰€çš„æ™‚å€™å°±ç™¼ç¾å¹¾å€‹å•é¡Œäº†ï¼Œé¦–å…ˆ\n é›£ä»¥æœå°‹ï¼šé¢å°æµ·é‡çš„è³‡æ–™ï¼Œæˆ‘å¾ˆé›£åœ¨ç¬¬ä¸€æ™‚é–“æ‰¾åˆ°æˆ‘éœ€è¦çš„è³‡è¨Šï¼Œæ¯”å¦‚èªªæˆ‘æƒ³è¦æ‰¾ä¸€å€‹åˆ©æ¯è³‡æœ¬åŒ–çš„å®šç¾©ï¼Œä»¥åŠå®ƒçš„ç´°é …ï¼Œæˆ‘é™¤éå‰ä¸€é™£å­å‰›å¯«ï¼Œæˆ–æ˜¯æˆ‘ç‰ˆé¢çœŸçš„å¯«å¾—å¾ˆå¥½ï¼Œä¸ç„¶æˆ‘ä¸èƒ½ç¬¬ä¸€æ™‚é–“çš„æ‰¾åˆ°æˆ‘æƒ³è¦çš„è³‡è¨Šã€‚æ¯”å¦‚èªªç¨…æ³•çš„éƒ¨åˆ†å°±åˆ†æˆå¾ˆå¤šå¡Šï¼Œæ¯”å¦‚èªªéºç”¢ç¨…è´ˆèˆ‡ç¨…ç­‰ç­‰çš„ï¼Œæ•¸é‡çœŸçš„å¤ªå¤šï¼Œä¸”ç¨…ç‡ä¹Ÿé¡ä¼¼ï¼Œå¸¸å¸¸æ‰¾ä¸åˆ°è‡ªå·±æƒ³è¦çš„åœ°æ–¹ã€‚ é›£ä»¥æ“´å……ï¼šç´™è³ªçš„ç­†è¨˜ä¸€æ—¦å¯«ä¸‹å»ä¹‹å¾Œå°±é›£ä»¥ä¿®æ”¹ï¼Œç„¡æ³•æ»¿è¶³æˆ‘è¶Šä¾†è¶Šå¤šçš„çŸ¥è­˜ç©ç´¯ï¼Œæ¯”å¦‚èªªå¤§å®¶éƒ½çŸ¥é“çš„é‡‘èè³‡ç”¢é‚£ä¸€å€‹ç« ç¯€ï¼Œå¯èƒ½å…‰ä¸€å€‹ç¯„ä¾‹å°±å¯ä»¥å¯«å€‹2,30å€‹ä¹Ÿä¸ç‚ºéï¼Œæ¯å€‹ç¯„ä¾‹å¯èƒ½éƒ½æœ‰ä¸€äº›ç´°ç¯€è¦æŠ„é€²ç­†è¨˜è£¡é¢ï¼Œé€™æ¨£æ—¥ç©æœˆç´¯ä¸‹å»ï¼Œé‚£ä¸€é çš„ç­†è¨˜è¶Šè¨˜è¶Šå¤šã€è¶Šå¯«è¶Šäº‚ä¸æ˜“é–±è®€ã€‚ è€—æ™‚ï¼šè€—æ™‚æ˜¯æœ€å¤§çš„å•é¡Œï¼Œä¸€é çš„ç­†è¨˜æˆ‘å¯èƒ½éœ€è¦å¯«å€‹åŠå°æ™‚ï¼Œé›–ç„¶èªªå¯«çš„ç•¶ä¸‹å…¶å¯¦å°±è¨˜å¾—å¾ˆæ¸…æ¥šäº†ï¼Œä½†æ˜¯å»éå¸¸çš„æ¶ˆè€—æ™‚é–“ï¼Œå¾€å¾€åšå®Œé€™äº›ç­†è¨˜æˆ‘çš„å‡æ—¥å°±é€™æ¨£æ²’äº†ï¼Œå¯¦åœ¨æ˜¯ä¸å¤ªè¡Œï¼Œä¸”æ‰‹å¯«ç­†è¨˜éå¸¸åƒæ‰‹å¯«çš„å“è³ªï¼Œå¦‚æœå¿ƒä¸€æ—¦äº‚èµ·ä¾†ï¼Œäº‚å¯«ä¸€é€šï¼Œé‚£é€™ç­†è¨˜åŸºæœ¬ä¸Šé–±è®€ä¸èƒ½ï¼Œåªæ˜¯å¯«çµ¦ç•¶æ™‚çš„è‡ªå·±çœ‹çš„ï¼Œä¸åˆ©æ—¥å¾Œæº–å‚™ç ”ç©¶æ‰€æˆ–æ˜¯æœƒè¨ˆå¸«è€ƒè©¦ã€‚  é›–ç„¶1ã€2çš„å•é¡Œéƒ½å¯ä»¥é€éIpadçš„æ‰‹å¯«ç­†è¨˜ä¾†è§£æ±ºä¸€äº›å•é¡Œï¼Œä½†æœ€å¤§çš„å•é¡Œå°±æ˜¯ç¬¬3é»ï¼Œç•¶æ™‚æœ‰å˜—è©¦éå¾ˆå¤šæ–¹å¼ï¼Œæ¯”å¦‚èªªç”¨excelä¾†è¨˜ç­†è¨˜(ä½†å„²å­˜æ ¼ä¸æ–¹ä¾¿ä¿®æ”¹èˆ‡æ“´å……)ï¼Œæˆ–æ˜¯ç”¨wordä¾†å¯«ï¼Œä½†wordçœŸçš„éå¸¸ä¸é©åˆæ‹¿ä¾†å¯«ç­†è¨˜ï¼Œé¦–å…ˆï¼Œworkæœ¬èº«æ˜¯ä¸æ”¯æ´ä½ æ‰“å‡ºé¡ä¼¼åˆ†éŒ„æ ¼å¼çš„æ±è¥¿çš„ï¼Œå°±ç®—å¯ä»¥ï¼Œé‚£å€‹ä»£åƒ¹æˆ‘è¨˜å¾—ä¹Ÿå¾ˆå¤§ï¼Œå…¶æ¬¡ï¼Œå…‰æ˜¯æ ¼å¼çš„éƒ¨åˆ†å¯èƒ½å°±è¦è¨­å®šå€‹è€åŠå¤©ï¼Œå†åŠ ä¸Šåœ¨å¯«ç­†è¨˜çš„é€”ä¸­é‚„éœ€è¦ç§»å‹•æ»‘é¼ å»èª¿æ•´ç¾åœ¨æƒ³è¦çš„æ˜¯\n      æˆ–æ˜¯\n       é€™æ¨£çš„æ ¼å¼çœŸçš„æœ‰é»æ‰“æ–·æ€ç·’ã€‚\nå› æ­¤æˆ‘çš„éœ€æ±‚æ˜¯é€™æ¨£\n æ–¹ä¾¿æ’°å¯«ï¼Œå¸Œæœ›ä¸éœ€è¦å»åˆ‡ä»€éº¼æ ¼å¼ æ”¯æ´åœ–ç‰‡ä¸Šå‚³ï¼Œå¯ä»¥è®“æˆ‘å‚³åœ–ç‰‡ä¸Šå»ï¼Œå¯èƒ½æœ‰äº›ç¯„ä¾‹æˆ–æ˜¯è€å¸«åœ¨é»‘æ¿ä¸Šç•«çš„æ±è¥¿ï¼Œéœ€è¦åšæˆç­†è¨˜ä¾†çœ‹ è¦å¯ä»¥è®“æˆ‘æ‰“é¡ä¼¼åˆ†éŒ„çš„æ±è¥¿  å¾Œä¾†å‡ºç¤¾æœƒå·¥ä½œå¾Œï¼Œæ¥è§¸åˆ°Markdowné€™å€‹æ±è¥¿çœŸçš„é©šç‚ºå¤©äººï¼Œä¸¦ä¸”æ˜¯æœ‰ä¸€é»ç›¸è¦‹æ¨æ™šï¼Œå¦‚æœåœ¨å­¸æœŸé–“çŸ¥é“é€™å€‹æ±è¥¿çš„è©±åšç­†è¨˜æ‡‰è©²æœƒæ›´é«˜æ•ˆå¿«é€Ÿä¸€é»ã€‚é¦–å…ˆå…ˆä¾†ä»‹ç´¹ä¸€ä¸‹Markdownæ˜¯ä»€éº¼å§\nMarkdownä»‹ç´¹ Markdown æ˜¯ç›®å‰éå¸¸æ™®éç”¨ä¾†æ’°å¯«æ–‡æª”çš„èªè¨€ï¼Œä¸€é–‹å§‹çš„ç›®æ¨™å°±æ˜¯ä½¿ç”¨ã€Œæ˜“è®€æ˜“å¯«çš„ç´”æ–‡å­—æ ¼å¼ç·¨å¯«æ–‡ä»¶ã€ï¼Œæ­¤åˆè¡·è®“ä½¿ç”¨è€…å¯ä»¥å°ˆæ³¨åœ¨æ–‡å­—çš„æœ¬èº«ï¼Œè€Œä¸éœ€è¦é€éå…¶å®ƒå·¥å…·ä¾†åˆ‡æ›æ ¼å¼ã€‚ä»¥ Word æ’°å¯«æ–‡æª”ä¾†èªªï¼Œå°±å¿…é ˆé€éä¸Šæ–¹çš„å·¥å…·åˆ—ä¾†åˆ‡æ›æ¨™é¡Œã€åˆ—è¡¨ã€ç²—é«”ã€æ–œé«”ç­‰ç­‰ï¼›è€Œ Markdown ä¸¦æ²’æœ‰é€™æ¨£çš„å·¥å…·åˆ—ï¼Œå®Œå…¨éƒ½æ˜¯ä½¿ç”¨æ¨™ç¤ºç¬¦è™Ÿä¾†å®Œæˆé€™äº›éœ€æ±‚ã€‚\nMarkdownæ˜¯ä¸€ç¨®è¼•é‡ç´šæ¨™è¨˜å¼èªè¨€ï¼Œå‰µå§‹äººç‚ºç´„ç¿°Â·æ ¼é­¯ä¼¯ã€‚å®ƒå…è¨±äººå€‘ä½¿ç”¨æ˜“è®€æ˜“å¯«çš„ç´”æ–‡å­—æ ¼å¼ç·¨å¯«æ–‡ä»¶\nç”±æ–¼Markdownçš„è¼•é‡åŒ–ã€æ˜“è®€æ˜“å¯«ç‰¹æ€§ï¼Œä¸¦ä¸”å°æ–¼åœ–ç‰‡ï¼Œåœ–è¡¨ã€æ•¸å­¸å¼éƒ½æœ‰æ”¯æ´ï¼Œç›®å‰è¨±å¤šç¶²ç«™éƒ½å»£æ³›ä½¿ç”¨Markdownä¾†æ’°å¯«èªªæ˜æ–‡ä»¶æˆ–æ˜¯ç”¨æ–¼è«–å£‡ä¸Šç™¼è¡¨è¨Šæ¯ã€‚å¦‚GitHubã€Redditã€Discordã€Diasporaã€Stack Exchangeã€OpenStreetMap ã€SourceForgeã€ç°¡æ›¸ç­‰ï¼Œç”šè‡³é‚„èƒ½è¢«ç”¨ä¾†æ’°å¯«é›»å­æ›¸ã€‚\nåƒè€ƒè‡ªç¶­åŸºç™¾ç§‘ä»¥åŠhttps://www.casper.tw/development/2019/11/23/ten-mins-learn-markdown/\nå…ˆä¾†çœ‹çœ‹å¦‚æœæˆ‘æŠŠæœƒè¨ˆçš„ç­†è¨˜è½‰æˆMarkdownçš„è©±çœ‹èµ·ä¾†æœƒæ˜¯æ€éº¼æ¨£å§ï¼Œå› ç‚ºDcardä¸æ”¯æ´markdownï¼Œå¯ä»¥é»é€™é‚Šé è¦½çœ‹çœ‹\nhttps://hackmd.io/@Celeast/ryyXXyosi\nç¬¬ä¸ƒç«  å½ˆæ€§é ç®—ã€ç›´æ¥æˆæœ¬èˆ‡ç®¡ç†æœƒè¨ˆ æœ¬ç« å­¸ç¿’é‡é»\n äº†è§£å„å·®ç•°çš„å·®ç•° åŸºæ–¼å·®ç•°åˆ†ææ‰€åšçš„æ±ºç­–åˆ¤æ–·  åè©å®šç¾©\n éœæ…‹é ç®—(Static Budget)ï¼šåœ¨é ç®—æœŸé–“é–‹å§‹æ™‚ï¼ŒåŸºæ–¼é è¨ˆç”¢å‡ºæ°´æº–æ‰€åšçš„é ç®—æ‰€åšçš„é ç®— éœæ…‹é ç®—å·®ç•°ï¼šåœ¨éœæ…‹é ç®—ä¸­ï¼Œå¯¦éš›çµæœèˆ‡é æœŸæ•¸ä¹‹é–“çš„å·®ç•° å½ˆæ€§é ç®—(Flexible Budget)ï¼šé ç®—æœŸé–“å…§æŒ‰å¯¦éš›ç”¢å‡ºæ°´æº–è¨ˆç®—å‡ºé ç®—æ”¶å…¥èˆ‡é ç®—æˆæœ¬ä¹‹é ç®—  ï¼\nï¼\nï¼\n1 2 3 4  flowchart LR B[å¯¦éš›æŠ•å…¥æ•¸é‡xå¯¦éš›åƒ¹æ ¼] \u0026lt;--åƒ¹æ ¼å·®ç•°--\u0026gt; å¯¦éš›æŠ•å…¥æ•¸é‡xé ç®—åƒ¹æ ¼ \u0026lt;--æ•ˆç‡å·®ç•°--\u0026gt; C[å¯¦éš›ç”¢å‡ºä¸‹æ‰€å…è¨±ä¹‹é ç®—æŠ•å…¥xé ç®—åƒ¹æ ¼] B \u0026lt;--å½ˆæ€§é ç®—å·®ç•°--\u0026gt;C       è®Šå‹• æ­¸ç´ è©•è«–     å›ºå®šåˆ¶é€ æˆæœ¬å¯ä»¥åšç‚ºå­˜è²¨æˆæœ¬å—? ä¸å¯ å¯ä»¥ åŸºæœ¬å•é¡Œ   æœ‰ç”Ÿç”¢æ•¸é‡å·®ç•°å—? æ²’æœ‰ æœ‰ å°åŸºæº–ç”¢èƒ½æ°´æº–çš„é¸æ“‡ï¼Œåªåœ¨æ­¸ç´æˆæœ¬æ³•ä¸‹å½±éŸ¿ç‡Ÿæ¥­åˆ©ç›Šçš„è¡¡é‡     åˆ†éŒ„   åŸæ–™\t10,000\nâ€‹\tæ‡‰ä»˜å¸³æ¬¾\t10,000\n  åœ¨è£½å“\t30,000\nè£½é€ è²»ç”¨ 1,000\nâ€‹\tåŸæ–™\t31,000\n  ç”¢æˆå“\t50,000\nâ€‹\tåœ¨è£½å“\t50,000\n èª²å ‚ç¯„ä¾‹ï¼š\nï¼­arkdownèªæ³•ä»‹ç´¹ ä¸Šé¢æ˜¯æˆ‘æŠŠæˆ‘çš„æœƒè¨ˆç­†è¨˜è½‰æˆMarkdownæ ¼å¼ï¼Œå¯ä»¥çœ‹åˆ°Markdownæ”¯æ´äº†å¹¾é»\n åˆ—è¡¨å¼çš„æ¸…å–® ç”¨ä¾†èˆ‰ä¾‹çš„é»‘é» é‡é»çš„é†’ç›®æç¤º åˆ†å±¤å¼çš„æ¨™é¡Œï¼Œæ¨™å‡ºç« ç¯€é‡é» æ”¯æ´è¡¨æ ¼(æ³¨ï¼šmarkdownçš„è¡¨æ ¼èªæ³•éå¸¸åæ™ºï¼Œé€šå¸¸æˆ‘éƒ½æ˜¯ç”¨å¿«æ·éµç”Ÿæˆ) æ”¯æ´æµç¨‹åœ–çš„ç¹ªè£½ æ”¯æ´æ•¸å­¸å¼(é€™é‚Šæ²’æœ‰ç¤ºç¯„åˆ°ï¼Œä¸éMarkdownæ˜¯æœ‰æ”¯æ´é«˜ç­‰æ•¸å­¸çš„é‹ç®—å¼çš„) æ”¯æ´åœ–ç‰‡ä¸Šå‚³ï¼Œå¯ä»¥è®“æˆ‘æŠŠç‰ˆæ›¸æˆ–æ˜¯é¡Œç›®ç›´æ¥è²¼ä¸Šå»  æ¥ä¸‹ä¾†å¸¶å¤§å®¶èªè­˜ä¸€ä¸‹Markdownçš„ä¸€äº›èªæ³•\né¦–å…ˆæ˜¯æ¨™é¡Œçš„èªæ³•ï¼Œè¼¸å…¥#å†åŠ ä¸Šä¸€å€‹ç©ºæ ¼æœƒç”¢ç”Ÿæ¨™é¡Œï¼Œå°±åƒç¾åœ¨é€™æ¨£\nåœ¨æ–‡å­—å‰åŠ ä¸Š1. 2. 3. å‰‡æœƒè®Šæˆåˆ—è¡¨\næ–‡å­—ä¹‹é–“åŠ ä¸Š**å‰‡å¯é‡é»é†’ç›®\nåœ¨æ–‡å­—å‰åŠ ä¸Š+å‰‡æœƒè®Šæˆé»‘é»\nåœ¨æ–‡å­—å‰åŠ ä¸Š\u0026gt;å‰‡å¯åšç‚ºè£œå……èªªæ˜ï¼Œæˆ‘å°±æ˜¯ç”¨é€™å€‹èªæ³•ä¾†å¯«åˆ†éŒ„çš„\né¡¯ç¤ºåœ–ç‰‡çš„èªæ³•å‰‡æ˜¯é€™æ¨£\nè£¡é¢çš„å…§å®¹å¡«ä¸Šè‡ªå·±çš„åœ–ç‰‡é€£çµå°±å¯ä»¥äº†ï¼Œå¦‚ä½•æŠŠåœ–ç‰‡ä¸Šå‚³ä¸Šå»æˆ‘å¾Œé¢æœƒèªªã€‚\nMarkdownçš„èªæ³•é‚„æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œä¸åªæœ‰æˆ‘ä¸Šé¢æåˆ°çš„é€™äº›ï¼Œæœ‰èˆˆè¶£çš„åŒå­¸å¯ä»¥åƒè€ƒé€™é‚Š\nhttps://www.casper.tw/development/2019/11/23/ten-mins-learn-markdown/\næˆ‘è©²æ€éº¼å¯«Markdownå‘¢ï¼Ÿ markdownæ˜¯å·¥ç¨‹å¸«è »å¸¸æœƒæ¥è§¸åˆ°ä¸€å€‹æ¨™ç±¤å¼èªè¨€ï¼Œå¦‚æœä½ é–‹å¿ƒçš„è©±ç”¨è¨˜äº‹æœ¬ä¹Ÿæ˜¯å¯ä»¥å¯«Markdownçš„å–”ï¼Œä½†æ˜¯æ•ˆæœæœƒä¸å¤ªå¥½é–±è®€è€Œå·²ï¼Œç›®å‰markdownæˆ‘è‡ªå·±èªç‚ºæ¯”è¼ƒå¸¸è¦‹çš„æœ‰å¹¾ç¨®\n  Vscode\né€™æ˜¯æˆ‘æœ€åˆæ‹¿ä¾†å¯«markdownçš„å·¥å…·ï¼Œä½†å®ƒæœ¬èº«ä¸æ˜¯å°ˆé–€æ‹¿ä¾†å¯«markdownçš„ï¼Œä¸æ”¯æ´ä¸€äº›ç†±éµä»¥åŠåœ–ç‰‡ä¸Šå‚³ï¼Œå¾Œé¢å°±è¢«æˆ‘æ‹‹æ£„äº†\n  HackMd\nHackMdæ˜¯ä¸€å€‹ç¶²é ç‰ˆçš„markdownç·¨è¼¯å™¨ï¼Œç°¡å–®ä¾†è¬›å°±æ˜¯ä½ å¯«ä¸Šå»å¾Œï¼Œæ±è¥¿å°±æ˜¯ç›´æ¥å­˜åœ¨é›²ç«¯ï¼Œä¸”åœ–ç‰‡è¤‡è£½è²¼ä¸Šå°±æœƒè‡ªå‹•å¹«ä½ ä¸Šå‚³åˆ°ç¶²è·¯ä¸Šäº†ï¼Œéå¸¸çš„ä¾¿æ·ä»¥åŠå¿«é€Ÿï¼Œå¥½åƒæ˜¯å°ç£äººé–‹ç™¼çš„ï¼Œæœ€é‡è¦çš„æ˜¯å®ƒå…è²»ï¼Œä¹Ÿæ˜¯æœ€å¸¸è¦‹çš„æ–¹å¼ã€‚\n  Typora\né€™æ˜¯æˆ‘ç›®å‰ä¸»åŠ›æ‰€ä½¿ç”¨çš„Markdownç·¨è¼¯å™¨ï¼Œè·ŸHackMdæœ€å¤§çš„ä¸åŒå°±æ˜¯å®ƒæ˜¯ä¸€å€‹æ‰€è¦‹åŠæ‰€å¾—çš„ç·¨è¼¯å™¨ï¼Œä¸Šè¿°å…©æ¬¾å…¶å¯¦éƒ½æ˜¯æŠŠç•«é¢åˆ†æˆå…©é‚Šï¼Œå·¦é‚Šæ˜¯Markdownèªæ³•ï¼Œå³é‚Šå‰‡æ˜¯æ¸²æŸ“å¾Œçš„çµæœï¼Œè€Œtyporaå‰‡æ˜¯åœ¨ä½ è¼¸å…¥å®Œå¾Œç›´æ¥å¹«ä½ æ¸²æŸ“å¥½ï¼Œä¹Ÿå°±æ˜¯æ‰€å¯«åŠæ‰€è¦‹ï¼Œæ˜¯å®ƒæœ€å¤§çš„ç‰¹è‰²ã€‚\nä½†ç›¸æ¯”ä¹‹ä¸‹å®ƒå°±æœ‰å¹¾å€‹ç¼ºé»\n è¦éŒ¢ï¼Œæœ€ç›´è§€çš„å•é¡Œå°±æ˜¯å®ƒæ˜¯ä¸€å€‹ä»˜è²»çš„ç¨‹å¼ï¼Œå±¬æ–¼è²·æ–·åˆ¶ä¸€æ¬¡500ï¼Œæ”¯æ´ä¸‰å°è¨­å‚™åŒæ™‚ä½¿ç”¨ æœ¬èº«ä¸æ”¯æ´åœ–ç‰‡ä¸Šå‚³ï¼Œæƒ³è¦ç”¨å®ƒä¾†åšåœ–ç‰‡ä¸Šå‚³éœ€è¦æ‡‚ä¸€äº›æ§åˆ¶å°æŒ‡ä»¤ä»¥åŠJsonæ ¼å¼çš„ æœ¬èº«çš„æª”æ¡ˆéƒ½åœ¨localç«¯ï¼Œéœ€è¦è‡ªå·±æ‰‹å‹•ä¸Ÿä¸Šé›²ç«¯(æˆ‘å€‹äººæ˜¯ä¸Ÿåˆ°githubä¸Šé¢ï¼Œç„¶å¾Œç”¨batæª”è‡ªå‹•ä¸Šå‚³)    é‚„å¯ä»¥æä¾›ä¸€é»ï¼Œæˆ‘æœƒæŠŠä¸€äº›çœŸçš„æ²’è¾¦æ³•ç”¨æ–‡å­—æˆ–æ˜¯Markdownèªæ³•è¡¨ç¤ºçš„æ±è¥¿å¯«åœ¨å¹³æ¿çš„GoodNoteä¸Šé¢ï¼Œåœ¨æŠŠé€£çµåˆ†äº«å‡ºä¾†ï¼Œç„¶å¾Œæˆªåœ–ä¸‹ä¾†è²¼ä¸Šå»ï¼Œçœ‹èµ·ä¾†å°±åƒé€™æ¨£\nçµèª ç•¶ç„¶é‚„æœ‰ä¸åªé€™äº›ï¼Œæˆ‘æ²’è¨˜éŒ¯çš„è©±Notionæœ¬èº«ä¹Ÿæœ‰æ”¯æ´(ä½†æˆ‘ä¸ç†Ÿ)ä»¥åŠobsidianä¹Ÿæ˜¯ä¸€å€‹å¯«Markdownçš„å·¥å…·ï¼Œæˆ‘ä¹‹æ‰€ä»¥æœƒé¸Typoraåªæ˜¯å› ç‚ºæˆ‘å–œæ­¡æœ‰æ›´å¤§çš„ç©ºé–“ï¼Œä¸å–œæ­¡ç•«é¢è¢«åˆ†æˆå·¦å³å…©é‚Šè€Œå·²ã€‚\nä½œç­†è¨˜çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¸åšçš„ã€ç”¨ç´™å¯«çš„ã€ç”¨å¹³æ¿å¯«çš„ï¼Œéƒ½å¯ä»¥ï¼Œæ²’æœ‰èª°å„ªèª°åŠ£ï¼ŒMarkdownä¹Ÿæœ‰å®ƒçš„é™åˆ¶åœ¨ï¼Œæ¯”å¦‚èªªå®ƒå°±ä¸èƒ½å¯«è³‡ç”¢è² å‚µè¡¨ã€ä¹Ÿä¸èƒ½å¯«Tå­—å¸³ï¼Œæ²’æœ‰ä¸€å€‹æ–¹æ³•æ˜¯æœ€ä½³è§£çš„ï¼Œåªè¦æ‰¾åˆ°è‡ªå·±å–œæ­¡çš„æ–¹å¼éƒ½å¯ä»¥ï¼Œé€™ç¯‡æ–‡ç« åªæ˜¯æ‹‹ç£šå¼•ç‰ï¼Œå¸Œæœ›æä¾›è‡ªå·±çš„ä¸€äº›æƒ³æ³•ä¾›å¤§å®¶åƒè€ƒï¼Œä¹Ÿæ­¡è¿å„ä½ä¸€èµ·è¨è«–ï¼Œç¥å¤§å®¶æ–°å¹´å¿«æ¨‚ï¼Œå¿™å­£åŠ æ²¹ï¼\n","date":"2023-01-22T23:15:25+08:00","image":"https://i.imgur.com/c968Ywa.png","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E8%A3%BD%E4%BD%9C%E6%9C%83%E8%A8%88%E7%9A%84%E9%9B%BB%E5%AD%90%E7%AD%86%E8%A8%98markdown%E7%9A%84%E4%BB%8B%E7%B4%B9/","title":"å¦‚ä½•è£½ä½œæœƒè¨ˆçš„é›»å­ç­†è¨˜ï¼ŸMarkdownçš„ä»‹ç´¹"},{"content":"æœ€è¿‘åœ¨æ–°é›»è…¦ä¸Šå®‰è£äº†Dockerçµæœç™¼ç¾ä¸€ç›´å¡åœ¨é€™å€‹ç•«é¢\nå¾Œä¾†ç ”ç©¶äº†ä¸€ä¸‹ç™¼ç¾æ‡‰è©²æ˜¯wslæ²’æœ‰è£å¥½çš„åŸå› ï¼Œå¾Œä¾†å®‰è£å¥½ä¹‹å¾Œï¼Œåœ¨æŠŠWindow Updateè¦æˆ‘Updateçš„æ±è¥¿å…¨éƒ¨æ›´æ–°ä¸€æ¬¡ï¼Œå°±å¯ä»¥åŸ·è¡ŒæˆåŠŸäº†ï¼Œæ¨æ¸¬æ‡‰è©²æ˜¯windowç‰ˆæœ¬æ²’æ›´æ–°ï¼Œå°è‡´ä¸æ”¯æ´wslçš„é—œä¿‚ã€‚\n","date":"2023-01-21T00:52:36+08:00","image":"https://i.imgur.com/xgUpP8O.png)","permalink":"https://hoxtoncraft.com/p/docker_desktop_starting%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA/","title":"Docker_Desktop_Startingå•é¡Œè§£æ±º"},{"content":"åè©è§£é‡‹ Container Docker Container æ˜¯ä¸€ç¨®è»Ÿé«”å®¹å™¨ï¼Œå®ƒå¯ä»¥åœ¨å…¶ä¸­é‹è¡Œæ‡‰ç”¨ç¨‹å¼å’Œå…¶ä»–æœå‹™ã€‚å®ƒä½¿ç”¨æ“ä½œç³»çµ±ç´šåˆ¥çš„è™›æ“¬åŒ–ï¼Œå¯ä»¥åœ¨å–®ä¸€çš„ç‰©ç†ä¸»æ©Ÿä¸Šé‹è¡Œå¤šå€‹å®¹å™¨ï¼Œä¸¦ä¸”æ¯å€‹å®¹å™¨éƒ½æœ‰è‡ªå·±çš„é‹è¡Œç’°å¢ƒå’Œè³‡æºã€‚\nDocker Container æ˜¯ä¸€ç¨®è»Ÿé«”å®¹å™¨ï¼Œå®ƒå¯ä»¥åœ¨å…¶ä¸­é‹è¡Œæ‡‰ç”¨ç¨‹å¼å’Œå…¶ä»–æœå‹™ã€‚å®¹å™¨å…·æœ‰è¼•é‡ç´šã€å¯ç§»æ¤æ€§å’Œéš”é›¢æ€§ç­‰ç‰¹é»ã€‚å®¹å™¨æ˜¯é€šéåœ¨æ“ä½œç³»çµ±å…§æ ¸ä¸­é‹è¡Œçš„å®¹å™¨å¼•æ“ä¾†å¯¦ç¾çš„ã€‚\nDockerå®¹å™¨ä¸»è¦æ˜¯ä½¿ç”¨äº†Linux çš„ Namespaces å’Œ Control groupsï¼ˆcgroupsï¼‰ æŠ€è¡“ä¾†å¯¦ç¾éš”é›¢ï¼Œé€™å…©ç¨®æŠ€è¡“å¯ä»¥å°‡ä¸€å€‹å¯¦é«”ä¸»æ©Ÿä¸Šçš„è³‡æºé™åˆ¶çµ¦æ¯å€‹å®¹å™¨ï¼Œè€Œå®¹å™¨å…§éƒ¨å‰‡æ˜¯å…±ç”¨ä¸€å€‹kernelï¼Œå› æ­¤å®¹å™¨æ¯”è™›æ“¬æ©Ÿå™¨è¼•é‡ä¸”é€Ÿåº¦è¼ƒå¿«ã€‚\nDockerå®¹å™¨æ˜¯åŸºæ–¼é¡åƒ(Image)ä¾†å»ºç«‹èˆ‡é‹è¡Œçš„ï¼Œä¸€å€‹é¡åƒå¯ä»¥æ˜¯ä¸€å€‹åŸºç¤é¡åƒæˆ–æ˜¯ç”±å…¶ä»–é¡åƒæ‰€å»ºç«‹è€Œä¾†ã€‚ç•¶åŸ·è¡Œdocker run æŒ‡ä»¤æ™‚ï¼Œæœƒå¾é¡åƒå»ºç«‹ä¸€å€‹å®¹å™¨ï¼Œä¸¦åœ¨å®¹å™¨å…§åŸ·è¡ŒæŒ‡å®šçš„æ‡‰ç”¨ç¨‹å¼æˆ–æœå‹™ã€‚\nä¸åƒ…å¦‚æ­¤ï¼ŒDockerå®¹å™¨é‚„æ”¯æ´ç¶²è·¯ã€å„²å­˜å·çš„æ˜ å°„ï¼Œä½¿å¾—å®¹å™¨å¯ä»¥èˆ‡å¤–éƒ¨é€šè¨Šï¼Œä¹Ÿå¯ä»¥å­˜å–æœ¬åœ°ç«¯çš„è³‡æ–™ã€‚\né€éDockerå®¹å™¨,æˆ‘å€‘å¯ä»¥å°‡æ‡‰ç”¨ç¨‹å¼ã€æœå‹™å’Œå…¶æ‰€éœ€çš„ç’°å¢ƒæ‰“åŒ…åœ¨ä¸€èµ·ï¼Œä¸¦ä¸”å¯ä»¥åœ¨ä¸åŒçš„ç’°å¢ƒä¸­é‹è¡Œï¼Œæé«˜äº†æ‡‰ç”¨ç¨‹å¼çš„å¯ç§»æ¤æ€§å’Œå½ˆæ€§ã€‚\nImage Docker Image æ˜¯ Docker å®¹å™¨çš„åŸºç¤ï¼Œå®ƒæ˜¯ä¸€å€‹åªè®€çš„æ¨¡æ¿ï¼ŒåŒ…å«äº†å®¹å™¨é‹è¡Œæ‰€éœ€çš„æ‰€æœ‰æª”æ¡ˆã€è¨­å®šå’Œç¨‹å¼ã€‚ç•¶åŸ·è¡Œ docker run æŒ‡ä»¤æ™‚ï¼ŒDocker æœƒå¾ Image å»ºç«‹ä¸€å€‹æ–°çš„å®¹å™¨ä¸¦åœ¨å…¶ä¸­åŸ·è¡ŒæŒ‡å®šçš„æ‡‰ç”¨ç¨‹å¼æˆ–æœå‹™ã€‚\nDocker Image å¯ä»¥é€šéæ§‹å»ºæˆ–ä¸‹è¼‰çš„æ–¹å¼å‰µå»ºï¼Œæ§‹å»ºçš„æ–¹å¼å¯ä»¥ä½¿ç”¨ Dockerfile ä¾†æè¿°å¦‚ä½•æ§‹å»ºä¸€å€‹ Imageã€‚è€Œä¸‹è¼‰çš„æ–¹å¼å‰‡å¯ä»¥å¾ Docker Hub æˆ–å…¶ä»–çš„ registry ä¸‹è¼‰ã€‚\nVolume Docker Volume æ˜¯ Docker çš„ä¸€ç¨®åŠŸèƒ½ï¼Œç”¨æ–¼ç®¡ç†å®¹å™¨ä¸­çš„æ•¸æ“šã€‚å®¹å™¨æœ¬èº«æ˜¯è¼•é‡ç´šçš„ï¼Œæ•¸æ“šæ˜¯ä¸èƒ½æ°¸ä¹…å­˜åœ¨çš„ï¼Œè€Œ Volume å‰‡æ˜¯å¯ä»¥æ°¸ä¹…å­˜åœ¨çš„ã€‚\nDocker Volume å¯ä»¥è¢«æ›è¼‰åˆ°å®¹å™¨ä¸Šï¼Œä¸¦ä¸”å¯ä»¥åœ¨å®¹å™¨å…§éƒ¨å­˜å„²æ•¸æ“šã€‚ç•¶å®¹å™¨åœæ­¢é‹è¡Œæˆ–è€…è¢«åˆªé™¤æ™‚ï¼ŒVolume ä¸­çš„æ•¸æ“šä»ç„¶å¯ä»¥ä¿ç•™ä¸‹ä¾†ã€‚é€™æ¨£å°±å¯ä»¥åœ¨é‡å•Ÿå®¹å™¨æˆ–å»ºç«‹æ–°å®¹å™¨æ™‚ï¼Œç¹¼çºŒä½¿ç”¨ä¹‹å‰å­˜å„²çš„æ•¸æ“šã€‚\nä¸¦ä¸”Volumeè£¡é¢çš„è³‡æ–™æ˜¯å¯ä»¥å’ŒHoståˆ†äº«çš„ï¼Œå…©é‚Šçš„è³‡æ–™å‘ˆç¾é¡åƒçš„é›™å‘å°æ‡‰ï¼Œåœ¨Hostæ–°å¢çš„æ±è¥¿æœƒåœ¨Containerå‡ºç¾ï¼ŒContaineræ–°å¢çš„è³‡æ–™ä¹Ÿæœƒåœ¨Hostè£¡é¢å‡ºç¾\nå¸¸ç”¨æŒ‡ä»¤ æœå°‹Image 1  docker search postgres   æŸ¥çœ‹ç›®å‰çš„image 1  docker image ls   æˆ–æ˜¯\n1  docker images   åŸ·è¡Œdocker image 1  docker run [imageName][:tag]   å¾Œé¢çš„:latestæ˜¯ç‰ˆæœ¬è™Ÿï¼Œå¯åŠ å¯ä¸åŠ ï¼Œæ²’åŠ çš„è©±é è¨­å°±æ˜¯latest\nåˆªé™¤images 1  docker rmi [imageId]   åœ¨Detached modeä¸‹åŸ·è¡Œ 1  docker run -d nginx   æ‰€è¬‚çš„Detached modeäº¦å³å•Ÿå‹•å¾Œæœƒä¸æœƒå ç”¨ä½ çš„terminalï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„gitï¼Œå¯ä»¥æ¯”è¼ƒå…©è€…é–“çš„å·®ç•°\n æ²’æœ‰-d   æœ‰-d  æ‰“åŒ…æˆdocker image 1  docker build -t drink-more-water:latest .   -t æ˜¯ tagçš„ç¸®å¯«ï¼Œhello-dockeræ˜¯é€™å€‹tagçš„åç¨±ï¼Œ.ä»£è¡¨dockerfileåœ¨ç•¶å‰çš„ç›®éŒ„ä¸‹ï¼Œå¦‚æœDockerfileä¸åœ¨ç•¶å‰ç›®éŒ„ï¼Œå‰‡é€™é‚Šè¦æ”¹è®Šã€‚latestå‰‡æ˜¯ç‰ˆæœ¬è™Ÿï¼Œå¯åŠ å¯ä¸åŠ ï¼Œä¸åŠ çš„è©±é è¨­æ˜¯latest\næŸ¥çœ‹ç›®å‰é‹è¡Œçš„Container 1  docker ps   psæ˜¯process statusçš„æ„æ€\næˆ–æ˜¯\n1  docker container ls   â€‹\tæŸ¥çœ‹ç›®å‰é‹ä½œä¸­(running)çš„Container 1  docker ps   æˆ–æ˜¯\n1  docker ps -a   æŸ¥çœ‹åº•ä¸‹å…¨éƒ¨çš„Containerä¸è«–å•Ÿå‹•èˆ‡å¦\né€²å…¥Containerèˆ‡ä¹‹äº’å‹• 1  docker exec -it [ConatinerId]] bash   bashæœ‰å¯èƒ½æ²’æœ‰ï¼Œæœ‰å¯èƒ½æ˜¯shï¼Œè¦è‡ªå·±åˆ°/binè£¡é¢çœ‹\nåœæ­¢Container 1  docker stop [ContainerId]   â€‹\nå•Ÿå‹•åœæ­¢çš„Container\n1  docker start [ContainerId]   åˆªé™¤Container 1  docker rm [ContainerId]or[NAMEs]   ä¹Ÿå¯ä»¥è¼¸å…¥å¾ˆå¤šå€‹Idï¼Œä¸€æ¬¡åˆªå€‹çˆ½\né‚„æœ‰æ›´çŒ›çš„\n1  docekr rm -f $(docker ps -aq)   ç›´æ¥ç”¨åƒæ•¸çš„æ–¹å¼å…¨åˆªã€‚\næš´éœ²port 1  docker run -p 5432:5432 posgres   å‰é¢çš„5432æ˜¯ä½ è‡ªå®šç¾©çš„localhost:5432ï¼Œè€Œå¾Œé¢çš„5432å‰‡æ˜¯å®¹å™¨è£¡é¢çš„portè™Ÿ\næš´éœ²å·²ç¶“Running,Stopping çš„Containerçš„Port æ²’æœ‰é€™å€‹æ–¹æ³•ï¼Œåªæœ‰\n1  docker run postgres   çš„é€™å€‹æ™‚å€™ä½ æ‰å¯ä»¥æŠŠportæš´éœ²å‡ºä¾†\nä¸€æ¬¡æ€§æŸ¥çœ‹Containerçš„Logç´€éŒ„ 1  docker logs [ContainerId]   é€™æ¢æŒ‡ä»¤åªæœƒé¡¯ç¤ºéå»çš„ç´€éŒ„ï¼Œå¾ŒçºŒçš„logsä¸æœƒæ›´æ–°\næŒçºŒæŸ¥çœ‹Containerçš„Logç´€éŒ„ 1  docker logs -f [ContainerId]   é€™æ¢ä¸åªæœƒé¡¯ç¤ºéå»çš„ï¼Œé‚„æœƒå‹•æ…‹æ›´æ–°ç¾åœ¨çš„log\nåŸ·è¡ŒDocker-compose 1  docker compose up -d   -d ä»£è¡¨æ˜¯å¦èƒŒæ™¯åŸ·è¡Œï¼Œä¸ä½”ç”¨terminal\nåœæ­¢ä¸¦åˆªé™¤Docker-composeçš„Container 1  docker compose down   å°‡Dokcer Images Pushè‡³Dockerhub é¦–å…ˆå…ˆç™»å…¥dockerhub\n1  docker login   å†å°‡æƒ³è¦æ¨ä¸Šå»çš„docker Imageé‡æ–°å‘½å\n1  docker tag [Image Name] DockerHubå¸³è™Ÿ/Image Name   æ¥è‘—pushä¸Šå» dockerhub\n1  docker push DockerHubå¸³è™Ÿ/Image Name   æƒ³è¦ä½¿ç”¨imageçš„è©±å°±åŸ·è¡Œpull\n1  docker pull DockerHubå¸³è™Ÿ/Image Name   åœ¨Dockerå•Ÿå‹•Ubuntu   ä¸‹è¼‰ ubuntu çš„image\n1  docker pull ubuntu   æˆ–æ˜¯å¯ä»¥\n1  docker run ubuntu   å°±æœƒè‡ªå‹•å¾docker hubè¼‰ä¸‹ä¾†äº†ï¼Œä½†é€™æ¨£åªæ˜¯æŠŠubuntuçš„imageæ‹‰åˆ°æˆ‘å€‘çš„dockerè£¡é¢ï¼Œå®ƒæœ¬èº«æ˜¯æ²’æœ‰å•Ÿå‹•çš„\n  åœ¨dockerä¸­é‹è¡Œubuntu\n1  docker run -it ubuntu     ä½¿ç”¨apt(advanced package tool)å®‰è£nano(Linux text editor)\nç”¨aptè¼‰ä»»ä½•æ±è¥¿å‰éƒ½å»ºè­°å…ˆupdate\n1  apt update   1  apt install nano     Exposing Port è¼¸å…¥docker pså¯ä»¥çœ‹åˆ°ä»¥ä¸‹è³‡è¨Š\nå…¶ä¸­çš„PORTS 80/tcpçš„æ„æ€ï¼Œå®¹å™¨å°å¤–å…¬é–‹çš„ç¶²è·¯ç«¯å£æ˜¯ 80/tcpï¼Œè¡¨ç¤ºé€™å€‹å®¹å™¨å°å¤–å…¬é–‹çš„ç¶²è·¯ç«¯å£æ˜¯80ï¼Œä¸¦ä¸”æ˜¯åŸºæ–¼TCPå”è­°çš„ã€‚é€™æ„å‘³è‘—ç•¶å¤–éƒ¨ç¶²è·¯ç€è¦½å™¨é€£æ¥åˆ°http://localhostæˆ–http://æ™‚ï¼Œå°‡æœƒé€£æ¥åˆ°å®¹å™¨å…§éƒ¨çš„ Nginx Web ä¼ºæœå™¨ã€‚æƒ³è¦è®“å®¹å™¨çš„ç«¯å£å°å¤–é–‹æ”¾ï¼Œå°±éœ€è¦exposingå®ƒï¼Œå¦å‰‡ç›´æ¥æ‰“localhost:80æ˜¯æ²’æœ‰ç”¨çš„ã€‚\næˆ‘å€‘å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„æ–¹å¼å°‡8080 é€£æ¥åˆ°80/TCP\n1  docker run -d -p 8080:80 nginx   å…¶ä¸­çš„8080:80çš„æ„æ€æ˜¯æŒ‡å°‡ä¸»æ©Ÿçš„ 8080 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 80 ç«¯å£ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œç•¶å¤–éƒ¨ç¶²è·¯ç€è¦½å™¨é€£æ¥åˆ° http://localhost:8080 æ™‚ï¼Œå°‡æœƒé€£æ¥åˆ°å®¹å™¨å…§éƒ¨çš„ Nginx Web ä¼ºæœå™¨ã€‚\nä½ ä¹Ÿå¯ä»¥ä¸åªExposingä¸€å€‹Portï¼Œå¯ä»¥Exposingå¤šå€‹portçµ¦80\n1  docker run -d -p 8080:80 -p 3000:80 nginx   Containerçš„ç®¡ç† ç•¶æˆ‘å€‘å•Ÿå‹•ã€ä¸¦Stopä¸€å€‹Containerï¼Œå¯¦éš›ä¸Šå¦‚æœä¾ç…§æˆ‘å€‘å‰›å‰›çš„ä½œæ³•ï¼Œæˆ‘å€‘æ˜¯ä¸æ–·çš„å‰µé€ æ–°çš„Containerï¼Œè¼¸å…¥docker ps -a å³å¯çœ‹åˆ°ç›®å‰å­˜åœ¨çš„Container(ä¸è«–running or Stopping)ï¼Œæˆ–æ˜¯åœ¨Desktop dockerè£¡é¢ä¹Ÿéƒ½å¯ä»¥çœ‹åˆ°\næˆ‘å€‘å¯ä»¥é€é\n1  docker rm [ContainerId]   ä¾†çœŸæ­£æ„ç¾©ä¸Šçš„ç§»é™¤Containerï¼Œè€Œä¸æ˜¯åœæ­¢å®ƒ\nå¯ä»¥ä½¿ç”¨docker ps -aq ï¼Œé€™å€‹æŒ‡ä»¤åªæœƒç§€å‡ºContainerIdï¼Œå¯ä»¥åˆªæ›´çˆ½ï¼Œç›´æ¥è¤‡è£½è²¼ä¸Šå°±å¥½\né‚„æœ‰æ›´çˆ½çš„æ–¹å¼ï¼Œç”¨$(docker ps -aq)çš„æ–¹å¼ å‚³éåƒæ•¸\nç‚ºContainerå‘½å å»ºè­°å‘½åä¸€ä¸‹ï¼Œæ¯”è¼ƒå¥½æ‰¾ï¼Œåªæ”¯æ´è‹±æ–‡ï¼Œä¸æ”¯æ´ä¸­æ–‡\n1  docker run --name hoxtonPractice -d -p 8080:80 nginx   Volumeçš„ä½¿ç”¨ è®“è³‡è¨Šå¯ä»¥åœ¨hostèˆ‡Containerå…±äº«çš„ä¸€å€‹åŠŸèƒ½\nç¯„ä¾‹ï¼š\né¦–å…ˆåœ¨æ¡Œé¢ä¸Šå‰µå»ºä¸€å€‹åç‚ºwebsiteçš„è³‡æ–™å¤¾ï¼Œè£¡é¢æœ‰å€‹index.htmlï¼Œå…§å®¹å¦‚ä¸‹\n1  \u0026lt;h1\u0026gt;hello docker and volume\u0026lt;/h1\u0026gt;   æ¥è‘—å°‡terminalåˆ‡è‡³/websiteåº•ä¸‹ï¼Œç„¶å¾Œè¼¸å…¥\n1  docker run --name website -v ${PWD}:/usr/share/nginx/html:ro -d -p 8080:80 nginx     -væ˜¯ Docker ä¸­çš„ volume æŒ‡ä»¤ï¼Œå®ƒç”¨æ–¼å°‡ä¸»æ©Ÿä¸Šçš„ç›®éŒ„æˆ–æª”æ¡ˆæ›è¼‰åˆ°å®¹å™¨ä¸­ã€‚é…åˆå¾Œé¢çš„${PWD}:/usr/share/nginx/htmlï¼Œæ„æ€å°±æ˜¯å°‡ç•¶å‰ç›®éŒ„çš„å…§å®¹æ›è¼‰(Mount)åˆ°å®¹å™¨ä¸­çš„ /usr/share/nginx/html ç›®éŒ„ä¸‹ã€‚é€™æ¨£è¨­å®šå¾Œï¼Œç•¶ä¸»æ©Ÿä¸Šçš„ç›®éŒ„å…§å®¹è®Šæ›´æ™‚ï¼Œå®¹å™¨ä¸­çš„ /usr/share/nginx/html ç›®éŒ„å…§çš„å…§å®¹ä¹Ÿæœƒéš¨ä¹‹æ›´æ–°ã€‚\n  :ro æ˜¯æŒ‡å°‡ä¸»æ©Ÿä¸Šçš„ç›®éŒ„æˆ–æª”æ¡ˆæ›è¼‰åˆ°å®¹å™¨ä¸­çš„ç›®éŒ„æˆ–æª”æ¡ˆï¼Œä¸¦è¨­å®šç‚ºåªè®€æ¨¡å¼ã€‚\n  â€‹\té€™æ„å‘³è‘—åœ¨å®¹å™¨ä¸­å°‡ç„¡æ³•å¯«å…¥æˆ–ä¿®æ”¹æ›è¼‰çš„ç›®éŒ„æˆ–æª”æ¡ˆï¼Œåªèƒ½è®€å–ã€‚é€™å¯ä»¥é¿å…å°ä¸»æ©Ÿä¸Šçš„æª”æ¡ˆé€ æˆæå£æˆ–ä¸\tå¿…è¦çš„è®Šæ›´ã€‚\n /usr/share/nginx/html æ˜¯ Nginx é è¨­çš„ç¶²ç«™æ ¹ç›®éŒ„ã€‚  çµæœå¦‚ä¸‹ï¼š\nä¹Ÿå› ç‚ºVolumeæ˜¯é¡åƒå°æ‡‰ï¼Œå› æ­¤ä¿®æ”¹hostçš„æª”æ¡ˆï¼Œcontainerçš„å…§å®¹ç‰©ä¹ŸæœƒåŒæ­¥æ›´æ–°\næˆ‘å€‘å¯ä»¥ç”¨ä»¥ä¸‹çš„æŒ‡ä»¤ä¾†è¨ªå•çœ‹çœ‹Nginxçš„æª”æ¡ˆ\n1  docker exec -it website bash    docker exec æ˜¯ Docker çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ–¼åœ¨é‹è¡Œä¸­çš„å®¹å™¨å…§åŸ·è¡Œå‘½ä»¤ã€‚ -it é€™å…©å€‹é¸é …è¡¨ç¤ºè¦äº’å‹•å¼åœ°åŸ·è¡Œå‘½ä»¤ï¼Œä¸¦ä¸”è®“è¼¸å…¥å’Œè¼¸å‡ºä¿æŒé€£æ¥ã€‚ website æ˜¯å®¹å™¨çš„åç¨±æˆ– IDã€‚ bash æ˜¯è¦åœ¨å®¹å™¨å…§åŸ·è¡Œçš„å‘½ä»¤ï¼Œé€™è£¡æ˜¯å•Ÿå‹• Bash shellã€‚ä¹Ÿå¯ä»¥æ”¹æˆlsï¼Œå°±è®Šæˆlsäº†ï¼Œç©æ³•å¾ˆå¤šï¼Œè‡ªè¡Œæ‘¸ç´¢  åœ¨Nginxè£¡é¢æ–°å¢æª”æ¡ˆï¼Œç§»é™¤æª”æ¡ˆï¼Œæœƒç™¼ç¾hostçš„è³‡æ–™å¤¾æª”æ¡ˆä¹ŸåŒæ­¥æ›´æ–°\nä¸åŒçš„Containerä½¿ç”¨ç›¸åŒçš„Volume 1  docker run --name website-copy --volumes-from website -d -p 8081:80 nginx    \u0026ndash;volumes-from [ContainerName]ï¼šå°‡é€™æ¬¡è¦å•Ÿå‹•çš„Containerä½¿ç”¨å’Œwebsiteä¸€æ¨£çš„Volume  Dockerfile Dockerfileæ˜¯ä¸€å€‹æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†å‰µå»ºDocker imageæ‰€éœ€çš„æŒ‡ä»¤ã€‚é€™äº›æŒ‡ä»¤å¯ä»¥åŒ…æ‹¬ä¾‹å¦‚ï¼š\n å¾å“ªå€‹åŸºç¤é¡åƒå»ºç«‹æ–°é¡åƒ å®‰è£éœ€è¦çš„è»Ÿé«” è¨­ç½®ç’°å¢ƒè®Šé‡ æ·»åŠ æ‡‰ç”¨ç¨‹åºæ–‡ä»¶ å®šç¾©å®¹å™¨å•Ÿå‹•æ™‚åŸ·è¡Œçš„å‘½ä»¤  é€éDockerfile, å¯ä»¥è‡ªå‹•åŒ–çš„å»ºç«‹ä¸€å€‹ç’°å¢ƒï¼Œæ–¹ä¾¿åœ¨ä¸åŒçš„ç’°å¢ƒä¸Šéƒ¨ç½²ï¼Œä½¿ç”¨è€…å¯ä»¥æ›´æ–¹ä¾¿çš„ç®¡ç†ç’°å¢ƒï¼Œä»¥åŠæ¸›å°‘éƒ¨ç½²éŒ¯èª¤çš„æ©Ÿæœƒã€‚\nä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€å€‹Javaæ‡‰ç”¨ç¨‹åºéœ€è¦åœ¨å¤šå€‹ä¸åŒçš„æœå‹™å™¨ä¸Šé‹è¡Œï¼Œä½ å¯ä»¥ä½¿ç”¨Dockerfileå‰µå»ºä¸€å€‹åŒ…å«JavaåŸ·è¡Œæ™‚ç’°å¢ƒçš„é•œåƒï¼Œç„¶å¾Œåœ¨æ¯å€‹æœå‹™å™¨ä¸ŠåŸ·è¡Œé€™å€‹é•œåƒï¼Œé€™æ¨£å°±èƒ½ä¿è­‰æ¯å€‹æœå‹™å™¨ä¸Šéƒ½æœ‰ç›¸åŒçš„ç’°å¢ƒã€‚\nè©¦è‘—æŠŠå‰›å‰›å¯«çš„volumeæ‰“åŒ…æˆä¸€å€‹imageï¼Œé¦–å…ˆåœ¨/websiteçš„è³‡æ–™å¤¾è£¡é¢æ–°å¢ä¸€å€‹åç¨±ä¸€å®šè¦æ˜¯dockerfileçš„æª”æ¡ˆ\nè£¡é¢çš„æª”æ¡ˆçµæ§‹é•·çš„åƒé€™æ¨£å­\n1 2  FROMnginx:latestADD . /usr/share/nginx/html   FROMï¼šæŒ‡å®šäº†åŸºç¤Imageæ˜¯nginxï¼Œå¾Œé¢çš„latestæ˜¯æŒ‡ç‰ˆæœ¬è™Ÿã€‚Dockerfileä¸­å¿…é ˆè¦æœ‰FROMæŒ‡ä»¤ï¼Œå®ƒæ˜¯ä¸€åˆ‡çš„æ ¹æœ¬ï¼Œå®ƒæŒ‡å®šäº†åŸºç¤Imageç’°å¢ƒã€‚èˆ‰ä¾‹ä¾†èªªï¼Œé€™é‚ŠæŒ‡å®šç”¨æœ€æ–°ç‰ˆçš„nginxï¼Œé‚£éº¼æˆ‘å€‘çš„é¡åƒæœƒåŸºæ–¼é€™å€‹æœ€æ–°ç‰ˆçš„nginxç’°å¢ƒé‹è¡Œ ADDï¼šå°‡æœ¬åœ°ç›®éŒ„ä¸­çš„æ–‡ä»¶è¤‡è£½åˆ°é¡åƒä¸­çš„æŒ‡å®šç›®éŒ„ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­æ˜¯å°‡æœ¬åœ°ç›®éŒ„ä¸­çš„æ‰€æœ‰æ–‡ä»¶è¤‡è£½åˆ°é¡åƒä¸­çš„/usr/share/nginx/htmlç›®éŒ„ã€‚å®ƒçš„åŠŸèƒ½è·ŸCOPYæœ‰é»åƒï¼Œä½†æ˜¯COPYç”¨æ³•æ¯”è¼ƒå–®ç´”ï¼Œåªèƒ½è¤‡è£½æœ¬åœ°æ–‡ä»¶å’Œç›®éŒ„åˆ°é¡åƒä¸­ï¼Œè€ŒADDæŒ‡ä»¤é‚„å¯ä»¥è§£å£“ç¸®taræ–‡ä»¶ä¸¦å°‡å…¶ä¸­çš„æ–‡ä»¶è¤‡è£½åˆ°é¡åƒä¸­ã€‚  â€‹\tå€¼å¾—æ³¨æ„çš„æ˜¯\n1  ADD . /usr/share/nginx/html  é€™è¡ŒæŒ‡çš„æ˜¯ï¼Œå°‡ç•¶å‰ç›®éŒ„çš„æ‰€æœ‰æ±è¥¿(ä»¥ä¸€å€‹.è¡¨ç¤º)åŠ å…¥è‡³Containerä¸­çš„/usr/share/nginx/htmlç›®éŒ„ä¸­ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­å°±æ˜¯å°‡\né€™äº›æ±è¥¿ADDé€²/usr/share/nginx/htmlè£¡é¢ã€‚\nç•¶Dockerfileå¯«å¥½å¾Œï¼Œè¦é–‹å§‹bulidå®ƒï¼Œæ­¥é©Ÿå¦‚ä¸‹\n1  docker build -t website:latest .   é€™å€‹å‘½ä»¤æ˜¯åœ¨ä½¿ç”¨ Docker å»ºç«‹ä¸€å€‹æ–°çš„é¡åƒæª”ï¼Œä¸¦æ¨™è¨˜ç‚º \u0026ldquo;website:latest\u0026rdquo;ã€‚ \u0026ldquo;.\u0026rdquo; è¡¨ç¤ºç•¶å‰ç›®éŒ„ä¸‹çš„ Dockerfile æª”æ¡ˆå°‡æœƒè¢«ç”¨ä¾†å»ºç«‹æ˜ åƒæª”ã€‚é€™å€‹å‘½ä»¤å°‡æœƒå»ºç«‹ä¸€å€‹åç‚º \u0026ldquo;website\u0026rdquo; ä¸¦ä¸”æ¨™è¨˜ç‚º \u0026ldquo;latest\u0026rdquo; çš„é¡åƒæª”ã€‚  Buildå®Œå¾Œå°±æœƒå‡ºç¾ä¸€å€‹imageäº†ï¼Œè¼¸å…¥\n1  docker images   å°±å¯ä»¥æŸ¥çœ‹ç›®å‰æ“æœ‰çš„images\nä¸¦ä¸”å¯ä»¥é€™å€‹imageå¯ä»¥é‹è¡Œæˆ‘å€‘å‰›å‰›å°indexçš„è¨­å®šï¼Œè¼¸å…¥\n1  docker run --name website -p 8080:80 -d website:latest   æ³¨æ„ï¼šé€™é‚Šä¸éœ€è¦å†ç‚ºwebsiteè¨­ç½®volumeï¼Œå› ç‚ºæˆ‘å€‘å·²ç¶“å°‡éœ€è¦çš„æ±è¥¿æ‰“åŒ…é€²imageè£¡é¢äº†ã€‚\nè¼¸å…¥å®Œå¾Œï¼Œåœ¨URLçš„åœ°æ–¹è¼¸å…¥localhost:8080å°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘å‰›å‰›è¨­ç½®çš„æ±è¥¿äº†ã€‚\ngifå¦‚ä¸‹\nâ€‹\nå¯¦éš›æ¼”ç·´ NodeJs å‰ç½®ä½œæ¥­ å®‰è£Node.jsï¼Œé€™é‚Šå®‰è£ç‚ºäº†å¿«é€Ÿï¼Œå°±ç›´æ¥ç”¨Chocoä¾†è£äº†ï¼ŒChocoçš„å®‰è£å¦‚ä¸‹\n  åœ¨Terminalä¸­è¼¸å…¥ï¼Œè¨˜å¾—è¦ä»¥ç³»çµ±ç®¡ç†å“¡èº«åˆ†è¼¸å…¥\n1  Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(\u0026#39;https://community.chocolatey.org/install.ps1\u0026#39;))     å®‰è£å®Œå¾Œå®‰è£nodeJs\n1  choco install nodejs     å®‰è£å®Œå¾Œéš¨ä¾¿å‰µä¸€å€‹è³‡æ–™å¤¾ï¼Œé€™é‚Šå‘½åå«åšuser-service-api\n  åˆ‡æ›åˆ°è©²è³‡æ–™å¤¾åº•ä¸‹ï¼Œä¸¦ä¸”npm initå®ƒ\n1  npm init     æ¥è‘—å®‰è£express\n1  npm install --save express     ç”¨å¥½å¾Œæª”æ¡ˆçµæ§‹é•·é€™æ¨£\n  åœ¨è©²ç›®éŒ„åº•ä¸‹æ–°å¢ä¸€å€‹index.jsçš„æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  const express = require(\u0026#39;express\u0026#39;) const app = express() const port = 3000 app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.json([{ name: \u0026#39;Bod\u0026#39;, email: \u0026#39;bob@gmail.com\u0026#39; }]) }) app.listen(port, () =\u0026gt; { console.log(`Example app listening on port ${port}`) })     ä½¿ç”¨nodejsé‹è¡Œ\n1  node index.js     æˆåŠŸå¾Œé€²å…¥localhost:3000å³å¯çœ‹åˆ°ä¸‹åˆ—ç•«é¢\n  å¦‚æ­¤ä¸€ä¾†å‰ç½®ä½œæ¥­å°±å®Œæˆäº†\nè£½ä½œDockerFile åœ¨ç›®éŒ„åº•ä¸‹æ–°å¢dockerfileï¼Œå…§å®¹å¦‚ä¸‹\n1 2 3 4 5  FROMnode:latestWORKDIR/appADD . .RUN npm installCMD node index.js   WORKDIRï¼šè‹¥Containeræœ‰/appé€™å€‹è³‡æ–™å¤¾ï¼Œå‰‡ä½¿ç”¨å®ƒï¼Œè‹¥æ²’æœ‰ï¼Œå‰‡å‰µé€ å®ƒã€‚   ADD . .ï¼š å°†å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­çš„ /app ç›®å½•ã€‚ RUN npm installï¼š åœ¨é¡åƒä¸­è¿è¡Œ npm install å‘½ä»¤ï¼Œå®‰è£…åº”ç”¨ç¨‹åºæ‰€éœ€çš„ä¾èµ–é¡¹ã€‚ CMD node index.jsï¼šè®¾ç½®é•œåƒå¯åŠ¨æ—¶è¿è¡Œçš„å‘½ä»¤ï¼Œè¿™é‡Œæ˜¯è¿è¡Œ node index.jsã€‚  ç‚ºä»€éº¼è¦åˆ†æˆRUNè·ŸCMDå‘¢ï¼Ÿæœ‰å¹¾å€‹åŸå› ï¼Œé¦–å…ˆRUNè·ŸCMDçš„ç”¨é€”æœ¬èº«å°±ä¸ä¸€æ¨£ï¼ŒRUNä¸»è¦æ˜¯åœ¨å‰µå»ºimageä¸­åŸ·è¡Œå‘½ä»¤ï¼Œä¸¦å°‡çµæœä¿å­˜åœ¨imageä¸­ï¼Œå®ƒä¸»è¦ç”¨ä¾†å®‰è£ä¾è³´ã€é…ç½®æ‡‰ç”¨ç¨‹å¼æˆ–å…¶ä»–æ“ä½œã€‚å‰‡æ˜¯ç”¨ä¾†èªªæ˜Imageå‰µå»ºå®Œæˆå¾Œè¦åŸ·è¡Œçš„å‹•ä½œã€‚ç°¡è€Œè¨€ä¹‹ï¼ŒRUNæ˜¯åœ¨å‰µå»ºImageä¸­éç¨‹æ‰€åŸ·è¡Œçš„ï¼Œè€ŒCMDå‰‡æ˜¯åœ¨Imageå‰µå»ºå®Œæˆå¾Œæ‰€åŸ·è¡Œçš„ã€‚\nä¸¦ä¸”ï¼Œä¸€å€‹DockerFileå¯ä»¥æœ‰å¾ˆå¤šRUNæŒ‡ä»¤ï¼Œä½†åªèƒ½æœ‰ä¸€å€‹CMDæŒ‡ä»¤ï¼Œå› ç‚ºContaineråªèƒ½é‹è¡Œä¸€å€‹CMDæŒ‡ä»¤\nä½¿ç”¨Image æ¥è‘—å‰µå»ºé¡åƒ\n1  docker build --tag user-service-api:latest .   å‰µå»ºå®Œä¹‹å¾Œå•Ÿå‹•é¡åƒ\n1  docker run --name user-api -d -p 8080:3000 user-service-api:latest   é€™é‚Šçš„8080:3000æ˜¯æŒ‡ï¼Œå°‡æˆ‘å€‘å®¹å™¨è£¡é¢åŸæœ¬é…ç½®çš„3000ç«¯å£æš´éœ²å‡ºä¾†ï¼Œä»¥8080ä¾†æ¥æ”¶ã€‚\nå› ç‚º3000æ˜¯æŒ‡åœ¨Containerè£¡é¢çš„ç«¯å£ï¼Œhostæƒ³è¦è®€åˆ°å®ƒï¼Œå¿…é ˆå°‡Containerçš„ç«¯å£æš´éœ²å‡ºä¾†ã€‚å› æ­¤localhost:3000æœƒæ‰¾ä¸åˆ°æ±è¥¿ï¼Œåªæœ‰æ‰“localhost:8080æ‰æœƒæœ‰æˆ‘å€‘è¦çš„å…§å®¹\nDockerIgnore åšå®Œä¸Šé¢é€™äº›æ“ä½œå¾Œï¼Œæˆ‘å€‘çš„æª”æ¡ˆçµæ§‹é•·é€™æ¨£\nç„¶å¾Œæˆ‘å€‘çš„Dockerfileé•·é€™æ¨£\n1 2 3 4 5  FROMnode:latestWORKDIR/appADD . .RUN npm installCMD node index.js  æ¯”è¼ƒä¹‹å¾Œç™¼ç¾ä¸€ä»¶äº‹æƒ…ï¼ŒRUN npm installæœƒå‰µå»ºnode_modulesè³‡æ–™å¤¾ï¼Œä½†æˆ‘å€‘åœ¨ADDæ™‚å·²ç¶“æŠŠnode_modulesåŠ å…¥é€²å»ï¼Œç­‰æ–¼èªªæˆ‘å€‘é‡è¤‡å‰µå»ºäº†å…©æ¬¡node_modulesï¼Œé€™ç¨®æƒ…æ³å°±é¡ä¼¼gitIgnoreï¼Œéœ€è¦æ’é™¤æ‰é‡è¤‡çš„è³‡æ–™å¤¾\ndockerIgnoreçš„å¯«æ³•\n1 2 3  node_modulesdockerfile.git  é€™æ¨£å°±å¯ä»¥æŠŠé€™äº›æª”æ¡ˆæ’é™¤åœ¨å¤–äº†\nCaching \u0026amp; Layers DockerFileè£¡é¢çš„æ¯ä¸€å€‹CMLéƒ½æ˜¯ä¸€å€‹Layerï¼Œæ¯å€‹Layeréƒ½ç”¨ä¾†Caching`\n1 2 3 4 5  FROMnode:latestWORKDIR/appADD . .RUN npm installCMD node index.js  å¯ä»¥çœ‹åˆ°é€™é‚Šçš„Step1, Step2éƒ½å°æ‡‰è‘—CMLçš„æŒ‡ä»¤\u0026hellip;\nè€ŒCacheçš„é»å°±åœ¨æ–¼ï¼Œå…¶å¯¦é™¤äº†ADD . . ä»¥å¤–(åŸå§‹ç¢¼æ¯æ¬¡æ‰“åŒ…æ™‚éƒ½æœƒæœ‰æ›´å‹•)ï¼Œå…¶å¯¦WORKDIR, RUN npm installé€™äº›æŒ‡ä»¤å…¶å¯¦éƒ½æ˜¯é‡è¤‡çš„ï¼Œæˆ‘å€‘æ¯æ¬¡æ‰“åŒ…éƒ½éœ€è¦å†é‡è¤‡åŸ·è¡Œä¸€æ¬¡ï¼Œé€™æ¨£å¾ˆæ²’**æ•ˆç‡ **\næ–¼æ˜¯Dokcerå°±æœƒæŠŠé€™äº›é‡è¤‡çš„äº‹æƒ…Cachingèµ·ä¾†ï¼Œåªè¦æ²’æœ‰æ”¹è®Šå°±ä¸æœƒé‡è¤‡å†åšï¼Œå°±æœƒçœ‹åˆ°ä¸Šé¢çš„Using Cacheäº†\nALPINE ç¿»è­¯çš„æ„æ€æ˜¯é«˜å±±\næˆ‘å‰›å‰›æ‰“åŒ…çš„Imageæª”æ¡ˆå·²ç¶“å¿«é€¼è¿‘ä¸€å€‹Gäº†ï¼Œå¾ˆæ˜é¡¯æˆ‘å€‘å…¶å¯¦ä¸éœ€è¦é‚£éº¼å¤šçš„æ±è¥¿ï¼ŒAlpineç‰ˆæœ¬çš„å°±æ˜¯ä¸€å€‹éå¸¸å°çš„é¡åƒã€‚\nå¯¦éš›å®‰è£ALPINE 1  docker pull node:lts-alpine   å…©è€…çš„Sizeå·®äº†å¿«åå€\nDocker Compose å°‡å¾Œç«¯èˆ‡è³‡æ–™åº«ä¸€èµ·åŒ…ä¸€åŒ… ä¸€å€‹Projectä¸å¯èƒ½åªç”±ä¸€å€‹å¾Œç«¯çµ„æˆï¼Œè‚¯å®šæ˜¯è¦ç”±å¾Œç«¯ã€å‰ç«¯ã€ä»¥åŠè³‡æ–™åº«ä¸‰è€…çµ„åˆï¼Œç”šè‡³æ›´ç”šè€…å¯èƒ½æœƒæœ‰10,20å€‹çš„éƒ¨ä»¶éœ€è¦å»çµ„åˆï¼Œé‚£éº¼ä¸€å€‹ä¸€å€‹run containeré€™ä»¶äº‹æƒ…å°±è®Šå¾—ç›¸ç•¶ç¼ºä¹æ•ˆç‡ã€‚ç‚ºäº†è™•ç†é€™ä»¶äº‹æƒ…ï¼Œæ–¼æ˜¯æœ‰äº†Docker-Composeçš„æ¦‚å¿µå‡ºç¾ã€‚\nDocker-Composeå¤§æ¦‚å°±åƒé€™æ¨£ï¼Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  version:\u0026#39;3.7\u0026#39;services:db:container_name:postgres-for-dockerpracticeimage:postgresenvironment:POSTGRES_PASSWORD:rootPOSTGRES_USER:rootPOSTGRES_DB:rootvolumes:- ./pgdata:/var/lib/postgresql/dataports:- \u0026#39;5432:5432\u0026#39;backend:container_name:backend-for-dockerpracticeimage:shopdepends_on:- dbports:- \u0026#39;8080:8080\u0026#39;  å’Œdockerfileä¸€æ¨£å­˜åœ¨æ–¼å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­\nä»–é¡ä¼¼æ–¼ä¸€å€‹é…ç½®æª”ï¼Œç”¨ä»¥å‘Šè¨´Dockerè¦å•Ÿå‹•å“ªäº›Containerï¼Œä»¥åŠå®ƒå€‘ä¹‹é–“çš„äº¤äº’é—œä¿‚ï¼Œä»¥ä¸Šé¢çš„Docker-compose.ymlä¾†èªªæ˜\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  version:\u0026#39;3.7\u0026#39;//è¦ä½¿ç”¨çš„dokcer-composeç‰ˆæœ¬ï¼Œæœ‰åˆ†å¾ˆå¤šç‰ˆï¼Œæ¯”å¦‚èªª1.0,2.0ï¼Œä½†ç›®å‰ä¸»æµæ˜¯3.0ï¼Œæ‰€ä»¥ç…§è‘—å¯«å°±å¥½services://æ¯ä¸€å€‹èµ·èµ·ä¾†çš„Containeræœ‰ä¸€å€‹ç‰¹æ®Šçš„åå­—ï¼Œå«åšserviceï¼Œé€™å€‹yamlæª”å°±æœ‰å…©å€‹serviceï¼Œåˆ†åˆ¥å«dbè·Ÿbackenddb://å¯è‡ªå®šç¾©çš„serviceåç¨±ï¼Œé«˜èˆˆå«å•¥å°±å«å•¥ï¼Œä½†é€™å€‹åå­—æœƒèˆ‡ä½ åœ¨application.propertiesè£¡æè¿°çš„åç¨±æœ‰å°æ‡‰é—œä¿‚ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢çš„é™„åœ–ï¼Œç¬¬å››è¡Œçš„url:jdbc:postgresql://db:5432/shopï¼Œå…¶ä¸­çš„dbå°±æ˜¯serviceçš„åç¨±container_name:postgres-for-dockerpractice //è‡ªå®šç¾©çš„åç¨±ï¼Œæƒ³å«å•¥å°±å«å•¥ï¼Œé€™åç¨±æœƒæ˜¯ä½ çš„Containeråç¨±image:postgres //è¦ä½¿ç”¨å“ªå€‹imageä½œç‚ºåŸºåº•environment:POSTGRES_PASSWORD:45002502POSTGRES_USER:postgresPOSTGRES_DB:shopvolumes:- ./pgdata:/var/lib/postgresql/dataports:- \u0026#39;5432:5432\u0026#39;//è¦æš´éœ²å‡ºä¾†çš„ç«¯å£backend://å¯è‡ªå®šç¾©çš„serviceåç¨±ï¼Œé«˜èˆˆå«å•¥å°±å«å•¥ï¼Œä½†é€™å€‹åå­—æœƒèˆ‡ä½ åœ¨application.propertiesè£¡æè¿°çš„åç¨±æœ‰å°æ‡‰é—œä¿‚ã€‚container_name:backend-for-dockerpractice //è‡ªå®šç¾©çš„åç¨±ï¼Œæƒ³å«å•¥å°±å«å•¥ï¼Œé€™åç¨±æœƒæ˜¯ä½ çš„Containeråç¨±image:shop //è¦ä½¿ç”¨å“ªå€‹imageä½œç‚ºåŸºåº•ï¼Œé€™å€‹æ˜¯æˆ‘è‡ªå·±docker build -t shop:latest . æ‰€å‰µå»ºå‡ºä¾†çš„imagedepends_on:- db //é€™æ„å‘³è‘—ï¼Œä½ é€™é‚Šçš„serviceæœƒç­‰åˆ°dbé€™å€‹serviceå®Œæˆå¾Œæ‰æœƒé€²è¡Œéƒ¨å±¬ã€‚ports:- \u0026#39;8080:8080\u0026#39;// æš´éœ²å‡ºä¾†çš„ç«¯å£  â–²ç¬¬å››è¡Œçš„dbèˆ‡servicesçš„åç¨±æœ‰å°æ‡‰ã€‚\nâ–²ä¸Šè¿°çš„docker-composeå•Ÿå‹•å¾Œé¡¯ç¤ºçš„æ¨£å­ã€‚\nå¸¸ç”¨çš„æŒ‡ä»¤\nå•Ÿå‹•ç•¶å‰ç›®éŒ„çš„docker-compose\n1  docker compose up   é—œé–‰ç•¶å‰ç›®éŒ„çš„docker-compose\n1  docker compose down   ","date":"2023-01-18T21:47:50+08:00","image":"https://i.imgur.com/JdDwgHn.png ","permalink":"https://hoxtoncraft.com/p/docker%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/","title":"Dockerå­¸ç¿’ç­†è¨˜"},{"content":"å‰é™£å­åœ¨ç¶²è·¯ä¸Šæ‰¾çœ‹çœ‹æœ‰æ²’æœ‰ä»€éº¼å¯¦ç”¨çš„GitæŒ‡ä»¤ï¼Œç„¡æ„é–“çœ‹åˆ°é€™å€‹åŠŸèƒ½ã€‚\nåªè¦åœ¨Githubçš„é é¢æŒ‰ä¸‹ \u0026gt; ï¼Œå°±å¯ä»¥é–‹å•Ÿç¶²é ç‰ˆçš„Vscodeå›‰ï¼Œä¸éæœ‰å€‹å°ç¼ºé»å°±æ˜¯ï¼ŒVscodeé–‹å•Ÿæ™‚ä»‹é¢èªè¨€æ˜¯ä¾æ“šä½ ç€è¦½å™¨çš„èªè¨€æ‰€æ±ºå®šï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦ä½¿ç”¨è‹±æ–‡ç‰ˆçš„Vscodeå°±è¦æŠŠChromeçš„èªè¨€è¨­å®šæˆè‹±æ–‡å–”ã€‚\né€™æ¨£é–‹å•Ÿå¾Œæœ€ç›´è§€çš„å¥½è™•å°±æ˜¯å¯ä»¥ç›´æ¥åœ¨Githubä¸Šä»¥Vscodeç·¨è¼¯ç¨‹å¼ç¢¼ï¼Œåšå¿«é€Ÿçš„ä¿®æ”¹ï¼Œç€è¦½èµ·ä¾†ä¹Ÿæ¯”è¼ƒå¿«ï¼Œä¸ç„¶åŸæœ¬ç¶²é åœ¨çœ‹çš„è©±é€Ÿåº¦éå¸¸çš„æ…¢ï¼ä¸¦ä¸”ä¹Ÿå¯ä»¥åœ¨ä¸Šé¢åšè¡çªçš„è™•ç†ã€‚\n","date":"2023-01-11T23:27:27+08:00","image":"https://i.imgur.com/Gckim1N.png","permalink":"https://hoxtoncraft.com/p/%E4%BD%A0%E7%9F%A5%E9%81%93%E5%97%8E%E7%8F%BE%E5%9C%A8github%E4%B8%8A%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8vscode%E5%96%94/","title":"ä½ çŸ¥é“å—?ç¾åœ¨Githubä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨Vscodeå–”ï¼"},{"content":"å‰è¨€ æ•´ç†ä¸€ä¸‹å·¥ä½œä¸Šæœ‰ç”¨éï¼Œä¸¦è¦ºå¾—å¯¦ç”¨ã€æ¯”è¼ƒå°‘äººæéçš„ä¸€äº›GitæŒ‡ä»¤ã€‚\nGitæŒ‡ä»¤  é€€å›åˆ°ä¸Šä¸€å€‹Commitï¼Œæ•¸å­—å¯ä»¥æ›´æ”¹ï¼Œ1å°±æ˜¯ä¸Šä¸€æ¬¡ï¼Œæ”¹æˆä¸‰çš„è©±å°±æ˜¯ä¸‰æ¬¡å‰çš„Commit  1  git checkout HEAD~1   é€€å›ä¸Šä¸€æ¬¡çš„Commitï¼Œé‡è¤‡è¼¸å…¥çš„è©±æœƒå¾€å¾©å¾ªç’°  1  git checkout -   å°‡æœ¬æ¬¡ä¿®æ”¹åˆä½µè‡³ä¸Šæ¬¡Commitï¼Œå¦‚æœæœ‰æ¼æ‰çš„æäº¤æœƒå¸¸ç”¨é€™å€‹æŒ‡ä»¤  1  git commit --amend --no-edit   ","date":"2023-01-06T14:15:51+08:00","image":"https://i.imgur.com/nCGDuUc.png ","permalink":"https://hoxtoncraft.com/p/%E5%AF%A6%E7%94%A8%E7%9A%84git%E6%8C%87%E4%BB%A4/","title":"å¯¦ç”¨çš„GitæŒ‡ä»¤"},{"content":"é–‹é ­ Javaä¸­çš„ä¾‹å¤–åˆ†ç‚ºå—æª¢ä¾‹å¤–èˆ‡éå—æª¢ä¾‹å¤–(RuntimeExcetption)å…©å¤§é¡ï¼Œå¯ä»¥å…ˆçœ‹åˆ°é€™å¼µåœ–ã€‚\næ‰€è¬‚çš„éå—æª¢ä¾‹å¤–å°±æ˜¯æŒ‡ç¹¼æ‰¿äº†RuntimeExceptionçš„Exceptionï¼Œé€™é¡çš„Exceptionç™¼ç”Ÿï¼Œè€Œéå—æª¢ä¾‹å¤–å°±æ˜¯æŒ‡æ²’æœ‰ç¹¼æ‰¿RuntimeExceptionçš„Exceptionã€‚å¯ä»¥çœ‹ä¸‹åˆ—çš„åœ–ç‰‡\nä½•è¬‚å—æª¢ä¾‹å¤–èˆ‡éå—æª¢ä¾‹å¤– å—æª¢ä¾‹å¤–ä¹‹æ‰€ä»¥å«å—æª¢ä¾‹å¤–ï¼Œå°±åœ¨æ–¼é€™äº›ä¾‹å¤–æ˜¯å·¥ç¨‹å¸«å¿…é ˆæ˜ç¢ºæª¢æŸ¥ä¸¦è™•ç†çš„ä¾‹å¤–ï¼Œä¾‹å¦‚è®€å–æª”æ¡ˆæ™‚ç™¼ç”Ÿçš„FileNotFoundExceptionï¼Œé€™é¡çš„Exceptionï¼ŒJVMæ²’æœ‰è¾¦æ³•é€²è¡Œè™•ç†ï¼Œå› æ­¤éœ€è¦å·¥ç¨‹å¸«å»åšè™•ç†ã€‚è€ŒRumtimeExceptionå‰‡æ˜¯æŒ‡é‚£äº›å·¥ç¨‹å¸«ä¸éœ€è¦å»æ˜ç¢ºè™•ç†çš„Exceptionï¼Œæ¯”å¦‚èªªNullPointerException, ArrayIndexOutOfBoundsExceptionï¼Œé€™é¡çš„ä¾‹å¤–éƒ½æ˜¯ç¹¼æ‰¿è‡ªRuntimeExceptionï¼Œå¯ä»¥ç”±JVMé€²è¡Œè™•ç†ï¼Œç•¶ç„¶è¦è™•ç†ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¯”å¦‚èªªé€™æ¨£\n(å¯ä»¥çœ‹åˆ°å·¦é‚Šç¬¬13è¡Œçš„æ–¹æ³•ï¼Œæ²’æœ‰è¢«try..catchåŒ…ä½ä¹Ÿæ²’äº‹ï¼Œå› ç‚ºè©²æ–¹æ³•æ‹‹å‡ºçš„ä¾‹å¤–æ˜¯NumberFormatExceptionï¼Œé€™å€‹ä¾‹å¤–ç¹¼æ‰¿äº†RuntimeExceptionï¼Œå› æ­¤ä¸ç”¨try\u0026hellip;catchè™•ç†ä¹Ÿæ²’é—œä¿‚ï¼ŒJVMæœƒè‡ªå‹•å¹«æˆ‘å€‘è™•ç†ï¼Œå¦‚æœè¦æ”¾åˆ°try\u0026hellip;catchçš„è©±ï¼Œå‰‡æ˜¯åœ¨catchæ®µè£¡å»catch NumberFormatException)\nå°‡æ–¹æ³•æ”¾å…¥try\u0026hellip;catchä¹‹å¾Œï¼Œå› ç‚ºcatchæ˜¯æŠ“RuntimeExceptionï¼Œæ‰€ä»¥è¢«æŠ“åˆ°å¾Œæœƒprintå‡ºcatch errorã€‚\nå¦å¤–æ¯”è¼ƒå¯¦å‹™ä¸Šçš„èªªæ³•å³æ˜¯ï¼Œå—æª¢ä¾‹å¤–(checked Exception)æ˜¯å¯è¢«ä¿®å¾©çš„ä¾‹å¤–ï¼Œå¯ä»¥è©¦çœ‹çœ‹retryï¼Œè€Œä¸å¯ä¿®å¾©çš„ä¾‹å¤–å°±æ˜¯éå—æª¢ä¾‹å¤–(RunTimeException)ï¼Œé€™ç¨®æ™‚å€™å°±ä»£è¡¨ç¨‹å¼å‡ºäº†å•é¡Œï¼Œæœ‰bugï¼Œéœ€è¦å·¥ç¨‹å¸«ä¸‹ä¾†é€²è¡Œè™•ç†ï¼ŒæŠŠå•é¡Œè™•ç†æ‰\nä¾†æºï¼š2021 IT éµäºº Day 09 å–®å…ƒæ¸¬è©¦èˆ‡ä¾‹å¤–è™•ç†\né‚£å¦‚æœä¸€å€‹methodæœƒæ‹‹å‡ºå—æª¢ä¾‹å¤–ï¼Œè€Œåœ¨è©²methodä¸­åˆæ²’æœ‰åšè™•ç†ï¼Œå‰‡æœƒéœ€è¦å‘¼å«å®ƒçš„é‚£ä¸€å€‹methodé€²è¡Œè™•ç†ã€‚\nå³é‚Šçš„æ–¹æ³•å¯¦éš›ä¸Šä¸æœƒæ‹‹å‡ºIOExceptionï¼Œæ‰€ä»¥æœƒé¡¯ç¤ºç‚ºç°è‰²çš„ï¼Œé€™é‚Šåªæ˜¯ä½œç‚ºDemoå…ˆå¯«ä¸Šå»ã€‚å¯ä»¥çœ‹åˆ°ç•«é¢å·¦é‚Šçš„åœ°æ–¹ï¼Œæ­¤æ™‚IDEè·Ÿæˆ‘å€‘å ±éŒ¯ï¼Œèªªé€™å€‹æ–¹æ³•æœƒæ‹‹å‡ºä¸€å€‹IOExceptionï¼Œè¦æˆ‘å€‘é€²è¡Œè™•ç†ï¼Œå› ç‚ºIOExceptionæ˜¯ä¸€å€‹å—æª¢ä¾‹å¤–ï¼ŒJVMæœ¬èº«æ²’æœ‰èƒ½åŠ›å¯ä»¥é€²è¡Œè™•ç†ã€‚\nå¤§æ¦‚å…ˆé€™æ¨£ï¼Œå…¶ä»–æƒ³åˆ°å¾Œè£œã€‚\n","date":"2022-12-27T15:12:58+08:00","image":"https://i.imgur.com/dwbYvaF.png","permalink":"https://hoxtoncraft.com/p/java%E4%B8%AD%E7%9A%84throwthrowstry...catch%E5%8F%97%E6%AA%A2%E4%BE%8B%E5%A4%96%E8%88%87%E9%9D%9E%E5%8F%97%E6%AA%A2%E4%BE%8B%E5%A4%96/","title":"Javaä¸­çš„throw,throws,try...catchï¼Œå—æª¢ä¾‹å¤–èˆ‡éå—æª¢ä¾‹å¤–"},{"content":"åºè¨€ åƒè€ƒè³‡æ–™ï¼š\nAgile Hsinchu 2022.11 - ã€ˆä½ å°±æ˜¯ä¸å¯«æ¸¬è©¦ï¼Œæ‰æœƒæ²’æ™‚é–“ã€‰ç·šä¸Šå°è®€\næ¸¬è©¦æœ‰æ™‚é–“å†å¯«ï¼Ÿä½ å°±æ˜¯ä¸å¯«æ‰æœƒæ²’æ™‚é–“ï¼\nä½ å°±æ˜¯éƒ½ä¸å¯«æ¸¬è©¦æ‰æœƒæ²’æ™‚é–“ï¼šKuma çš„ 30 å¤© Unit Test æ‰‹æŠŠæ‰‹æ•™å­¸ï¼Œå¾ç†è«–åˆ°å¯¦æˆ° ï¼ˆJava ç¯‡ï¼‰\nTDD(Test-Driven Development)æ˜¯ä¸€å€‹è»Ÿé«”é–‹ç™¼çš„æ¨¡å¼ï¼Œå®ƒçš„æ¦‚å¿µå¾ˆç°¡å–®ï¼Œå°±æ˜¯å…ˆå¯«æ¸¬è©¦åœ¨å¯«ç¨‹å¼ï¼Œ\né€™æ¨£çš„äº‹æƒ…æœƒè®“æˆ‘å€‘è¦ºå¾—ä¸å¯æ€è­°ï¼Œå› ç‚ºæˆ‘å€‘ä¸€ç›´ä»¥ä¾†å¯«ç¨‹å¼çš„æ–¹å¼éƒ½æ˜¯å…ˆå¯«ç¨‹å¼ï¼Œè€Œæ¸¬è©¦å‰‡æ˜¯æœ‰æ™‚é–“æ‰å†è£œçš„æ±è¥¿ã€‚é‚£æ”¹æˆå…ˆå¯«æ¸¬è©¦æœƒæœ‰ä»€éº¼å¥½è™•å‘¢ï¼Ÿé€™éƒ¨åˆ†æˆ‘å€‘ç­‰ç­‰å†ä¾†è«‡ï¼Œæˆ‘å€‘å…ˆè¨è«–TDDæœ€æ ¸å¿ƒçš„éƒ¨åˆ†â€”å–®å…ƒæ¸¬è©¦(Unit Test)ã€‚\nå–®å…ƒæ¸¬è©¦åœ¨TDDçš„ä½œç”¨æ˜¯ä»€éº¼ â€‹\tä¸€é–‹å§‹åœ¨èªè­˜å–®å…ƒæ¸¬è©¦çš„æ™‚å€™ï¼Œè¨±å¤šäººçš„æƒ³æ³•éƒ½æœƒèªç‚ºèªªï¼Œå–®å…ƒæ¸¬è©¦å¯ä»¥é¿å…Bugï¼Œå¯ä»¥æå‡ç¨‹å¼ç¢¼çš„å“è³ªã€‚ç¢ºå¯¦é€™äº›éƒ½æ˜¯Unit Testçš„å¥½è™•ï¼Œä½†å»ä¸æ˜¯æœ€æ ¸å¿ƒçš„é—œéµï¼Œå–®å…ƒæ¸¬è©¦æœ€é‡è¦çš„é»åœ¨æ–¼å¹«åŠ©æˆ‘å€‘é‡æ§‹ç¾æœ‰çš„ç¨‹å¼æ¶æ§‹ã€‚\nâ€‹\tæˆ‘å€‘åœ¨ç¶“æ‰‹ä¸€å€‹é …ç›®çš„æ™‚å€™ï¼Œç¬¬äºŒå€‹æœˆçš„ç†è§£ä¸€å®šæœƒæ¯”ç¬¬ä¸€å€‹æœˆçš„ç†è§£æ›´æ·±ï¼Œç¬¬ä¸‰å€‹æœˆçš„ç†è§£ä¹Ÿä¸€å®šæœƒæ¯”ç¬¬äºŒå€‹æœˆçš„ç†è§£æ›´åŠ æ·±åˆ»ï¼Œå¯èƒ½ä¸‰å€‹æœˆå‰æ‰€ä½¿ç”¨çš„æ¶æ§‹ï¼Œåœ¨ä¸‰å€‹æœˆå¾Œï¼Œéš¨è‘—æ¥­å‹™è¦æ¨¡çš„æ“´å±•ã€éœ€æ±‚çš„å¢åŠ ï¼Œè€Œéœ€è¦å»æ–°å¢æ–°çš„ç¨‹å¼ï¼Œæˆ–æ˜¯æ”¹è®ŠåŸæœ‰çš„è¨­è¨ˆï¼Œå› è€Œæ¼¸æ¼¸ä¸æ•·ä½¿ç”¨ï¼Œåœ¨é€™æ¨£çš„æƒ…å½¢ä¸‹ï¼Œè‹¥æ²’æœ‰å–®å…ƒæ¸¬è©¦çš„ä¿è­·æ”¯æŒæˆ‘å€‘é‡æ§‹ï¼Œè®“æˆ‘å€‘ç¢ºä¿æ¯ä¸€æ­¥çš„Designéƒ½æ²’æœ‰ç ´å£åŸæœ‰ç¨‹å¼çš„è¨­è¨ˆï¼Œå·¥ç¨‹å¸«æœƒè®Šå¾—å»å®³æ€•ä¿®æ”¹èˆŠæœ‰çš„ç¨‹å¼ç¢¼ï¼Œå› è€Œå°è‡´ä¸æ•·ä½¿ç”¨çš„æ¶æ§‹ç¹¼çºŒç”Ÿé•·ä¸‹å»ã€‚\n(â–² ç¨‹å¼èƒ½è·‘ï¼Œä½†é‚„èƒ½åœ¨æ›´å¥½ï¼‰\nâ€‹\tå¦‚æœåªæ˜¯é€™æ¨£å­é‚„æ²’ä»€éº¼å•é¡Œï¼Œç•¢ç«Ÿå°±åªæ˜¯æŠŠæ±è¥¿ä¸€å€‹æ¥è‘—ä¸€å€‹åœ°ç–Šä¸Šå»ï¼Œé ‚å¤šå°±æ˜¯ä¸å¥½ç¶­è­·è€Œå·²ã€‚ä½†å¯¦éš›ä¸Šçš„é–‹ç™¼ä¸­ï¼Œæ˜¯å¾ˆå¸¸å‡ºç¾æ”¹ï¼¡å£ï¼¢é€™ç¨®æƒ…æ³çš„ï¼Œåœ¨æ²’æœ‰å–®å…ƒæ¸¬è©¦çš„ä¿è­·ä¸‹ï¼Œå·¥ç¨‹å¸«åœ¨é–‹ç™¼ä¸­æ˜¯ä¸æœƒçŸ¥é“è‡ªå·±æ›´æ–°çš„é€™æ®µç¨‹å¼ç¢¼æœƒå°æŸäº›ç¨‹å¼é€ æˆå½±éŸ¿ï¼Œå¾€å¾€è¦ç­‰åˆ°åˆä½µå¾Œæ‰èƒ½å‡ºç¾å•é¡Œï¼Œæ‰€ä»¥æœƒå‡ºç¾ä¸€ç¨®æƒ…æ³å°±æ˜¯å‰æœŸé–‹ç™¼çš„éƒ½å¾ˆé †åˆ©ï¼Œè€Œè¶Šåˆ°å¾Œé¢Dead Lineï¼Œæ•ˆç‡å°±è¶Šç™¼ä¸‹é™ï¼Œå› ç‚ºå·¥ç¨‹å¸«åœ¨é–‹ç™¼çš„ç•¶ä¸‹ä¸çŸ¥é“è‡ªå·±æ–°å¢çš„åŠŸèƒ½åˆ°åº•æœƒä¸æœƒå°åˆ¥äººé€ æˆå½±éŸ¿ã€‚è€Œæœ‰äº†æ¸¬è©¦çš„ä¿è­·ï¼Œæˆ‘å€‘å¯ä»¥åœ¨å¯«ç¨‹å¼çš„æ™‚å€™å°±çŸ¥é“ç¾åœ¨ç¨‹å¼çš„é‹è¡Œç‹€æ³ï¼Œä»Šå¤©é€™æ¨£å­çš„ä¿®æ”¹æœƒä¸æœƒå°è‡´å…¶ä»–ç¨‹å¼è·‘ä¸èµ·ä¾†ï¼Œå¦‚æœè·‘ä¸èµ·ä¾†é‚£å–®å…ƒæ¸¬è©¦å°±ä¸æœƒéï¼Œé€™æ¨£çš„å›é¥‹æ˜¯ç«‹å³æ€§çš„å›æ‡‰ï¼Œè€Œä¸éœ€è¦ç­‰åˆ°åˆä½µå¾Œå¤§å®¶æ‰çŸ¥é“ã€‚\n(â–² éš¨è‘—é–‹ç™¼æ™‚é–“çš„å¢åŠ ï¼ŒTDDçš„å„ªå‹¢æœƒæ›´å‡¸é¡¯å‡ºä¾†ï¼‰\nAgileèˆ‡TDD  è¬›åˆ°Agileå°±æœƒè¬›åˆ°ç€‘å¸ƒå¼é–‹ç™¼(WaterFall)ï¼Œä½†ä½ çŸ¥é“å—ï¼Ÿå…¶å¯¦å¾ä¾†éƒ½æ²’æœ‰ç€‘å¸ƒå¼é–‹ç™¼é€™ç¨®äº‹æƒ…å–”ã€‚\n ç€‘å¸ƒå¼é–‹ç™¼æ˜¯ä¾†è‡ªæ–¼Winston Royceåœ¨1970æ‰€æå‡ºçš„è«–æ–‡Managing the Development of Larger Software Systemsè¢«æå‡ºï¼Œä½†äº‹å¯¦ä¸Šé€™å€‹é–‹ç™¼æ¨¡å¼åœ¨é€™ç¯‡è«–æ–‡çš„ä¸‹ä¸€è¡Œå°±è¢«Winston Royceå¦æ±ºäº†ã€‚\n I believe in this concept, but the implementation described above is risky and inivites failure. The problem is illustrated in Figure 4 .\næˆ‘ç›¸ä¿¡é€™å€‹æ¦‚å¿µï¼Œä½†ç…§è‘—é€™ä¸Šé¢çš„æµç¨‹åšçš„è©±æ˜¯é«˜é¢¨éšªä¸”æ˜“å°è‡´éŒ¯èª¤çš„ï¼ŒåŸå› å°±å¦‚ç¬¬å››å¼µåœ–æ‰€ç¤º\n â€‹\t(â–²Figure 4)\n The testing phase which occurs at the end of the development cycle is the first event for which timing, stotage, input/output transfers, etc, are experienced as distinguished from analyzed. These phenomena are not precisely analyzable. There phenomena are not precisely analyzable. They are not the solutions or the satndard partial differential quations of mathematical physics for instatnce. Yet if there phenomena fail to satisfy the various external constraints, then invariablt a major redesign is required . A simple octal patch or redo of some isolated code will not fix there kinds of difficulties. The required design changes are likely to be so disruptive that the software requiremnets upon which the design is based and which provides the rationale for everything are violated. Either the requirements must be modified, or a substantial change in the design is required. In effect the development process has returned to the origin and one can expect up to a 100-percent overrun in schedule and/or costs\nåœ¨é–‹ç™¼æµç¨‹çš„æœ€å¾Œä¸€å€‹éšæ®µ-æ¸¬è©¦ï¼Œç¬¬ä¸€å€‹é‡åˆ°çš„äº‹æƒ…å°±æ˜¯æ™‚åºã€å„²å­˜ï¼Œè¼¸å‡ºè¼¸å…¥ï¼Œé€™äº›ç¾è±¡æƒ…æ³ç„¡æ³•æº–ç¢ºçš„åˆ†æï¼Œé€™äº›ä¸åƒæ•¸å­¸ç‰©ç†çš„è§£ç­”ï¼Œæˆ–æ˜¯æ¨™æº–åå¾®æ–¹ç¨‹ï¼Œç„¶è€Œï¼Œå¦‚æœå­˜åœ¨ä¸èƒ½æ»¿è¶³å„ç¨®å¤–éƒ¨ç´„æŸçš„ç¾è±¡ï¼Œå‰‡ä¸å¯é¿å…åœ°éœ€è¦é€²è¡Œé‡å¤§çš„é‡æ–°è¨­è¨ˆï¼Œä¸€å€‹ç°¡å–®çš„å…«é€²åˆ¶è£œä¸æˆ–ä¸€äº›å­¤ç«‹ä»£ç¢¼çš„é‡åšä¸æœƒè§£æ±ºé€™äº›å›°é›£ï¼Œæ‰€éœ€çš„è¨­è¨ˆæ›´æ”¹å¯èƒ½æœƒé€ æˆç ´å£ï¼Œä»¥è‡³æ–¼é•åäº†è¨­è¨ˆæ‰€åŸºæ–¼çš„ä»¥åŠç‚ºæ‰€æœ‰äº‹æƒ…æä¾›åŸºæœ¬åŸç†çš„è»Ÿä»¶è¦æ±‚ã€‚ è¦ä¹ˆå¿…é ˆä¿®æ”¹è¦æ±‚ï¼Œè¦ä¹ˆéœ€è¦å°è¨­è¨ˆé€²è¡Œå¯¦è³ªæ€§æ›´æ”¹ã€‚ å¯¦éš›ä¸Šï¼Œé–‹ç™¼éç¨‹å·²ç¶“å›åˆ°åŸé»ï¼Œé è¨ˆé€²åº¦å’Œ/æˆ–æˆæœ¬æœƒè¶…æ”¯ 100%ã€‚\n Winston Royceåœ¨ç€‘å¸ƒæ¨¡å‹æå‡ºçš„ç•¶ä¸‹å…¶å¯¦å°±å¦èªäº†å®ƒçš„æ„ç¾©ï¼Œä½†å¾ŒçºŒè¢«ä¸€äº›äººæ‹¿ä¾†ç•¶ä½œé–‹ç™¼çš„çª è‡¼ï¼Œä¹Ÿå°è‡´äº†é€™ç¨®é–‹ç™¼æ¨¡å¼å¾€å¾€æœƒåœ¨å®Œå·¥æ™‚å‡ºç¾é‡å¤§çš„å±å®³ã€‚Winston Royceèªç‚ºï¼Œåœ¨æœ€å¾Œçš„æ¸¬è©¦éšæ®µæ˜¯å……æ»¿è‘—æœªçŸ¥èˆ‡ä¸ç¢ºå®šæ€§ï¼Œåˆ°æœ€å¾Œæœƒåè¦†è‘—åœ¨æ¸¬è©¦ã€ç¨‹å¼ä¿®æ”¹ã€ç¢ºèªéœ€æ±‚é€™ä¸‰å€‹éšæ®µä¾†å›æ“ºç›ªï¼Œé€™æ¨£ä¸‰å€‹éšæ®µçš„ä¾†å›æ“ºç›ªæ˜¯ä¸æ˜¯æœ‰é»ä¼¼æ›¾ç›¸ä¼¼å‘¢ï¼Ÿæ²’éŒ¯ï¼Œå°±æ˜¯TDDçš„æ¦‚å¿µ\nä»€éº¼æ˜¯TDD TDDæ˜¯ä¸€å€‹é–‹ç™¼æ¨¡å¼è€Œä¸æ˜¯æ¸¬è©¦æ¨¡å¼ï¼ŒTDDçš„æ¸¬è©¦æ¨¡å¼æ˜¯ç”±\n å¯«ä¸€å€‹æœƒéŒ¯çš„æ¸¬è©¦ å¯«ä¸€å€‹å‰›å¥½æœƒéçš„ç¨‹å¼ é‡æ§‹  â€‹\té€™ä¸‰è€…å¾ªç’°ï¼Œå°æ‡‰Winston Royceå°ç€‘å¸ƒæ¨¡å‹æå‡ºçš„å¼Šç«¯ï¼Œä¹Ÿå°±æ˜¯æ¸¬è©¦ã€ä¿®æ”¹ç¨‹å¼ã€ç¢ºèªéœ€æ±‚ï¼Œä¹Ÿå› æ­¤TDDæ˜¯ä¸€å€‹å¯ä»¥è®“å•é¡Œæ—©æœŸæµ®ä¸Šæ°´é¢çš„é–‹ç™¼æ–¹å¼ï¼Œç‚ºä»€éº¼ï¼Ÿå› ç‚ºé€™æ¨£çš„é–‹ç™¼æ–¹å¼è¦æ±‚æˆ‘å€‘å°æ¥­å‹™é‚è¼¯çš„éœ€æ±‚æœ‰å……åˆ†çš„äº†è§£ï¼Œé€™æ¨£æˆ‘å€‘æ‰å¯ä»¥å¯«æ¸¬è©¦ï¼Œä¸€æ—¦éœ€æ±‚æ˜ç¢ºäº†ï¼Œé‚£éº¼å¯«å‡ºç¨‹å¼å°±åªæ˜¯æ™‚é–“çš„å•é¡Œäº†ã€‚\nâ€‹\tå¦ä¸€æ–¹é¢ï¼Œä¹Ÿæ˜¯å› ç‚ºTDDçš„é–‹ç™¼æ¨¡å¼ï¼Œæˆ‘å€‘æ¯ä¸€å€‹Codeéƒ½æœ‰å–®å…ƒæ¸¬è©¦çš„ä¿è­·ï¼Œæˆ‘å€‘å¯ä»¥éš¨æ™‚é‡æ§‹æˆ‘å€‘çš„ç¨‹å¼ç¢¼è€Œæ¯‹é ˆæ“”å¿ƒç¨‹å¼è¢«æˆ‘å€‘æ”¹éŒ¯ï¼Œæ˜¯çš„ï¼Œæ²’éŒ¯ï¼ŒTDDçš„ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µå°±åœ¨æ–¼ä»»ä½•æ™‚å€™éƒ½å¯ä»¥é‡æ§‹æˆ‘å€‘çš„ç¨‹å¼ç¢¼ï¼Œå› ç‚ºäººå°æ–¼ç³»çµ±çš„äº†è§£ï¼Œæœƒéš¨è‘—é–‹ç™¼æ™‚é–“çš„å¢åŠ è€Œäº†è§£çš„è¶Šæ·±åˆ»ï¼ŒåŠå¹´å‰çš„Codeåˆ°äº†ç¾åœ¨å¯èƒ½è¶Šçœ‹è¶Šä¸é †çœ¼ï¼Œå¦ä¸€æ–¹é¢ï¼Œéš¨è‘—æ¥­å‹™è¦æ¨¡çš„æå‡ï¼Œæˆ‘å€‘æ—©æœŸçš„è¨­è¨ˆå¯èƒ½ä¹Ÿæœƒè¶Šä¸æ•·ä½¿ç”¨ï¼Œè‹¥æ²’æœ‰å–®å…ƒæ¸¬è©¦çš„ä¿è­·ï¼Œæˆ‘å€‘é‡æ§‹çš„æˆæœ¬æœƒéš¨è‘—ç”¢å“çš„è¦æ¨¡çš„æå‡è€Œæå‡ï¼Œè€Œç™¼å±•åˆ°ä¸€å®šè¦æ¨¡çš„æƒ…æ³ä¸‹ï¼Œé‡æ§‹è®Šæˆé™ä¸å¯åŠçš„å¤¢æƒ³ã€‚\nâ€‹\tä¹Ÿæ˜¯å› ç‚ºæœ‰å–®å…ƒæ¸¬è©¦çš„ä¿è­·ï¼Œæˆ‘å€‘æ‰å¯ä»¥çœŸæ­£çš„å»è¨­è¨ˆæˆ‘å€‘çš„ç¨‹å¼ï¼Œå¸¸è¦‹çš„S.O.L.I.Dï¼Œä»¥åŠ23ç¨®è¨­è¨ˆæ¨¡å¼çš„ä½¿ç”¨ï¼Œå¦‚ä½•æ ¹æ“šä¸åŒçš„æƒ…å¢ƒå¥—ç”¨ä¸åŒçš„è¨­è¨ˆæ¨¡å¼ï¼Œé€™å°±æ˜¯å·¥ç¨‹å¸«æœ‰åƒ¹å€¼çš„åœ°æ–¹ï¼Œå¯ä»¥èªªå–®å…ƒæ¸¬è©¦çš„æ’°å¯«å®Œæ•´äº†æ•´å€‹ç‰©ä»¶å°å‘çš„ç¨‹å¼è¨­è¨ˆã€‚\n","date":"2022-12-04T22:22:06+08:00","image":"https://i.imgur.com/2xteh3C.png","permalink":"https://hoxtoncraft.com/p/%E6%B7%BA%E8%AB%87%E6%B8%AC%E8%A9%A6%E9%A9%85%E5%8B%95%E9%96%8B%E7%99%BC/","title":"æ·ºè«‡æ¸¬è©¦é©…å‹•é–‹ç™¼"},{"content":"åœ¨Junit5ä¸­ï¼Œæœ‰å°ä¸€äº›Junitçš„æ¸¬è©¦çš„è¨»è§£é€²è¡Œèª¿æ•´\næ¯”å¦‚èªª\n    Junit4 Junit5     æ¸¬è©¦ç”¨æ¡†æ¶çš„é¸æ“‡ @RunWith(MockitoJUnitRunner.class) @ExtendWith(MockitoExtension.class)    ç•¶æ¸¬è©¦æœƒä½¿ç”¨åˆ°SprintBootæ¡†æ¶æ™‚ï¼Œæ‡‰è©²è¦ä½¿ç”¨@ExtendWith(SpringExtension.class)ï¼Œ@MockBeanä¾†èª¿ç”¨\nè‹¥æ¸¬è©¦ä¸æƒ³æ¶‰åŠSprintBootçš„æ™‚å€™@ExtendWith(MockitoExtension.class)ï¼Œä»¥åŠ@Mock, @InjectMocksï¼Œä¸¦ä¸”ä½¿ç”¨MockMvcBuilders.standaloneSetupä¾†è¨­ç½®ç¨ç«‹æ¸¬è©¦ï¼Œä»¥ä¸‹æ˜¯Codeçš„ç¤ºç¯„\n1 2 3 4 5 6 7 8  \u0026lt;!-- https://mvnrepository.com/artifact/junit/junit --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.12\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  import org.junit.jupiter.api.BeforeEach; import org.junit.jupiter.api.extension.ExtendWith; import org.mockito.InjectMocks; import org.assertj.core.api.Assertions; import org.mockito.Mock; import org.mockito.junit.jupiter.MockitoExtension; import org.springframework.test.web.servlet.MockMvc; import org.springframework.test.web.servlet.setup.MockMvcBuilders; import static org.assertj.core.api.Assertions.assertThat; /** * @author Hoxton on 2022/11/30 */ @ExtendWith(MockitoExtension.class) public class UserControllerTest { @Mock //Controllerèª¿ç”¨çš„Service  UserService userService; @InjectMocks //è¦æ¸¬è©¦çš„Cotroller  UserController userController; MockMvc mockMvc; //æ¨¡æ“¬Mvc  @BeforeEach public void setMockMvc(){ MockMvcBuilders.standaloneSetup(userController).build(); } @Test void testMethod_situation_returnWhat(){ given(someObject.someMethod()).willReturn(\u0026#34;someting\u0026#34;); // ... è¨­ç½®  MockHttpServletResponse response = mvc.perform(get(\u0026#34;someUrl\u0026#34;)).andReturn().getResponse(); assertThat(\u0026#34;something\u0026#34;).isEqualTo(\u0026#34;thatThing\u0026#34;); } }   ","date":"2022-11-30T13:30:27+08:00","image":"https://i.imgur.com/4qePz5L.png ","permalink":"https://hoxtoncraft.com/p/%E5%A6%82%E4%BD%95%E5%B0%87junit%E7%9A%84%E6%B8%AC%E8%A9%A6%E7%B2%92%E5%BA%A6%E6%8E%A7%E5%88%B6%E5%9C%A8%E6%9C%80%E5%B0%8F%E5%96%AE%E5%85%83/","title":"å¦‚ä½•å°‡Junitçš„æ¸¬è©¦ç²’åº¦æ§åˆ¶åœ¨æœ€å°å–®å…ƒ"},{"content":"æœ€è¿‘æ¥­é…å…¬å¸ï¼Œè®“å…¬å¸è€é—†è²·äº†IDEAè®“æˆ‘å€‘å¾Œç«¯å·¥ç¨‹å¸«ä¾†ä½¿ç”¨ï¼Œå› æ­¤æŠ€è¡“åˆ†äº«åšäº†ä¸€æ¬¡IDEAçš„ä¸»é¡Œï¼Œåœ¨é€™é‚ŠæŠŠæŠ€è¡“åˆ†äº«çš„ä¸€äº›å…§å®¹åšæˆæ–‡ç« ï¼Œåˆ†äº«ä¸€ä¸‹\næ¨è–¦çš„Plugin    Pluginåç¨± æˆªåœ–     One Dark Theme\nä½ˆæ™¯ä¸»é¡Œ    \næŒ‰éµæç¤º    Rainbow Brackets\næ‹¬å¼§é¡è‰²é¡¯ç¤º    Nyan Progress Barè®€å–æ¢æ”¹è®Š    WakaTime\nå·¥ä½œçš„ç´€éŒ„     è¦æ”¹çš„è¨­å®š    Code Completion\nAlt+.\n      Second Basic Alt+/\n    Type-Match-Completion\nAlt+;\n    Run F10\n å°±Run   Terminal Alt+`\n| |    æ›´æ”¹Terminal Bash CMD or Window terminal    æ›´æ”¹TODO æ¨¡æ¿\n     å¯¦ç”¨çš„å¿«æ·éµ    åŠŸèƒ½ é è¦½     sout,souv\nå¿«é€Ÿå°å‡º    æœå°‹ Shift+shift å¿«é€Ÿåˆ—å‡ºæ‰€æœ‰å¯èƒ½ï¼Œå¿«é€Ÿå®šä½   åˆ‡æ›åˆ†é \nCtrl+E é è¨­å¿«æ·éµï¼Œæœƒåˆ—å‡ºæœ€è¿‘é–‹å•Ÿçš„åˆ†é    é¸æ“‡æª”æ¡ˆ\nAlt+F1ç„¶å¾ŒæŒ‰1\nè‹¥ä¸æƒ³é¸æ“‡æŒ‰Escé€€å›Editor    å¿«é€Ÿé¸å–å€å¡Š\nCtrl+W    å¿«é€Ÿé¸å–æ–¹æ³•\nAlt+â†‘    æŸ¥çœ‹æ ¹æº\nCtrl+B    å¿«é€Ÿå®šä½éŒ¯èª¤\nF2    æŸ¥çœ‹è®Šæ•¸æç¤º\nCtrl+P    ä¿®æ”¹\nShift+F6    å…§å»ºGitBlameåŠŸèƒ½\nå°è¡Œæ•¸å³éµé¸æ“‡gitBlame    è¬èƒ½éµContext Action\nå¼•å…¥è®Šæ•¸ã€éŒ¯èª¤ä¿®æ­£\u0026hellip;     ","date":"2022-11-10T23:52:33+08:00","image":"https://i.imgur.com/zyn4XVp.png","permalink":"https://hoxtoncraft.com/p/idea%E7%9A%84%E4%BB%8B%E7%B4%B9/","title":"IDEAçš„ä»‹ç´¹"},{"content":"æ¨è–¦çš„Plugin    Pluginåç¨± æˆªåœ–     One Dark Theme\nä½ˆæ™¯ä¸»é¡Œ    \næŒ‰éµæç¤º    Rainbow Brackets\næ‹¬å¼§é¡è‰²é¡¯ç¤º    Nyan Progress Barè®€å–æ¢æ”¹è®Š     è¦æ”¹çš„è¨­å®š          Code Completion Alt+.\n    Second Basic Alt+/\n    Run F10\n å°±Run   Terminal Alt+`\n| |    æ›´æ”¹Terminal Bash CMD or Window terminal    æ›´æ”¹TODO æ¨¡æ¿\n     å¯¦ç”¨çš„å¿«æ·éµ    åŠŸèƒ½ é è¦½     æœå°‹ Shift+shift å¿«é€Ÿåˆ—å‡ºæ‰€æœ‰å¯èƒ½ï¼Œå¿«é€Ÿå®šä½   åˆ‡æ›åˆ†é \nCtrl+E é è¨­å¿«æ·éµï¼Œæœƒåˆ—å‡ºæœ€è¿‘é–‹å•Ÿçš„åˆ†é    é¸æ“‡æª”æ¡ˆ\nAlt+F1ç„¶å¾ŒæŒ‰1\nè‹¥ä¸æƒ³é¸æ“‡æŒ‰Escé€€å›Editor    å¿«é€Ÿé¸å–å€å¡Š\nCtrl+W    å¿«é€Ÿé¸å–æ–¹æ³•\nAlt+â†‘    å…§å»ºGitBlameåŠŸèƒ½\nå°è¡Œæ•¸å³éµé¸æ“‡gitBlame     ","date":"2022-10-23T20:40:49+08:00","image":"https://i.imgur.com/Fx9nanx.png","permalink":"https://hoxtoncraft.com/p/intellij%E4%BB%8B%E7%B4%B9/","title":"IntelliJä»‹ç´¹"},{"content":"æœ€è¿‘åœ¨ç ”ç©¶C++ï¼Œä½†ç™¼ç¾æˆ‘çš„CLionä¸çŸ¥é“ç‚ºä»€éº¼åªèƒ½æœ‰ä¸€å€‹Mainæ–¹æ³•ï¼Œå¾Œä¾†ç¶²è·¯ä¸ŠæŸ¥äº†ä¸€ä¸‹ä¹‹å¾Œç™¼ç¾å¥½åƒæ˜¯å› ç‚ºCMakeçš„é—œä¿‚ã€‚\n éŒ¯èª¤è¨Šæ¯\n å¾Œä¾†ç ”ç©¶äº†ä¸€ä¸‹ï¼Œç™¼ç¾åªè¦åœ¨Projectåº•ä¸‹çš„CMakeList.txtåŠ ä¸Šé€™æ®µå°±å¯ä»¥äº†\n1 2 3 4 5 6  file (GLOB files *.cpp) foreach (file ${files}) string(REGEX REPLACE \u0026#34;.+/(.+)\\\\..*\u0026#34; \u0026#34;\\\\1\u0026#34; exe ${file}) add_executable (${exe} ${file}) message (\\ \\ \\ \\ --\\ src/${exe}.cpp\\ will\\ be\\ compiled\\ to\\ bin/${exe}) endforeach ()    å®Œæ•´çš„åœ–ç‰‡å¦‚ä¸Š\n åŠ å…¥ä¹‹å¾Œè¨˜å¾—è¦Reload CMake Project\n","date":"2022-10-17T18:09:43+08:00","image":"https://i.imgur.com/aGwtINt.png","permalink":"https://hoxtoncraft.com/p/clion%E7%9A%84mutilmain/","title":"CLionçš„MutilMain"},{"content":"[058]\nä½œæ¥­ç³»çµ±æ€éº¼å¿µï¼Ÿç­†è¨˜çœ‹ç†Ÿï¼Œè“‹èµ·ä¾†å”¸ï¼Œå¿µæ¶æ§‹ï¼Œå¯ä»¥è‡ªå·±æŠŠç« ç¯€çµæ§‹ç•«å‡ºä¾†\nç”³è«–é¡Œå¹³å¸¸åœ¨ç·´ç¿’æ™‚ï¼Œå‡è¨­ä¸€å¤©ç·´ç¿’åé¡Œçš„æƒ…å¢ƒä¸‹ï¼Œ\n3é¡Œå‹•æ‰‹å»å¯«ï¼Œå‰©ä¸‹7é¡ŒæŠŠæ¶æ§‹ç•«å‡ºä¾†å°±å¥½\n[TOC]\nChapter1 Intruduction ç®¡ç†ç¡¬é«”çš„è»Ÿé«”å°±æ˜¯ä½œæ¥­ç³»çµ±ï¼Œç¡¬é«”åŒ…å«CPUï¼ŒMemoryï¼ŒI/Oè¨­å‚™ç­‰ç­‰â€¦ä½œæ¥­ç³»çµ±å°±æ˜¯è² è²¬ç®¡ç†é€™äº›ç¡¬é«”çš„ç³»çµ±ã€‚ä¸€å€‹é›»è…¦ç³»çµ±å¯ä»¥è¢«ç²—ç•¥çš„åŠƒåˆ†æˆä¸‹é¢å››å€‹çµ„ä»¶ï¼š\n ç¡¬é«”(hardware) ä½œæ¥­ç³»çµ±(operating system) æ‡‰ç”¨ç¨‹å¼(application programs) ä½¿ç”¨è€…(user)  Hardware åŒ…æ‹¬CPU(Central Processing Unit)ï¼Œè¨˜æ†¶é«”(Memory)ï¼ŒInput/outputè¨­å‚™â€¦æä¾›çµ¦ç³»çµ±åŸºæœ¬çš„è¨ˆç®—è³‡æº\nOperating System è² è²¬å”èª¿ç¡¬é«”èˆ‡æ‡‰ç”¨ç¨‹å¼ï¼Œçµ¦ä¸åŒçš„ä½¿ç”¨è€…\nApplication Programs ä¾‹å¦‚Wordï¼ŒExcelï¼ŒChromeä¹‹é¡çš„æ‡‰ç”¨ç¨‹å¼ï¼Œä¾†è™•ç†ä½¿ç”¨è€…çš„è¨ˆç®—å•é¡Œ(Computing Problems)\nè£œå……ï¼š\n Bare Machine(è£¸æ©Ÿ): ç´”ç²¹åªæœ‰ç¡¬é«”çµ„æˆï¼Œæ²’æœ‰OSåŠSystem Programs Extended Machine: Bare MachineåŠ ä¸ŠOS/system programs   In Memory  Command Interpreter(å‘½ä»¤è§£è­¯å™¨)    Multiprogramming System  å®šç¾©ï¼šç³»çµ±å…è¨±å¤šå€‹Jobs(Process)åŒæ™‚åŸ·è¡Œï¼Œå³æ˜¯Multiprogramming   ä¸»è¦ç›®çš„ï¼šæé«˜CPU Utilization ä½œæ³•ï¼šé€éJob Scheduling or CPU SchedulingæŠ€è¡“é”æˆ  exampleï¼šç•¶åŸ·è¡Œä¸­çš„process waiting for I/O completed, å‰‡OSå¯å°‡CPUåˆ‡æ›çµ¦å¦ä¸€å€‹processåŸ·è¡Œï¼Œé¿å…CPU idle ã€‚\nå³åªè¦ç³»çµ±å…§æœ‰å¤ å¤šçš„å·¥ä½œå­˜åœ¨ï¼Œå‰‡CPU IDLEçš„æ©Ÿæœƒå°±ä¸‹é™\nMulitiprogramming Degreeä¹‹å®šç¾©   ç³»çµ±å…§çš„Processçš„æ•¸ç›®ï¼šä¸€èˆ¬è€Œè¨€ï¼ŒDegreeè¶Šé«˜ï¼ŒCPUåˆ©ç”¨ç‡å°±è¶Šé«˜ã€‚  (Noteï¼šVirtual Memory Thrashingç‹€æ³é™¤å¤–)\n å¤šå€‹Processçš„å®šç¾©ã€ä»¥åŠå¦‚ä½•åŸ·è¡Œ\n Concurrent execution(ä¸¦è¡Œ)ï¼šä¸€é¡†CPUï¼Œå¤§å®¶ä¸€èµ·è¼ªç•ªä½¿ç”¨   Parallel execution(å¹³è¡Œ)ï¼šå¤šé¡†CPUæˆ–æ˜¯Multi-core(å¤šæ ¸)ï¼Œå„è‡ªåŸ·è¡Œ    Time-Sharing System åˆ†æ™‚ç³»çµ±\nå®šç¾©ï¼šåˆå«Multitasking[æé¾æœ¬å¦‚æ˜¯èªª]\n It\u0026rsquo;s a logical extension of Multiprogeamming system\n èˆ‡Multiprogrammingçš„æœ€å¤§å·®ç•°ï¼šCPUçš„åˆ‡æ›é »ç‡æ¥µé«˜\n  Time-Sharing System features\n å¼·èª¿å°User Responseçš„æ™‚é–“è¦çŸ­(\u0026lt;1ç§’) é©ç”¨æ–¼user interactiveçš„Computing/ Environment å°æ¯ä¸€å€‹processéƒ½å…¬å¹³    Main Frame(ä¸»æ©Ÿ)\n CPU Schedulingæ¡å–RRçš„æ’ç­æ³•å‰‡(ç¬¬å››ç« æœƒä»‹ç´¹) ä½¿ç”¨Virtual Memoryçš„æŠ€è¡“ï¼Œæ“´å±•Logical Memory Space ä½¿ç”¨Spoolingçš„æŠ€è¡“(ä¸å¤ªæœƒè€ƒ)å¯¦ç¾I/O Deviceçš„å…±ç”¨ï¼Œé¡ä¼¼ç¾ä»£çš„BufferingæŠ€è¡“ï¼Œè®“æ¯å€‹userï¼Œçš†ä»¥ç‚ºè‡ªå·±æœ‰å°ˆå±¬çš„çš„Computer  Multiprocessors System å®šç¾©ï¼šåˆå«Multiprocessing or Paraller or Tightly-coupled system(ç·Šå¯†è€¦åˆç³»çµ±)\nfaetureï¼š\n ä¸€å€‹æ©Ÿå™¨(or MotherBoard)å…§ï¼Œæœ‰å¤šå€‹Processors(or CPUs) é€™äº›CPUså½¼æ­¤å…±äº«æ­¤æ©Ÿå™¨çš„Memory,Bus,I/O-Device, power-supplier etc\u0026hellip; é€šå¸¸å—åŒä¸€Clockä¹‹æ™‚è„ˆæ§åˆ¶ ç”±åŒä¸€å€‹OSç®¡ç† processorsä¹‹é–“çš„æºé€šå¤§éƒ½æ¡shared Memoryæ–¹å¼  Benefits(å¥½è™•)ï¼š\n Increased Throughputï¼šç”¢èƒ½å¢åŠ  Increased Reliabilityï¼šå¯é åº¦çš„æå‡ Economy Of Scaleï¼šé‹ç®—èƒ½åŠ›çš„æ“´å……æ¯”è¼ƒå¥½  ã€€åˆ†æå¦‚ä¸‹ï¼š\nIncreased Throughputï¼š\nå¯æ”¯æŒå¤šå€‹å·¥ä½œåœ¨ä¸åŒCPUä¸Šå¹³è¡ŒåŸ·è¡Œ(paraller Computing)ï¼Œæ³¨æ„ï¼ŒNé¡†CPUä¹‹ç”¢èƒ½çµ•å°å°æ–¼1é¡†CPUç”¢èƒ½xNå€ï¼Œæ„å³CPUæ•¸é‡çš„æå‡èˆ‡ç”¢èƒ½çš„æå‡ä¸¦éç·šæ€§æˆé•·ã€‚åŸå› æ˜¯å› ç‚º\n Resource Contetion(è³‡æºçš„ç«¶çˆ­) Processorsé–“çš„CommunicationæœƒæŠµæ¶ˆç”¢èƒ½  Increased Reliability:\næŸä¸€é¡†CPUå£äº†ï¼Œå‰‡Systemä¸æœƒå› æ­¤è€Œåœé “ï¼Œå› ç‚ºå…¶ä»–CPUä»å¯é‹ä½œ\n Graceful degradation(æ¼¸é€²å¼çš„æ»…äº¡)   Systemä¸è‡³å› ç‚ºæŸäº›Hardward/Softwareä¹‹å…ƒä»¶æ•…éšœè€Œåœé “ï¼Œä»ç„¶ä¿æœ‰æŒçºŒé‹ä½œçš„èƒ½åŠ›ï¼Œé€™æ€§è³ªå°±ç¨±ç‚ºfail-soft   Fault-Tolerant system(å®¹éŒ¯ç³»çµ±)è€ƒè©¦ä¸å¤ªæœƒè€ƒ\n å…·æœ‰graceful degradationæ€§è³ªä¹‹ç³»çµ±å°±å«åšFault-Tolerant systemï¼Œæƒ³è¦é”æˆå®¹éŒ¯çš„æŠ€è¡“éœ€è¦æœ‰å…©ä»¶äº‹æƒ…çš„æ”¯æ´   è¦æœ‰backupçš„ç³»çµ±ï¼Œåˆ‡æ›ä¹Ÿè¦æµæš¢    Economy of Scale:\né‹ç®—èƒ½åŠ›æ“´å……ç¬¦åˆç¶“æ¿Ÿæ•ˆç›Š\n âˆµNé¡†CPUåœ¨ä¸€éƒ¨æ©Ÿå™¨å…§ï¼Œèˆ‡Néƒ¨æ©Ÿå™¨ç›¸æ¯”ï¼Œæˆæœ¬è¼ƒä¾¿å®œâˆµé€™äº›CPUså…±äº«åŒä¸€æ©Ÿå™¨ä¹‹Memory, Bus, I/O-Device, etc  Two SubType in Multiprocessors System  SMP(Symmetric MultiProcessors) å°ç¨±çš„ ASMP(Asymmetric MultiProcessors) éå°ç¨±çš„  SMP\nå®šç¾©ï¼šæ¯å€‹Processorçš„å·¥ä½œèƒ½åŠ›æ˜¯ç›¸åŒçš„(Identical)ï¼Œä¸”æ¯å€‹CPUéƒ½æœ‰å°ç­‰ã€å¹³ç­‰çš„æ¬Šåˆ©ä¾†å­˜å–è³‡æº\nå„ªé»ï¼š\n å¯é åº¦è¼ƒASMPé«˜ï¼Œå› å·¥ä½œèƒ½åŠ›ç›¸åŒï¼Œå³ä½¿å…¶ä¸­ä¸€å€‹cpuæ›äº†ä¹Ÿå¯ä»¥è¢«ç«‹åˆ»å–ä»£ æ•ˆèƒ½è¼ƒé«˜  ç¼ºé»ï¼š\n SMPçš„OSè¨­è¨ˆé–‹ç™¼è¼ƒç‚ºè¤‡é›œ(äº’æ–¥å­˜å–çš„æ©Ÿåˆ¶è¨­è¨ˆ,è³‡æºçš„ç«¶çˆ­)  ASMP\nå®šç¾©ï¼šæ¯å€‹Processorä¹‹å·¥ä½œèƒ½åŠ›ä¸ç›¡ç›¸åŒï¼Œé€šå¸¸æ˜¯æ¡å–Master-Slaveçš„æ¶æ§‹(æé¾æœ¬æœ‰æ™‚å€™æœƒå¯«æˆBoss-Employee\nMaster-Processorè² è²¬å·¥ä½œåˆ†æ´¾åŠè³‡æºåˆ†é…ï¼Œç›£ç£Slavesç­‰ç®¡ç†å·¥ä½œ\nSlave Processorsè² è²¬åŸ·è¡Œå·¥ä½œ\nå„ªé»ï¼šASMPçš„OSè¨­è¨ˆé–‹ç™¼è¼ƒç‚ºSimpleï¼Œâˆµèˆ‡Simple-Cpu Osç‰ˆé¡ä¼¼\nç¼ºé»ï¼š\n å¯é åº¦ä½ï¼ŒMaster CPUå¦‚æœå£äº†ï¼Œå°±æœƒåœæ“ºï¼Œç›´åˆ°å¦ä¸€é¡†CPUè¢«Trainæ¥æ‰‹ æ•ˆèƒ½è¼ƒä½âˆµMaster CPUæ˜¯ç“¶é ¸  Multiprocessors System VS MultiCores CPU å¾ä½œæ¥­ç³»çµ±ä¾†çœ‹å·®ç•°ä¸å¤§ï¼Œä¸»è¦å·®ç•°æ˜¯ç¡¬é«”çš„å·®ç•°(ä¸»è¦)ï¼Œä»¥OSä¾†çœ‹ï¼Œä½ è£äº†ä¸€é¡†å…©æ ¸çš„CPUï¼ŒOSæœƒè¦–ä½œå…©é¡†CPUï¼›è£å››æ ¸çš„è¦–ä½œå››é¡†CPU\n MultiProcessors  MultiCores CPU  å„ªé»\n Power Savingï¼šç›¸è¼ƒMultiProcessorï¼Œåœ¨ä¸€å€‹CPUä¸Šæä¾›å…©å€‹Coreçš„èƒ½æºè€—ææœƒæ¯”åœ¨ä¸€å¼µæ¿å­ä¸Šæä¾›å…©é¡†CPUçš„èƒ½æºè€—æé‚„ä¾†å¾—ä½ã€‚ Speedæ¯”è¼ƒå¿«(âˆµè™•åœ¨åŒä¸€å€‹æ™¶ç‰‡å…§è³‡æ–™å‚³è¼¸é€Ÿåº¦è¼ƒå¿«)  Distribute System å®šç¾©ï¼šåˆå«Loosely-Coupled system(é¬†æ•£è€¦åˆç³»çµ±)ï¼Œä¸»è¦çš„Featureå¦‚ä¸‹\n  å¤šéƒ¨æ©Ÿå™¨å½¼æ­¤é€éNetwork(or Bus)ç›¸äº’ä¸²é€£\n  æ¯éƒ¨æ©Ÿå™¨ä¹‹CPUæœ‰å„è‡ªç§æœ‰çš„Memory, Bus, I/O-Device, etc ä¸¦éå…±äº«\n  å„CPUä¹‹Clockæ™‚è„ˆæ§åˆ¶ä¸ä¸€å®šç›¸åŒ\n  å„CPUä¸Šä¹‹OSä¹Ÿä¸ä¸€å®šç›¸åŒ\n  å„Processorsä¹‹é–“çš„æºé€šå¤§éƒ½æ¡**\u0026ldquo;Message Passing\u0026rdquo;**æ–¹å¼\n Message Passing (é¡ä¼¼è¬›é›»è©±)\nStep\n å»ºç«‹Communication Link Message ç›¸äº’å‚³è¼¸ é‡‹æ”¾Link     Advantage of Distribute-System  Increased Throughput(æ”¯æŒParaller Computing) Increased Reliability(ä¸€å€‹æ›æ‰ï¼Œé‚„æœ‰å…¶ä»–å¯ä»¥æ“‹) Resource Sharing(è³‡æºå…±äº«å› æ­¤æˆæœ¬é™ä½)   æ”¯æŒ\u0026quot;Client-Server\u0026quot; Computing Modelä¹‹å¯¦æ–½\n Server(ä¼ºæœå™¨)ï¼šæä¾›æŸäº›æœå‹™çš„æ©Ÿå™¨ example: mail server, file server ,DNS,printer server, computing server \u0026hellip; Clientï¼šæœ¬èº«ä¸æä¾›æœå‹™ï¼Œä¸”å®ƒéœ€è¦æŸäº›æœå‹™æ™‚ï¼Œå‰‡ç™¼è«‹æ±‚è‡³Server, Serveræœå‹™å®Œå†å°‡çµæœå›å‚³Client    Note\nPeer-to-Peer modelï¼špeeræ„æŒ‡åŒæ™‚å…·æœ‰serveråŠClientçš„è§’è‰²ï¼Œè‹±æ–‡æ„æ€æ˜¯åŒç­‰çš„ã€å°ç­‰çš„\n Remote sites Communicationçš„éœ€æ±‚è¢«æ»¿è¶³ exampleï¼šemail, FTP via Internet  Real-Time System (å³æ™‚ç³»çµ±)\nåˆ†æˆå…©ç¨®\n Hard real-time System Soft real-time System  Hard real-time system å®šç¾©ï¼šThis system must ensure the critical tasks complete on timeï¼Œå³å·¥ä½œå¿…é ˆåœ¨è¦å®šçš„æ™‚é–“é™åˆ¶å…§å®Œæˆï¼Œå¦å‰‡å³ç®—å¤±æ•—\nèˆ‰ä¾‹ï¼šè»äº‹é˜²è¡›ç³»çµ±ã€æ ¸èƒ½å®‰æ§ç³»çµ±ã€å·¥å» è‡ªå‹•åŒ–ç”Ÿç”¢\u0026hellip;\nè¨­è¨ˆè€ƒé‡ï¼š\n æ‰€æœ‰æ™‚é–“å»¶é²ä¹‹å› ç´ çš†é ˆç´å…¥è€ƒé‡ egï¼šsensor data å‚³è¼¸é€Ÿåº¦ã€é‹ç®—é€Ÿåº¦ã€Signalçš„å‚³è¼¸ etcï¼Œç¢ºä¿é€™äº›æ™‚é–“çš„åŠ ç¸½èƒ½å¤ æ»¿è¶³æ™‚é–“deadlineçš„è¦æ±‚ æ‰€æœ‰æœƒé€ æˆè™•ç†æ™‚é–“éä¹…æˆ–ç„¡æ³•é æ¸¬ä¹‹è¨­å‚™æˆ–æ©Ÿåˆ¶ï¼Œç›¡é‡å°‘æ¡ç”¨æˆ–ä¸ç”¨ egï¼šDiskä¸ç”¨æˆ–å°‘ç”¨ã€Virtual Memory çµ•å°ä¸æ¡ç”¨ å°±CPU Schedulingè¨­è¨ˆ(Ch4)è€Œè¨€ï¼Œéœ€å…ˆè€ƒé‡Schedulableèˆ‡å¦ï¼Œå†é€²è¡Œæ’ç¨‹(eg rate-monotonic, EDF scheduling)ï¼Œç¢ºå®šCPUèƒ½è² è·å†é€²è¡Œæ’ç¨‹ Time Sharing system ç„¡æ³•èˆ‡ä¹‹ä¸¦å­˜(Time sharingæ˜¯å±¬æ–¼Multitaskingï¼Œå¯ä»¥åŒæ™‚åŸ·è¡Œå¤šå€‹ç¨‹åºï¼Œä¸¦é€éä¸€äº›é¢¨å‹¢å»å„ªå…ˆåŸ·è¡ŒæŸäº›ç¨‹åºï¼Œè€ŒHard real-timeæ¯”è¼ƒåƒå–®é‹ç®—ç³»çµ±ï¼Œè¦æ±‚åœ¨æŒ‡å®šæ™‚é–“å…§å®Œæˆï¼Œå› æ­¤æ›´å°ˆæ³¨æ–¼å–®ä¸€ç¨‹åºçš„åŸ·è¡Œï¼Œç”±æ–¼é€™å…©å€‹ç³»çµ±æœ‰é€™æ¨£çš„å·®ç•°ï¼Œå› æ­¤ç„¡æ³•å…±æ¦®) OSæ‰€é€ æˆçš„Dispatch latency etc. å®œé™ä½(interruptçš„è™•ç†, system callçš„è«‹æ±‚)ï¼Œä¸€èˆ¬å¯¦å‹™ä¸Šï¼Œhard-real-time systemï¼Œé®®å°‘æœ‰OSçš„å­˜åœ¨(å¹¾ä¹ä¸å­˜åœ¨)ï¼Œå°¤å…¶æ˜¯embedded real-time systemï¼Œå› éœ€è¦åŠæ™‚çš„éŸ¿æ‡‰ ç¾è¡Œçš„å•†ç”¨OSä¸æ”¯æ´Hard real-time features é€šå¸¸éƒ½æ˜¯å®¢è£½åŒ–çš„ç‰¹æ®Šè¨­è¨ˆeg : Linux, Unix, Window, Apple Os, Solaris etc  â€‹\nSoft real-time system å®šç¾©ï¼šThis system must ensure the real-time process get the hightest priority than the others and retain(ç¶­æŒ) this priority level unit it completed\nèˆ‰ä¾‹ï¼šMultimedia System, Simulation system, VR system, etc\nè¨­è¨ˆè€ƒé‡ï¼š\n å°± CPU Scheduling è¨­è¨ˆ(ch4)è€Œè¨€ï¼Œ  å¿…é ˆæ”¯æŒpreemptive priority scheduling ä¸å¯æä¾›AgingæŠ€è¡“(æ´»å¾—è¶Šä¹…ï¼Œpriorityè¶Šé«˜)   ç›¡é‡é™ä½kernelçš„Dispatch latency time å¯æ”¯æ´virtual memory ä¸¦å­˜ï¼Œä½†å‰ææ˜¯real-time-processçš„å…¨éƒ¨pageså¿…é ˆçš†å¾…åœ¨memoryä¸­ï¼Œç›´åˆ°å®Œå·¥ï¼Œé«˜å„ªå…ˆæ¬Šçš„Processä¸è¦ä½¿ç”¨virtual memory èˆ‡Time-sharing system å¯ä»¥ä¸¦å­˜ï¼Œegï¼šsolaris ä¸€èˆ¬å•†ç”¨OSéƒ½æ”¯æ´Soft-real-time system  Batch System å®šç¾©ï¼šå°‡ä¸€äº›è¼ƒä¸ç·Šæ€¥ï¼Œå®šæœŸæ€§ã€éäº¤è«‡äº’å‹•æ€§çš„Jobï¼Œç´¯ç©æˆå †ï¼Œå†åˆ†æ‰¹æ¬¡ï¼Œé€å…¥ç³»çµ±è™•ç†\nèˆ‰ä¾‹ï¼šåº«å­˜ç³»çµ±ã€å ±ç¨…ç³»çµ±ã€æƒæ¯’ã€ç£ç¢Ÿé‡çµ„ã€æ¸…ç®—ç³»çµ±\u0026hellip;\nä¸»è¦ç›®çš„ï¼šæé«˜resource utilizationï¼Œå°¤å…¶æ˜¯åœ¨å†·é–€æ™‚æ®µï¼Œä¸é©åˆç”¨åœ¨real-time-system, user-interactive application egï¼šé›»è…¦éŠæˆ²\nHand Held system å®šç¾©ï¼šå–®æ‰‹å¯æŒæ¡æ“ä½œçš„ç³»çµ±\n Hardware å¤©ç”Ÿä¹‹é™åˆ¶ï¼Œå¸¶ä¾†softwareå¿…é ˆé…åˆä¹‹è™•     Hardwareå¤©ç”Ÿé™åˆ¶ Softwareå¿…é ˆé…åˆä¹‹è¨­è¨ˆ     Slower processor\n(èƒŒå¾Œä¹‹é™åˆ¶)\n1. power ä¾›æ‡‰çš„å•é¡Œï¼Œé›»ä¾›ä¸è¶³\n2. æ•£ç†±ç³»çµ±çš„è¨­è¨ˆ é‹ç®—ä¸èƒ½å¤ªè¤‡é›œï¼Œè¦ç°¡å–®   Memoryç©ºé–“æœ‰é™ ç¨‹å¼çš„Sizeè¦å°ï¼Œä¸ç”¨çš„è¨˜æ†¶é«”è¦ç«‹åˆ»é‡‹æ”¾   DisplayMonitorå¾ˆå° é¡¯ç¤ºçš„å…§å®¹è¦æœ‰æ‰€åˆªæ¸›    Chapter2 Computer System Architecture I/O Operating And Hardware Resources Protection  å­¸ç¿’è·¯ç·š   I/Oé‹ä½œæ–¹å¼\n Polling I/O\nInterrupted I/O\nDMA\n Interruptæ©Ÿåˆ¶è™•ç†èˆ‡ç¨®é¡\nHW Resource Protection\n åŸºç¤å»ºè¨­\n Dual Model Operation\nPrivileged Instruction\n I/O\nMemory Protection\nCPU\n  I/O Operating Polling I/O I/O Polling(è¼ªå·¡,è©¢å•å¼) I/O\nå®šç¾©ï¼šåˆå«Busy_waiting I/O or Programmed I/O\næ­¥é©Ÿå¦‚ä¸‹\n I/O Request çµ¦ OS (åŸ·è¡Œä¸­çš„Processä¸æœƒè‡ªå·±åšI/O) OSæ”¶åˆ°è«‹æ±‚å¾Œï¼Œ(å¯èƒ½)æœƒæš«åœæ­¤ProcessåŸ·è¡Œï¼Œä¸¦åŸ·è¡Œå°æ‡‰çš„System Calls. Kernel çš„ I/O-subsystem(å°ˆé–€ç”¨ä¾†è™•ç†I/Oçš„è«‹æ±‚ï¼Œåªæ˜¯å€‹éæ°´è€Œå·²)æœƒPassæ­¤è«‹æ±‚çµ¦Device driver Divice Driver ä¾æ­¤è«‹æ±‚ï¼Œè¨­å®šå°æ‡‰çš„I/O Commandsåƒæ•¸çµ¦Device Controller Device Controller å•Ÿå‹•ç›£ç£I/O-Deviceä¹‹I/Oé‹ä½œé€²è¡Œ åœ¨é€™æ®µæ™‚é–“å…§ï¼ŒOS(å¯èƒ½)å°‡CPUåˆ‡çµ¦å¦ä¸€å€‹processåŸ·è¡Œ ç„¶è€Œï¼Œæ²’äººä¸»å‹•å»å‘Šè¨´CPU I/Oçš„åŸ·è¡Œç‹€æ³ï¼Œå› æ­¤CPUåœ¨åŸ·è¡Œprocesså·¥ä½œéç¨‹ä¸­ï¼Œå»è¦ä¸æ–·å»Polling Device Controllerï¼Œå·²ç¢ºå®šI/Oé‹ä½œæ˜¯å¦å®Œæˆæˆ–æœ‰I/O error  ç¼ºé»ï¼š\n CPUè€—è²»å¤§é‡æ™‚é–“ç”¨æ–¼polling I/O Device Controllerä¸Šï¼Œä¸¦æœªå…¨ç”¨æ–¼process executeä¸Šï¼Œæ•…CPU utilizationä½ã€throughputä¸é«˜  Interrupted I/O Interrupted (ä¸­æ–·,ä¸­æ–·å¼)I/O I/O\nå®šç¾©ï¼š\næ­¥é©Ÿå¦‚ä¸‹ï¼š\n  I/O Request çµ¦ OS (åŸ·è¡Œä¸­çš„Processä¸æœƒè‡ªå·±åšI/O)\n  OSæ”¶åˆ°è«‹æ±‚å¾Œï¼Œ(å¯èƒ½)æœƒæš«åœæ­¤ProcessåŸ·è¡Œï¼Œä¸¦åŸ·è¡Œå°æ‡‰çš„System Calls.\n  Kernel çš„ I/O-subsystem(å°ˆé–€ç”¨ä¾†è™•ç†I/Oçš„è«‹æ±‚ï¼Œåªæ˜¯å€‹éæ°´è€Œå·²)æœƒPassæ­¤è«‹æ±‚çµ¦Device driver\n  Divice Driver ä¾æ­¤è«‹æ±‚ï¼Œè¨­å®šå°æ‡‰çš„I/O Commandsåƒæ•¸çµ¦Device Controller\n  Device Controller å•Ÿå‹•ç›£ç£I/O-Deviceä¹‹I/Oé‹ä½œé€²è¡Œ\n  åœ¨é€™æ®µæ™‚é–“å…§ï¼ŒOS(å¯èƒ½)å°‡CPUåˆ‡çµ¦å¦ä¸€å€‹processåŸ·è¡Œ\n  ç•¶I/Oé‹ä½œå®Œæˆï¼ŒDevice Controller æœƒç™¼å‡º I/O-Completed Interrupt é€šçŸ¥OS(CPU)\n  OSæ”¶åˆ°ä¸­æ–·å¾Œ(å¯èƒ½)æœƒæš«åœç›®å‰Processçš„åŸ·è¡Œ(å› æœ‰äº›Interruptå„ªå…ˆæ¬Šå¯èƒ½å¾ˆä½ï¼Œå¯ä»¥å…ˆæš«æ™‚ä¸è™•ç†)\n  OSå¿…é ˆæŸ¥è©¢ Interrupt Vectorï¼Œç¢ºèªä½•ç¨®ä¸­æ–·ç™¼ç”Ÿï¼ŒåŒæ™‚ä¹Ÿè¦æ‰¾åˆ°è©²ä¸­æ–·çš„æœå‹™è™•ç†ç¨‹å¼(ISRï¼šInterrupt Service Routine)çš„ä½å€(æ¯ä¸€å€‹ä¸­æ–·éƒ½æœ‰ä¸€å€‹å°æ‡‰çš„ä¸­æ–·è™•ç†æœå‹™ç¨‹å¼\n  Jump to ISRä½å€ åŸ·è¡ŒISR\n  ISRå®Œæˆå¾Œï¼Œreturn control to kernelï¼Œkernelä¹Ÿè¨±åšä¸€äº›é€šçŸ¥å·¥ä½œ\n  æ¢å¾©(resume)åŸå…ˆä¸­æ–·å‰çš„å·¥ä½œåŸ·è¡Œæˆ–äº¤ç”±CPU Scheduleræ±ºå®š\n  å„ªé»ï¼šCPUä¸é ˆè€—è²»æ™‚é–“ç”¨æ–¼Polling I/O-Deviceï¼Œè€Œæ˜¯å¯ä»¥ç”¨æ–¼Process executeä¸Šï¼ŒCPU utilizationæå‡ï¼Œthroughoutæé«˜ï¼Œimprove the system performance\nç¼ºé»ï¼š\n Interruptä¹‹è™•ç†ä»éœ€è€—è²»CPU timeï¼Œå¦‚æœ I/Oé‹ä½œæ™‚é–“ å°æ–¼ Interruptè™•ç†æ™‚é–“ï¼Œå‰‡ä½¿ç”¨Interrupt I/Oå°±ä¸åˆ’ç®—ï¼Œä¸å¦‚ä½¿ç”¨polling I/O è‹¥ä¸­æ–·çš„é »ç‡éé«˜ï¼Œå‰‡å¤§é‡çš„ä¸­æ–·è™•ç†æœƒå ç”¨å¹¾ä¹å…¨éƒ¨çš„CPU Timeï¼Œå‰‡ç³»çµ±æ•ˆèƒ½æœƒå¾ˆå·® CPUä»éœ€è€—è²»ä¸€äº›æ™‚é–“ç”¨æ–¼ç›£ç£I/O-Diviceèˆ‡Memoryä¹‹é–“çš„Data Transferéç¨‹  DMA (Direct Memory Access) I/O  å®šç¾©ï¼šDMA Controller è² è²¬ I/O-Device(è¨­å‚™)èˆ‡Memory ä¹‹é–“çš„Data transfer(å‚³è¼¸)å·¥ä½œï¼Œéç¨‹ä¸­ä¸éœ€CPUä¹‹åƒèˆ‡ç›£ç£ï¼Œå› æ­¤CPUæœ‰æ›´å¤šæ™‚é–“ç”¨æ–¼Process executeä¸Š  å„ªé»ï¼š\n CPU Utilizationæ›´é«˜ é©åˆç”¨åœ¨Block-Transfer oriented I/O-Deviceä¸Š(ä»£è¡¨ä¸­æ–·ç™¼ç”Ÿçš„é »ç‡ä¸è‡´æ–¼éé«˜ eg:Disk, ç£ç¢Ÿçš„æ§åˆ¶å™¨æœƒå’ŒDMAçš„æ§åˆ¶å™¨å…©å€‹æœƒç›¸äº’åˆä½œï¼Œç£ç¢Ÿæ§åˆ¶å™¨æœƒå»æŒ‡æ®ç£ç¢Ÿçš„é‹ä½œï¼Œè®€å‡ºä¾†çš„è³‡æ–™æœƒé€šçŸ¥DMAçš„æ§åˆ¶å™¨ï¼ŒDMAæœƒæŠŠè³‡æ–™è¼¸é€²Memoryè£¡) ä¸æ˜¯ç”¨æ–¼Byte-transger oriented I/O-Device  ç¼ºé»ï¼š\n å¼•é€²DMA Controlleræœƒå¢åŠ HWè¨­è¨ˆè¤‡é›œåº¦(Complicated the HW design)   åŸå› ï¼šDMAçš„Controlleræœƒè·ŸCPUç«¶çˆ­çˆ­å¥ªMemory(è¨˜æ†¶é«”)ã€Bus(åŒ¯æµæ’)çš„ä½¿ç”¨æ¬Šï¼Œè‹¥DMC Controller å ç”¨äº†memory , Bus æ™‚ï¼ŒCPUè¦è¢«è¿«ç­‰å¾…\nè£œå……ï¼šDMA Controlleré€šå¸¸æ¡ç”¨\u0026quot;Cycle Stealing\u0026quot;æŠ€è¡“ (or Interleaving)èˆ‡CPU è¼ªç•ª(äº¤æ›¿)ä½¿ç”¨memoryè·ŸBusï¼Œå¦‚æœCPUèˆ‡DMA Controllerç™¼ç”Ÿconflict(åŒæ™‚è¦ç”¨Memory èˆ‡ bus)ï¼Œå‰‡æœƒçµ¦DMAè¼ƒé«˜çš„çš„å„ªå…ˆæ¬Š\n  é€šå¸¸ç³»çµ±æœƒçµ¦äºˆã€Œå°è©²è³‡æºéœ€æ±‚é‡ã€é »ç‡ç­‰è¼ƒå°ã€çš„å°è±¡æœ‰è¼ƒé«˜çš„å„ªå…ˆæ¬Šï¼Œé€™æ¨£æœƒç²å¾—\n å¹³å‡ç­‰å¾…æ™‚é–“è¼ƒå° å¹³å‡ç”¢èƒ½è¼ƒé«˜  çš„å¥½è™•\n  æ©Ÿå™¨æŒ‡ä»¤çš„Stages (CPUåŸ·è¡Œçš„å¹¾å€‹éšæ®µ)\n     IF DE FO EX WM     IFï¼šInstruction Fetch æŠ“æŒ‡ä»¤ï¼šæ ¹æ“šProgramming Counterçš„å€¼ï¼Œåˆ°è¨˜æ†¶é«”å»æŠŠæŒ‡ä»¤æŠ“å‡ºä¾†  DEï¼šDecode è§£ç¢¼ï¼šçŸ¥é“é€™æ¢æŒ‡ä»¤åˆ°åº•åšä»€éº¼äº‹æƒ… FOï¼šFetch Operands æŠ“å–é‹ç®—å…ƒï¼šé‹ç®—å…ƒå¯èƒ½ä¾†è‡ªè¨˜æ†¶é«”ã€ä¹Ÿå¯èƒ½ä¾†è‡ªæš«å­˜å™¨ Exï¼šExecutionã€€åŸ·è¡Œ WMï¼šWrite Result to Memoryã€€å°‡çµæœå¯«å…¥è¨˜æ†¶é«”      CPUæœƒä¸æœƒMemory Accessï¼ˆåˆ°è¨˜æ†¶é«”æŠ“æ±è¥¿ï¼‰ DMAè¦ç”¨Memory     IF æœƒ è¡çª(Conflict)   DE ä¸æœƒï¼ˆæŒ‡ä»¤å·²ç¶“æ‹¿å‡ºä¾†æ”¾åˆ°IRinstructor registor) OKï¼Œæ­¡è¿   FO å¯èƒ½ (é‹ç®—å…ƒæœ‰å¯èƒ½åœ¨Registorï¼Œä¹Ÿæœ‰å¯èƒ½æ”¾åœ¨Memory) OKï¼Œæˆ–æœ‰è¡çª   EX ä¸æœƒ (ALUå»åšäº†) OKï¼Œæ­¡è¿   WM å¯èƒ½ (çµæœæœ‰å¯èƒ½å¯«å›Memoryä¹Ÿæœ‰å¯èƒ½æ˜¯æš«å­˜å™¨) OKï¼Œæˆ–æœ‰è¡çª    Cycle Stealingï¼šç•¶CPUæœƒä½¿ç”¨æˆ–ä¸æœƒä½¿ç”¨Memory Accessæ™‚ï¼ŒDMAéƒ½æœƒå»çˆ­å¥ªMemoryçš„ä½¿ç”¨æ¬Šï¼Œäº¦ç‚ºStealing(å·)ï¼Œå› ç‚ºDMAæ“æœ‰æœ€é«˜ä½¿ç”¨æ¬Šã€‚\nDMA Six Steps (æ—©:ä¸­å¤®ã€æ¸…è¯ã€äº¤å¤§)\n Device Driver User Process å‘Šè¨´ I/O subsystem(kernel)å‘Šè¨´ Device Driveris told to transfer Disk data to Buffer address X Device Driver tells disk controller to transfer C bytes from disk to Buffer at address Xå¾ç£ç¢Ÿè®€C byteçš„é‡ï¼Œåˆ†é…åˆ°è¨˜æ†¶é«”ä½å€Xçš„åœ°æ–¹ Disk controller initiates DMA Transfer Disk controller sends each byte to DMA controller DMA transfer bytes to Buffer X in creasing memory address and decreasing Counter utill Counter =0 When C=0, DMA interrupts CPU to signal transfer compeletion  Life cycle of I/O-request via Interrupted I/O Blocking and Non-Blocking I/O Blocking(æœƒæš«åœçš„) and Non-Blocking(ä¸æœƒæš«åœçš„)I/O\n æ‰€è¬‚çš„Blockingçš„æ„æ€æ˜¯ï¼Œç•¶User processç™¼å‡ºI/Oè«‹æ±‚ä¹‹å¾Œï¼Œæ¥ä¸‹ä¾†é€™å€‹prcesså°±æœƒsuspendï¼Œç›´åˆ°é€™å€‹I/Oè¢«å®Œæˆ\n Blocking-I/O: (ç­‰æ–¼Synchronous)ï¼šProcess suspended until I/O completeed\n å„ªï¼šEasy to use and understand, processåœ¨waitingçš„æ™‚å€™ï¼Œå¯ä»¥æŠŠCPUæ”¾å‡ºå»çµ¦å…¶ä»–processåšä½¿ç”¨ ç¼ºï¼šInsufficient for some needs  Non-Blocking I/Oï¼š I/O calls returns as much as available I/Oè«‹æ±‚ç™¼å‡ºå»å¾Œï¼Œæ§åˆ¶æ¬Šç«‹åˆ»è¿”å›çµ¦user process\n exampleï¼šuser interface, data copy Implemented via multi-threading Returns quickly with count of Bytes read or written  Asynchronous-I/O: (å±¬æ–¼Non-blocking)ï¼šProcess runs while, I/O executes\n Difficult to use I/O subsystem signals process when I/O-completed  Asynchronousèˆ‡Non-Blockingçš„å°å·®ç•° Asynchronous I/Oï¼šæ•´å€‹I/Oå®Œæˆï¼Œæ‰é€šçŸ¥Process\nNon-Blocking I/Oï¼šI/Oå®ŒæˆData return as much as possible (èƒ½å›å‚³å°±å›å‚³ï¼Œ å°‘é‡å³å¯å›å‚³)\nèˆ‰ä¾‹èªªæ˜ï¼šuserProcessç™¼å‡º100 byteçš„I/Oè«‹æ±‚\n Asynchronousçš„æ–¹å¼ï¼Œæœƒå°‡100byteçš„I/Oåšå®Œå¾Œï¼Œæ‰å‘Šè¨´Processåšå®Œäº† Non-Blockingçš„æ–¹å¼ï¼Œæ¯è®€25Byteå°±é€šçŸ¥ä¸€æ¬¡ï¼Œ é€æ­¥å›å ±çµ¦Processï¼Œæœƒç™¼å‡ºæ¯”è¼ƒå¤šæ¬¡çš„Interrupt  Interrupt Policy and  ç•¶Interruptç™¼ç”Ÿï¼ŒOSä¹‹è™•ç†Stepså¦‚ä¸‹ï¼š  OSæ”¶åˆ°ä¸­æ–·å¾Œ(è‹¥æ­¤ä¸­æ–·è¦è¢«ç«‹å³è™•ç†ï¼Œå‰‡OSæœƒæš«åœç›®å‰Processä¹‹åŸ·è¡Œï¼Œä¸”ä¿å­˜å…¶Status and Registers Contents) OSæœƒä¾ç…§Interrupt ID(No.)æŸ¥è©¢Interrupt Vectorä¸­æ–·å‘é‡è¡¨ï¼Œç¢ºèªä½•ç¨®Interruptç™¼ç”Ÿï¼Œä¸”æ‰¾å‡ºå…¶ISRçš„ä½å€ Jump to ISR ä½å€ï¼ŒåŸ·è¡ŒISR ISRå®Œæˆå¾Œï¼Œæ§åˆ¶æ¬Šè¿”å›Kernel OSæœƒæ¢å¾©(resume)ä¸­æ–·ä¹‹å‰Processä¹‹åŸ·è¡Œ     Interruptç¨®é¡\n  æ—©æœŸæé¾åˆ†ç‚ºä¸‰ç¨®\n External Interruptï¼šCPUä»¥å¤–çš„å‘¨é‚Šè¨­å‚™ã€æ§åˆ¶å¡ã€etcï¼Œæ‰€ç™¼å‡ºçš„ä¸­æ–·  ä¾‹ï¼šI/O-Completed, I/O-error, Machine-check,\nInternal Interruptï¼šCPUåœ¨åŸ·è¡ŒProcesséç¨‹ä¸­ï¼Œé­é‡é‡å¤§éŒ¯èª¤è€Œå¼•ç™¼  ä¾‹ï¼šDivide-by-zeroé™¤ä»¥é›¶ã€åŸ·è¡Œéæ³•çš„ç‰¹æ¬ŠæŒ‡ä»¤ã€etc\nSoftware Interruptï¼šuser process åœ¨åŸ·è¡Œä¸­ï¼Œè‹¥é ˆè¦OSæä¾›æœå‹™æ™‚ï¼Œç™¼å‡ºæ­¤é¡å‹çš„ä¸­æ–·ï¼Œç›®çš„æ˜¯é€šçŸ¥ä½œæ¥­ç³»çµ±ï¼Œè«‹å®ƒåŸ·è¡Œå°æ‡‰çš„æœå‹™è«‹æ±‚  ä¾‹ï¼šI/O-request å¥½æ¯”æ˜¯KTVçš„æœå‹™éˆ•ï¼ŒæŒ‰ä¸‹å»å°±æœƒæœ‰äººéä¾†å•ä½ è¦å¹¹å˜›\n  ç¾åœ¨æé¾åˆ†ç‚ºå…©ç¨®\n Interruptï¼šç¡¬é«”æ‰€ç”¢ç”Ÿå°±å«Interrupt Trapï¼šè»Ÿé«”æ‰€ç”¢ç”Ÿçš„å°±å«Trap    ä¾‹ï¼šè¨­å‚™ç™¼å‡ºI/O-Completed,I/O-Error,Machine-check,etcåŠTime-out by Timer\nç”¨é€”ä¸»è¦æœ‰äºŒ\n Catch the arithematic error  ä¾‹ï¼šDivide-by-zero, åŸ·è¡Œéæ³•ç‰¹æ¬ŠæŒ‡ä»¤, illegal memory access\n user process åŸ·è¡Œéœ€è¦OSæä¾›æœå‹™æ™‚ï¼Œä¹Ÿæœƒç™¼trapé€šçŸ¥OS  ä¾‹ï¼šI/Oã€€Request\nåˆ†æˆå…©é¡èƒŒå¾Œå“²å­¸ï¼šä¸­æ–·ä¹‹é–“ä¹Ÿæœ‰å„ªå…ˆæ¬Šé«˜ä½ä¹‹åˆ†  Maskable Interrupté®ç½©ï¼šæ­¤é¡ä¸­æ–·ç™¼ç”Ÿå¾Œï¼Œå¯è¢«Ignoredæˆ–å»¶å¾Œè™•ç†ä¸ä¸€å®šè¦é¦¬ä¸Šè™•ç†  ä¾‹å¦‚ï¼šSoftware-interrupt   Non-Maskableä¸å¯é®ç½©ï¼šæ­¤é¡ä¸­æ–·å¿…é ˆç«‹åˆ»è™•ç†  Internal interrupt(é‡å¤§error), I/O-error,etc        Hardware Resources Protection  åŸºç¤å»ºè¨­  Dual-modes operation(é›™é‡æ¨¡å¼) Privilege instructions    Dual-modes operation å®šç¾©ï¼šSystemä¹‹é‹ä½œæ¨¡å¼è‡³å°‘(å¯å†å¾€ä¸‹åˆ†ï¼Œä¾ç…§ç³»çµ±è¨­è¨ˆçš„å¿…è¦æ€§)å¯è¢«å€åˆ†ç‚º2ç¨®modes\n kernel mode user mode  kernel mode\nåˆå«åšsystem mode, supervisor mode, privileged mode, monitor mode(æ—©æœŸæœ‰ï¼Œç¾ç§»é™¤)ï¼Œä»£è¡¨æ­¤åˆ»æ˜¯kernelå–å¾—ç³»çµ±æ§åˆ¶(å–å¾—CPUåŸ·è¡Œæ¬Š)ï¼Œå…è¨±privilege instructions(ç‰¹æ¬ŠæŒ‡ä»¤)åœ¨æ­¤modeä¸‹åŸ·è¡Œ\nuser mode\nä»£è¡¨user processå–å¾—CPUåŸ·è¡Œï¼Œåœ¨æ­¤mode,ä¸å…è¨±åŸ·è¡Œprivilege instructions(ç‰¹æ¬ŠæŒ‡ä»¤)ï¼Œè‹¥åŸ·è¡Œå‰‡æœƒç™¼ç”Ÿtrapçš„é‡å¤§éŒ¯èª¤\næ­¤å¤–ï¼ŒDual-modeså¿…é ˆè¦æœ‰HWçš„æ”¯æŒï¼Œæ‰å¯å¯¦ç¾\nä¾‹å¦‚ï¼šCPUå…§æœƒæœ‰Mode Bitï¼Œç”¨ä»¥å€åˆ†ç¾åœ¨æ˜¯å“ªå€‹modeç•¶CPUåœ¨åŸ·è¡Œæ©Ÿå™¨æŒ‡ä»¤æ™‚ï¼ŒIFã€DE...ä¹‹é¡çš„éšæ®µï¼Œè‹¥è§£ç¢¼å®Œç™¼ç¾æ˜¯å€‹ç‰¹æ¬ŠæŒ‡ä»¤ï¼Œé€™æ™‚å€™Control unitå°±è¦æª¢æŸ¥ç›®å‰çš„mode bitï¼Œåˆ¤æ–·æ˜¯å¦å¯ä¸å¯ä»¥åŸ·è¡Œï¼Œè‹¥ä¸è¡Œå°±ä¸Ÿå‡ºä¸€å€‹interruptï¼Œä¸å…è¨±åŸ·è¡Œ\nPriveleged instruction(ç‰¹æ¬ŠæŒ‡ä»¤) å®šç¾©ï¼šä»»ä½•å¯èƒ½æœƒé€ æˆç³»çµ±é‡å¤§å±å®³çš„æŒ‡ä»¤ï¼Œå¯è¨­ç‚ºç‰¹æ¬ŠæŒ‡ä»¤(ç«¯çœ‹å·¥ç¨‹å¸«å¦‚ä½•è¨­è¨ˆ)ï¼Œåªå¯ä»¥åœ¨Kernel Modeå»åŸ·è¡Œï¼Œä¸å¯ä»¥å†User modeä¸‹åŸ·è¡Œï¼Œä¸€æ—¦åœ¨User Modeä¸‹åŸ·è¡Œï¼Œæœƒç™¼Trapé€šçŸ¥OSï¼Œå°‡æ­¤user process terminates.\nå¦‚æœæŠŠæ‰€æœ‰çš„æŒ‡ä»¤è¨­ç‚ºç‰¹æ¬ŠæŒ‡ä»¤ï¼Œå¥½è™•å°±åªæœ‰è¶…ç´šå®‰å…¨ï¼Œå› ç‚ºé€™äº›æŒ‡ä»¤éƒ½åªæœ‰OSå¯ä»¥åšï¼Œå¦‚æœuseræƒ³åšå°±åªèƒ½å§”è¨—OSåŸ·è¡Œï¼Œä½†é€™æ¨£performanceæœƒå¾ˆå·®ï¼Œå› ç‚ºæ‰€æœ‰äº‹æƒ…éƒ½è¦çµ¦OSè™•ç†\nä¾‹å¦‚ï¼š\n  Turn-off(Disable) interrupt, clear memory, I/O instruction(for I/O protection),Timerå€¼ set/change (for CPU protect)\n  Base/Limit register ä¿®æ”¹/set (for memory protection)\n  Change mode from user mode to kernel mode\n  1 2 3 4 5 6 7 8  1). Set value of Timer 2). Read the clock 3). Claer memory 4). Turn-off interrupt 5). Switch from user to monitor mode å“ªäº›æ˜¯ç‰¹æ¬ŠæŒ‡ä»¤? 1,3,4,5     1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  1. Change to user mode 2. Change to monitor mode 3. Read from monitor memory 4. Write into monitor memory 5. Fetch an instruction from memory 6. Turn on timer interrupt 7. Turn off timer interrupt å“ªäº›æ˜¯ç‰¹æ¬ŠæŒ‡ä»¤? 2,4,7 è©³è§£ï¼š 6. æœ¬èº«å°±æ˜¯æ‰“é–‹çš„ï¼Œå› ç‚ºè¦åšCPUçš„ä¿è­· 7. ä½†é—œæ‰ä¸æ˜¯ æœ‰çˆ­è­°çš„éƒ¨åˆ† 3. user processå»è®€kernel processçš„è³‡æ–™ï¼Œæé¾èªç‚ºæ˜¯ï¼Œå› ç‚ºkernelè£¡é¢æŒç®¡æ‰€æœ‰Processçš„informationï¼Œè€Œprocessé–“ä¸æ‡‰è©²å„å€‹processçš„ç‹€æ…‹ 5. å¾Monitor memory(Kernel)è£¡é¢å»è®€æŒ‡ä»¤å‡ºä¾†ï¼Œæé¾èªç‚ºä¸æ˜¯ï¼Œå› ç‚ºå°±ç®—æŠ“äº†ï¼Œä½†ä½ çš„modeä¸æ˜¯Privilege instructionå°±æœƒæŠŠä½ æ“‹æ‰     ç‚ºä»€éº¼Dual-modeè·ŸPrivilege Isntructionå¯ä»¥æ§‹æˆä¿è­·åŸºç¤ æ‰€æœ‰æœƒå±å®³OSçš„æ“ä½œéƒ½æ˜¯åœ¨Kernel ç™¼ç”Ÿï¼Œå› æ­¤ä¸å¯ä»¥æ”¾ä»»userå¯ä»¥ç›´æ¥æ“ä½œKernel\nI/O-Protection ç›®çš„ï¼šç”±æ–¼I/Oé‹ä½œè¼ƒç‚ºç¹ç‘£è¤‡é›œï¼Œç‚ºäº†é™ä½user processes æ“æ§I/Oä¹‹è¤‡é›œåº¦`ï¼Œè®“user processeså»è™•ç†æ‡‰ç”¨çš„å•é¡Œï¼ŒI/Oå‰‡äº¤ç”±OSå»è™•ç†ï¼›åŠé¿å…user processå°I/O-Devicesä¹‹ä¸ç•¶æ“ä½œï¼Œèƒ¡æçæï¼Œå› æ­¤æ‰æœ‰I/O protectionã€‚ç°¡å–®ä¾†è¬›å°±æ˜¯ä¸è¦è®“user processeså»æ“ä½œI/O\nä½œæ³•ï¼šæŠŠæ‰€æœ‰I/OæŒ‡ä»¤çš†è¨­ç‚ºprivileged instructioné…åˆDual-modes, ä¸€å¾‹è®“user processå§”è¨— kernelåŸ·è¡ŒI/Oé‹ä½œ\nMemory Protection ç›®çš„ï¼šé˜²æ­¢user process å­˜å–å…¶ä»–user processes ä¹‹ memory area åŠ kernel memory area\nä½œæ³•ï¼š(ä»¥ contiguous Memory Allocatation ç‚ºä¾‹) é‡å°æ¯å€‹Process, kernelæœƒæä¾›ä¸€å¥—Registersï¼šå«base/limit register, å…¶ä¸­\n Base registerç´€éŒ„Processä¹‹èµ·å§‹ä½å€ Limit registerç´€éŒ„Processä¹‹å¤§å°  å°‡ä¾†ProcessåŸ·è¡Œï¼Œæœƒé€²è¡Œä¸‹åˆ—çš„Checking\n ç‚ºä»€éº¼Addressçš„åˆ¤æ–·æ˜¯ç”±Hardwareä¾†åšè€Œä¸æ˜¯OSä¾†åšå‘¢ï¼Ÿ\nå› ç‚ºäº¤çµ¦OSä¾†åšå°±æœƒç”¢ç”Ÿä¸­æ–·interruptï¼Œåˆå› ç¨‹å¼åœ¨åŸ·è¡Œçš„æ™‚å€™å°è¨˜æ†¶é«”çš„å­˜å–æ˜¯å¾ˆé »ç¹çš„ï¼Œå…©å€‹å½±éŸ¿ä¹‹ä¸‹æœƒå°è‡´ä½ çš„CPUä¸€ç›´è¢«interruptæ‰“æ“¾ï¼Œå› æ­¤äº¤çµ¦Hardwareä¾†åšæœƒæ¯”è¼ƒç¬¦åˆæˆæœ¬ä¸€é»ã€‚\n ä¸¦ä¸”ï¼Œé‚„è¦å°‡ Baseèˆ‡Limit register å€¼ä¹‹set/changeé ˆè¨­ç‚º\u0026quot;Privilege Code(ç‰¹æ¬ŠæŒ‡ä»¤)\u0026quot;ï¼Œé¿å…user ProcessæŠŠBaseè·ŸLimitçš„ä½å€ç›´æ¥æ”¹æˆç„¡é™ï¼Œé€™æ¨£å°±å®Œæˆäº†Memoryçš„Protection\nCPU Protection ç›®çš„ï¼šé˜²æ­¢user processç„¡é™æœŸ/é•·æœŸä½”ç”¨CPUè€Œä¸é‡‹æ”¾\nä½œæ³•ï¼šåˆ©ç”¨Timerå¯¦æ–½ï¼ŒåŒæ™‚OSæœƒè¦å®šProcessä½¿ç”¨CPU timeä¹‹æœ€å¤§é…é¡å€¼(MAX. Time Quantum)\nç•¶process å–å¾—CPUå¾Œï¼ŒTimeråˆå€¼å³è¨­ç‚ºMax Time Qauntumå€¼ï¼Œéš¨è‘—ProcessåŸ·è¡Œ timeå¢åŠ , Timerå€¼æœƒé€æ­¥éæ¸›ï¼Œç›´åˆ°Timerå€¼ç‚º0, Timeræœƒç™¼å‡º Time-outçš„interrupté€šçŸ¥OSï¼ŒOSä¾¿å¯å¼·è¿«æ­¤processæ”¾æ‰CPUï¼Œæ­¤å¤–ï¼ŒTimerå€¼ä¹‹set/change ä¹Ÿé ˆè¨­ç‚ºç‰¹æ¬ŠæŒ‡ä»¤\nOS Structure Operating-System  OSä¹‹Development\n OSæ‡‰æä¾›çš„æœå‹™é …ç›®\nOSä¹‹æœå‹™å…ƒä»¶ç¨®é¡\nSystem Callsä¹‹ä»‹ç´¹(ä½¿ç”¨è€…ç¨‹å¼è·ŸOSä¹‹é–“æºé€šçš„ä»‹é¢)\nOSä¹‹Structureç¨®é¡\n Simple\nMore Complex than simple\nLayered Approach\nMicrokernel\nModule\nHybrid(æ··åˆ?)\n è¨­è¨ˆåŸå‰‡ï¼šPolicyèˆ‡Mechanism policyç®¡è¡Œç‚º,æ¯”è¼ƒå¸¸è®Šï¼Œä¾‹å¦‚æ•¸å€¼çš„è®Šå‹•; mechanismè² è²¬è™•ç†how,æ¯”è¼ƒä¸æœƒè®Š,ä¾‹å¦‚é‚è¼¯çš„åˆ¤æ–· \nVirtual Machineä»‹ç´¹\n  System Call å®šç¾©ï¼šä½œç‚ºåŸ·è¡Œä¸­user processèˆ‡kernelä¹‹é–“çš„æºé€šç•Œé¢ï¼Œç•¶user processéœ€è¦OSæä¾›æŸç¨®æœå‹™æ™‚ï¼Œæœƒå…ˆtrapé€šçŸ¥OSï¼Œä¸¦å¸¶å…¥System call ID(No)åŠæ‰€éœ€åƒæ•¸ï¼Œç„¶å¾ŒOSåŸ·è¡Œå°æ‡‰çš„System call\n It\u0026rsquo;s a programming Interface to the services privided by the OS\n ç”¨èˆ‰ä¾‹ä¾†è¬›çš„è©±\n Trap = æœå‹™ç´ System call = æœå‹™é …ç›®  System Callçš„ç¨®é¡(ä¸­å¤®è€ƒéé¡ä¼¼çš„é¡Œç›®)\n  Process Control egï¼šå»ºç«‹ã€çµ‚æ­¢ã€æš«åœã€æ¢å¾©åŸ·è¡Œprocess, set/read attribute File Management egï¼šå»ºç«‹ã€read, write, open, close, delete \u0026hellip; Device Management egï¼šå»ºç«‹ã€read, write, open, close, delete \u0026hellip; Information of Maintenance egï¼šå–å¾—ç³»çµ±æ—¥æœŸ/æ™‚é–“ã€å–å¾—Processå±¬æ€§ etc Communications eg: Processesä¹‹é–“çš„é€šè¨Šè€Œä¸”åªé‡å°Message Processingæ–¹å¼æä¾›æœå‹™ Protectionã€€eg: Hw resources protection, File access contorller, etc   System Callçš„åƒæ•¸(Parameters)å‚³éæ–¹å¼ï¼š3ç¨®æ–¹å¼\n åˆ©ç”¨æš«å­˜å™¨(Registers)ä¿å­˜åƒæ•¸  å„ªé»ï¼š  æœ€ç°¡å–® å­˜å–é€Ÿåº¦æœ€å¿«( without memory access)   ç¼ºé»:  ä¸é©ç”¨æ–¼å¤§é‡åƒæ•¸ä¹‹æƒ…æ³     åˆ©ç”¨Memoryï¼Œä»¥ä¸€å€‹Block(Table)å„²å­˜é€™äº›åƒæ•¸ï¼Œä¸¦å°‡é€™äº›è¡¨æ ¼çš„èµ·å§‹ä½å€ç½®æ–¼1å€‹Registerä¸­ï¼ŒPassçµ¦OS  å„ªé»:  é©ç”¨æ–¼å¤§é‡åƒæ•¸   ç¼ºé»:  å­˜å–é€Ÿåº¦è¼ƒæ…¢ï¼Œä¸”æ“ä½œè¼ƒç‚ºéº»ç…©     åˆ©ç”¨Stackå°‡åƒæ•¸pushå…¥æ­¤Stack, OSå†pop from stack, ä»¥å–å¾—åƒæ•¸  å„ªé»:  é©ç”¨æ–¼å¤§é‡åƒæ•¸ä¹‹æƒ…æ³ ä¹Ÿå¾ˆç°¡å–®   ç¼ºé»:  Stackçš„ç©ºé–“é ˆè¦é å…ˆæº–å‚™ï¼Œé¿å…stackoverflow      OSä¹‹ç³»çµ±æ¶æ§‹åˆ†é¡ OSä¹‹Structureç¨®é¡\n Simple: MS-DOSç³»çµ±\nMore Complex than simple: UNIXç³»çµ±\n Limited by Hardware functionality The original UNIX had limited structuring The UNIX åŒ…å«å…©å€‹Separate parts  System Programs The Kernel     Beyond simple but not fully layered(åˆ†å±¤)  Layered Approach\n  å®šç¾©ï¼šæ¡å–Top-Downæ–¹å¼ï¼Œåˆ‡å‰²ç³»çµ±åŠŸèƒ½/å…ƒä»¶ï¼Œä»¥é™ä½è¤‡é›œåº¦ã€‚å…ƒä»¶/æ¨¡çµ„ä¹‹é–“å‘¼å«é—œä¿‚åˆ†å±¤\nå³ä¸Šå±¤å¯ä»¥ä½¿ç”¨ä¸‹å±¤çš„åŠŸèƒ½ï¼Œä½†ä¸‹å±¤ä¸å¯ä»¥ä½¿ç”¨ä¸Šå±¤çš„åŠŸèƒ½ã€‚å®Œæˆå¾Œè¦ä½¿ç”¨Bottom-upæ–¹å¼é€²è¡Œæ¸¬è©¦ï¼Œdebugging(ç”±åº•å±¤ä¸€è·¯å¾€å¤–æ¸¬)\n  å±¤æ¬¡çš„åŠƒåˆ†æ²’æœ‰æ˜ç¢ºè¦å®š\n  å„ªé»ï¼š\n é™ä½è¨­è¨ˆè¤‡é›œåº¦ æœ‰åŠ©æ–¼åˆ†å·¥ æ¸¬è©¦ã€é™¤éŒ¯ã€ç¶­è­·å®¹æ˜“    ç¼ºé»ï¼š\n å¾ˆé›£åšåˆ°ç²¾æº–çš„åˆ†å±¤åŠƒåˆ† è‹¥Layeræ•¸å¤ªå¤šï¼Œå‰‡System performance is very poor( åˆ‡åˆ°å››å±¤å‰›å¥½ã€äº”å±¤å¤ªå¤šï¼Œæ¥µé™ä¸­çš„æ¥µé™æ˜¯ä¸ƒå±¤)    Microkernel(å¾®æ ¸å¿ƒ)ï¼šç”±CMU(å¡å…§åŸº-ç¾éš†å¤§å­¸)ç‡å…ˆæå‡ºï¼Œä»£è¡¨ç”¢å“ï¼šMach o.sã€‚å®ƒå€‘èªç‚ºUNIXçš„æœå‹™é …ç›®å¤ªå¤šã€å¤ªé¾å¤§ï¼Œä¸åˆ©ç§»æ¤\n å®šç¾©ï¼šå°‡Kernelä¸­ä¸€äº›Non-essential services(æ¯”è¼ƒä¸æ˜¯é‚£éº¼åŸºæœ¬ã€é‡è¦ã€å¿…è¦)ï¼Œè‡ªKernelç•¶ä¸­ç§»é™¤ï¼Œæ”¹æˆåœ¨User Mode(Site)æä¾›é€™äº›æœå‹™ï¼Œä»¥System programsæ–¹å¼å­˜åœ¨ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œå¯ä»¥å¾—åˆ°ä¸€å€‹æ¯”è¼ƒå°çš„kernelï¼Œç¨±ä¹‹ç‚ºmicrokernel, ä¸€èˆ¬è€Œè¨€ï¼ŒMicrokernelæä¾›ä¸‹åˆ—ä¸‰å€‹minimum serviceï¼š   Porcess Controll Memory Management(ä¸åŒ…æ‹¬Virtual memory) Process Communications(æä¾›message Processingæœå‹™è€Œå·²)   Benefits(å¥½è™•)   Easier to extend a microkernel  æœå‹™çš„å¢åŠ /åˆªé™¤æ˜¯å®¹æ˜“çš„ï¼Œå› ç‚ºé€™äº›æœå‹™æ˜¯åœ¨user siteåŸ·è¡Œï¼Œæ‰€ä»¥æœå‹™çš„å¢ã€åˆªä¸éœ€è¦ç‰½æ‰¯åˆ°Kernelä¹Ÿè¦è®Šæ›´ï¼Œå³ä½¿è¦ï¼Œä¹Ÿæ˜¯å°‘é‡   Easier to port the OS to new architectures  å› ç‚ºKernelå¾ˆå°ï¼Œæ‰€ä»¥ç§»æ¤åˆ°æ–°çš„ç¡¬é«”å¹³å°ä¹‹æ›´æ”¹å¹…åº¦ä¸å¤§(å› ç‚ºåªæœ‰ä¸‰å€‹æœå‹™runåœ¨kernel)   More Reliable  è¬ä¸€æŸä¸€å€‹æœå‹™åœ¨åŸ·è¡Œä¸­æ›æ‰äº†ï¼Œå……å…¶é‡åªæ˜¯ç›¸ç•¶æ–¼ä¸€å€‹user processæ­»æ‰è€Œå·²ï¼Œæ‰€ä»¥å°HW, kernel, å…¶ä»–user processæ²’æœ‰ä¸è‰¯å½±éŸ¿ï¼Œå› ç‚ºæŠŠå¤§éƒ¨åˆ†çš„æœå‹™ç§»åˆ°user modeå»åšäº†ï¼Œå› æ­¤æ›´åŠ å®‰å…¨ã€å¯é    More secure  è¬ä¸€æŸä¸€å€‹æœå‹™åœ¨åŸ·è¡Œä¸­æ›æ‰äº†ï¼Œå……å…¶é‡åªæ˜¯ç›¸ç•¶æ–¼ä¸€å€‹user processæ­»æ‰è€Œå·²ï¼Œæ‰€ä»¥å°HW, kernel, å…¶ä»–user processæ²’æœ‰ä¸è‰¯å½±éŸ¿ï¼Œå› ç‚ºæŠŠå¤§éƒ¨åˆ†çš„æœå‹™ç§»åˆ°user modeå»åšäº†ï¼Œå› æ­¤æ›´åŠ å®‰å…¨ã€å¯é      ç¼ºé»   Performance overhead of user space to kernel space communication(æ•ˆèƒ½è¼ƒå·®)ï¼Œå› ç‚ºprocess Communicationå……æ–¥å¤§é‡è¨Šæ¯å‚³é   Noteï¼šmicrokernelçš„ç›¸åè©ï¼šMonolithic kernel\nå®šç¾©ï¼šæ‰€æœ‰çš„Servicesçš†é ˆRun in kernel modeï¼Œå¤§éƒ¨åˆ†çš„å•†ç”¨OSå¹¾ä¹éƒ½æ˜¯Monolithic kernelï¼Œå› ç‚ºå¦‚æœæŠŠæ‰€æœ‰çš„serviceç§»åˆ°user siteå»åšï¼Œé‚£å®ƒçš„æ§åˆ¶å°±æœƒå¾ˆä½ã€‚ç•¶é€™å€‹æ§åˆ¶åŠ›å¾ˆä½çš„æ™‚å€™ï¼Œuseræˆ–programå°±å¯ä»¥è‡ªå·±å»Inhenceä¸€äº›æ±è¥¿ï¼Œå½±éŸ¿OS\nå„ªé»ã€ç¼ºé»ï¼šå’Œmicrokernelç›¸å\n Module\n Many OS implement loadable(æœ‰éœ€è¦æ‰è¼‰å…¥) kernel modules use Object-oriented approach Each core component is separate Each talks to the others over known interface Each is loadable as heeded within the Kernel ç°¡è€Œè¨€ä¹‹ï¼šsimilar to Layers but with more flexible, æ•ˆèƒ½æ›´å¥½  ä¾‹å¦‚ï¼šLinux, solaris, etc \u0026hellip;\nHybrid(æ··åˆ?)ï¼šç¾åœ¨ä½œæ¥­ç³»çµ±å¾ˆé›£ç´”ç²¹æ­¸å±¬æ–¼æŸä¸€å‹\n Linux(ä¸­å¤®è€ƒé) and Solaris æ˜¯ Monolithic (æ‰€æœ‰æ±è¥¿éƒ½runåœ¨kernel mode)ï¼Œä¸”ä¹Ÿæ˜¯Modular for dynamic loading ä¾‹ï¼šwindows mostly monolithicï¼Œæœ‰æ™‚é‡å°ä¸åŒå®¢æˆ¶éœ€æ±‚ï¼Œæœƒå†åŠ ä¸Šmicrokernel for subsystem ä¾‹ï¼šApple Mac Os ä¹Ÿæ˜¯æ··åˆçš„  kernel åŒ…å«\n Mach microkernel\néƒ¨åˆ†çš„BSD UNIX\nI/O Kit\ndynamic Loadable module(å«åš kernel extension)\n  Virtual Machine å®šç¾©ï¼šåˆ©ç”¨sofewareæŠ€è¡“æ¨¡æ“¬å‡ºä¸€ä»½èˆ‡åº•å±¤HWä¸€æ¨¡ä¸€æ¨£çš„åŠŸèƒ½ä»‹é¢ä¹‹æŠ½è±¡ä»£ç†å™¨(abstract machine)ï¼Œç¨±ä¹‹Virtual Machineæ¨¡æ“¬çš„æ–¹å¼é¡ä¼¼æ–¼CPU schdueling \nåè©è§£æï¼š\nHostï¼šundelying hardware system, os\nVMM(Virtual Machine Manage)æˆ–Hypervisorï¼šcreates and managing/ runs virtual machines\nGuestï¼šprocess provided with virtual copy of the host\n æé¾æœ¬ä¹‹å…¶ä»–è‹±æ–‡\n Abstract hardware of a single computer into several different execution environments Similar to layered approach, But layer crates virtual machine(VM)   å„ªé»\n  ä½œç‚ºæ¸¬è©¦é–‹ç™¼ä¸­çš„OSï¼Œæä¾›ä¸€å€‹è‰¯å¥½çš„è² è¼‰å¹³å°ï¼Œå…·æœ‰ä¸‹åˆ—å¥½è™•ï¼š\n å…¶ä»–user, user processeså·¥ä½œï¼Œä»å¯æŒçºŒé‹ä½œï¼Œä¸é ˆæš«åœ è¬ä¸€æ¸¬è©¦ä¸­çš„OSä¸ç©©å®šã€æ›æ‰/å¤±æ•—äº†ï¼Œä¹Ÿä¸æœƒå½±éŸ¿host Hw, OS, å…¶ä»–user processes ä¹‹å·¥ä½œï¼Œå› ç‚ºåªæ˜¯ç›¸ç•¶æ–¼ä¸€å€‹user process failsè€Œå·²ï¼Œä¸æœƒå°systemæœ‰é‡å¤§å±å®³   åŒä¸€éƒ¨Host Hardwareä¸Šå¯ä»¥åŸ·è¡Œå¤šå€‹OS running on å¤šå€‹virtual machinesï¼Œé€™æ¨£å¯ä»¥ç¯€çœæˆæœ¬\n  Consolidation(åˆä½µ)ï¼šåœ¨ Cloud computing environmentï¼Œæˆ‘å€‘æœƒç”¨æœ‰é™çš„æ©Ÿå™¨ï¼Œå»ºç«‹ç‚ºæ•¸æ³¨çœ¾å¤šçš„virtual machinesï¼Œæˆ‘å€‘å¯ä»¥ä¾VMä¸Šçš„Applicationsä¹‹åŸ·è¡Œè² æ“”è¼•é‡ï¼Œèª¿ç”¨Host machinesè³‡æºï¼Œåšå› æ‡‰çš„æ”¯æ´ï¼Œæœ‰éœ€è¦å°±åœ¨åŠ é–‹ï¼Œæ²’éœ€è¦å°±é—œæ‰ï¼Œåšè³‡æºçš„åˆä½µèˆ‡èª¿åº¦\n  VMè¼ƒç‚ºå®‰å…¨(å¦‚æœVMè¢«ç—…æ¯’å…¥ä¾µï¼Œä¸è‡´æ“´æ•£ï¼Œå› ç‚ºå„VMä¹‹é–“æ˜¯ç›¸äº’ç¨ç«‹çš„)\n  å¯ä»¥Freeze, suspend, running VM, åŠClone(è¤‡è£½) VM\n    VMMçš„Implementation\nHypervisor : è™›æ“¬æ©Ÿç®¡ç†ç¨‹å¼\n  Type0 Hypervisor(ç¡¬é«”å±¤æ¬¡)ï¼š\n Hardware-based solutions via firmware  ä¾‹å¦‚ï¼šIBM LPARS and Oracle LDOMs      Type1 Hypervisor(Kernel Modeå±¤æ¬¡)\n  OS-like software\n ä¾‹ï¼šVMware ESX, Joyent SmartOS, Crtrix XenServer    general purpose OS that provide VMM functions (services)\n ä¾‹å¦‚Microsoft Window Server with HyperV, Redhat Linux with KVM      Type2 Hypervisor(user modeå±¤æ¬¡)ï¼š\n Applications level provides VMM functionality\neg. Paraller Desktop, Oracle VirtualBox\n    é‚„æœ‰ä¸€äº›å…¶ä»–çš„è®Šå½¢ä¸Šé¢é‚£ä¸‰é¡éƒ½æ˜¯è¦å‰µé€ è·Ÿåº•å±¤ç¡¬é«”(Host HW)ä¸€æ¨£çš„Virtual Machineï¼Œä½†ä¸‹é¢é€™äº›å»ä¸æ˜¯\n Paravirtualizationâ˜†è€ƒè©¦é‡é»\n The guest OS need modify to work in cooperation with VMM to optimize performance presents guest(run åœ¨virtual Machineä¸Šçš„éƒ½å«guest) with similar but Not identical to Host Hardware Guest must be modified(å¿…é ˆè¦è¢«ä¿®æ”¹æ‰å¯ä»¥ç”¨) to Run ON Paravirtualization virtual hardware    Programming-environment virtualization\n  VMMs do not virtualize, HW but instead create on optimized virtual system .(å‰µé€ å…¨æ–°çš„Virtual Machine)\neg. Java virtual machine(JVM), Microsoft .NET\nJVM is a SPECification(è¦æ ¼), not an implementation\nè¦ç¯„\n Class Loader(æŠŠbype code loadä¸‹ä¾†) Class verifier(é©—è­‰å™¨ï¼Œé©—è­‰byte Codeå®‰ä¸å®‰å…¨ï¼Œæ¯”å¦‚æ˜¯å¦åŒ…å«pointer) Java interpreter(åŸ·è¡Œbyte code)      Emulatorsï¼šAllow application written for one HW to run on a very different HW such as different type of CPUã€‚ä¾‹ï¼šPS4æ¨¡æ“¬å™¨ã€3DSæ¨¡æ“¬å™¨\n  Application containment (åº•å±¤æ²’æœ‰Virtual Machineï¼Œè€Œæ˜¯ å‰µé€ åŸ·è¡Œç’°å¢ƒï¼Œè€Œä¸æ˜¯æ¨¡æ“¬)\neg. Oracle Solaris Zones BSD Jails, IBM AIX WPARs application\nPolicy(æ”¿ç­–ã€ç­–ç•¥ ) èˆ‡ Mechanism\n  Policyå®šç¾©\n \u0026ldquo;What\u0026rdquo; to be proovided ç¶“å¸¸æ”¹è®Šã€æœä»¤å¤•æ”¹    Mechanismå®šç¾©\n How to do that The underlying(åŸºæœ¬çš„) mechanismç”šå°‘æ”¹è®Šæˆ–ä¸è®Š    è¨­è¨ˆåŸå‰‡ï¼š\nPolicyèˆ‡Mechanismå®œseparateï¼Œä»¥å¢é€²system flexibility\n  èˆ‰ä¾‹\n    é‹ç”¨Timerä½œç‚ºCPU protection \u0026gt; Mechanism Max.Time Quantumå¤§å°åˆ¶å®š \u0026gt; Policy     CPUæ’ç‰ˆæ¡Priority Scheduling æ’ç­ \u0026gt; Mechanism Priorityå¤§å°ä¹‹å®šç¾© \u0026gt; Policy      Chapter 3 System Structure é€™å€‹éƒ¨åˆ†å’Œç¬¬äºŒç« å¯«åœ¨ä¸€èµ·äº†\nChapter4 Process Management And Thread Management  Process å®šç¾©èˆ‡Progeamæ¯”è¼ƒ\nPCBå…§å®¹ è€ƒè©¦é‡é»\nProcess State Transition Diagram (S.T.D)è€ƒè©¦é‡é»\nSchedulerçš„ç¨®é¡(è§£é‡‹åè©)\n é•·æœŸ\nçŸ­æœŸ\nä¸­æœŸ\n Context Switching (è§£é‡‹åè©)\nDispatcher, Dispatch latency(è¼ƒå°‘è€ƒ)\nProcess Controller Operations(UNIX, System Callç‚ºä¸»çš„ç¨‹å¼è¿½è¹¤) è€ƒè©¦é‡é»\nè©•ä¼°CPU Scheduling æ•ˆèƒ½çš„å¥½æˆ–ä¸å¥½çš„5å€‹Criteria(æ¸…å¤§å–œæ­¡è€ƒ)\nå„ç¨®CPU æ’ç­æ³•å‰‡(7å€‹)ä»‹ç´¹åŠç›¸é—œåè©(Starvation,Aging,Preemptive,Non-preemptive,Convoy effect) è€ƒè©¦é‡é»\nç‰¹å®šSystemçš„æ’ç­è¨­è¨ˆ\n MultiProcessors System\nReal-time System\n Soft (è€ƒç”³è«–é¡Œ)\nHard(è€ƒè¨ˆç®—é¡Œ)\n  Thread Management\n Process Definition å®šç¾©ï¼šA program in execution[æ]\n Process å»ºç«‹å¾Œï¼Œå…¶ä¸»è¦çµ„æˆæœ‰ï¼š  Process No(ID): Processè¢«ç”Ÿæˆå‡ºä¾†æ™‚ï¼Œæœƒæœ‰ä¸€å€‹Process Idï¼Œä½œç‚ºè­˜åˆ¥ Process State Code Section, Data Sectionï¼šProcesså ç”¨çš„ Memory Space Programming Counter(PC)ï¼šç¨‹å¼è¨ˆæ•¸å™¨ï¼Œå‘Šè¨´æˆ‘å€‘ç¾åœ¨é€™å€‹ProcessåŸ·è¡Œåˆ°å“ªè£¡ï¼Œè£¡é¢æ”¾ä¸‹ä¸€æ¢æŒ‡ä»¤çš„ä½å€ Stack CPU Register value æ˜¯OS åˆ†é… **Resource(CPU,I/O-Divice, Memory) **ä¹‹å°è±¡å–®ä½ï¼šè·ŸThreadçš„å·®åˆ¥   èˆ‡Program(ç¨‹å¼)çš„æ¯”è¼ƒ     Process Program     åŸ·è¡Œä¸­çš„ç¨‹å¼ Just a File stored in storage device   \u0026ldquo;Active\u0026rdquo; entity(æ´»å‹•ä¸­ã€åŸ·è¡Œä¸­) \u0026ldquo;Passive\u0026rdquo; entity(æ²’æœ‰æ´»å‹•çš„)    Process Control Block (PCBå…§å®¹)\nå®šç¾©ï¼šOSç‚ºäº†ç®¡ç†æ‰€æœ‰Processesï¼Œæœƒåœ¨Kernel memoryä¸­ï¼Œæ›¿æ¯å€‹Processï¼Œå„è‡ªæº–å‚™ä¸€å€‹Block(Table, è¡¨æ ¼)ï¼Œç”¨ä¾†è¨˜éŒ„Processä¹‹æ‰€æœ‰ç›¸é—œè³‡è¨Š\nPCBçš„ä¸»è¦å…§å®¹æœ‰(è¦èƒŒï¼Œè€ƒé¸æ“‡)ï¼š\n  Process No(ID)ï¼šæ˜¯Unique(å”¯ä¸€çš„)\n  Process stateï¼šeg. ready, running, wait, etc\n  Programming Counterï¼šå…§æ”¾ the next instruction\u0026rsquo;s address\n  **CPU Registersï¼šeg. ç´€éŒ„ä½¿ç”¨åˆ°çš„æš«å­˜å™¨çš„å€¼ eq. Accumulator, PSW(Process Status Word), Stack Top ,etc **\n  CPU Scheduling Infoï¼šeg. Process çš„å„ªå…ˆæ¬Šï¼ŒFirst-In First-Out(FIFO)\n  Memory Management Info(éš¨OSçš„è¨˜æ†¶é«”ç®¡ç†æ–¹æ³•ä¸åŒï¼Œç´€éŒ„ä¸åŒè³‡è¨Š)ï¼šeg. Base/Limit registeræˆ– Page Table æˆ– Segment Table\n  Accounting Infoï¼šeg. Processå·²ä½¿ç”¨äº†å¤šå°‘CPU Time, å“ªäº›è³‡æº, é‚„å‰©å¤šå°‘è³‡æº,å¤šå°‘CPU Timeå¯ä»¥ç”¨ Noteï¼šç›®çš„\n è¨ˆç®—ä½¿ç”¨é‡ï¼Œè¨˜å¸³ã€æ”¶ï¼„\nAdministrator èª¿æ•™Performanceçš„ä¾æ“š\n   I/O Status Infoï¼šeg. processå·²ç¶“ç™¼å‡ºå¤šå°‘I/O-Request, å®Œæˆ ç‹€æ³å¦‚ä½•ï¼Œå ç”¨é‚£äº›I/O Resource(ç›®å‰é‚„æ²’é‡‹æ”¾çš„)\n  Process State Transition Diagram ç‹€æ…‹è½‰æ›åœ–(S.T.D)\nç›®çš„ï¼šæè¿°Processä¹‹Life Cycleï¼Œç”¨ä¾†è¨˜éŒ„Processå»ºç«‹ï¼Œåˆ°å®ƒè¢«çµ‚æ­¢ä¹‹é–“ï¼Œæ‰€ç™¼ç”Ÿçš„äº‹\nå„å€‹ç‰ˆæœ¬çš„STDå®šç¾©éƒ½ä¸å¤ªä¸€æ¨£\n  [æ] 5å€‹Stateçš„STD [Stalling]7å€‹State STD (æ¯”æé¾å¤šå…©å€‹ç‹€æ…‹) [Stalling] UNIXçš„STD   5 Steps of State Transition Diagram è¦æœƒç•«ï¼Œæœƒèªªæ˜ï¼Œè¶…åŸºç¤ï¼Œè€ƒå‡ºä¾†æ˜¯é€åˆ†é¡Œ\n   State Description     New(Create) Processè¢«å»ºç«‹ï¼Œå·²åˆ†å¾—PCBçš„ç©ºé–“ï¼Œå°šæœªè¼‰å…¥è¨˜æ†¶é«”ã€æœªå–å¾—è¨˜æ†¶é«”è³‡æºï¼Œå› æ‡‰Batchçš„ç³»çµ±   Ready Processåœ¨è¨˜æ†¶é«”äº†ï¼Œä¸”OSå·²ç¶“æŠŠå®ƒæ”¾åˆ°Ready Queueå…§ï¼Œä¸”å…·æœ‰è³‡æ ¼çˆ­å¥ªCPU   Running Processå–å¾—CPU åŸ·è¡Œä¸­   Wait(Block) è¡¨ç¤ºProcesså¾…åœ¨waiting Queueä¸­ï¼ŒWaiting For I/O-Completed or event occurs, ä¸æœƒèˆ‡å…¶ä»–Processes ç«¶çˆ­CPU   Exit(Terminate)(Zombie)(Abort) Processå®Œæˆå·¥ä½œï¼Œæ­£å¸¸çµæŸæˆ–ç•°å¸¸çµ‚æ­¢ï¼Œå¯èƒ½å…¶PCBå°šæœªå›æ”¶ï¼Œå› ç‚ºè¦ç­‰å…¶çˆ¶è¦ª(Parent Process)Collect è©²å­processä¹‹æˆæœå¾Œï¼Œæ‰æœƒå›æ”¶PCB Spaceå…¶ä»–è³‡æº(Memory, CPU, I/O-Devices)å·²å›æ”¶       Transition Description     1. ä¹Ÿå«Admitï¼Œç•¶Memory Spaceè¶³å¤ æ™‚ï¼Œå¯ç”±Long-term Scheduler(in Batch Systemï¼Œå› ç‚ºæ”¾åœ¨Job Queueè£¡é ­)ï¼Œæ±ºå®šå°‡æ­¤Jobè¼‰å…¥åˆ°Memoryä¸­   2. ä¹Ÿå«Dispatch,ç”±short-term scheduler(CPU Scheduler)æ±ºå®šï¼Œè®“é«˜å„ªå…ˆæ¬Šçš„Processå–å¾—CPUæ§åˆ¶æ¬Š   3. ä¹Ÿå«Time-Out/Interruptï¼ŒåŸ·è¡Œä¸­çš„Processæœƒå› æŸäº›äº‹ä»¶ç™¼ç”Ÿè€Œè¢«è¿«æ”¾æ£„(ä¸æ˜¯è‡ªé¡˜çš„)CPUï¼Œå›å»Ready Queue, eg. Time-Out, Interruptç™¼ç”Ÿ,æ›´é«˜å„ªå…ˆæ¬Šçš„Processåˆ°é”ï¼Œæ’éšŠ   4. å«wait for I/O-Completed or event occurs(è‡ªé¡˜æ”¾æ£„CPU)   5. I/O-Completed æˆ– Event occurs   6. Processå®Œå·¥æˆ–ç•°å¸¸çµ‚æ­¢ (è‡ªé¡˜æ”¾æ£„CPU)    7 Steps of State Transition Diagram[Stalling] è£œä¸ŠMiddel Term Scheduler\nç‚ºäº†è§£æ±ºä¸€å€‹å•é¡Œ\nç•¶è¨˜æ†¶é«”è¢«å æ»¿äº†ï¼Œæœ‰ä¸€å€‹æ›´é«˜å„ªå…ˆæ¬Šçš„Processè¿‘ä¾†ï¼Œè©²å¦‚ä½•è™•ç†ï¼Ÿ\næŠŠwaitç‹€æ…‹çš„processè¸¢å‡ºå»ï¼Œæ”¾åˆ°ç£ç¢Ÿå»ä¿å­˜\n   State Description     Blocked/Suspend Processè¢«Swap Outåˆ° Diskä¸­æš«å­˜ï¼Œå³Blocked(asleep) in Disk   Ready/Suspend event occurs or I/O-Completed, READY IN DISK       Transition Description     Suspend(Swap Out) ç•¶Memoryç©ºé–“ä¸è¶³ï¼Œåˆæœ‰å…¶ä»–é«˜å„ªå…ˆåº¦çš„Processéœ€æ›´å¤šMemoryç©ºé–“æ™‚ï¼Œæœƒç”±Medium-Term Scheduleræ±ºå®šå°‡Blocked Processæˆ–ä½å„ªå…ˆæ¬Šçš„Process Swap outåˆ°Diskï¼Œä»¥ç©ºå‡ºMemory Space   Activate(Swap In) ç•¶Memory spaceæœ‰ç©ºï¼ŒMedium-term schedulerå¯å°‡å®ƒå€‘Swap Inå›memoryä¸­ï¼ŒReady for execution   Suspend(Swap Out) æ”¯æŒæ­¤Transitionä¹‹ç†ç”±æœ‰äºŒ\n1.æ‰€æœ‰Blocked Processesçš†Swap outå¾Œï¼ŒMemory Spaceä»ä¸è¶³æ™‚\n2. æ‰€æœ‰Blocked State Processesä¹‹å„ªå…ˆæ¬Šï¼Œçš†é«˜æ–¼Ready State Processæ™‚       Transition Description     1 æŠŠå¾åœ¨ç£ç¢Ÿç¡è¦ºçš„processæ‹‰åˆ°è¨˜æ†¶é«”è£¡é¢ç¡è¦ºï¼ŒThis is a poor designï¼Œä½†ä»å¯æ”¯æŒï¼Œç†ç”±å¦‚ä¸‹ï¼šè‹¥æ‰€æœ‰Blocked/suspend` stateä¹‹Processeså„ªå…ˆæ¬Šçš†é«˜æ–¼ready/ suspend processes, ä¸”OS believes them will become ready soon |   2 It\u0026rsquo;s also a poor design ä½†å¯æ”¯æŒä¹‹ç†ç”±å¦‚ä¸‹ï¼šè‹¥æœ‰ä¸€å€‹é«˜å„ªå…ˆæ¬Šçš„processå¾blocked/suspendè®Šæˆready/suspendæ™‚ï¼Œå‰‡OSå¯ä»¥å¼·è¿«ä½å„ªå…ˆæ¬Šä½†å·²åŸ·è¡Œçš„processæ”¾æ£„CPUçš„ä½¿ç”¨ä»¥åŠMemoryçš„ç©ºé–“ï¼Œä¾›é«˜å„ªå…ˆæ¬Šä½¿ç”¨    UNIX STD[Stalling] Scheduler Type(Important)    Long-term Scheduler\n å®šç¾©ï¼šåˆå«Job Schedulerï¼Œç›®çš„æ˜¯å¾Job Queueä¸­æŒ‘é¸ä¸€äº›Jobsè¼‰å…¥åˆ°Memoryä¸­ ç‰¹è‰²ï¼š  åŸ·è¡Œé »ç‡æœ€ä½ï¼Œæ‰€ä»¥æ‰å«é•·æœŸ å¯ä»¥èª¿æ§Multiprogramming Degree å¯ä»¥èª¿æ§ I/O-Bound Jobèˆ‡CPU-Bound Jobä¹‹æ··åˆæ¯”ä¾‹(ä¸‹é¢æœ‰è§£é‡‹) Batch Systemæ¡ç”¨ï¼Œä½†æ˜¯real-time systemä»¥åŠtime-sharingä¸æœƒæ¡ç”¨é€™ç¨®æ©Ÿåˆ¶ã€‚å› ç‚ºreal-timeç³»çµ±è™•ç†çš„processéƒ½æ˜¯æ¯”è¼ƒç·Šæ€¥çš„ï¼Œå› æ­¤å°±éœ€è¦ç›´æ¥ä¸Ÿé€²memoryå»åŸ·è¡Œã€‚è€Œtime-sharingç³»çµ±è¦æ±‚å°æ¯ä¸€å€‹userå…¬å¹³ï¼Œæ²’æœ‰å„ªå…ˆåº¦éœ€è¦è™•ç†ï¼Œå¦‚æœmemoryä¸å¤ å‰‡èª¿ç”¨virtual memoryï¼Œå› æ­¤time-sharingç³»çµ±åªå­˜åœ¨medium-termä»¥åŠshort-term      Short-term Schedulerï¼š\n å®šç¾©ï¼šåˆå«CPU Schduleræˆ–Process Schedulerï¼Œç›®çš„æ˜¯å¾Ready Queueä¸­æŒ‘å‡ºä¸€å€‹é«˜å„ªå…ˆæ¬Šçš„processï¼Œåˆ†æ´¾CPUï¼Œçµ¦CPUåŸ·è¡Œ ç‰¹è‰²ï¼š  åŸ·è¡Œé€Ÿåº¦æ˜¯ä¸‰è€…è£¡é¢æœ€é«˜çš„ ç„¡æ³•èª¿æ§Multiprogramming Degreeï¼Œå› ç‚ºå®ƒä¸æ˜¯è² è²¬å°‡ç¨‹å¼loadé€²memoryèˆ‡Swap outå‡ºå»çš„äºº ç„¡æ³•èª¿æ§I/O-Bound Jobèˆ‡CPU-Bound Jobä¹‹æ··åˆæ¯”ä¾‹ï¼Œé ‚å¤šæ±ºå®šèª°è¦å…ˆåšï¼Œä¸èƒ½æ±ºå®šæ¯”ä¾‹ æ‰€æœ‰çš„ Systemæ¡ç”¨      Medium-term Scheduler(æœ€å¸¸è¢«è€ƒ)ï¼š\n  å®šç¾©ï¼šTime-Sharing Systemæ¡ç”¨ï¼Œç•¶Memoryç©ºé–“ä¸è¶³ï¼Œä¸”åˆæœ‰å…¶ä»–é«˜å„ªå…ˆæ¬ŠProcesseséœ€è¦Memory Spaceæ™‚ï¼Œæ­¤Scheduleræœƒå•Ÿå‹•ï¼Œå®ƒæœƒæŒ‘é¸ä¸€äº›Processes(eg. Blocked Process, ä½å„ªå…ˆProcess) å°‡å…¶Swap Outåˆ°Diskä¸­ï¼Œä¿å­˜ï¼Œä»¥ç©ºå‡ºMemory Spaceï¼Œä¾›å…¶ä»–Processä½¿ç”¨ï¼Œå°‡ä¾†ç­‰åˆ°æœ‰è¶³å¤ çš„Memory Space releasedå¾Œï¼Œæ­¤Schedulerå¯å†å°‡å®ƒå€‘Swap In å›Memory, ready for execution\n  ç‰¹è‰²ï¼š\n  åŸ·è¡Œé€Ÿåº¦æ˜¯ä¸‰è€…è£¡é¢å±…ä¸­çš„\n  å¯ä»¥èª¿æ§Multiprogramming Degreeï¼Œå› ç‚ºå®ƒä¸æ˜¯è² è²¬å°‡ç¨‹å¼loadé€²memoryèˆ‡Swap outå‡ºå»çš„äºº\n  å¯ä»¥æ³•èª¿æ§I/O-Bound Jobèˆ‡CPU-Bound Jobä¹‹æ··åˆæ¯”ä¾‹ï¼Œé ‚å¤šæ±ºå®šèª°è¦å…ˆåšï¼Œä¸èƒ½æ±ºå®šæ¯”ä¾‹\n  Time-Sharing Systemæ¡ç”¨\n       Multiprogramming Degreeï¼šç³»çµ±å…§çš„Processçš„æ•¸ç›®ï¼šä¸€èˆ¬è€Œè¨€ï¼ŒDegreeè¶Šé«˜ï¼ŒCPUåˆ©ç”¨ç‡å°±è¶Šé«˜ã€‚\nI/O-Bound Jobèˆ‡CPU-Bound Job   I/O-Bound(å—é™) Job\nå®šç¾©ï¼šæ­¤é¡å‹å·¥ä½œå¤§éƒ½æ˜¯éœ€è¦å¤§é‡çš„I/O operation(resource)ï¼Œä½†å°æ–¼CPU Time(Computation)éœ€æ±‚å¾ˆå°‘ï¼Œå› ç‚ºå…¶å·¥ä½œæ•ˆèƒ½å—é™æ–¼I/O-Deviceä¹‹é€Ÿåº¦ï¼Œç¨±ä¹‹I/O-Boundï¼Œå°CPUæœ‰æœ€é«˜å„ªå…ˆæ¬Šï¼Œå› ç‚ºå®ƒå ç”¨CPUçš„æ™‚é–“æœ€çŸ­\nä¾‹å¦‚ï¼šData Base Management, è²¡å ±çš„è™•ç†åˆ—å°\n  CPU-Bound(å—é™) Job\nå®šç¾©ï¼šéœ€è¦å¤§é‡çš„CPUè¨ˆç®—ï¼Œç”¢ç”Ÿæ•¸ç­†è³‡æ–™ï¼Œå°I/Oæœ‰æœ€é«˜å„ªå…ˆæ¬Šï¼Œå› ç‚ºå®ƒå ç”¨CPUçš„æ™‚é–“æœ€çŸ­\nä¾‹å¦‚ï¼šæ°£è±¡é ä¼°ã€ç§‘å­¸æ¨¡æ“¬\n  å¦‚æœOSç™¼ç¾I/O-Boundéå¤šï¼Œå‰‡æœƒé€éSchdulerä¾†èª¿æ§å…©è€…ä¹‹é–“çš„æ¯”ä¾‹\nContext Switching   å®šç¾©ï¼šç•¶CPUè¦å¾Running Processåˆ‡çµ¦å¦ä¸€å€‹Processä½¿ç”¨ä¹‹å‰ï¼ŒKernelå¿…é ˆ**ä¿å­˜(Store) Running Processçš„ç›®å‰ç‹€æ…‹è³‡è¨Š(eg. Programming Counterçš„å€¼ï¼ŒStackçš„å€¼ï¼ŒCPU Registerçš„å€¼ï¼Œetc)ï¼Œå³å­˜å›æ­¤Processä¹‹PCB **ã€‚ä¸”è¦è¼‰å…¥(restore)å¦ä¸€å€‹Processä¹‹ç‹€æ…‹è³‡è¨Šfromæ­¤Process PCBï¼Œé€™æ¨£çš„è¡Œç‚ºå°±å«åšContext Switchingï¼ŒContext Switchæœ¬èº«æ˜¯ä¸€å€‹é¡å¤–çš„è² æ“”ï¼Œå› ç‚ºéœ€è¦èŠ±CPUçš„æ™‚é–“å»åšåˆ‡æ›ï¼Œä¸èƒ½ç”¨åœ¨Processçš„åŸ·è¡Œä¸Šï¼Œå› æ­¤æ™‚é–“å¤§å¤šå–æ±ºæ–¼ç¡¬é«”çš„å› ç´ å±…å¤š(eg. Registerçš„æ•¸é‡å¤ ä¸å¤ ï¼ŒMemoryå­˜å–æŒ‡ä»¤é€Ÿåº¦\n  å¦‚ä½•å°‡ä½Context Switchingè² æ“”\n å¦‚æœRegisterçš„æ•¸é‡è¶³å¤ å¤šï¼Œå‰‡å¯ä»¥è®“æ¯ä¸€å€‹Processçš†æœ‰è‡ªå·±çš„(Private) Register Setï¼ŒOSåªè¦åˆ‡æ›PointæŒ‡å‘å¦ä¸€å€‹processä¹‹Register Set å³å¯å®ŒæˆContext Swtitching without memory store/restore ï¼Œå› ç‚ºé€Ÿåº¦å¤ å¿«ã€‚ä½†é€™å€‹æ–¹æ³•ä¸å¤ªåˆ‡å¯¦éš›ï¼Œå› ç‚ºRegisterçš„æˆæœ¬é—œä¿‚ ä½¿ç”¨Multithreadingæ©Ÿåˆ¶ã€‚ è®“System processåŠUser Processå„è‡ªæ“æœ‰è‡ªå·±çš„Register setï¼Œå¦‚æ­¤å…©è€…ä¹‹åˆ‡æ›åªè¦Registers Setçš„Pointerå³å¯    Dispatcher And Dispatch Latency åˆ†æ´¾å™¨èˆ‡åˆ†æ´¾å»¶é²\n  å®šç¾©ï¼šDispatcherï¼Œæ­¤ä¸€æ¨¡çµ„çš„ç›®çš„æ˜¯è¦å°‡CPUæ§åˆ¶æ¬Šæˆäºˆç¶“ç”±CPU Schedulerä¾æ“šCPUæ’ç­æ³•å‰‡æ‰€é¸å‡ºä¹‹Processï¼Œé¸å¥½å¾ŒCPU Scheduleræœƒå°‡å·¥ä½œäº¤çµ¦CPU Dispatcherï¼Œä¸»è¦çš„å·¥ä½œé …æœ‰ä¸‹åˆ—ä¸‰é …\n Context Switching Change Mode from to Kernel mode to User Mode Jump to the execution entry of that selected proces  ä¸Šè¿°é€™ä¸‰å€‹å·¥ä½œæ‰€è€—è²»çš„æ™‚é–“ç¸½å’Œå°±æ˜¯Dispatch Latency\n  å¸Œæœ›Dispatch Latencyè¶ŠçŸ­è¶Šå¥½ï¼Œé€™äº›Processå¯ä»¥ç›¡æ—©é–‹å·¥\n  Process Control Operationsâ˜†â˜†â˜†â˜†â˜† Lession 1 Theory   å®šç¾©ï¼šProcesså»ºç«‹ã€çµ‚æ­¢ã€æš«åœã€æ¢å¾©åŸ·è¡Œã€è¨­å®šï¼ä¿®æ”¹ï¼è®€å– Process Attributeså€¼ etc.\nä¸Šè¿°é€™äº›çš†æ˜¯OSæ‡‰è©²æä¾›çš„æœå‹™(i.e System Call)\n  Procssæ˜¯å¯ä»¥å»ºç«‹è‡ªå·±çš„Process(Child Process)ï¼Œç›®çš„æ˜¯è¦Child Processåšå·¥ä½œ\n  Child Processæ‰€åšçš„å·¥ä½œï¼Œå¯ä»¥åˆ†ç‚º2é¡ï¼š\n èˆ‡Parent ç›¸åŒçš„å·¥ä½œ(å­æ‰¿çˆ¶æ¥­) ç‰¹å®šå·¥ä½œ(èˆ‡Parentä¸åŒ)    Parentèˆ‡Childä¹‹é–“çš„äº’å‹•é—œä¿‚ç‚ºï¼š\n  Concurrent execution(äº¤éŒ¯ä½¿ç”¨ï¼Œé€šå¸¸æ˜¯åŸ·è¡Œç¬¬ä¸€é¡çš„å·¥ä½œ(å­æ‰¿çˆ¶æ¥­)) Parent waits for Child until child terminated(ç­‰è‘—æ”¶å‰²Childçš„æˆæœ)     Child Process æ‰€é ˆçš„è³‡æºç”±ä½•è™•å–å¾—?\n  OSä¾›æ‡‰(é€™ç¨®æƒ…æ³OSæœƒå»é™åˆ¶æ¯å€‹processæœ€å¤§å¯ç”¢ç”Ÿå¤šå°‘å€‹Child Process) Parentä¾›æ‡‰(æ•´å€‹å®¶æ—Processçš„è³‡æºéƒ½æ˜¯å…±äº«ï¼ŒParent Processçš„Sharing Timeæœ‰ä¸€å°æ™‚ï¼Œé‚£éº¼æ•´å€‹å®¶æ—çš„Sharing Time å°±æ˜¯ä¸€å€‹å°æ™‚     Parent è‹¥çµ‚æ­¢ï¼Œå‰‡Child Processæœƒå¦‚ä½•è™•ç†?\n   ä¸€ä½µçµ‚æ­¢(æœ€å¸¸è¢«ä½¿ç”¨) ï¼šç¨±ä¹‹ç‚ºCascading(å±¤ç–Šçš„) termination\n  Parent Processæ­»äº†ï¼Œä½†Child Processå­˜æ´»ï¼Œé‚£Childçš„è³‡æºç”±ä»¥ä¸‹å…©è€…æä¾›\n   å‘OSå–å¾—è³‡æº\n  å‘ç¥–å…ˆProcesså–å¾—è³‡æº\n        Lession 2 Example - UNIX System Call  fork()ï¼šæ­¤System call. ç”¨ä»¥å»ºç«‹ Child Processï¼Œè€Œfork()ä¹‹å‚³å›çµæœï¼Œå°è±¡å¦‚ä¸‹   å¤±æ•—ï¼šå› ç‚ºè³‡æºä¸è¶³(è¨˜æ†¶é«”ä¸å¤ ï¼ŒPCBä¹Ÿä¸å¤ )ï¼Œç„¡æ³•å»ºç«‹ï¼Œæœƒå‚³å›è² å€¼(-1)çµ¦OS, then Pass to parent processï¼Œé€šå¸¸å¤±æ•—çš„è©±ï¼ŒOSä¹Ÿæœƒé †ä¾¿æŠŠParent processç æ­»\næˆåŠŸï¼šOSæœƒå‚³å›ä¸€å€‹å€¼ï¼Œç”¨ä»¥å€åˆ†child or parentï¼š\n 0å€¼ï¼šçµ¦child process\n.\u0026gt; 0å€¼ï¼šçµ¦Parentï¼Œä¸”æ­¤å€¼ç‚ºChild Process ID\n    wait()ï¼šæ­¤System Callç”¨ä»¥æš«åœProcess execute, ç›´åˆ°æŸå€‹äº‹ä»¶ç™¼ç”Ÿï¼Œeg. çˆ¶ç­‰å­ç›´åˆ°å­çµ‚æ­¢ ã€‚\n  exit()ï¼šæ­¤System Callç”¨ä»¥çµ‚æ­¢Processçš„åŸ·è¡Œï¼Œå›æ”¶å…¶è³‡æºä½†PCBçš„ç©ºé–“å¯èƒ½é‚„ç•™è‘—ï¼Œç›´åˆ°çˆ¶æŠŠå­çš„çµæœå›æ”¶å›ä¾†æ‰å›æ”¶é€šå¸¸exit(0)è¡¨ç¤ºæ­£å¸¸çµ‚æ­¢ï¼Œexit(-1)è¡¨ç¤ºç•°å¸¸çµ‚æ­¢ã€‚å­Processåšå®Œå·¥ä½œå¾Œï¼Œå­Processè¦è‡ªå·±ç™¼å‡ºä¸€å€‹exitçš„System Callï¼Œè®“OSä¾†æ®ºæ‰å­Processã€‚\n  execlp()æˆ–exec(), execve()ï¼šæ­¤system callç”¨æ–¼è«‹OSè¼‰å…¥ç‰¹å®šçš„binary code(å¯åŸ·è¡Œçš„æª”æ¡ˆ)ï¼Œä¾†åŸ·è¡Œã€‚é€™å€‹System callå¯ä»¥äº¤ç”±å­processåŸ·è¡Œï¼Œè®“å­processåŸ·è¡Œç‰¹å®šçš„å·¥ä½œï¼Œå»åŸ·è¡Œä¹‹å¾Œå°±ä¸æœƒå†å›ä¾†åŸ·è¡ŒåŸç¨‹å¼ä¸‹é¢çš„æŒ‡ä»¤äº†ï¼Œå› ç‚ºå·²ç¶“å»åŸ·è¡Œç‰¹å®šçš„å·¥ä½œäº†\neg. execlp(\u0026ldquo;ç›®éŒ„åç¨±\u0026rdquo;,\u0026ldquo;æª”å\u0026rdquo;,åƒæ•¸)\n  getpid()ï¼šæ­¤System Callç”¨ä»¥å–å¾—Prcessçš„Id\n  â€‹\tèªªæ˜ï¼š\nâ€‹\tOSæœƒé…ç½®child process memory space, æ­¤ç©ºé–“æ˜¯å ç”¨ä¸åŒçš„è¨˜æ†¶é«”ç©ºé–“ï¼Œä¸”å­processçš„Data section åŠ code sectionå…§å®¹å‡ä¾†è‡ªçˆ¶processçš„copy, initiallyã€‚\nâ€‹\tè‹¥å­processæ‰€ä½œä¹‹å·¥ä½œèˆ‡çˆ¶processç›¸åŒï¼Œå‰‡fork()å®Œï¼Œå°±å·²ç¶“é”æˆç›®çš„ã€‚\nâ€‹\tè‹¥å­processè¦åšç‰¹å®šå·¥ä½œ(èˆ‡çˆ¶processä¸åŒ)ï¼Œå‰‡å­processå¿…é ˆåŸ·è¡Œexeclp()é€™å€‹system call\nâ€‹\tLession3 Programming 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  //ä¾‹é¡Œ1ï¼›å»ºç«‹Child processåŸ·è¡Œlså‘½ä»¤æª”ï¼Œä¸”çˆ¶ç­‰å­å®Œæˆå¾Œæ‰åˆ—å°Child completed  void main(){ int pid ; pid = fork(); if(pid\u0026lt;0){ printf(\u0026#34;fork fails \\n\u0026#34;); exit(-1); //çˆ¸çˆ¸è‡ªå·±è‡ªæ®º  }else if (pid ==0){ //å…’å­è¦åšçš„äº‹æƒ…  execlp(\u0026#34;/bin/ls\u0026#34;,\u0026#34;ls\u0026#34;,null); exit(); //é€™æ®µcodeä¸æœƒåŸ·è¡Œï¼ŒåŸå› æ˜¯å› ç‚ºexeclp()æœƒæŠŠprocessæŒ‡å‘/bin/lsçš„binary codeï¼Œæ¥è‘—å°±æ˜¯å»åŸ·è¡Œé‚£æ®µbinary codeäº†ï¼Œå°±ä¸æœƒå›ä¾†åŸ·è¡Œé€™å€‹exit();  }else //pid \u0026gt;0{  //çˆ¸çˆ¸è¦åšçš„äº‹æƒ…  wait(); //çˆ¶Processå­Processç›´åˆ°å­Processçµ‚æ­¢ å­Processåšå®Œå·¥ä½œå¾Œï¼Œå­Processè¦è‡ªå·±ç™¼å‡ºä¸€å€‹exitçš„System Callï¼Œè®“OSä¾†æ®ºæ‰å­Processã€‚  printf(\u0026#34;child Completed\u0026#34;); exit(); }; { //ä¸ç®¡æ€æ¨£éƒ½æœƒåŸ·è¡Œçš„åœ°æ–¹  } }\t  1 2 3 4 5 6 7 8 9 10 11 12 13 14  //ä¾‹é¡Œ2 å‡è¨­Parent, child ä¹‹process IDç‚º2600, 2603 æ±‚line A, B, C, D å°å‡ºå€¼ void main(){ pid-t pid, pid1; //pid-t: ä¸€å€‹åç‚ºpid çš„typeï¼Œå°±æ˜¯æ•´æ•¸ï¼Œæ˜¯Cèªè¨€çš„å¯«æ³•  pid-fork(); //pid æ”¾çš„æ˜¯å­processçš„IDï¼Œ pid1æ”¾çš„æ˜¯è‡ªå·±processçš„ID  if(pid==0){ pid1=getpid(); printf(pid); //A 0  printf(pid1); //B 2603  }else if(pid \u0026gt;0){ pid1=getpid(); printf(pid); //C 2603  printf(pid1); //D 2600  } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  //ä¾‹é¡Œ3 å•Açš„å€¼valueæ˜¯å¤šå°‘  int value =5; void main(){ pid-t pid; pid = fork(); if(pid ==0){ value +=15; return 0; }else if(pid \u0026gt;0){ wait(null); print(value); //A=5 å°±ç®—æ˜¯globalçš„è®Šæ•¸ï¼Œä¹Ÿæ˜¯åªèƒ½åœ¨è‡ªå·±çš„processä½œç”¨  return 0; } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  //ä¾‹é¡Œ4 æ±‚åˆ—å°çµæœ (1.) void main(){ int pid; pid =fork(); if(pid==0){ printf(\u0026#34;A\\n\u0026#34;); }else //pid \u0026gt;0{  printf(\u0026#34;B\\n\u0026#34;); } } Ans: çˆ¶èˆ‡å­æ˜¯ä¸¦è¡Œçš„ï¼Œå› ç‚ºçˆ¶processæ²’æœ‰wait(), å› æ­¤ç­”æ¡ˆå¯èƒ½æ˜¯ABæˆ–BA (2.) void main(){ int pid; pid =fork(); if(pid==0){ printf(\u0026#34;A\\n\u0026#34;); }else //pid \u0026gt;0{  printf(\u0026#34;B\\n\u0026#34;); wait(); } printf(\u0026#34;C\\n\u0026#34;); } Ans: ACBC,ABCC,BACC,   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  //ä¾‹é¡Œ5 å‡è¨­Countï¼Œæ˜¯ä¸€å€‹çˆ¶èˆ‡å­Processçš„å…±äº«è®Šæ•¸ ï¼Œåˆå€¼ç‚º5 (1.) void main(){ int pid; pid=fork(); if(pid==0){ count++; printf(count); }else if (pid \u0026gt;0){ wait(); count--; printf(count); } } Ans.6,5 (2.) //çˆ¶èˆ‡å­ä¸¦è¡Œ void main(){ int pid; pid=fork(); if(pid==0){ count++; }else if (pid \u0026gt;0){ count--; } printf(count); } Ans. 45,54,55 //é€™æ˜¯åŸºæœ¬æƒ…æ³  //ä»¥é«˜éšç¨‹å¼èªè¨€çš„è§’åº¦ä¾†çœ‹ï¼Œcount++å¯¦éš›ä¸Šæ˜¯å…©æ¢code  //count+1è·Ÿcount=count+1  //å…ˆåŠ ç„¶å¾Œå†é™„å€¼  //å¦‚æœä»¥çµ„åˆèªè¨€çš„è§’åº¦ä¾†çœ‹ï¼Œå°±æ˜¯ä¸‰è¡Œcode  //LOAD R1, Count  //INC R1, 1;  //STORE Count,R1  //ä½†Processæ²’æœ‰è¾¦æ³•ä¿è­‰é€™ä¸‰æ¢Codeæœƒé€£çºŒåšå®Œï¼Œæœ‰å¯èƒ½åšåˆ°ä¸€åŠå°±è¢«å¦ä¸€å€‹Processæ¶èµ°äº†  //æ‰€ä»¥é‚„æœ‰ä¸€ç¨®æƒ…æ³æ˜¯+1å®Œä¹‹å¾Œï¼Œé‚„ä¾†ä¸åŠAssignï¼ŒCPUå°±è¢«å¦ä¸€å€‹Processæ¶èµ°äº†  Ans.66,44,46,64   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73  //ä¾‹é¡Œ6 (1.) How mant processes are created? (include main()) void main(){ fork(); fork(); fork(); } Ans.8 (2.) void main(){ if(fork()==0){ //ç­‰åŒæ–¼ pid=fork(); if(pid ==0) ....  fork(); fork(); } fork(); } Ans.10 (3.) void main(){ fork(); if(fork()\u0026gt;0){ fork(); }else if(fork() ==0){ fork(); fork(); } } Ans.14 (4.) void main(){ for(i=0;i\u0026lt;3;i++){ if(fork()==0){ fork(); fork(); fork(); } } } Ans.729 (5.) void main(){ for(i=0;i\u0026lt;3;i++){ if(fork()==0){ fork(); }else if(fork() \u0026gt; 0){ if(fork()==0){ fork(); } } } } (6.) void main(){ int a =2; fork(); a--; printf(a); if(fork()==0){ a--; printf(a); fork(); }else{ a++; fork(); printf(a); } } (i.) printf(a)å…±åšäº†å¹¾æ¬¡? (ii.)å°å‡º0çš„æœ‰å¹¾æ¬¡? (iii)å°å‡º1çš„æœ‰å¹¾æ¬¡? (iiii.)å°å‡º2çš„æœ‰å¹¾æ¬¡?   ä¾‹é¡Œ1\nä¾‹é¡Œ2\nä¾‹é¡Œ3\nä¾‹é¡Œ4\nparse1parse2\nparse3\nä¾‹é¡Œ5\nparse1\nparse2,3\nä¾‹é¡Œ6\nEvalue CPU Scheduling Performance 5 criteria    CPU utilizationï¼šcpuèŠ±åœ¨Process exec time / CPU total time(process exec time + context switching time+ idle time)\n èˆ‰ä¾‹ï¼šProcesså¹³å‡èŠ±5msåœ¨execä¸Š ,context switching = 1ms,å‰‡CPU utilization = 5/5+1 =5/6    Throughput(ç”¢èƒ½)ï¼šå–®ä½æ™‚é–“å…§å®Œæˆçš„Jobæ•¸ç›®\n  Waiting Time(ç­‰å¾…æ™‚é–“ï¼Œè€ƒè©¦é‡é»)ï¼šprocessèŠ±åœ¨ready queueä¸­ç­‰å¾…ç²å¾—CPUä¹‹ç­‰å¾…æ™‚é–“åŠ ç¸½\n  Turnaround Time(å®Œæˆæ™‚é–“)ï¼šå¾Processé€²å…¥(åˆ°é”)åˆ°å®ƒå·¥ä½œå®Œæˆçš„é€™æ®µæ™‚é–“å·®å€¼\n  Response Time(å›æ‡‰æ™‚é–“)ï¼šè‡ªuser(user process) input å‘½ä»¤/Data çµ¦ç³»çµ±åˆ°ç³»çµ±ç”¢ç”Ÿç¬¬ä¸€å€‹å›æ‡‰çš„æ™‚é–“å·®ï¼Œæ²’æœ‰ä¸€å€‹ç‰¹å®šçš„é‡æ³•å»é‡å®ƒï¼Œç¨±ä¹‹Time-sharing system, user-mteractive, applicationç‰¹åˆ¥é‡è¦–é€™ä¸€å¡Š\n   ç”±ä¸Šè¿°å¾—çŸ¥ï¼Œæ’ç­çš„ç›®æ¨™å¿…æ˜¯ï¼Œ**åˆ©ç”¨åº¦è¶Šé«˜ã€ç”¢èƒ½è¶Šé«˜ï¼Œæ™‚é–“ç›¸é—œçš„æ±è¥¿è¶ŠçŸ­è¶Šå¥½ **\nCPUæ’ç­æ³•å‰‡è¡Œç‚ºä»‹ç´¹   FIFO SJF SRTF Priority RR Multilevel Queues Multilevel Feedback Queues (MFQs)   FIFOæ³•å‰‡   å®šç¾©ï¼šåˆ°é”æ™‚é–“æœ€å°çš„processï¼Œå„ªå…ˆå–å¾—CPU\n  ä¾‹å¦‚ï¼š\n   Process CPU(burst) Time è¦èŠ±çš„CPU time     P1 24   P2 3   P3 3    åˆ°é”æ™‚é–“çš†ç‚º0(å¾ä¸€é–‹å§‹å°±åˆ°äº†)\nåˆ°é”é †åºç‚ºï¼šP1, P2, P3(æ“ºåˆ°ready queueçš„é †åº)\nQuestion\n ç•«å‡ºGantt Chart æ±‚Avg. waiting time æ±‚Avg. Turnaround Time    åˆ†æ\n  æ’ç­æ•ˆèƒ½æœ€å·®ï¼Œå³Waiting time \u0026amp; Turnaround time æœ€é•·\n  å¯èƒ½æœƒæœ‰**Convoy Effect(è­·è¡›æ•ˆæ‡‰ï¼šè¨±å¤šProcesses å‡åœ¨ç­‰å¾…ä¸€å€‹éœ€è¦å¾ˆé•·CPU timeä¹‹process å®Œæˆå·¥ä½œï¼Œæ‰èƒ½å–å¾—CPUï¼Œé€ æˆAvg waiting time å¾ˆé•·ä¹‹ä¸è‰¯æ•ˆæ‡‰) **\n  å…¬å¹³\n  No Starvation\n (æ²’æœ‰é£¢é¤“ç¾è±¡ï¼šProcesså› ç‚ºé•·æœŸç„¡æ³•å–å¾—å®Œå·¥æ‰€éœ€å„å¼è³‡æºï¼Œå°è‡´å®ƒé²é²ç„¡æ³•å®Œå·¥ï¼Œå½¢æˆIndefinite Blocking ç¾è±¡ï¼Œç¨±ä¹‹Starvationï¼Œå®¹æ˜“ç™¼ç”Ÿåœ¨ä¸å…¬å¹³å°å¾…ä¹‹ç’°å¢ƒï¼Œè‹¥å†åŠ ä¸ŠPreemptiveæ©Ÿåˆ¶ï¼Œå‰‡æ›´æ˜¯å®¹æ˜“ç™¼ç”Ÿï¼Œè£œå„Ÿæ–¹æ¡ˆï¼š\u0026ldquo;Aging(è€åŒ–)\u0026ldquo;æŠ€è¡“ï¼Œéš¨è‘—Processå¾…åœ¨Systemå…§çš„æ™‚é–“é€æ¼¸å¢åŠ ï¼Œæˆ‘å€‘ä¹Ÿé€æ­¥æé«˜æ­¤processçš„å„ªå…ˆæ¬Šï¼Œæ•…å¯å–å¾—Process Resourceså®Œå·¥ï¼Œå› ç‚ºä¸æœƒStarvationã€‚æ³¨æ„ï¼šSoft real-time Systemä¸æ¡ç”¨Agingï¼Œå› ç‚ºSoft real-time systemæ˜¯ç‚ºäº†ç¢ºä¿real-time processå–å¾—æœ€é«˜å„ªå…ˆæ¬Šï¼Œå¦‚æœåŠ å…¥Agingæ©Ÿåˆ¶ï¼Œå°±æœ‰å¯èƒ½æœ‰processçš„priorityé«˜æ–¼real time process)    Non-preemptive(ä¸å¯æ’éšŠï¼›ä¸å¯æ¶å¥ª)æ³•å‰‡\n  ç‰ˆæœ¬1(ç™½è©±æ–‡)\n  Non-preemptiveæ³•å‰‡\n å®šç¾©ï¼šé™¤éåŸ·è¡Œä¸­çš„processè‡ªé¡˜æ”¾æ‰CPUï¼Œå…¶ä»–Processæ‰æœƒæœ‰æ©Ÿæœƒå–å¾—CPUï¼Œå¦å‰‡å°±åªèƒ½waitï¼Œä¸å¯é€•è‡ªæ¶å¥ªCPU ä¾‹å¦‚ï¼šå®Œæˆå·¥ä½œã€Wait for I/O-completed after issue I/O-request å„ªé»ï¼š  Context Switchingçš„æ¬¡æ•¸æ¯”è¼ƒå°‘ï¼Œå› ç‚ºä¸å¯æ’éšŠï¼Œæ‰€ä»¥Switchingçš„é »ç‡å°å¾ˆå¤š processä¹‹å®Œå·¥æ™‚é–“é»è¼ƒå¯é æœŸ(Predictable)ï¼Œå› ç‚ºä¸å¯æ’éšŠ æ¯”è¼ƒä¸æœƒæœ‰Race Condition Problem   ç¼ºé»ï¼š  æ’ç­çš„æ•ˆèƒ½è¼ƒå·®ï¼Œå› ç‚ºå¯èƒ½æœ‰Convoy effect ä¸é©åˆç”¨åœ¨Time-sharing System, Real time Systemï¼Œå› ç‚ºé€™å…©å€‹éƒ½éœ€è¦æ’éšŠçš„æ©Ÿåˆ¶      Preemptiveæ³•å‰‡\n å®šç¾©ï¼šåŸ·è¡Œä¸­çš„Processæœ‰å¯èƒ½è¢«è¿«æ”¾æ£„CPUï¼Œå›åˆ°ready Queueï¼Œå°‡CPUåˆ‡çµ¦åˆ¥äººä½¿ç”¨ï¼Œeg. Time-out, interrupt etc å„ªé»ï¼š  æ’ç­æ•ˆç›Šè¼ƒä½³ï¼Œå¹³å‡waiting/ turnound Timeè¼ƒå°ï¼Œå¯ä»¥æŠŠè€—æ™‚è¼ƒé•·çš„Process Preemptiveæ‰ é©ç”¨æ–¼Real-time sysem(è¦èƒ½å¤ æŠŠreal time çš„processæ’å…¥é€²å») åŠTime-Sharing System   ç¼ºé»ï¼š  å®Œå·¥æ™‚é–“è¼ƒä¸å¯é æœŸ Context Switchingæ¬¡æ•¸å¤šï¼Œè² æ“”è¼ƒé‡ é ˆæ³¨æ„Race Conditionä¹‹ç™¼ç”Ÿ        ç‰ˆæœ¬2ï¼šå¾CPUæ’ç­æ±ºç­–(å•Ÿå‹•)ä¹‹æ™‚æ©Ÿé»ä¾†åšå€åˆ†(å¯ä»¥åƒè€ƒ State Transitionï¼Œä»¥ä¸‹æ˜¯äº”ç¨®æƒ…æ³åšè§£èªª)\n  Running \u0026mdash;\u0026gt; Block eg: wait for I/O completed [è‡ªé¡˜æ”¾æ£„] Running \u0026mdash;\u0026gt; Ready eg: time-out [è¢«è¿«æ”¾æ£„] Wait \u0026mdash;\u0026gt; Ready eg: I/O-completed [å°Šçˆµä¸å‡¡çš„processé†’ä¾†äº†ï¼Œæ‰€ä»¥è¦å•Ÿå‹•CPU schedulingï¼Œç²å¾—CPUï¼Œä½å„ªå…ˆæ¬Šçš„processè¢«è¿«æ”¾æ£„CPU] Running \u0026mdash;\u0026gt; Exit eg:å®Œæˆå·¥ä½œ [è‡ªé¡˜æ”¾æ£„]   æ‰€ä»¥è‹¥æ’ç­æ±ºç­–ä¹‹å•Ÿå‹•é»åªåŒ…å«1,4ï¼ŒæœªåŒ…å«2,4ï¼Œå‰‡ç‚ºNon-preemptive,å¦å‰‡preemptã€‚\nNoteï¼šå‡¡æ˜¯ xxx \u0026mdash;\u0026gt; ready çš†åˆ—å…¥preemptiveå…ƒç´ (é¸é …)ï¼Œæ‰€ä»¥\nready/suspend \u0026mdash;\u0026gt; ready\nNew \u0026mdash;\u0026gt; Ready\nçš†åˆ—å…¥preemptive\n      SJF(Shortest Job First)æ³•å‰‡   å®šç¾©ï¼šå…·æœ‰æœ€å°çš„CPU TIMEä¹‹Processï¼Œå„ªå…ˆå–å¾—CPUï¼Œè‹¥éƒ½ä¸€æ¨£å°ï¼Œå‰‡æ¡FIFOã€‚\n  ä¾‹å¦‚ï¼š\n   Process CPU Time     P1 6   P2 8   P3 7   P4 3    Processåˆ°é”æ™‚é–“çš†ç‚º0ï¼Œæ±‚Avg waiting time\n  åˆ†æï¼š\n  æ’ç­æ•ˆç›Šæœ€ä½³(optimal)ï¼Œå³Avg waiting/ turnaround timeæœ€å°\n  èªªæ˜ï¼šWhy optimal?\nå› ç‚ºShort Jobæ‰€æ¸›å°‘çš„ç­‰å¾…æ™‚é–“å¿…å®š\u0026gt;= Long-Jobæ‰€å¢åŠ çš„ç­‰å¾…æ™‚é–“ï¼Œå› ç‚ºå¹³å‡ç­‰å¾…æ™‚é–“æœƒæœ€å°\n    ä¸å…¬å¹³ï¼Œåå¥½short Job\n  å¯èƒ½æœƒStarvation(for long Job)\n  å¯ä»¥åˆ†æˆ\n Non-preemptive \u0026mdash;\u0026gt; SJFåšä»£è¡¨\nPreemptive \u0026mdash;\u0026gt; å¦å¤–å«åšSRTFæ³•å‰‡\n   è¼ƒä¸é©åˆç”¨åœ¨Short-term scheduler(æ¯”è¼ƒä¸æ°ç•¶å•¦ï¼Œä½†ä½ è¦ç”¨ä¹Ÿæ˜¯å¯ï¼Œå› ç‚ºShort-term scheduleråŸ·è¡Œé »ç‡å¤ªé«˜ï¼Œæ‰€ä»¥å¾ˆé›£åœ¨æ¥µçŸ­çš„æ™‚é–“é–“éš”å…§å»é ä¼°å‡ºç²¾ç¢ºçš„CPU Burst time for each process ä¸”æ’å‡ºæœ€å°å€¼ï¼Œä¸æ˜“çœŸæ­£å‘ˆç¾å‡ºSJFä¹‹è¡Œç‚ºï¼Œåå€’æ˜¯é©åˆç”¨long-term scheduler\nShort time scheduleræ˜¯æŒ‡å°ˆé–€è² è²¬è™•ç†çŸ­æš«çš„å·¥ä½œçš„è¨ˆåŠƒç¨‹åºã€‚é€™äº›å·¥ä½œé€šå¸¸æœƒåœ¨çŸ­çŸ­çš„æ™‚é–“å…§å®Œæˆï¼Œä¸¦ä¸”æœ‰è¨±å¤šå·¥ä½œè¦æ±‚åŒæ™‚é€²è¡Œã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œä½¿ç”¨short job firstï¼ˆSJFï¼‰æ³•å‰‡ä¾†è™•ç†å·¥ä½œå¯èƒ½ä¸æ˜¯æœ€ä½³é¸æ“‡ã€‚é€™æ˜¯å› ç‚ºSJFæ³•å‰‡æ˜¯åŸºæ–¼å·¥ä½œé è¨ˆå®Œæˆæ™‚é–“çš„ï¼Œä¸¦å‡è¨­å·¥ä½œçš„é è¨ˆå®Œæˆæ™‚é–“æ˜¯å¯ä»¥é å…ˆçŸ¥é“çš„ã€‚ä½†æ˜¯ï¼Œåœ¨short time schedulerä¸­ï¼Œå¤§å¤šæ•¸å·¥ä½œçš„é è¨ˆå®Œæˆæ™‚é–“éƒ½æ˜¯æœªçŸ¥çš„ï¼Œå› æ­¤ç„¡æ³•æº–ç¢ºåœ°æ‡‰ç”¨SJFæ³•å‰‡ã€‚å¦ä¸€å€‹åŸå› æ˜¯ï¼ŒSJFæ³•å‰‡æœƒå°‡çŸ­å·¥ä½œæ”¾åœ¨å„ªå…ˆåŸ·è¡Œçš„ä½ç½®ï¼Œå› æ­¤æœƒæŠŠè¨±å¤šçŸ­å·¥ä½œæ’åœ¨ä¸€èµ·ã€‚åœ¨short time schedulerä¸­ï¼Œé€™å¯èƒ½æœƒå°è‡´è¨±å¤šçŸ­å·¥ä½œä¹‹é–“çš„ç«¶çˆ­ï¼Œå¾è€Œå°è‡´æ•ˆç‡é™ä½ã€‚ç¸½çš„ä¾†èªªï¼Œshort time scheduleræ›´é©åˆä½¿ç”¨å…¶ä»–è¨ˆåŠƒç­–ç•¥ï¼Œä¾‹å¦‚åŸºæ–¼å…ˆé€²å…ˆå‡ºï¼ˆFIFOï¼‰æˆ–åŸºæ–¼æœ€çŸ­å‰©é¤˜æ™‚é–“ï¼ˆSRTï¼‰çš„ç­–ç•¥ï¼Œä¾†è™•ç†çŸ­æš«çš„å·¥ä½œã€‚)\n å¦‚ä½•è©•ä¼°processä¹‹the next cpu burst time?\n  å…¬å¼(åŠ æ¬ŠæŒ‡æ•¸å¹³å‡å…¬å¼)\n    t0 t1 t2 t3      å¯¦éš›å€¼ 20 10 40 20    é ä¼°å€¼ 20(ä¸€é–‹å§‹é‚„æ²’é ä¼°ï¼Œæ‰€ä»¥éƒ½æ˜¯æŠ“t0çš„å€¼)    ?    T0 T1 T2 T3 T4      æ„ç¾©:ã€€       SRTF,SRJF,SRTN( Shortest Remaining-Time Job First(Next))   å®šç¾©ï¼šå³ç‚ºPreemptive-SJFæ³•å‰‡ï¼Œå³å‰©é¤˜CPU Burst Time(CPUå®Œæˆä¸€æ¬¡çŸ­æ™‚é–“å·¥ä½œæ‰€éœ€çš„æ™‚é–“)æœ€å°çš„ Processï¼Œå–å¾—CPUã€‚ä¹Ÿå°±æ˜¯è‹¥æ–°åˆ°é”çš„Processå…¶CPU Burst TIme å°æ–¼ç›®å‰åŸ·è¡Œä¸­processå‰©ä¸‹çš„CPU time, å‰‡æ–°åˆ°é”ä¹‹Processå¯ä»¥**æ’éšŠ(preemption)**åŸ·è¡Œã€‚\n  èˆ‰ä¾‹ï¼š\n   Process åˆ°é”æ™‚é–“ CPU Time     P1 0 8   P2 1 4   P3 2 9   P4 3 5    æ±‚Avg waiting Time for\n  SRTF\n  SJF(ä¸å¯æ’éšŠ)\n  FIFO\n    åˆ†æï¼š\n èˆ‡SJFç›¸æ¯”ï¼ŒSRTFä¹‹å¹³å‡waiting/Turnaround timeæœƒæ¯”è¼ƒå°(SRTFæ˜¯SJFçš„ä¸€å€‹å­é¡ï¼Œå› ç‚ºSRTFå¯æ’éšŠï¼Œæ‰€ä»¥æœƒæœ‰æœ€å°çš„waiting time, ä½†æ˜¯ä»˜å‡ºè¼ƒå¤§çš„Context Switchingçš„overhead(è² æ“”) ä¸å…¬å¹³ï¼Œåå¥½Short remaining-time Job æœƒæœ‰Starvationçš„å•é¡Œ Preemptiveæ³•å‰‡    Priorityæ³•å‰‡   å®šç¾©ï¼šå¯åƒæ•¸åŒ–çš„æ³•å‰‡ï¼Œå…·æœ‰Highest Priorityä¹‹Processï¼Œå„ªå…ˆå–å¾—CPUï¼Œè‹¥å¤šå€‹Processæ¬Šå€¼ç›¸åŒï¼Œå‰‡ä»¥FIFOç‚ºæº–ï¼Œä¹Ÿæœ‰åˆ†æˆNon-preemptive, Preemptiveçš„å·®ç•°ã€‚\n  èˆ‰ä¾‹ï¼šä¸å¯æ’éšŠ\n   Process CPU time Priority No.     P1 10 3   P2 1 1   P3 2 3   P4 1 4   P5 5 2    ä¸”ï¼ŒPriority Noè¶Šå°ï¼Œå„ªå…ˆæ¬Šè¶Šå¤§The Smaller Priority No. Implies the higher priorityã€‚æ±‚Avg waiting Time\n  åˆ†æï¼š\n  æ˜¯ä¸€å€‹å…·åƒæ•¸åŒ–çš„æ³•å‰‡ï¼Œå³çµ¦äºˆä¸åŒçš„priorityé«˜ä½å®šç¾©ï¼Œå¯å±•ç¾å‡ºä¸åŒçš„æ’ç­è¡Œç‚ºã€‚\n   Priorityå®šç¾© è¡Œç‚º     æŠµé”æ™‚é–“è¶Šæ—©ï¼Œå„ªå…ˆæ¬Šæ›´é«˜ FIFO   CPUã€€Timeè¶Šå°ï¼Œå„ªå…ˆæ¬Šè¶Šé«˜ SJF   å‰©é¤˜æ™‚é–“è¶Šå°ï¼Œå„ªå…ˆæ¬Šè¶Šé«˜ SRTF    å› æ­¤FIFO, SJF, SRTFéƒ½æ˜¯å±¬æ–¼Priorityçš„ä¸€ç¨®\n  ä¸å…¬å¹³\n  æœƒæœ‰Starvation (å¯ç”¨Agingå»è§£æ±º)\n  åˆ†ç‚ºNon-preemptive, preemptiveå…©ç¨®\n    RR(Round Robin)æ³•å‰‡(è€ƒè©¦é‡é»)   å®šç¾©ï¼šTime-Sharing Systemæ¡ç”¨ï¼ŒOSæœƒè¦å®šä¸€å€‹CPU time Quantun(or Slice)ï¼Œç•¶Processå–å¾—CPUåŸ·è¡Œå¾Œï¼Œè‹¥æœªèƒ½åœ¨æ­¤Quantumå…§å®Œæˆå·¥ä½œï¼Œå‰‡Timeræœƒç™¼å‡º\u0026quot;Time-out\u0026rdquo; interrupté€šçŸ¥OSï¼ŒOSæœƒå¼·è¿«æ­¤processæ”¾æ‰CPUï¼Œä¸”å›åˆ°ready queueä¸­ï¼Œç­‰å¾…ä¸‹ä¸€è¼ªå†å–å¾—CPUåŸ·è¡Œï¼Œæ¯ä¸€è¼ªä¹‹ä¸­ï¼Œprocessæ˜¯ä»¥FIFOæ’éšŠæ–¹å¼å–å¾—CPU\n  èˆ‰ä¾‹1ï¼š\n   Process Cpu time     P1 8   P2 4   P3 9   P4 5    åˆ°é”æ™‚é–“çš†ç‚º0ï¼Œé †åºæ˜¯P1~P4, ä½¿ç”¨RR(Quantum=4), æ±‚Avg waiting time\nèˆ‰ä¾‹2:\n   Process Arrival Time Cpu Time     P1 0 10   P2 2 5   P3 7 3   P4 13 8      èˆ‰ä¾‹3:\n   Process Arrival time è¡Œç‚º     P1 0 5CPU+6I/O+4CPU   P2 3 15CPU   P3 8 3CPU+10I/O+9CPU   P4 14 8CPU    Quantum= 5ï¼Œå•turnaound time ? waiting time ?\n æ³¨æ„ï¼šæœ‰äº›é¡Œç›®æ˜¯æœ‰çˆ­è­°çš„  â€‹\teg.\n   Process åˆ°é” CPU time     P1 0 6   P2 4 9   P3 8 6    â€‹\tæ¡RR(Q=4)\nâ€‹\t  åˆ†æï¼š\n Time-sharing System æ¡ç”¨ ä¹Ÿæ˜¯ä¸€å€‹å¯åƒæ•¸åŒ–çš„æ³•å‰‡(ie. Quantum) å…¬å¹³ No starvation preemptiveæ³•å‰‡(Real-Time, Time-Sharingé©ç”¨ï¼ŒRRè¶…éQuantum timeå¾Œæœƒè¢«è¿«å›åˆ°ready    èˆ‰ä¾‹2\nQuantum=âˆ\nå‰‡RRæœƒè®ŠæˆFIFOæ³•å‰‡\u0026mdash;\u0026gt; æ’ç­æ•ˆèƒ½å¾ˆå·®\næ³¨æ„ï¼šä¹Ÿå› æ­¤ï¼ŒFIFOå±¬æ–¼RRçš„ä¸€ç¨®\n  èˆ‰ä¾‹3\nQuantum =æ¥µå°å€¼\nå‰‡Context Switchingå¤ªé »ç¹ï¼ŒCPU Utilizationæœƒå¾ˆä½\nä¾ç¶“é©—æ³•å‰‡ï¼Œè‹¥Quantumå€¼èƒ½è®“**80%**çš„Jobåœ¨Quantumå…§å®Œæˆï¼Œæ•ˆèƒ½è¼ƒä½³ã€‚\n  è£œå……ï¼šRRé›–ç„¶æ˜¯å…¬å¹³çš„ï¼Œä½†ä¹Ÿå¯æ”¯æŒå·®ç•°åŒ–(å„ªå…ˆæ¬Šå·®ç•°)ä¹‹å¯¦ç¾ï¼ŒHow do you achieve this?\nAns.\n é‡å°é«˜å„ªå…ˆæ¬ŠProcessåœ¨ready Queueä¸­ç½®å…¥å¤šå€‹PCB pointer æŒ‡å‘æ­¤Processï¼Œä½¿å¾—æ¯ä¸€è¼ªç•¶ä¸­ï¼Œå®ƒæœ‰å¤šæ¬¡å–å¾—CPUä¹‹æ©Ÿæœƒ é‡å°é«˜å„ªå…ˆæ¬ŠProcessçµ¦äºˆè¼ƒå¤§çš„Time Quantum    MultiLevel Queues(å¤šå±¤ä½‡åˆ—)æ³•å‰‡   å®šç¾©ï¼š\n å°‡åŸæœ¬å–®ä¸€ä¸€æ¢ready queueè®Šæˆå¤šæ¢ready queuesä¸”é«˜ã€ä½å„ªå…ˆæ¬Šä¸åŒ Queuesä¹‹é–“çš„æ’ç­æ³•å‰‡ï¼Œé€šå¸¸æ¡å–Preemptive and Priorityæ³•å‰‡ æ¯å€‹Queue å¯ä»¥æœ‰è‡ªå·±çš„æ’ç­æ³•å‰‡ eg. RR Processä¸€æ—¦è¢«ç½®å…¥æ–¼æŸå€‹Queueä¸­ï¼Œå°±ä¸å¯(ä¸å…è¨±)åœ¨ä¸åŒready queuesä¹‹é–“ç§»å‹•    èˆ‰ä¾‹ï¼šI/O-Boundèˆ‡CPU-Bound Jobä½ æœƒç½®æ–¼å“ªå€‹Queueä¸­?\nAnsï¼šI/O-Bound Job \u0026mdash;\u0026gt;Q1\n  â€‹ CPU-Bound Job \u0026mdash;\u0026gt;Q3\n  åˆ†æï¼š\n  å¯åƒæ•¸åŒ–çš„é …ç›®çœ¾å¤š1. Queueçš„æ•¸ç›® 2. Queueä¹‹é–“çš„æ’ç­æ³•å‰‡ 3. æ¯å€‹Queueè‡ªå·±çš„æ’ç­æ³•å‰‡ 4. Processè¢«æ”¾å…¥å“ªå€‹Queueä¹‹Criteria ï¼Œæœ‰åŠ©æ–¼æ’ç­è¨­è¨ˆåŠæ•ˆèƒ½èª¿æ ¡ä¹‹Flexibility\n  ä¸å…¬å¹³\n  æœ‰Starvation(è¢«æ”¾åœ¨Q3 çš„Processæ°¸ä¸–ä¸å¾—ç¿»èº«ï¼Œå› ç‚ºProcessä¸€æ—¦è¢«ç½®å…¥æ–¼æŸå€‹Queueä¸­ï¼Œå°±ä¸å¯(ä¸å…è¨±)åœ¨ä¸åŒready queuesä¹‹é–“ç§»å‹•â˜†â˜†â˜†â˜†â˜†\n  Preemptive\n    MultiLevel Feedback Queues(MFQs)(å¤šå±¤å›é¥‹ä½‡åˆ—)  å®šç¾©ï¼šèˆ‡MultiLevel Queueç›¸ä¼¼ï¼Œå·®åˆ¥ï¼šå…è¨±Process åœ¨ä¸åŒQueues ä¹‹é–“ç§»å‹•ï¼Œå¯æ¡å–é¡ä¼¼AgingæŠ€è¡“ï¼Œç”šè‡³å¯ä»¥æ­é…é™ç´šçš„åšæ³•ï¼Œä¾†é¿å…Starvation åˆ†æï¼š  å¯åƒæ•¸åŒ–çš„é …ç›®çœ¾å¤š1. Queueçš„æ•¸ç›® 2. Queueä¹‹é–“çš„æ’ç­æ³•å‰‡ 3. æ¯å€‹Queueè‡ªå·±çš„æ’ç­æ³•å‰‡ 4. Processè¢«æ”¾å…¥å“ªå€‹Queueä¹‹Criteria 5.Processåœ¨ä¸åŒä½‡åˆ—ä¹‹é–“ç§»å‹•çš„è¦å‰‡ï¼Œæœ‰åŠ©æ–¼æ’ç­è¨­è¨ˆåŠæ•ˆèƒ½èª¿æ ¡ä¹‹Flexibility ä¸å…¬å¹³ ä¸æœƒæœ‰Starvation(è¢«æ”¾åœ¨Q3 çš„Processæ°¸ä¸–ä¸å¾—ç¿»èº«ï¼Œå› ç‚ºProcessä¸€æ—¦è¢«ç½®å…¥æ–¼æŸå€‹Queueä¸­ï¼Œå°±ä¸å¯(ä¸å…è¨±)åœ¨ä¸åŒready queuesä¹‹é–“ç§»å‹•â˜†â˜†â˜†â˜†â˜† Preemptive    å°çµ   å“ªäº›æ˜¯Non-preemptiveæ³•å‰‡\nAns. FIFO,SJF,SRTF, Non-preemptive priority\n  å“ªäº›æ˜¯No Starvation\nAns. FIFO, RR, MFQs\n  å“ªäº›åŒ…å«æ–¼(âˆŠ)é—œä¿‚æ˜¯éŒ¯çš„\n  â€‹\tA. FIFO âˆŠ Priority\nâ€‹\tB. SJF âˆŠ Priority\nâ€‹\tC. FIFO âˆŠ RR\nâ€‹\tD. SJF âˆŠ RR\nâ€‹\tE. RR âˆŠ MFQs æ˜¯å–”ï¼ŒMFQsçš„åƒæ•¸å¯ä»¥è¨­å®šæˆä¸€æ¢Queue\nâ€‹\tAns. (D)\nè£œå…… CPU Utilizationè¨ˆç®— ä¾‹1.\nå‡è¨­æ¡RRæ’ç­\nTime Quantumå€¼= Q\nContext Switch Time = S\nProcess å¹³å‡åŸ·è¡Œæ¯éš”Tæ™‚é–“æœƒç™¼å‡ºI/O-request, æ±‚ä¸‹åˆ—Caseä¹‹CPU Utilization(cpuèŠ±åœ¨Process exec time / CPU **total time(process exec time + context switching time+ idle time)** )\n  0 \u0026lt; S \u0026lt; T \u0026laquo;Q\n  0\u0026lt;S\u0026lt;Q\u0026laquo;T\n  â€‹\t 0\u0026lt;S=Q \u0026laquo;T\n  Qéå¸¸å°\n  ä¾‹2. [æ] (çœ‹ä¸æ‡‚)\n10å€‹I/O-Bound Tasks(å¾ˆèŠ±I/O)\n1 å€‹CPU-Bound Tasks(å¾ˆèŠ±CPU)\nI/O-Bound taskåŸ·è¡Œæ¯éš”1ms ç™¼å‡º I/O-requestï¼Œæ¯å€‹I/O-é‹ä½œèŠ±10ms\nContext Switching Time = 0.1 ms, æ±‚CPU utilization, æ¡RRæ³•å‰‡\n  Quantum = 1ms\n  Quantum = 10ms\n  â€‹\tå¯«å®Œä¹‹å¾Œæœƒç™¼ç¾æœ‰å€‹infoæ²’æœ‰ç”¨åˆ°ã€Œæ¯å€‹I/O-é‹ä½œèŠ±10ms ã€ï¼Œå› ç‚ºæœ‰CPU-Boundçš„å­˜åœ¨ï¼Œæ‰€ä»¥ä¸å­˜åœ¨idle Timeï¼Œå¦‚æœä¸å­˜åœ¨CPU-Boundï¼Œå‰‡å¯èƒ½å­˜åœ¨idleçš„æƒ…å½¢ï¼Œå°±éœ€è¦è€ƒæ…®é€™ç¨®æƒ…å½¢\nç‰¹æ®Šç³»çµ±ä¹‹æ’ç­è¨­è¨ˆè€ƒé‡ Multiprocessors System   Multiprocessorsåˆ†ç‚º\n  ASMP(éå°ç¨±çš„ï¼ŒMaster-slaveæ¶æ§‹) \u0026mdash;\u0026gt; æ²’æœ‰ä»€éº¼ç‰¹æ®Šè¨­è¨ˆï¼Œå˜»å˜»ï¼Œå› ç‚ºåªæœ‰Masteré€™å€‹CPUå»çœ‹ready queueä»¥åŠjobçš„assignï¼Œæ‰€ä»¥å…¶å¯¦æ²’å•¥ç‰¹æ®Šè¨­è¨ˆ\n  SMP(å°ç¨±å¼) \u0026mdash;\u0026gt;\n  æ¯å€‹CPUå…±äº«åŒä¸€æ¢Ready Queueï¼Œç•¶CPUå®ŒæˆæŸProcesså¾Œï¼Œå°±å»å­˜å–ready Queueï¼Œå–èµ°ä¸€å€‹ProcessåŸ·è¡Œã€‚è¨­è¨ˆé‡é»ï¼šå¿…é ˆæä¾›ready queueçš„äº’æ–¥å­˜å–æ©Ÿåˆ¶ï¼Œè‹¥æœªæä¾›ï¼Œå‰‡å¯èƒ½ç™¼ç”ŸProcessé‡è¤‡åŸ·è¡Œæˆ–Processè¢«ignored(ç„¡äººåŸ·è¡Œ)ä¹‹éŒ¯èª¤ã€‚\nä¾‹å¦‚ï¼šCPUå»å–å¾—Processä¹‹å·¥ä½œå¦‚ä¸‹\n å–å¾—(read) Ready Queue, Frond Endçš„processä¹‹PCB Pointer åˆªé™¤æ­¤Process Pointer from Queue     CPU1 CPU2     T1: step1: å–å¾—P1 PCB pointer T2:step1å–å¾—P1 PCB pointer   T3: DequeueåŸ·è¡Œ T4: DequeueåŸ·è¡Œ    è¨­è¨ˆé‡é»ï¼š\n å¿…é ˆæä¾›ready Queueçš„äº’æ–¥å­˜å–æ©Ÿåˆ¶ ä¸é ˆè€ƒé‡Load Balancing    æ¯å€‹CPUæœ‰è‡ªå·±çš„Ready Queue\næ¯å€‹CPUåªæœƒæª¢æŸ¥è‡ªå·±çš„ready Queue, æœ‰å·¥ä½œå°±åŸ·è¡Œï¼Œç„¡å·¥ä½œå°±idle\nè¨­è¨ˆé‡é»ï¼š\n ä¸é ˆæœ‰äº’æ–¥å­˜å–çš„è€ƒé‡ï¼Œä¸€æ—¦ç™¼ç”Ÿidleï¼Œå‰‡æŠŠå…¶ä»–CPUçš„queueèª¿æ•´éä¾† éœ€è€ƒé‡Load Balancingï¼Œé¿å…æœ‰CPUæ²’äº‹ï¼Œæœ‰CPUå¾ˆå¿™ã€‚é€šå¸¸ä½¿ç”¨å…©ç¨®æ©Ÿåˆ¶ä¾†èª¿æ•´CPU Loading  Push migration(ç§»è½‰) Pull migration(ç§»è½‰)          Processor affinity  å®šç¾©ï¼šåœ¨multiprocessors systemä¸­ï¼Œç•¶processå·²æ±ºå®šæŸCPUä¸ŠåŸ·è¡Œï¼Œå‰‡åœ¨ä»–åŸ·è¡Œéç¨‹ç•¶ä¸­ï¼Œç›¡é‡ä¸è¦å°‡ä¹‹ç§»è½‰åˆ°å…¶ä»–CPUä¸ŠåŸ·è¡Œ(é™¤éæœ‰å…¶å¿…è¦ï¼Œeg. processor BAD, load Balancing, etc)é¿å…CPUå…§ä¹‹cacheç­‰å…§å®¹è¦è¤‡è£½ï¼Œä¸”åˆªé™¤ï¼Œå½±éŸ¿åˆ°æ•ˆèƒ½è¡¨ç¾ï¼Œå¯ä»¥æœ‰  Hard affinityï¼šè¦å®šprocessä¸å¯ç§»è½‰ Soft affinityï¼šç›¡å¯èƒ½ä¸è½‰ï¼Œä½†ä¸å¼·åˆ¶é™åˆ¶ï¼Œè‹¥æœ‰éœ€è¦é‚„æ˜¯å¯ä»¥è½‰    Real-Time Systemæ’ç­è¨­è¨ˆè€ƒé‡ Hard real-time system   æ’ç­è¨­è¨ˆè€ƒé‡\nStep\n  å…ˆç¢ºå®šé€™äº›å·¥ä½œæ˜¯å¦schedulable(å¯æ’ç¨‹åŒ–ï¼ŒCPUå¯ä»¥è² è·çš„äº†)\n  ç¢ºå®šå¯schedulableå¾Œï¼Œç„¶å¾Œåœ¨è€ƒæ…®æ˜¯å¦å¯ä»¥æ»¿è¶³å„å·¥ä½œçš„DeadLine\nå…©å€‹æ’ç­æ³•å‰‡\n Rate-Montonic scheduling EDF(Earliest Deadline First)æ³•å‰‡      Schedulableèˆ‡å¦ä¹‹åˆ¤æ–·å…¬å¼ï¼š\nä¾‹ï¼šæœ‰ä¸‹åˆ—4å€‹Real-time event. å…¶CPU burst time,Period Time åˆ†åˆ¥æ˜¯ï¼š\n   CPU Burst Time Period Time     20ms 80ms   50ms 100ms   30ms 30ms   Xms 1Sec    ï¼Œå‰‡åœ¨Schedulableè¦æ±‚ä¸‹ï¼Œxä¸å¯è¶…é?ms\nAns\n  æ€éº¼æ’ç¨‹ä»¥æ»¿è¶³å€‹å·¥ä½œDeadLine after Schedulable?\n  Rate-Monotonicæ³•å‰‡\n  æ¡å–Static priority(ä¸€æ—¦processçš„å„ªå…ˆæ¬Šé«˜ä½é †åºè¨‚å®šäº†ï¼Œå°±ä¸æœƒå†æ”¹è®Š) ä¸” preemptive æ³•å‰‡\n  Period Timeæ„ˆå°ï¼Œå„ªå…ˆæ¬Šè¶Šé«˜\n  èˆ‰ä¾‹\n   Process Period Time CPU time     P1 50 20   P2 100 35    Q1. schedulableèˆ‡å¦?\nQ2. è‹¥è¦å®šP2çš„å„ªå…ˆé«˜ï¼Œä¸”preemptive, é€™æ¨£æ˜¯å¦æ»¿è¶³DeadLine?é€™é¡Œæ„Ÿè¦ºæ€ªæ€ªçš„ï¼Œä¸æ‡‚\nâ€‹\tQ3. æ¡ç”¨Rate-Monotonic, æ˜¯å¦æ»¿è¶³Deadline?\nâ€‹\t  åˆ†æï¼š\n ä¸¦ä¸ä¿è­‰å¯ä»¥æ»¿è¶³DeadLine åœ¨Static priorityè¦æ±‚ä¸‹ï¼Œå®ƒæ˜¯Optimal(è‹¥å®ƒç„¡æ³•æ»¿è¶³DeadLine,å…¶ä»–Static priority æ³•å‰‡ä¹Ÿæ˜¯ç„¡æ³•æ»¿è¶³      EDF(Earliest Deadline First)\n  å®šç¾©ï¼šæ¡ç”¨Dynamic priority ä¸”Preemptive\n  è¦å®šï¼šDeadLineè¶Šå°(æ—©)å„ªå…ˆæ¬Šè¶Šé«˜\n  èˆ‰ä¾‹ï¼š\n   Process Period CPU Time     P1 50 25   P2 80 35    æ˜¯å¦æ»¿è¶³Deadline?\n  Rate-Monotonic\n  EDF\n    åˆ†æï¼š\n EDFä¿è­‰æ˜¯optimal in the schedulable case(ä»»ä½•å·¥ä½œéƒ½å¯ä»¥æ»¿è¶³ DeadLine) ç†è«–ä¸Šï¼ŒCPU utilization å¯é”100%ï¼Œä½†å¯¦éš›ä¸Šä¸å¯èƒ½ï¼Œå› ç‚ºæœ‰Context switching, interrupt handling ç­‰é¡å¤–è² æ“”        Soft real-time system   å®šç¾©ï¼šé€™å€‹ç³»çµ±è¦ç¢ºä¿real-timeçš„processå–å¾—æœ€é«˜å„ªå…ˆæ¬Šï¼ŒåŒæ™‚ï¼Œé€™å€‹real-timeçš„process priorityä¸èƒ½åšè¡°æ¸›\n  å°±CPU Scheduling Design è€Œè¨€ï¼Œå¿…é ˆ\n æ”¯æ´preemptive-priority ä¸æ”¯æ´AgingæŠ€è¡“ ç›¡å¯èƒ½é™ä½Kernel Dispatch latency time, ä½¿å¾—real-time processå¯ä»¥åŠæ—©é–‹å·¥    é™ä½kernel Dispatch latency\n  å›°é›£åº¦(ç·£ç”±) ï¼šå¤§éƒ¨åˆ†çš„OSï¼Œçš†ä¸å…è¨±ç•¶kernelæ­£åœ¨åŸ·è¡ŒSystem Call or å…¶ä»–System processesæ™‚ï¼Œè¢«user processä»»æ„æ’éšŠ(preemption)ï¼Œç›®çš„æ˜¯ç‚ºäº†ç¢ºä¿kernel Data Structuresçš„æ­£ç¢ºæ€§(å³ä¸è¦æœ‰Race Condition)ï¼Œç„¶è€Œæ­¤ç¨®åšæ³•ï¼Œå°æ–¼Soft real-time systemæ¥µç‚ºä¸åˆ©\neg. å‡è¨­ç›®å‰kernel æ­£åœ¨åŸ·è¡Œä¸€å€‹Long-time system call(eg. I/O operation)ï¼Œè€Œæ­¤æ™‚real-time processåˆ°é”/fork(),å®ƒå¿…é ˆç­‰åˆ°kernelå®Œæˆæ­¤long-time system callå¾Œï¼Œæ‰èƒ½å–å¾—CPUï¼Œæ‰€ä»¥\nDispache latencyå¤ªé•·ï¼Œè¦è§£æ±ºæ­¤ä¸€å•é¡Œï¼ŒåŸå‰‡æ˜¯: å¿…é ˆæ’éšŠkernel ä¸”è¦ä¿éšœkernel Data Structureä¹‹æ­£ç¢ºæ€§\næ–¹æ³•\n  Preemption Pointï¼š\n å®šç¾©ï¼šåœ¨æ­¤System calls codeä¸­ï¼ŒåŠ å…¥ä¸€äº›Preemption Point(åœ¨æ­¤æ™‚é»æ’éšŠæ™‚ï¼ŒKernelæ˜¯å®‰å…¨çš„)å°‡ä¾†ï¼ŒSystem callåŸ·è¡Œæ™‚è‹¥é‡åˆ°Preemption Point ï¼ŒSystem callæœƒå…ˆæš«åœï¼ŒKernelæœƒæª¢æŸ¥æ­¤æ™‚æ˜¯å¦é‚„æœ‰real-time processå­˜åœ¨/åˆ°é”ï¼Œè‹¥æœ‰ï¼Œå‰‡Kernel system callæš«åœåŸ·è¡Œï¼ŒCPUåˆ†æ´¾çµ¦real-time Processä½¿ç”¨ï¼Œè‹¥ç„¡ï¼Œå‰‡System Callç¹¼çºŒåŸ·è¡Œï¼Œç›´åˆ°é‡è¦‹ä¸‹ä¸€å€‹Preemption Point ç¼ºé»ï¼šSystem Callä¸­å¯ä»¥åŠ å…¥çš„Preemption Pointæ•¸ç›®ä¸å¤ å¤šï¼Œå› ç‚ºDispatch Latencyä»ç„¶å¾ˆé•·ã€‚    Kernelå¯éš¨æ™‚è¢«real-time processæ’éšŠï¼Œä½†è¦å°æ–¼Kernelçš„å…±äº«Data Structure/resoruceæä¾›åš´è¬¹çš„äº’æ–¥å­˜å–(Synchronization æ©Ÿåˆ¶)ï¼Œä»¥ç¢ºä¿è³‡æ–™ä¹‹æ­£ç¢ºæ€§(ç•¶P1å°æŸå€‹Dataé€²è¡Œæ“ä½œï¼ŒåŸ·è¡Œåˆ°ä¸€åŠæ™‚è¢«real-time processçµ¦æ¶èµ°ï¼Œæ­¤æ™‚æœƒæŠŠè©²Dataçµ¦Lockä½ï¼Œä¸è®“real-time processæ“ä½œè©²Dataï¼Œä»¥ä¿è­·è³‡æ–™)\n  ç¼ºé»ï¼šå¯èƒ½é€ æˆPriority Inversionå•é¡Œ(å„ªå…ˆæ¬Šåè½‰)ï¼Œé«˜å„ªå…ˆæ¬Šçš„Processæ‰€é ˆçš„å…±äº«Data/resourcesæ°å¥½è¢«ä¸€äº›ä½å„ªå…ˆæ¬Šçš„ProcessæŠŠæŒï¼Œç„¡æ³•å­˜å–(æ‰€ä»¥äº’æ–¥å­˜å–æ§åˆ¶ä¹‹æ•…)ï¼Œé€ æˆé«˜å„ªå…ˆæ¬Šç­‰å¾…ä½å„ªå…ˆæ¬ŠProcessä¹‹æƒ…æ³(å³é«˜processè¦ç­‰ä½processé‡‹æ”¾é€™äº›å…±äº«Data/resource)\nç•¶é«˜å„ªå…ˆæ¬Šçš„Processå› ç‚ºé²é²ç­‰ä¸åˆ°Lockè§£é™¤ï¼Œæœƒå› ç‚ºtime-outçš„é—œä¿‚è€Œæ”¾æ£„CPUï¼Œæ­¤æ™‚å¯èƒ½æœ‰å…¶ä»–ä¸­å„ªå…ˆæ¬Šçš„Processå–å¾—CPUçš„ä½¿ç”¨æ¬Šï¼Œå› æ­¤ä½å„ªå…ˆæ¬Šçš„Processå®Œæˆä¸äº†ï¼Œé€²è€Œå®Œæˆå°å…±äº«Data/resourcesä¹‹ä½¿ç”¨é€²è€ŒRelease, æ‰€ä»¥é«˜å„ªå…ˆæ¬Šprocessè¢«è¿«è¦ç­‰ä¸€æ®µå¾ˆä¹…çš„æ™‚é–“\n  è§£æ±ºæ–¹æ³•ï¼šPriority Inheritance\n å®šç¾©ï¼šè®“ä½å„ªå…ˆæ¬Šçš„Processæš«æ™‚ç¹¼æ‰¿é«˜å„ªå…ˆæ¬Šä¹‹æ¬Šå€¼ï¼Œä½¿å¾—ä½å„ªå…ˆæ¬ŠProcesså¯ä»¥å¾ˆå¿«å–å¾—CPUå®Œæˆå°å…±äº«Data/Resouceä¹‹ä½¿ç”¨ï¼Œä¸¦release them. åŒæ™‚ï¼Œä¹Ÿç«‹åˆ»æ¢å¾©å…¶åŸæœ¬çš„ä½æ¬Šå€¼          Real-time systemä¹‹Dispatch Latency çµ„æˆ Dispatch Latencyæœ‰å…©å€‹phaseçµ„æˆ\n Conflict Phaseï¼š  Preempts kernel ä½å„ªå…ˆæ¬Šrealseé«˜å„ªå…ˆæ¬Šæ‰€éœ€ä¹‹Data/resource   Dispatch Phase  Context Switching Change mode to user Mode Jump    Thread Management(è²å¤šèŠ¬)  Thread( or Multithreading)å®šç¾©ã€å„ªé»\nProcess(Single-Threaded) vs Thread (Multithreading)\nuser-level thread èˆ‡ kernel-level thread\nMultithreading Model(3ç¨®)\nMultithreading issue\n fork()\nsignal delivery\nThreads pool\n ç¨‹å¼è¿½è¹¤(PThread library)\n Thread   å®šç¾©ï¼šåˆå«lightweight-process(å‚³çµ±çš„processå°±å«heavyweight process)ï¼Œæ˜¯OSåˆ†é…CPU time ä¹‹å°è±¡å–®ä½**(æï¼šIt\u0026rsquo;s a basic unit of CPU Library)**\n  Thread å»ºç«‹å¾Œï¼Œå…¶ç§æœ‰çš„(private)å…§å®¹çµ„æˆåŒ…å«æœ‰(éƒ½æ˜¯èˆ‡åŸ·è¡Œç›¸é—œçš„)\n Programming Counter CPU registers value Stack Thread ID, State, etc \u0026hellip;(Note: record in TCB[Thread Control Block])æ­¤å¤–ï¼ŒåŒä¸€å€‹Processå…§ä¸åŒä¹‹Threadså½¼æ­¤å…±äº«æ­¤Processçš„  Code Section(åˆç¨±Memory space, address space) Data Section(åˆç¨±Memory space, address space) other OS resources eg. open files, I/O resources ,singal, etc \u0026hellip;      åœ–ç¤º\n  MultiThreading Model\n  Process = Single-Threaded Model\nNote: é¡æ¯”\nProcess \u0026mdash;\u0026gt; æ±½è»Š\nThread \u0026mdash;\u0026gt; å¼•æ“\næ±½è»Šæœƒæœ‰ä¸€å€‹å¼•æ“ï¼Œä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šï¼ŒMutliThreadå°±åƒæ˜¯ä¸€éƒ¨è»Šå­æœ‰å¤šå€‹å¼•æ“ï¼Œç„¶å¾Œå…±äº«è»Šå­æœ‰çš„é…ä»¶(å„€è¡¨æ¿ã€æ–¹å‘ç›¤ç­‰ç­‰)ã€‚CPU Timeæ˜¯ä»¥Threadç‚ºå°è±¡åœ¨ç•«åˆ†\n    å„ªé»(Benefits)\n Responsivenessï¼šç•¶Processå…§åŸ·è¡Œä¸­çš„Threadè¢«Blockedï¼Œå‰‡CPUå¯ä»¥åˆ‡çµ¦æ­¤Processå…§å…¶ä»–available Threads åŸ·è¡Œï¼Œæ•…æ•´å€‹Processä¸æœƒè¢«Blockedï¼Œä»æŒçºŒGoing, æ‰€ä»¥Multithreadingç”¨åœ¨user-interactive application, å¯å¢åŠ å°User ä¹‹å›æ‡‰ç¨‹åº¦ Resource Sharingï¼šå› ç‚ºProcesså…§ä¹‹å¤šæ¢Threads å…±äº«æ­¤Process code sectionï¼Œæ‰€ä»¥åœ¨åŒä¸€å€‹Memory spaceä¸Šå¯æœ‰å¤šå€‹å·¥ä½œåŒæ™‚åŸ·è¡Œ Economyï¼šå› ç‚ºåŒä¸€å€‹Processå…§ä¹‹ä¸åŒThreadså½¼æ­¤å…±äº«æ­¤Processçš„memory åŠ other OS resources, å› ç‚ºThread ä¹‹ ç§æœ‰æˆåˆ†é‡å°‘ï¼Œæ•…Threadä¹‹Creation, Context Switching fast, Thread management cost is cheap(forkä¸€å€‹Processçš„æˆæœ¬é å¤§æ–¼è¤‡è£½ä¸€å€‹Thread) Scalability(Utilization of Multiprocessors Architecture)ï¼šå¯ä»¥åšåˆ°åŒä¸€å€‹Processå…§ä¹‹ä¸åŒThreadså¯ä»¥åœ¨ä¸åŒCPUsä¸Šå¹³è¡ŒåŸ·è¡Œï¼Œæ‰€ä»¥å¯ä»¥å¢åŠ å°Multiprocessors Systemä¹‹æ•ˆç›Š(å¹³è¡Œç¨‹åº¦)æå‡    Process Vs Thread  å…¶å¯¦æ˜¯åœ¨æ¯”Singal Thread and MultiThread\n Threadçš„çš„å„ªé»\n   Process Thread     Heavyweight process Lightweight process   Single-Threaded Model MultiThreading Model   æ˜¯OSåˆ†é…Resourceä¹‹å°è±¡å–®ä½ æ˜¯OSåˆ†é…CPU Timeä¹‹å°è±¡å–®ä½   ä¸åŒçš„Processä¸æœƒæœ‰å…±äº«çš„MemoryåŠOther Resources (é™¤äº†Shared Memoryæºé€šä¹‹å¤–) åŒä¸€å€‹Processå…§ä¹‹Threadså½¼æ­¤å…±äº«æ­¤Processä¹‹memory åŠOther Resources   è‹¥Processå…§çš„single Thread is Blocked, å‰‡æ•´å€‹Processäº¦Blocked åªè¦Processå…§å°šæœ‰Available Threadå¯åŸ·è¡Œï¼Œå‰‡æ•´å€‹Processä¸æœƒè¢«Blocked   Processä¹‹Creation context Switchingæ…¢ï¼Œç®¡ç†æˆæœ¬é«˜ Threadå¿«ï¼Œæˆæœ¬ä½   å°æ–¼MultiProcessorsæ¶æ§‹ä¹‹æ•ˆç›Šç™¼æ®è¼ƒå·® è¼ƒä½³    Threadçš„çš„ç¼ºé»\n   Process Thread     Processç„¡æ­¤è­°é¡Œ(é™¤éæ˜¯æ¡ç”¨Shared Memoryæºé€š) å› ç‚ºåŒä¸€å€‹Processå…§ä¹‹Threadså½¼æ­¤å…±äº«æ­¤process Data Sectionï¼Œå› æ­¤å¿…é ˆå°å…±äº«çš„Data æä¾›äº’æ–¥å­˜å–æ©Ÿåˆ¶ï¼Œé˜²æ­¢race Condition    Philosophy Processèˆ‡Threadæ²’æœ‰åŠŸèƒ½å·®ç•°ï¼Œåªæœ‰æ•ˆèƒ½å·®ç•°(ä½ æœƒçš„ï¼Œæˆ‘ä¹Ÿå¯ä»¥ï¼Œä½ ä¸æœƒçš„ï¼Œæˆ‘ä¹Ÿä¸æœƒ)ã€‚\nå“ªäº›å·¥ä½œé©åˆç”¨MultiThreads?\nAns. ä¸€å€‹æ™‚é–“é»æœ‰å¤šå€‹å·¥ä½œè¦åŸ·è¡Œã€‚ä¾‹ï¼šClient-server Model(åŒæ™‚æœ‰äººéä¾†è¦æª”æ¡ˆï¼Œçœ‹æª”æ¡ˆ)\nå“ªäº›å·¥ä½œä¸é©åˆç”¨MultiThreads?\nAns. ä¸€å€‹æ™‚é–“é»æœ€å¤šåªæœ‰ä¸€å€‹å·¥ä½œå¯ä»¥åšã€‚ä¾‹ï¼šå‘½ä»¤è§£è­¯å™¨(eg. UNIX ä¹‹ Shell)\nThreadåˆ†é¡ï¼šuser-Threadèˆ‡Kernel-Thread å€åˆ†è§’åº¦ï¼š**Thread Managementå·¥ä½œ(å¦‚ï¼šThread Creation, Destroy, Suspend, wakeup, Scheduling, Context Switching, etc)**ç”±èª°è² è²¬\n  User-Level Thread\n å®šç¾©ï¼šThread Managementæ˜¯ç”±åœ¨User Siteä¹‹Thread Libraryæä¾›APIs, ä¾›User Processå‘¼å«ä½¿ç”¨ï¼Œé€²è€Œç®¡ç†ï¼Œç¨±ä¹‹ Kernel å®Œå…¨ä¸çŸ¥é“(is Unaware of) Use-Level Threads ä¹‹å­˜åœ¨Noteï¼šåªçŸ¥æœ‰Process(Singal-Threaded) Thread managementä¸é ˆKernelä»‹å…¥å¹²é **(kernel unware user-thread)** å„ªé»ï¼šThere creation, context switching ç­‰ï¼ŒManagement is fast æˆæœ¬è¼ƒä½ ç¼ºé»ï¼š  ç•¶Processå…§æŸæ¢åŸ·è¡Œä¸­çš„user-thread is blocked(eg. i/o)ï¼Œæœƒå°è‡´æ•´å€‹Processäº¦è¢«Blocked(å³ä½¿processå…§é‚„æœ‰å…¶ä»–available threads)é€™å€‹processéƒ½æ˜¯user Threadï¼Œç™¼å‡ºä¸€å€‹blockingçš„system call, kernelæœƒèªç‚ºæ˜¯é€™å€‹Single processç™¼å‡ºçš„è«‹æ±‚ï¼Œå› ç‚ºkernelä¸çŸ¥é“processè£¡é ­é‚„æœ‰å…¶ä»–user Threadçš„å­˜åœ¨ï¼Œæ–¼æ˜¯å°±æŠŠæ•´å€‹process blockä½ï¼ŒCPUåˆ‡åˆ°å…¶ä»–processå»åŸ·è¡Œ MultiProcessorsæ¶æ§‹æ•ˆç›Šç™¼æ®è¼ƒå·®(å› ç‚ºç„¡æ³•åšåˆ°processå…§ä¹‹å¤šæ¢user-threadså¹³è¡ŒåŸ·è¡Œï¼Œä½†é€™æ¨£ä¹Ÿæ˜¯æœ‰å¥½è™•çš„ï¼Œæ•´å€‹threadçš„ç®¡ç†ä¸éœ€è¦kernelçš„å¹²é ï¼Œä¸éœ€è¦å†user, kernelé–“åˆ‡æ›ï¼Œé™ä½ç®¡ç†çš„æˆæœ¬)   ä¾‹ï¼šèˆ‰å‡¡Thread libraryçš†æ˜¯user-threads(eg. POSIX çš„ PThread libraryæ˜¯è¦æ ¼ï¼Œåªåœ¨UNIXç³»çµ±ä¸Š, Machçš„C-Thread Library, Solaris2ä»¥ä¸Šçš„ UI Thread LibraryåŠGreen Thread Library).    Kernel-Level Thread\n  å®šç¾©ï¼šThread Managementå®Œå…¨ç”±kernelè² è²¬ï¼ŒKernelçŸ¥é“æ¯ä¸€æ¢Threadä¹‹å­˜åœ¨ä¸¦é€²è¡Œç®¡ç†\n  å„ªç¼ºé»èˆ‡user-threadç›¸å\n  ä¾‹ï¼šå¤§éƒ¨åˆ†OSçš†æ”¯æ´ (Windosç³»åˆ— etc. 2000, Xp, UNIX, LINUX, Solaris)\n  èˆ‰ä¾‹ï¼š[Moduleç‰ˆ]\n CPU Timeä¾åˆ†é…å°è±¡æ•¸ï¼Œå¹³å‡åˆ†é…(10å€‹äººå°±åˆ†10%ï¼Œ20å€‹äººå°±åˆ†5%) å‰‡Pa, Pbå„åˆ†åˆ°?%CPU Timeï¼Œif All Threads are  User Threadï¼škernelåªçŸ¥é“æœ‰å…©å€‹Processè¦ä¾†æ¶CPUï¼Œä¾†åˆ†CPU Timeï¼ŒPa,Pbå„åˆ†50% Kernel Threadï¼škernelçŸ¥é“æœ‰5æ¢Threadè¦åˆ†CPU timeï¼Œ1æ¢åˆ†20%ï¼ŒPaåˆ†åˆ°3æ¢ï¼Œæ‰€ä»¥æ˜¯60%, Pbæ˜¯40%        MultiThreading Model [æé¾æœ¬ç¨æœ‰] æé¾æœ¬ç”¨ä¾†è©®é‡‹user Threadè·ŸKernel Threadçš„è¦‹è§£\n[user thread mapping kernel threadçš„æ•¸ç›®]\n  Many-to-One Model One-to-One Model Many-to-Many Model    Many-to-One   å®šç¾©ï¼šThis model maps many use threads to one kernel Thread. Thread Management is done in use space å„ªã€ç¼ºé»ï¼šå¦‚åŒuser thread ä¾‹ï¼šthread libraryçš†æ˜¯ åœ–ç¤ºï¼š  One-to-One Model   å®šç¾©ï¼šThis model maps each use Threads to a kernel Thread. Thread Management is done in use space å„ªé»ï¼šåŒkernel thread ç¼ºé»ï¼š  Slower Processæ¯å»ºç«‹ä¸€æ¢user-thread, systemå°±å¿…é ˆé…åˆç”Ÿä¸€æ¢kernel threadèˆ‡ä¹‹ï¼Œæ‰€ä»¥user threadæ•¸ç›®çœ¾å¤šï¼Œç³»çµ±è² æ“”æœƒå¾ˆé‡ï¼Œè€—è³‡æº   ä¾‹ï¼šWindow NT, Window2000, OS/2, Linux(å€‹äººé›»è…¦ç³»åˆ—å¹¾ä¹éƒ½æ˜¯ONE-TO-ONE)  Many to Many   å®šç¾©ï¼šThis model maps many use Threads to a small or equal number of kernel Thread. Thread Management is done in use space å„ªé»ï¼šåŒå‰è¿°kernel thread, è² æ“”ä¹Ÿä¸åƒone to oneçš„modelä¾†çš„é‡ ç¼ºé»ï¼š1. slower 2. è£½ä½œè¨­è¨ˆä¸Šï¼Œè¼ƒç‚ºè¤‡é›œ  MultiThreading Issue åŸæœ¬Single Threadæ²’é€™å•é¡Œ\n fork() issue   Signal delivery(å‚³é€) issue\n Signalï¼šit is used in UNIX to notify(é€šçŸ¥) the process that a particular event has occurred  ç•¶processæ”¶åˆ°signalé€šçŸ¥å¾Œï¼Œå®ƒå¿…é ˆè™•ç†(å¯ç”±processè‡ªå·±è™•ç†æˆ–äº¤çµ¦default signal handlerè™•ç†)\n Signalçš„ç¨®é¡\n Synchronous signal[è‡ªä½œè‡ªå—ï¼Œé€™ä»¶äº‹æƒ…æ˜¯ç”±ä½ é€™å€‹Processç™¼ç”Ÿçš„ï¼Œæ‰€ä»¥Signalå°±æ˜¯ç™¼çµ¦ä½ ]eg. Divide-by-zero, illegal memory access, Asynchronous signal[æ± é­šä¹‹æ®ƒï¼Œäº‹æƒ…ä¸æ˜¯ä½ åšçš„ï¼Œä½†åˆ¥äººç™¼å‡ºï¼Œå»æ˜¯ç ä½ ] eg. ctrl-c by administrator, time-out by timer   Signal Delivery issue\n4å€‹options\n ç™¼çµ¦é‚£å€‹thread   ç™¼çµ¦å¤§å®¶\n  ç™¼çµ¦ä¸€äº›threads\n  ç™¼çµ¦ä¸€å€‹threadï¼Œé€™å€‹threadå†æŠŠsignalè½‰æ´¾çµ¦å¤§å®¶\n        Threads Pool\n ç·£ç”±ï¼šåœ¨Client-Server Modelä¸­ï¼Œç•¶Server æ”¶åˆ°Client\u0026rsquo;s requestå¾Œï¼ŒServeræ‰å»ºç«‹Threadå»æœå‹™æ­¤ä¸€è«‹æ±‚ï¼Œç„¶è€ŒThread creation ä»é ˆè€—ç”¨ä¸€äº›æ™‚é–“ï¼Œæ‰€ä»¥å°client ä¹‹å›æ‡‰ä¸æ˜¯é‚£éº¼è¿…é€Ÿ è§£æ³•ï¼šæ¡ç”¨Thread poolæ©Ÿåˆ¶ï¼Œprocess(server)å…ˆå»ºç«‹ä¸€äº›Threadsï¼Œç½®æ–¼threads poolä¸­ï¼Œç•¶æ”¶åˆ°Client\u0026rsquo;s requestå¾Œï¼Œå°±å¾Thread poolä¸­æŒ‡æ´¾ä¸€æ¢ available threadå»æœå‹™æ­¤è«‹æ±‚ï¼Œä¸é ˆcreationå›æ‡‰è¼ƒfastï¼Œç•¶æ­¤Thread å®Œæˆå·¥ä½œä»¥å¾Œï¼Œå†å›åˆ°Threads poolä¸­Stand By å¦‚æœThreads Poolä¸­ç„¡å¯ç”¨çš„Threadsï¼Œå‰‡Client\u0026rsquo;s request é ˆç­‰å¾… ç¼ºé»ï¼š  è¬ä¸€Processäº‹å…ˆç”Ÿå‡ºéå¤šçš„Threads in the Thread pool, å°System resourceè€—ç”¨å¾ˆé«˜ï¼ŒNote:é€šå¸¸ï¼¯ï¼³æœƒé™åˆ¶Threads pool size      Threadç¨‹å¼è¿½è¹¤ (ä»¥PThread libraryç‚ºä¾‹)\nä¾‹ï¼šP4-49\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  #include \u0026lt;Pthread.h\u0026gt;int sum; void *runner (void * param){ sum =0; for(int i=1;i\u0026lt;=upper;i++){ sum+= i; Pthread-exit(0); //thraedçµ‚æ­¢  } }; main(){ Pthread-t tid; //tidå°±ä»£è¡¨Threadçš„id  Pthread-attr_t arrt; //ä»£è¡¨attributeå±¬æ€§ Thread attributes set  ... Pthread-attr-init(\u0026amp;attr) ;//å–å¾—attr åˆå§‹å€¼  â˜…Pthread-create(\u0026amp;tid, \u0026amp;attr, runner, argv[1]); //æ ¹æ“šattr å±¬æ€§å€¼å»ºç«‹ä¸€æ¢Threadï¼ŒIdè¨˜åœ¨tidä¸­ï¼ŒåŸ·è¡Œrunner()å‰¯ç¨‹å¼  Pthread-join(tid, NULL); //main() thread åœ¨æ­¤ç­‰å¾…ï¼Œç›´åˆ°tid threadçµæŸ  printf(sum); }   ä¾‹ï¼šP4-50 ç¨‹å¼äºŒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  int value = 0; void main(){ int pid ; pthread-t tid; Pthread_arrt_t attr; pid = fork(); //create child process  if(pid==0){ //å­prcessè¦åšçš„äº‹æƒ…  pthread_create(\u0026amp;tid, \u0026amp;attr , runner,NULL); //å­Processå»createä¸€æ¢thread  printf(value); //line C  }else if(pid \u0026gt; 0){ wait(); printf(value); //line P  } } void *runner(){ value =5; pthread_exit(); }   ä¾‹ p4-70\n1 2 3 4 5 6 7 8 9 10 11  shared by threads A. static local variables(å…±äº«) B. program text/exec, binary (code sec)å…±äº« C. register value of CPU(ç§æœ‰) D. heap memory (code+ Data sec memory space)å…±äº« E. Programming Counter (ç§æœ‰) F. Stack memory(ç§æœ‰) G. Open Files(å…±äº«) H. I/O resources(å…±äº«) I. local variable(ç§æœ‰) J. Global variables(å…±äº«)   Chapter 5 DeadLock   å®šç¾©ï¼šæˆç«‹çš„å››å€‹å¿…è¦æ¢ä»¶ï¼Œä¾‹å­, èˆ‡Starvationåšæ¯”è¼ƒ\n  Deadlockçš„è™•ç†æ–¹æ³•\n  Deadlock Prevention â˜…â˜…â˜…â˜… Deadlock Avoidance(Banker\u0026rsquo;s Algoâ˜…â˜…â˜…â˜…â˜…) Deadlock Detection and Recoveryâ˜…â˜… Ignores it .     å®šç†â˜…â˜…â˜…â˜…â˜…ï¼š\n  ç›¸é—œåœ–å½¢\n Resource Allocation Graph(RAG)+3é»çµè«–â˜…â˜…â˜…â˜…â˜…\nClaim edgy+RAG(for Avoidance)\nwait for Graph(for Detection)â˜…\n   DeadLock   å®šç¾©ï¼šç³»çµ±ä¸­å­˜åœ¨ä¸€çµ„Processeså½¼æ­¤å½¢æˆå¾ªç’°ç­‰å¾…ä¹‹æƒ…æ³ï¼Œé€ æˆé€™äº›Processesçš†ç„¡æ³•å¾€ä¸‹åŸ·è¡Œ(å’Œstarvationä¸åŒï¼ŒStarvationé‚„æœ‰ä¸€çµ²å¯èƒ½æœƒåšåˆ°)ï¼Œä¸¦é™ä½Throughputä¹‹ç¾è±¡ã€‚\n  æ­»çµæˆç«‹çš„4å€‹å¿…è¦æ¢ä»¶(4 necessary condition)ï¼Œå³ç¼ºä¸€å€‹ï¼Œæ­»çµå°±ä¸æœƒç™¼ç”Ÿ. Ex. if there 4 conditions are true, then the deadlock will arise. Ans. Falseï¼Œéƒ½æœ‰ä¸ä»£è¡¨ä¸€å®šæœƒç™¼ç”Ÿ\n  Mutual Exclusion\näº’æ–¥æ€§è³ªï¼Œé€™æ˜¯å°Resource(æ­£åœ¨æ¶å¥ªçš„è³‡æº)è€Œè¨€ï¼Œå…·æœ‰æ­¤æ€§è³ªçš„Resouceï¼Œåœ¨ä»»ä½•æ™‚é–“é»æœ€å¤šåªå…è¨±ä¸€å€‹ProcessæŒæœ‰ä½¿ç”¨ï¼Œä¸å¯å¤šå€‹processåŒæ™‚æŒæœ‰/ä½¿ç”¨ã€‚\nä¾‹ï¼šå¤§å¤šæ•¸çš„è³‡æºçš†å…·æ­¤æ€§è³ªï¼Œeg. CPU, Memory, Disk, printer, etc \u0026hellip;\nä¾‹ï¼šread-only fileï¼šä¸å…·äº’æ–¥æ€§è³ª\n  Hold \u0026amp; wait\næŒæœ‰ä¸¦ç­‰å¾…ï¼ŒProcessæŒæœ‰éƒ¨åˆ†è³‡æºï¼Œä¸”åˆåœ¨ç­‰å¾…å…¶ä»–ProcessæŒæœ‰çš„è³‡æº\n  No preemption\nä¸å¯æ¶å¥ªï¼Œ**Processä¸å¯ä»¥ä»»æ„å‰å¥ªå…¶ä»–Processæ‰€æŒæœ‰çš„è³‡æºï¼Œ**å¿…é ˆç­‰åˆ°å°æ–¹é‡‹æ”¾è³‡æºå¾Œæ‰æœ‰æ©Ÿæœƒå–å¾—è³‡æºè‹¥å¯Preemptionï¼Œå‰‡å¿…ç„¡DeadLockï¼Œé ‚å¤šåªæœ‰Starvation\n  Circular Waiting\nå¾ªç’°ç­‰å¾…ï¼Œç³»çµ±ä¸­å­˜åœ¨ä¸€çµ„Processeså½¢æˆå¾ªç’°ç­‰å¾…ä¹‹æƒ…æ³ï¼Œeg.\n  æé¾æœ¬ï¼š4 implies 2\nå…¶ä»–ç‰ˆæœ¬ï¼š4 implies 1,2,3eeeee\nex. Why Singl-processä¸æœƒé€ æˆDeadLock?\nAï¼šå› ç‚ºCircular waiting ä¸å­˜åœ¨ï¼Œåªå°‘è¦æœ‰å…©å€‹processæ‰å¯ä»¥å½¢æˆå¾ªç’°ç­‰å¾…ï¼Œå› æ­¤å››å€‹å¿…è¦æ¢ä»¶æœ‰ä¸€å€‹ä¸ç¬¦åˆï¼Œå³ä¸æœƒé€ æˆDeadLock\n  ä¾‹å­ï¼š\n  èˆ‡Starvatiomæ¯”è¼ƒ\nä¸åŒé»ï¼š\n   DeadLock Starvation     ä¸€çµ„Processeså½¢æˆCircular waitingï¼Œé€ æˆé€™äº›Processesçš†ç„¡æ³•å¾€ä¸‹åŸ·è¡Œï¼ŒWaiting forever Processå› ç‚ºé•·æœŸç„¡æ³•å–å¾—å®Œå·¥æ‰€éœ€çš„å„å¼è³‡æºï¼Œé€ æˆå®ƒé²é²ç„¡æ³•å®Œå·¥ï¼Œæœ‰å®Œå·¥çš„æ©Ÿæœƒå–”ï¼Œåªæ˜¯æ©Ÿæœƒæ¸ºèŒ«   æœƒé€£å¸¶é€ æˆthroughputä½è½ èˆ‡throughputé«˜ä½ç„¡é—œ   æœ‰4å€‹å¿…è¦æ¢ä»¶ï¼Œå…¶ä¸­ä¸€å®šæ˜¯No preemptive å®¹æ˜“ç™¼ç”Ÿåœ¨Preemptionçš„ç’°å¢ƒ(æ²’æœ‰ä¸€å®šï¼Œåªæ˜¯å®¹æ˜“)   è§£æ³•æœ‰prevention, Avoidance, Detection \u0026amp; recovery æ¡ç”¨AgingæŠ€è¡“é˜²æ­¢    ç›¸åŒé»ï¼š\n   DeadLock 7 Starvation     çš†æ˜¯è³‡æºåˆ†é…ç®¡ç†æ©Ÿåˆ¶è¨­è¨ˆä¸æ°ç•¶ç›¸é—œã€‚        Resource Allocation Graph(R.A.G)  è³‡æºåˆ†é…åœ–\n   å®šç¾©ï¼šä»¤ï¼§=\u0026lt;V,E\u0026gt; æœ‰å‘åœ–ä»£è¡¨RAGï¼Œå…¶ä¸­\n  Vertex(é ‚é»)ï¼šæœ‰å…©å€‹é¡å‹ï¼š\n  Processï¼šä»¥Oä¾†è¡¨ç¤º\n  Resourceï¼šä»¥è¡¨ç¤º\nå…¶ä¸­\u0026rdquo;Â·\u0026ldquo;æ•¸ç›®ä»£è¡¨The Number of instances\n    Edge(é‚Š)ï¼šåˆ†ç‚ºï¼’ç¨®edgeï¼š\n Allocation Edgeï¼š Requset Edgeï¼š      ä¾‹å­ ï¼š\n  RAGçš„ä¸‰é»çµè«–â˜†â˜†â˜†â˜†â˜†å¿…è€ƒ  No Cycleå‰‡No DeadLock æœ‰Cycleä¸ä¸€å®šæœ‰æ­»çµ ä¾‹ï¼šå› ç‚ºP3ä¸€å®šå¯ä»¥å®Œå·¥ï¼Œæœƒé‡‹æ”¾1å€‹R2, å¯ä½©çµ¦P2ï¼Œæ­¤æ™‚åœ–ç„¡Cycleï¼ŒNo DeadLock é™¤é(è‹¥)æ¯ä¸€é¡å‹çš„è³‡æºï¼Œçš†ç‚ºSingle instance(å–®ä¸€æ•¸é‡)ï¼Œå‰‡æœ‰Cycleå¿…ç‚ºæ­»çµ  DeadLockè™•ç†æ–¹å¼   DeadLock Prevention DeadLock Avoidance(é¿å…) Banker\u0026rsquo;s Algo DeadLock Detection \u0026amp; Recovery   1.2\n  å„ªé»ï¼š\n ä¿è­‰System is Deadlock free (or never enters the deadlock state)    ç¼ºé»ï¼š\n å°Resourceçš„ä½¿ç”¨/å–å¾—é™åˆ¶å¤šï¼Œå› ç‚ºresource utilization åä½ï¼Œé€£å¸¶throughput ä¹Ÿåä½ å¯èƒ½é€ æˆStarvation    3\n å„ªé»ï¼š  Resources utilizationç›¸å°è¼ƒé«˜. throughputä¹Ÿé€£å¸¶è¼ƒé«˜   ç¼ºé»ï¼š  Systemæœ‰å¯èƒ½é€²å…¥DeadLock state Detection \u0026amp; Recoveryä¹‹costç›¸ç•¶é«˜    DeadLock Prevention  åŸå‰‡ï¼šç ´é™¤4å€‹å¿…è¦æ¢ä»¶ä¹‹å…¶ä¸­ä¸€å€‹ï¼Œå‰‡æ­»çµå¿…ä¸ç™¼ç”Ÿ    ç ´é™¤ \u0026ldquo;Mutual Exclusion\u0026rdquo; -\u0026gt; å…©å€‹å­—ã€Œè¾¦ä¸åˆ°ã€ï¼å› ç‚ºé€™æ˜¯Resourceèˆ‡ç”Ÿä¿±ä¾†(inheritance)çš„æ€§è³ª\n  ç ´é™¤ \u0026ldquo;Hold \u0026amp; wait \u0026quot; - \u0026gt; å…©å€‹æ–¹æ³•(protocols)å¯ç”¨ï¼Œæƒ³è¾¦æ³•è®“Holdä¸æˆç«‹ï¼Œæˆ–æ˜¯è®“Waitä¸æˆç«‹\n OSå¯¦æ–½è¦å®šï¼šé™¤éProcesså¯ä¸€æ¬¡å–å¾—å…¨éƒ¨æ‰€éœ€è³‡æºï¼Œæ‰å‡†è¨±æŒæœ‰è³‡æºï¼Œå¦å‰‡ä¸å¾—æŒæœ‰ä»»ä½•è³‡æºï¼Œä½†é€™æ¨£å­æœƒæœ‰è³‡æºåˆ©ç”¨åº¦ä½çš„å•é¡Œ(æ˜æ˜å¯ç”¨ï¼Œä½†å»è¦ç­‰åˆ°å…¨éƒ¨éƒ½å¯ä»¥ç”¨æ‰å¯ä»¥ä½¿ç”¨) OSå¯¦æ–½è¦å®šï¼šProcesså¯å…ˆæŒæœ‰éƒ¨åˆ†è³‡æºï¼Œä½†ç•¶Processè¦ç”³è«‹å…¶ä»–è³‡æºæ™‚ï¼Œå¿…é ˆReleaseæŒæœ‰çš„å…¨éƒ¨è³‡æº(ä¸å†Hold)ï¼Œæ‰å¯æå‡ºç”³è«‹ã€‚ä½†è³‡æºåˆ©ç”¨ç‡ä¸€æ¨£å¾ˆä½ï¼Œå› ç‚ºæœ‰å¯èƒ½æœƒæŠŠå³å°‡è¦ä½¿ç”¨çš„è³‡æºé‡‹æ”¾å‡ºå»    ç ´é™¤\u0026quot;No preemption\u0026rdquo;ã€€-\u0026gt; æ”¹ç‚º\u0026quot;preemption\u0026rdquo; å³å¯, eg. based on priority-level\n  â˜†â˜†â˜†â˜†â˜†ç ´é™¤\u0026quot;Circular waiting\u0026quot; -\u0026gt; æ–¹æ³•å«åš\u0026quot;resource ordering\u0026quot; ï¼Œ\n  OSæœƒè³¦äºˆæ¯ä¸€å€‹é¡å‹è³‡æºä¸€å€‹Unique(å”¯ä¸€çš„)Resource id\n  OSæœƒè¦å®šProcesså¿…é ˆæŒ‰ç…§Resource Id Ascending(éå¢ã€éæ¸›éƒ½è¡Œï¼Œä½ çˆ½å°±å¥½)çš„æ–¹å¼å°è³‡æºæå‡ºç”³è«‹\n   æŒæœ‰çš„ æ¬²ç”³è«‹çš„ å…è¨±æˆ–ä¸å…è¨±     R1 R3 å…è¨±   R5 R3 å¿…é ˆå…ˆæ”¾åˆ°R5ï¼Œæ‰å¯æR3(å› ç‚ºä¸ç¬¦åˆéå¢)   R1,R5 R3 å¿…é ˆå…ˆæ”¾åˆ°R5ï¼Œæ‰å¯æR3(å› ç‚ºä¸ç¬¦åˆéå¢)    WHY?\npfï¼šå‡è¨­åœ¨é€™æ¨£çš„è¦å®šä¸‹ï¼Œç³»çµ±ä»å­˜åœ¨ä¸€çµ„Processeså½¢æˆCircular waitingå¦‚ä¸‹\nä¾è¦å®šï¼Œæˆ‘å€‘å¯ä»¥æ¨å°å‡ºè³‡æºIDå¤§å°é—œä¿‚å¦‚ä¸‹\nr0 \u0026lt; r1 \u0026lt; r2 \u0026lt; \u0026hellip; \u0026lt;rn \u0026lt; r0\nç«Ÿæ¨å‡º r0 \u0026lt;ræ­¤ä¸€çŸ›ç›¾å¼å­ï¼Œå› æ­¤Circular waitingå¿…ä¸å­˜åœ¨\n    Deadlock Avoidance   å®šç¾©ï¼šç•¶æŸå€‹Processæå‡ºæŸäº›è³‡æºç”³è«‹æ™‚ï¼Œå‰‡OSå¿…é ˆåŸ·è¡ŒBanker\u0026rsquo;s Algorithmï¼Œä»¥ç¢ºå®šå€˜è‹¥åˆ†é…çµ¦processå…¶ç”³è«‹è³‡æºå¾Œï¼ŒSystemæœªä¾†è™•æ–¼safe stateï¼Œè‹¥Safeå‰‡æ ¸å‡†å…¶ç”³è«‹ï¼Œå¦å‰‡(unsage)å‰‡å¦æ±ºå…¶ç”³è«‹ï¼Œprocesså¿…é ˆç­‰ä¸€æ®µæ™‚é–“å¾Œï¼Œå†é‡æç”³è«‹ã€‚\n  Deadlockæ˜¯unsafeä¹‹subset\n  Banker\u0026rsquo;s Algo â˜†â˜†â˜†â˜†â˜† æœ¬ç« çš„è¨ˆç®—é¡Œéƒ½åœ¨é€™ Banker's Alog and Safety Algo\n  å®šç¾©ï¼šä½¿ç”¨çš„Data Structures\n  çœ‹ä¸æ‡‚çš„è©±ç›´æ¥çœ‹ä¸‹é¢ç¯„ä¾‹æ¯”è¼ƒå¿«\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  å‡è¨­ nï¼šprocesså€‹æ•¸ m: resourceç¨®é¡æ•¸ 1. Request i ï¼šï¼»1..mï¼½of int -\u0026gt; Piæå‡ºä¹‹å„å¼è³‡æºç”³è«‹é‡ 2. Allocation : n*m martrix -\u0026gt; å„å€‹processç›®å‰æŒæœ‰çš„å„å¼è³‡æºæ•¸é‡ 3. MAX: n*m martrix -\u0026gt; å„processå®Œå·¥æ‰€éœ€ä¹‹å„å¼è³‡æºæœ€å¤§æ•¸é‡ 4. Needï¼šn*m martrix(è‡ªå·±ç®—) -\u0026gt; å„processå°šé ˆ(æ¬ )å„å¼è³‡æºæ•¸é‡æ‰èƒ½å®Œå·¥ï¼Œå› æ­¤Need= MAX -Allocation 5. Avaliableï¼š[1..m]of int -\u0026gt; ç³»çµ±ç›®å‰å¯ç”¨çš„ï¼Œå„å¼è³‡æºæ•¸é‡ï¼Œå› æ­¤Available=è³‡æºç¸½é‡-Allocation èˆ‰ä¾‹èªªæ˜ï¼šå‡è¨­æœ‰äººä¾†è²¸æ¬¾3,000è¬ï¼Œé‚£éº¼Requesti =3000è¬ã€Allocationå°±æ˜¯è‡ªå·±çš„å­˜æ¬¾ï¼Œå‡è¨­é€™é‚Šæ˜¯2,000è¬ï¼Œæƒ³è²·ä¸€æ£Ÿ9,000è¬çš„æˆ¿å­ï¼Œé€™9,000è¬å°±æ˜¯ä»–çš„MAXï¼Œé‚£éº¼Need= 9,000-2,000= 7,000è¬ï¼ŒAvailable å°±æ˜¯éŠ€è¡Œç›®å‰é‡‘åº«è£¡èƒ½å€Ÿçµ¦ä½ çš„éŒ¢ï¼Œé€™é‚Šå‡è¨­æ˜¯10,000è¬ã€‚ Step1. Check Request \u0026lt;= Need ?è‹¥æˆç«‹ï¼Œå‰‡å¾€ä¸‹åŸ·è¡Œï¼Œè‹¥ä¸æˆç«‹ï¼Œå‰‡çµ‚æ­¢Processã€‚ Request=3,000è¬ï¼ŒNeed= 7,000è¬ã€‚é€™æ¨£å°±æ˜¯åˆç†çš„ï¼Œä½†å‡è¨­ä½ ä»Šå¤©éœ€æ±‚7,000è¬ï¼Œå¯æ˜¯å»è²¸äº†3,000å…†ï¼Œé è¶…æ–¼ä½ çš„éœ€æ±‚ï¼Œé‚£å°±æœ‰å•é¡Œäº† Step2. Check Request \u0026lt;=Available?è‹¥æˆç«‹ï¼Œå‰‡å¾€ä¸‹åŸ·è¡Œï¼Œè‹¥ä¸æˆç«‹ï¼Œå‰‡Pi waits until resouce availalbe æ¦‚å¿µå°±æ˜¯ä½ å»è²¸3,000è¬ï¼Œå¯æ˜¯éŠ€è¡Œé‡‘åº«ç›®å‰çš„éŒ¢ä¸å¤ ï¼Œéœ€è¦ä½ ç¨ç­‰ä¸€ä¸‹ Step3 (è©¦ç®—) å‡è¨­è²¸æ¬¾æˆåŠŸ Allocation = Allocation + Request Need = Need - Request Available = Available - Request Step4 ä¾ä¸Šè¿°è©¦ç®—å€¼ï¼Œå¿…é ˆåŸ·è¡Œ \u0026#34;safety\u0026#34; algoï¼Œè‹¥å›å‚³\u0026#34;Safe\u0026#34; stateå‰‡æ ¸å‡†Piæ­¤æ¬¡ç”³è«‹ã€‚è‹¥å›å‚³\u0026#34;unsafe\u0026#34; stateï¼Œå‰‡å¦æ±ºPiæ­¤æ¬¡ç”³è«‹ã€‚Piå¿…é ˆç­‰ä¸€æ®µæ™‚é–“å†é‡æç”³è«‹     Safety Algorithm   Data Structures used é™¤ä¸Šè¿°ä¹‹å¤–ï¼Œå¦å¤–åŠ å…¥\n  Work:[1..m] of int -\u0026gt; è¡¨ç³»çµ±ç›®å‰å¯ç”¨Resourcesä¹‹ç´¯è¨ˆæ•¸é‡\n  Finish:[1..m] of Boolean -\u0026gt; é‡å°Process\nFinish[i]=\nTrue: è¡¨Piå¯å®Œå·¥\nFalse: è¡¨Piå°šæœªå®Œå·¥\nâˆ€1\u0026lt;=i\u0026lt;=n\n    Procedures\nStep\n  è¨­å®šåˆå€¼\nWork = Available\nFinish[i]çš†ç‚ºFalse\nâˆ€1\u0026lt;=i\u0026lt;=n\n  çœ‹å¯å¦æ‰¾åˆ°Piæ»¿è¶³ï¼š\n Finish[i]ç‚ºFalseä¸” Needi \u0026lt;= Work (æˆ‘æ‰€éœ€è¦çš„è³‡æºï¼Œ)  è‹¥å¯æ‰¾åˆ°ï¼Œå‰‡é€²3,å¦å‰‡å‰‡é€²4\n  è¨­å®šFinish[i]=Trueï¼Œä¸”Work= Work + Allocationi, then, å›åˆ°2\n  Check Finish Array, è‹¥çš†ç‚ºTrueï¼Œå‰‡å‚³å›Safe Stateï¼Œå¦å‰‡å‚³å›Unsafe state\n    ç¯„ä¾‹\n1 2 3 4 5 6  5å€‹Process(P0,P1,P2,P3,P4) 3ç¨®resource(A,B,C) è³‡æºé‡(A,B,C) = (10,5,7) 1. æ±‚å‡ºNeedåŠAvailable 2. P1æå‡º(A,B,C)= (1,0,2)ç”³è«‹ï¼Œæ˜¯å¦æ ¸å‡†?Why?   Ans.\n Allocation-å„å€‹Processèº«ä¸Šæ‰€æŒæœ‰çš„è³‡æº      A B C     P0 0 1 0   P1 2 0 0   P2 3 0 2   P3 2 1 1   P4 0 0 2     MAX- Processå®Œæˆå·¥ä½œæœ€å¤šæ‰€éœ€è¦çš„è³‡æºæ•¸é‡åˆ†åˆ¥æ˜¯å¤šå°‘      A B C     P0 7 5 3   P1 3 2 2   P2 9 0 2   P3 2 2 2   P4 4 3 3     Need= MAX-Allocation      A B C     P0 7-0=7 5-1=4 3-0=3   P1 3-2=1 2-0=2 2-0=2   P2 6 0 0   P3 0 1 1   P4 4 3 1     Available= ç³»çµ±ç›®å‰é‚„å‰©çš„å¯ç”¨è³‡æºæ•¸ï¼Œè³‡æºç¸½é‡()-å·²ç¶“é…ç½®å‡ºå»çš„(Allocationå‡ºå»çš„)     A B C     10-(2+3+2)=3 5-(1+1)=3 7-(2+1+2)=2    Request=(1,0,2), Banker\u0026rsquo;s Algo\n  Check Request \u0026lt;= Need ? (ä½ æ‰€è¦æ±‚çš„å°æ–¼ä½ çœŸæ­£éœ€è¦çš„ï¼Œäº¦å³ä½ è²·æ±è¥¿åªè¦500ï¼Œä¸èƒ½è·ŸéŠ€è¡Œå€Ÿåˆ°500è¬)\n  Check Request \u0026lt;= Available (ä½ è¦çš„å€Ÿçš„éŒ¢æ˜¯å¦å°æ–¼éŠ€è¡Œæœ¬èº«æ‰€æŒæœ‰çš„éŒ¢ï¼Œäº¦å³å¦‚æœä½ è¦å€Ÿ1å„„ï¼Œä½†éŠ€è¡Œåªæœ‰ä¸€ç™¾è¬)?\n  (è©¦ç®—)\nP1:\nAllocation = \u0026lt;2,0,0\u0026gt;+\u0026lt;1,0,2\u0026gt;(ç”³è«‹é‡) = \u0026lt;3,0,2\u0026gt;\nNeed = \u0026lt;1,2,2\u0026gt; - \u0026lt; 1,0,2\u0026gt;(ç”³è«‹é‡) = \u0026lt;0,2,0\u0026gt;\nAvailable = \u0026lt;3,3,2\u0026gt; - \u0026lt;1,0,2\u0026gt;(ç”³è«‹é‡) = \u0026lt;2,3,0\u0026gt;\n  ä¾ä¸Šè¿°èª¿æ•´å€¼ï¼Œä¾†åŸ·è¡Œ\u0026quot;Safety\u0026quot; Algo\n   Allocation      A B C     P0 0 1 0   P1(è¦èª¿æ•´) 3 0 2   P2 3 0 2   P3 2 1 1   P4 0 0 2     MAX      A B C     P0 7 5 3   P1 3 2 2   P2 9 0 2   P3 2 2 2   P4 4 3 3     Need      A B C     P0 7 4 3   P1(è¦èª¿æ•´) 0 2 0   P2 6 0 0   P3 0 1 1   P4 4 3 1     Available     A B C     2 3 0    Safety Algo\n  åˆå€¼çš„è¨­å®š\n  Work = Abailable = \u0026lt;2,3,0\u0026gt;\n  Finish\n   0 1 2 3 4     F F F F F      å°‹æ‰¾æœ‰æ²’æœ‰Processé‚„æ²’å®Œæˆå·¥ä½œï¼Œä¸¦ä¸”å®ƒçš„needi \u0026lt;= workçš„\n  å¯æ‰¾åˆ°P1æ»¿è¶³Finish[i]= Falseä¸”Need \u0026lt;=work\n  â€‹\tè¨­å®šFinish[i]=Trueï¼Œä¸”Work= Work+Allocation = (2,3,0) + (3,0,2) = (5,3,2) , then goto 2 work = (2,3,0) \u0026gt; (5,3,2)  â€‹\t é¸æ“‡P3æ»¿è¶³ Need\u0026lt;= Workï¼Œä¸”Finish[i] = False\n  è¨­å®šFinishj[3]=Trueï¼Œä¸”Work=(5,3,2) +(2,1,1) = (7,4,3), then goto 2\n  \u0026hellip; ä»¥æ­¤é¡æ¨ï¼ŒP0, P2, P4çš†å¯Finishï¼Œç›´åˆ°å¤§å®¶éƒ½Finishï¼Œå› æ­¤å¤§å®¶éƒ½æ»¿è¶³äº†ã€‚\n  Check Finishé™£åˆ—ï¼Œå› ç‚ºçš†ç‚ºTrueï¼Œæ‰€ä»¥å‚³å›Safe Stateï¼Œå› æ­¤æ ¸å‡†P1æ­¤æ¬¡çš„ç”³è«‹\n  åˆ—å‡ºä¸Šè¿°å…¶ä¸­ä¸€çµ„Safe SequenceSafe Sequence/ Safe Stateå®šç¾©ï¼šè‡³å°‘å¯ä»¥æ‰¾åˆ°\u0026gt;=1çµ„ï¼ŒSafe Sequenceï¼Œæˆç‚ºSafe Stateï¼Œå¦å‰‡unsafe stateã€‚ä»£è¡¨OSæœªä¾†ä¾æ­¤Processesé †åºå¯åˆ†é…å„Processæ‰€needçš„è³‡æºï¼Œä½¿å¾—å¤§å®¶çš†å¯é †åˆ©å®Œå·¥\nAns. P1,P3,P0,P2,P4\n  ä¾ç¾åœ¨ç‹€æ³ï¼Œè‹¥P4æå‡º(3,3,0)ç”³è«‹ï¼Œæ˜¯å¦æ ¸å‡†?why? (ç·´ç¿’é¡Œ)\nAns. Banker\u0026rsquo;s algo\n  Check Request (3,3,0) \u0026lt;= Need(4,3,1) é€šé\n Need      A B C     P0 7 4 3   P1 0 2 0   P2 6 0 0   P3 0 1 1   P4 4 3 1        â€‹\t2. Check Request4(3,3,0) \u0026lt;= Available (2,3,0)?\nâ€‹\tä¸æˆç«‹ï¼Œå› ç‚ºç„¡æ³•æ ¸å‡†ï¼Œå¯ç”¨è³‡æºä¸è¶³\n ä¾ç¾åœ¨æƒ…æ³ï¼Œè‹¥P0æå‡º(0,2,0)ï¼Œæ˜¯å¦æ ¸å‡†? ï¼·hy?\nAns. Banker\u0026rsquo;s Algo\n  å¿«é€Ÿè·‘éï¼Œç¢ºèªå¯ä»¥éï¼Œè³‡æºåˆ†é…æ”¹è®Šå¦‚ä¸‹\n  Allocation\n    A B C     P0 0 3 0   P1 3 0 2   P2 3 0 2   P3 2 1 1   P4 0 2 2      Need\n    A B C     P0 7 2 3   P1 0 2 0   P2 6 0 0   P3` | 0 | 1 | 1 |      P4 4 3 1      Available\n   A B C     2 1 0        åŸ·è¡ŒSafety\u0026rsquo;s algo\n è¨­å®šåˆå€¼ï¼ŒWork=(2,1,0) æ‰¾å°‹æ˜¯å¦æœ‰ç¬¦åˆNeedi \u0026lt;= Work çš„Processï¼Œä¸”é‚„æœ‰Processç‚ºFalse**(ä¸é€šé)**ï¼Œæ‰€ä»¥unsafe      ç¯„ä¾‹äºŒ\n  Allocation\n    A B C     P0 0 3 0   P1 3 0 2   P2 3 0 2   P3 2 1 1   P4 0 0 2      Need\n    A B C     P0 7 2 3   P1 0 2 0   P2 6 0 0   P3 0 1 1   P4 4 3 1      Available\n   A B C     2 1 x      æ±‚xçš„æœ€å°å€¼ï¼Œä½¿å…¶æˆç‚ºSafety\n è¨­ç½®åˆå€¼ï¼Œwork= (2,1,x) æ‰¾å°‹ Need \u0026lt;= work æ‰¾åˆ°äº†ï¼ŒP3ï¼Œå…ˆæš«å®šx=1 (2,1,1) P3å› ç‚ºå¯ä»¥å®Œæˆï¼Œå®Œæˆå¾Œè³‡æºå°±å¯ä»¥é‡‹æ”¾å‡ºä¾†ï¼Œå› æ­¤work (2,1,1) \u0026gt; (4,2,2) ç¹¼çºŒæ‰¾å°‹Need \u0026lt;=work æ‰¾åˆ°äº†ï¼ŒP1 P1å› ç‚ºå¯ä»¥å®Œæˆï¼Œå®Œæˆå¾Œè³‡æºå°±å¯ä»¥é‡‹æ”¾å‡ºä¾†ï¼Œå› æ­¤work(4,2,2) \u0026gt; (7,2,4) \u0026hellip;å¾€å¾©å¾ªç’°ï¼Œä»¥æ­¤é¡æ¨  â€‹\nx= 1;\nBanker\u0026rsquo;s Algo ä¹‹ Time Complexity å…ˆè¬›çµè«–ï¼Œè¤‡é›œåº¦å°±æ˜¯O(n^2*m)\n(n: Process æ•¸ç›®, m:resource ç¨®é¡æ•¸)\nBanker\u0026rsquo;s Algo Time Complexity\nStep\n O(m)Check Request \u0026lt;= Need  O(m) Check Request \u0026lt;=Available O(m)è©¦ç®— Run safety algo è¨­ç½®åˆå€¼work -\u0026gt; 1~mçš„ä¸€ç¶­é™£åˆ—ï¼Œå› æ­¤è¤‡é›œåº¦ç‚ºO(m)ã€‚Finish -\u0026gt;1~nçš„ä¸€ç¶­é™£åˆ—ï¼Œå› æ­¤è¤‡é›œåº¦ç‚º O(n) å…ˆä¾†çœ‹çœ‹Safety\u0026rsquo;s algoçš„æ­¥é©Ÿ  â€‹\tç¬¬ä¸€æ¬¡æœ€å¤šæœƒæª¢æŸ¥næ¬¡ï¼Œå†ä¾†ç¬¬äºŒæ¬¡æª¢æŸ¥n-1æ¬¡\u0026hellip;\nâ€‹\t=(n+1)n/2å€‹Processesã€‚æ¯æ¬¡æª¢æŸ¥Need \u0026lt;=Work èŠ±O(m)çš„æ™‚\té–“ï¼Œæœ€å¤šèŠ±O(n^2*m) time\nèŠ±O(n) Check Finish  å› æ­¤è¤‡é›œåº¦å°±æ˜¯O(n^2*m)\né‡å°æ¯ä¸€é …é¡å‹è³‡æºï¼Œçš†ç‚ºSingle-instanceæƒ…æ³ä¸‹ï¼Œæœ‰è¼ƒç°¡æ˜“çš„Avoidanceä½œæ³•   åˆ©ç”¨RAGï¼Œæ­é…Claim edge(å®£å‘Šé‚Š)ä½¿ç”¨\n  Claim edge:\nä»£è¡¨Piæœªä¾†æœƒå°Rjæå‡ºç”³è«‹(å³è¡¨MAX/NEEDä¹‹æ„ç¾©)\n  Stepsï¼š\nç•¶Piæå‡ºRjç”³è«‹å¾Œ\n  æª¢æŸ¥æœ‰ç„¡Piå°Rjçš„é€™æ¢å®£å‘Šé‚Š(Claim edge)å­˜åœ¨ï¼Œè‹¥æœ‰ï¼Œå‰‡goto2å¦å‰‡ï¼Œçµ‚æ­¢Pi\n  Check Rjæ˜¯å¦Availableï¼Œè‹¥æ˜¯ï¼Œå‰‡goto3ï¼Œå¦å‰‡Pi waits(è®Šæˆç”³è«‹é‚Š)\n  (è©¦ç®—)æš«æ™‚æŠŠå®£å‘Šé‚Šæ”¹ç‚ºé…ç½®é‚Š  åŸ·è¡Œsafety\u0026rsquo;s Algo, check åœ–ä¸­æ˜¯å¦æœ‰cycleå­˜åœ¨\nè‹¥æ²’æœ‰ï¼Œå‰‡ç‚ºsafe -\u0026gt; å¯æ ¸å‡†\næœ‰Cycleï¼Œå‰‡ç‚ºunsafe -\u0026gt; å¦æ±º\n    ä¾‹ï¼š\n  è‹¥P1æå‡ºR2ä¹‹ç”³è«‹ï¼Œæ˜¯å¦æ ¸å‡†?\nAns.\n  è‹¥P2æå‡ºR2ä¹‹ç”³è«‹ï¼Œæ˜¯å¦æ ¸å‡†?\n    è£œå……ï¼šDeadlockæ˜¯unsafeä¹‹subset(æˆ–unsafeæœ‰å¯èƒ½å°è‡´æ­»çµï¼Œä¹Ÿæœ‰å¯èƒ½ä¸æœƒå°è‡´æ­»çµ)\n  å¯èƒ½ä¸æœƒæ­»çµ\nans. æä¸å¥½P1åœ¨æå‡ºR2çš„ç”³è«‹æ™‚ï¼Œå°±ä½¿ç”¨å®ŒR1äº†ï¼Œé€™æ™‚å°±ä¸æœƒæœ‰æ­»çµã€‚æˆ–æ˜¯P2åœ¨P1æå‡ºç”³è«‹ä¹‹å‰å°±ä½¿ç”¨å®ŒR2äº†ï¼Œæ­¤æ™‚ä¹Ÿä¸æœƒæœ‰æ­»çµã€‚\n  å¯èƒ½æœƒæœ‰æ­»çµ\nans. P1ç«‹åˆ»å°R2æå‡ºç”³è«‹ï¼Œæ­¤æ™‚RAGæœ‰Cycleï¼Œä¸”è³‡æºéƒ½æ˜¯Single Instance\n  ä¹Ÿå°±æ˜¯èªªæ­»çµç”¢ç”Ÿèˆ‡å¦å–æ±ºæ–¼å®£å‘Šé‚Šåœ¨å“ªå€‹momentæå‡ºç”³è«‹\nâ€‹\nå®šç† ç³»çµ±è‹¥æœ‰nå€‹processesï¼Œmå€‹resourceé‡(å–®ä¸€ç¨®é¡)æ»¿è¶³ä¸‹åˆ—2å€‹æ¢ä»¶ï¼š\n  1â‰¦MAXiâ‰¦m(æ¯å€‹processçš„æœ€å¤§éœ€æ±‚é‡è‡³å°‘è¦æœ‰1å€‹ï¼Œæœ€å¤šä¸è¶…ém)\n  ä¸”æ‰€æœ‰nå€‹processçš„MaxiåŠ ç¸½ï¼Œå°æ–¼n+m\n$$ \\sum_{i=1}^nMAXi\u0026lt;(n+m) $$\nå‰‡System is Deadlock free.\n  ä¾‹1. æœ‰6éƒ¨printersè¢«processä½¿ç”¨ï¼Œæ¯å€‹processæœ€å¤šéœ€è¦2éƒ¨printersæ‰å¯ä»¥å®Œå·¥ï¼Œå‰‡System æœ€å¤šå…è¨±?å€‹processåŸ·è¡Œä»¥ç¢ºä¿deadlock Free?\nans. m=6, Max=2\né–‹å§‹è·‘å®šç†\n  1 â‰¦ Maxi â‰¦ m -\u0026gt; 1 â‰¦ 2 â‰¦ 6æˆç«‹\n  $$ \\sum_{i=1}^nMaxi\u0026lt;(n+m) $$\n  â€‹\tæ‰€ä»¥2n\u0026lt;n+6ï¼Œn\u0026lt;6ï¼ŒAns:ã€€æœ€å¤šï¼•å€‹processes\nâ€‹\nè©³è§£\n  æ‰€è¬‚æ­»çµçš„ç™¼ç”Ÿï¼Œå°±æ˜¯ç³»çµ±å·²ç¶“å°‡æ‰€æœ‰çš„è³‡æºéƒ½æŠ•å…¥ä¸‹å»ï¼Œä½†ä¾ç„¶æ²’æœ‰ç”¢å‡ºï¼Œä¸æœƒæœ‰ä¸€å€‹ç³»çµ±æ˜¯ä½”æ“šè‘—è³‡æºä¸åˆ†é…ï¼Œçœ‹è‘—åº•ä¸‹çš„Processé€²å…¥Deadlocké‚„å¾ˆé–‹å¿ƒ\n  æ‡‰æ­¤å°‡è³‡æºåˆ†é…ä¸‹å»å¾Œï¼Œå°±æ˜¯é•·é€™æ¨£\n  Processå–å¾—2å€‹Resourceå¾Œå°±å¯ä»¥åŸ·è¡Œï¼ŒåŸ·è¡Œå®Œå¾Œåˆé‡‹æ”¾2å€‹Resourceçµ¦å…¶ä»–çš„Processä½¿ç”¨\n  æŒçºŒçš„æŠŠResourceåˆ†é…çµ¦Process\u0026hellip; å¾€å¾©å¾ªç’°ï¼Œå³å¯å®Œæˆã€‚\n  è‹¥å¾ˆä¸å¹¸çš„æ˜¯ï¼Œå¦‚æœä»Šå¤©æ˜¯6å€‹Processï¼Œå°±æœƒç™¼ç”Ÿæ­»çµ\n  æ¨å°å…¬å¼ï¼Œè‹¥ä»Šå¤©é¡Œç›®æ”¹æˆï¼Œæ¯å€‹Processéœ€è¦3å°å°è¡¨æ©Ÿï¼Œç¾åœ¨æœ‰10éƒ¨åˆ—è¡¨æ©Ÿï¼Œæœ€å¤šèƒ½å…è¨±å¹¾å€‹Process(MAX=3, m=10)\n3n\u0026lt;n+10\n=2n\u0026lt;10\n=n\u0026lt;5\n  â€‹\tans. n=4\nä¾‹2. è­‰æ˜ï¼š\nâ€‹\tproofï¼šå‡è¨­è³‡æºå…¨éƒ¨é…ç½®å‡ºå»\n$$ å³\\sum_{i=1}^n Allocationi = m $$\nâ€‹\tåˆå› ç‚º\n$$ \\sum_{i=1}^nNeedi = \\sum_{i=1}^nMaxi-\\sum_{i=1}^n Allocationi(Banker\u0026rsquo;s Algo) \\\n= \\sum_{i=1}^nMaxi-m \\\nâˆ´\\sum_{i=1}^nMaxi=\\sum_{i=1}^nNeedi+m $$\nâ€‹\nâ€‹\tå†ä¾æ“šæ¢ä»¶(2)\n$$ \\sum_{i=1}^nMaxi \u0026lt; (n+m) \\\nâˆ´\\sum_{i=1}^nNeedi+m\u0026lt;(n+m) \\\n$$\nâ€‹\tå¾—å‡ºé€™å€‹çµè«–\n$$ âˆ´ \\sum_{i=1}^nNeedi \u0026lt; n $$\nâ€‹\tæ­¤äº‹ä»£è¡¨è‡³å°‘æœ‰\u0026gt;=1å€‹Processä¹‹Neediç‚º0ï¼Œä»£è¡¨Processå¯ä»¥å®Œå·¥ï¼Œä¸”Piè‡³å°‘æœƒReleaseå‡º\u0026gt;=1å€‹Resource**(âˆµæ¢ä»¶(1) -\u0026gt; MAX\u0026gt;=1,è€ŒNeedi=0 âˆ´Allocation \u0026gt;=1)**ä½¿å¾—å‰©ä¸‹çš„Processç•¶ä¸­åˆæœƒæœ‰\u0026gt;=1å€‹processä¹‹Needç‚º0åˆå¯ä»¥å®Œå·¥ã€‚ä½¿å¾—å‰©ä¸‹çš„processä¸­åˆæœƒæœ‰\u0026gt;=1å€‹Processä¹‹Needç‚º0åˆå¯ä»¥å®Œå·¥ï¼Œä¾æ­¤é¡æ¨ï¼Œæ‰€æœ‰Processçš†å¯å®Œå·¥ï¼Œâˆ´Deadlock Free\nè§£é‡‹çš„æ•¸å­¸å¼å­å¦‚ä¸‹ï¼Œé¡ä¼¼é›¢æ•£çš„é´¿ç± åŸç†\n$$ \\sum_{i=1}^{n-1}Needi\u0026lt;n-1 $$\nDeadlock Detection \u0026amp; Recovery   å¦‚æœæ”¾ä»»resourceä½¿ç”¨è¼ƒç„¡é™åˆ¶ï¼Œé›–ç„¶Utilizationé«˜ï¼Œä½†æ˜¯Systemæœ‰å¯èƒ½é€²å…¥æ­»çµè€Œä¸è‡ªçŸ¥ã€‚å› ç‚ºéœ€è¦æœ‰ä¸€å€‹æ­»çµåµæ¸¬æ¼”ç®—æ³•ï¼ŒåŠè¬ä¸€åµæ¸¬å‡ºæœ‰æ­»çµï¼Œå¦‚ä½•ç ´é™¤é€™å€‹æ­»çµ(recovery)çš„ä½œæ³•ã€‚\n  Recoveryåšæ³•ï¼š\n   Kill Process in the deadlock\n æ–¹æ³•ä¸€ï¼šKill All Processes in the deadlockå¯¸è‰ä¸ç”Ÿï¼Œçœ¼ä¸è¦‹ç‚ºæ·¨\nç¼ºé»ï¼šæˆæœ¬å¤ªé«˜ï¼Œå…ˆå‰çš„å·¥ä½œæˆæœå…¨éƒ¨ä½œå»¢ã€‚\næ–¹æ³•äºŒï¼šKill processes one by oneï¼ŒKillä¸€å€‹ä¹‹å¾Œï¼Œé ˆå†è·‘åµæ¸¬Algoï¼Œè‹¥æ­»çµä»å­˜åœ¨ï¼Œå†Repeatä¸Šè¿°æ­¥é©Ÿ\nç¼ºé»ï¼šæˆæœ¬å¤ªé«˜ï¼ŒLoopæ¬¡æ•¸*åµæ¸¬æˆæœ¬\n   Resource Preemption\n æ­¥é©Ÿä¸€ï¼šé¸æ“‡\u0026quot;Victim\u0026quot; process(å‡è¨­æ­¤Processæ“æœ‰è³‡æºA,B,C)\næ­¥é©ŸäºŒï¼šå‰å¥ªä»–å€‘èº«ä¸Šçš„è³‡æº(å‰å¥ªBï¼Œä¿ç•™A,Bï¼Œé€™æ˜¯æœ€åŸºæœ¬çš„æƒ…æ³)\næ­¥é©Ÿä¸‰ï¼šå›å¾©æ­¤Victim processç•¶åˆæœªå–å¾—æ­¤å‰å¥ªè³‡æºçš„ç‹€æ…‹(é€™ä¸€æ­¥éå¸¸å›°é›£ï¼Œæˆæœ¬æ¥µé«˜ï¼Œä¹Ÿä¸ä¸€å®šåšå¾—å¥½ï¼Œæ­¤å¤–ä¹Ÿå¯èƒ½æœ‰Starvationçš„å•é¡Œ)\n      Deadlock Detection Algorithm(è€ƒæ¯”è¼ƒå¤šçš„æ˜¯Banker,Detectionç¨å¾®çŸ¥é“å°±å¥½)   Data Structures used\nnï¼šprocessæ•¸\nmï¼šresourceç¨®é¡\n Allocationï¼šn*m matrix Availavleï¼š[1\u0026hellip;m] of int ç›®å‰å¯ç”¨è³‡æºæ•¸é‡ Work: [1\u0026hellip;m] of int Finishï¼š[1\u0026hellip;n] of Boolean Requestï¼šn*m matrixï¼Œå„processç›®å‰æå‡ºä¹‹å„å¼è³‡æºç”³è«‹é‡  Noteï¼š\n Avoidance(Banker\u0026rsquo;s Algo)å«æœ‰æœªä¾†(Future)info(MAX,Need) Detectionï¼šåªæœ‰ç¾åœ¨(Current)info    Procedures\næ­¥é©Ÿä¸€ï¼šåˆå€¼è¨­å®š\nWork=Available\nFinish[i]= True: if Allocation ==0\nâ€‹\tFalse: **if Allocation â‰ 0 **\næ­¥é©ŸäºŒï¼šçœ‹å¯å¦æ‰¾åˆ°Piæ»¿è¶³ï¼š\n Finish[i]ç‚ºFalse Requesti â‰¦ Work  è‹¥æ‰¾åˆ°ï¼Œå‰‡é€²å…¥æ­¥é©Ÿä¸‰ï¼Œå¦å‰‡é€²å…¥æ­¥é©Ÿå››\næ­¥é©Ÿä¸‰ï¼šè¨­å®šFinish[i]=Trueï¼Œä¸”Work=Work+Allocationi, then å›åˆ°æ­¥é©ŸäºŒï¼Œæ‰¾ä¸åˆ°å‰‡å›åˆ°ç¬¬å››æ­¥\næ­¥é©Ÿå››ï¼šCheck Finish Arrayï¼Œè‹¥çš†ç‚ºTrueï¼Œå› æ­¤ç›®å‰ç„¡æ­»çµï¼Œå¦å‰‡å‰‡æœ‰æ­»çµï¼Œä¸”Finish[i]= Falseè€…ï¼Œå³ç‚ºé™·å…¥æ­»çµä¸­\n  Timeï¼šO(n^2 *m) \u0026ndash;\u0026gt; æ­»çµåµæ¸¬ä¸€æ¬¡ï¼Œcostå¾ˆé«˜ï¼Œå†åŠ ä¸Šä¹˜ä»¥åµæ¸¬é »ç‡\n  ç¯„ä¾‹1ï¼š\n Allocation      A B C     P0 0 1 0   P1 2 0 0   P2 3 0 3   P3 2 1 1   P4 0 0 2     Request      A B C     P0 0 0 0   P1 2 0 2   P2 0 0 0   P3 1 0 0   P4 0 0 2     Available     A B C     0 0 0    åµæ¸¬ç›®å‰æœ‰å“ªäº›æ­»çµ?\nè‹¥æœ‰ï¼Œé‚£äº›process in the Deadlock\nAns.\n  Work = Available = (0,0,0)\nFinish\n   0 1 2 3 4     F F F F F    å› ç‚ºAllocationçš†â‰ (0,0,0)\n  âˆµå¯ä»¥æ‰¾åˆ°P0æ»¿è¶³Finish[0]ç‚ºFï¼Œä¸”Requestâ‰¤work âˆ´åˆ°ç¬¬ä¸‰æ­¥é©Ÿ\n  è¨­å®šFinish[0]ç‚ºTrueï¼Œä¸”Work=(0,0,0)+(0,1,0)=(0,1,0)ï¼Œå›åˆ°ç¬¬äºŒæ­¥é©Ÿ\n  âˆµå¯ä»¥æ‰¾åˆ°P2æ»¿è¶³Finish[2]ç‚ºFï¼Œä¸”Request2 â‰¤ Workï¼Œâˆ´åˆ°ç¬¬ä¸‰æ­¥é©Ÿ\n  è¨­å®šFinsh[2]ç‚ºTrueï¼Œä¸”Work=(0,1,0)+(3,0,3)=(3,1,3)ï¼Œå›åˆ°ç¬¬ä¸‰æ­¥é©Ÿ\n  åœ¨æ­¥é©ŸäºŒèˆ‡æ­¥é©Ÿä¸‰ä¹‹é–“æŠ½æ’ï¼Œå¾€å¾©å¾ªç’°ï¼ŒP1, P3, P4çš†å¯Finished\n  Check Finish Array âˆµçš†ç‚ºTrueï¼Œâˆ´ç›®å‰ç„¡æ­»çµ\n  è‹¥æ¯ä¸€é¡å‹è³‡æºè³‡æºçš†ç‚ºSingle-instanceï¼Œå‰‡æœ‰è¼ƒç°¡åŒ–çš„Detectionä½œæ³•-ä½¿ç”¨Wait-For Graph  å®šç¾©ï¼šä»¤G=\u0026lt;V,E\u0026gt;æœ‰å‘åœ–ï¼Œä»£è¡¨Wait-For Graphï¼Œå…¶ä¸­   Vertexï¼šåªæœ‰Process Onlyï¼Œæ²’æœ‰Resourceé ‚é» Edgeï¼šPi ç­‰å¾…\u0026mdash;\u0026gt;Pjï¼Œç¨±ä¹‹ç‚ºwait edge    æ˜¯å¾RAGç°¡åŒ–è€Œå¾—ï¼Œå³è‹¥RAGä¸­å­˜åœ¨ï¼š\n1 2  graph LR; Pi --ç”³è«‹--\u0026gt; R --é…ç½®--\u0026gt; Pj   å‰‡åœ¨Wait-For Graph ä»¥\n1 2  graph LR; Pi --ç­‰å¾…--\u0026gt; Pj   å‘ˆç¾\n  åµæ¸¬ä½œæ³•ï¼šåœ¨Wait-For Graphä¸­ï¼Œè‹¥æœ‰Cycleï¼Œå‰‡ç›®å‰æœ‰æ­»çµï¼Œå¦å‰‡ç›®å‰ç„¡æ­»çµ\n  ä¾‹ï¼šRAGå¦‚ä¸‹\n    åŒ–æˆWait-For Graph\n  ç›®å‰æœ‰ç„¡æ­»çµ\nAns.âˆµæœ‰Cycleï¼Œâˆ´ç›®å‰æœ‰æ­»çµ\n  Chapter 6 Process Synchronization Process Communication,Inter Processes Communication; IPC\nProcessçš„é—œä¿‚å°±å…©ç¨®\n Independent Cooperating(æœ‰è³‡è¨Šäº¤æ›çš„éœ€æ±‚)  ä½•è¬‚åŒæ­¥(Synchronization)ï¼ŸProcessåœ¨åŸ·è¡Œçš„éç¨‹ç•¶ä¸­ï¼Œå› ç‚ºæŸä»¶äº‹æƒ…çš„ç™¼ç”Ÿæˆ–æ²’æœ‰ç™¼ç”Ÿï¼Œå°è‡´å®ƒå¿…é ˆåœä¸‹ä¾†ï¼Œç­‰å°æ–¹å®Œæˆï¼Œæ‰å¯ä»¥æ¥è‘—å¾€ä¸‹åšï¼Œç¬¦åˆé€™äº›äº‹æƒ…çš„å°±æ˜¯åŒæ­¥ã€‚\n   Process Communicationå…©å¤§æ–¹å¼\n  Shared Memory\n  Message Passing\n    Race Condition Problem\n  è§£æ±ºRace Conditionä¹‹å…©å¤§ç­–ç•¥\n Disable interrupt Critical section design    C.S.Design å¿…é ˆæ»¿è¶³çš„3å€‹Criteria(Mutual Exclustion, Progress, Bounded Waiting)\n  C.S Design æ–¹æ³•(æ¶æ§‹)\n SoftWare Solutions HardWare Instructions Support(Test-and-Set, SWAP) semaphoreâ˜†â˜†â˜†â˜†â˜†(è™ŸèªŒ) Monitor è§£æ±ºè‘—åçš„åŒæ­¥å•é¡Œ  Producer-Consumer Problem Reader/Writer Problem  First Second   The Sleeping Barber problem The Dining-Philosophers Problem      Message Passing æºé€šæ–¹å¼(è¼ƒå°‘è€ƒ)\n   Process communicationä¹‹å…©å¤§æ–¹å¼ Shared Memory(æœ¬ç¯‡é‡é») å®šç¾©ï¼šProcessesé€éå…±äº«è®Šæ•¸(shared Variable)ä¹‹å­˜(Write)å–(Read)é”åˆ°æºé€š(Info exchange)ä¹‹ç›®çš„\nåˆ†æï¼š\n é©ç”¨æ–¼å¤§é‡Data(message)å‚³è¼¸ä¹‹ç‹€æ³ å‚³è¼¸é€Ÿåº¦è¼ƒå¿«(å› ç‚ºä¸é ˆkernelä»‹å…¥å¹²é /æ”¯æŒï¼ŒShared memoryæ˜¯Programmerçš„è²¬ä»»ï¼ŒProgrammerè¦è² è²¬å»è™•ç†äº’æ–¥çš„å•é¡Œ) ä¸é©åˆç”¨æ–¼Distributed System Kernelä¸éœ€æä¾›é¡å¤–çš„æ”¯æ´(é ‚å¤šä¾›æ‡‰Shared memory space) æ˜¯Programmerçš„è² æ“”ï¼Œå¿…é ˆå¯«é¡å¤–çš„ç¨‹å¼ç¢¼é˜²æ­¢Race Conditionçš„ç™¼ç”Ÿ  Message Passing å®šç¾©ï¼šProcessé›™æ–¹è¦æºé€šå¿…é ˆéµå¾ªä¸‹åˆ—Steps\n å»ºç«‹Communication Link è¨Šæ¯å¯é›™å‘å‚³è¼¸ å‚³è¼¸å®Œç•¢ï¼Œå¿…é ˆRelease  åˆ†æï¼š\n  é©ç”¨æ–¼å°‘é‡Data(message)å‚³è¼¸ä¹‹æƒ…æ³\n  å‚³è¼¸é€Ÿåº¦è¼ƒæ…¢(å› ç‚ºéœ€è¦kernelæ”¯æŒ)\n  é©åˆç”¨æ–¼Distribute System\n  Kernelå¿…é ˆæä¾›é¡å¤–çš„æ”¯æ´\nä¾‹ï¼šsend/recevice system call, Communication Linkç®¡ç†ï¼ŒMessage lostä¹‹åµæ¸¬ã€ä¾‹å¤–ç‹€æ³ä¹‹è™•ç†\n  Programmeræ²’æœ‰ä»€éº¼è² æ“”ï¼Œåªè¦æœƒç”¨send/receiveçš„System Callå°±å¥½\n  Race Condition problem in shared memory Communication\nå®šç¾©ï¼šIn shared memory Communication, è‹¥æœªå°å…±äº«è®Šæ•¸å­˜å–æä¾›ä»»ä½•äº’æ–¥å­˜å–æ§åˆ¶ä¹‹Synchronizationæ©Ÿåˆ¶ï¼Œå‰‡æœƒé€ æˆ\u0026quot;å…±äº«è®Šæ•¸çš„æœ€çµ‚çµæœå€¼æœƒå› ç‚ºProcessä¹‹é–“çš„åŸ·è¡Œé †åºä¸åŒè€Œæœ‰ä¸åŒçš„çµæœå€¼\u0026quot;ï¼Œæ­¤ç¨®Data inconsistencyæƒ…æ³ï¼Œç¨±ä¹‹ç‚ºRace Condition\nä¾‹å­ï¼šï¼£æ˜¯å…±äº«è®Šæ•¸ï¼Œåˆå€¼=5ï¼Œæ­¤æ™‚æœ‰2å€‹Process\n   Pi Pj     \u0026hellip; \u0026hellip;   C=C+1 C=C-1   \u0026hellip; \u0026hellip;   \u0026hellip; \u0026hellip;    Piï¼ŒPjå„åŸ·è¡Œä¸€æ¬¡ï¼Œå‰‡Cçš„æœ€çµ‚å€¼å¯èƒ½æ˜¯5 or 4 or 6 ï¼Œé€™ç¨®ç¨±ä¹‹ç‚ºRace Condition\n  çµæœç‚º5ï¼ŒåŸ·è¡Œé †åºå¯èƒ½ç‚º\nT1= Pi = C =C+1\nT2= Pj = C =C -1\nor\nT1 = Pj = C = C - 1\nT2 = Pi = C = C + 1\n  çµæœç‚º4ï¼ŒåŸ·è¡Œé †åºå¯èƒ½ç‚º\nT1ï¼šPiåŸ·è¡ŒC+1ï¼Œå¾—åˆ°6ï¼Œä½†å°šæœªAssignçµ¦Cï¼Œåªæ˜¯å…ˆæ”¾åœ¨ä¸€å€‹ä½”å­˜å™¨\nT2ï¼šPjåŸ·è¡ŒC-1ï¼Œå¾—åˆ°4ï¼Œå°šæœªAssignå›C\nT3ï¼šPi 6 assignå›C\nT4ï¼šPj 4 assignå›C\nCçš„çµæœç‚º4\n  çµæœç‚º6ï¼ŒåŸ·è¡Œé †åºå¯èƒ½ç‚º\nT1ï¼šPiåŸ·è¡ŒC+1ï¼Œå¾—åˆ°6ï¼Œä½†å°šæœªAssignçµ¦Cï¼Œåªæ˜¯å…ˆæ”¾åœ¨ä¸€å€‹ä½”å­˜å™¨\nT2ï¼šPjåŸ·è¡ŒC-1ï¼Œå¾—åˆ°4ï¼Œå°šæœªAssignå›C\nT3ï¼šPj 4 assignå›C\nT4ï¼šPi 6 assignå›C\nçµæœç‚º6\n  ç¯„ä¾‹1\nx, y æ˜¯å…±äº«è®Šæ•¸ï¼Œåˆå€¼x=5, y=7\n   Pi Pj     x= x+y y=x*y    Pi,Pjå„ä½œä¸€æ¬¡ï¼Œæ±‚(x,y)ä¹‹å¯èƒ½å€¼\nAns.\n(x,y) = (12,84)\n(x,y) = (40,35)\n(x,y) = (12,35)\nç¯„ä¾‹2\nx=0æ˜¯å…±äº«è®Šæ•¸ï¼Œi æ˜¯å€åŸŸè®Šæ•¸\n   Pi Pj     for(i=1;i\u0026lt;=3;i++)x=x+1 for(i=1;i\u0026lt;=3;i++)x=x+1    Pi,Pjå„ä½œä¸€æ¬¡ï¼Œæ±‚(x)ä¹‹å¯èƒ½å€¼\næç¤º\n    Pi Pj     ç¬¬ä¸€æ¬¡ x=x+1 x=x+1   ç¬¬äºŒæ¬¡ x=x+1 x=x+1   ç¬¬ä¸‰æ¬¡ x=x+1 x=x+1    Ans.(3,4,5,6)\nç¯„ä¾‹3\nx=0æ˜¯å…±äº«è®Šæ•¸ï¼Œi æ˜¯å€åŸŸè®Šæ•¸\n   Pi Pj     for(i=1;i\u0026lt;=3;i++)x=x+1 for(i=1;i\u0026lt;=3;i++)x=x-1    Pi,Pjå„ä½œä¸€æ¬¡ï¼Œæ±‚(x)ä¹‹å¯èƒ½å€¼\n(-3,-2,-1,0,1,2,3)\nè§£æ±ºRace Conditionä¹‹å…©å¤§ç­–ç•¥ Disable Interrupt å°CPUä¸‹æ‰‹\nå®šç¾©ï¼šProcessåœ¨å°å…±äº«è®Šæ•¸å­˜å–ä¹‹å‰ï¼Œå…ˆDisable Interruptï¼Œç­‰åˆ°å®Œæˆå…±äº«è®Šæ•¸çš„å­˜å–å¾Œå†æ‰Enable Interruptã€‚å¦‚æ­¤ä¸€ä¾†å¯ä»¥ä¿è­‰Processåœ¨å­˜å–å…±äº«è®Šæ•¸çš„æœŸé–“CPUä¸æœƒè¢«Preemptedï¼Œå³æ­¤ä¸€å­˜å–æ˜¯Atomically Executed\nä¾‹\n   Pi Pj     \u0026hellip;Disable interrupt \u0026hellip; Disable Interrupt   C=C+1 C=C-1   Enable Interrupt \u0026hellip; Enable Interrupt \u0026hellip;    å„ªé»ï¼š\n Simple, Easy implementation é©ç”¨æ–¼Uniprocessor System(å–®ä¸€CPU)  ç¼ºé»ï¼š\n ä¸é©åˆç”¨æ–¼Multiprocessorçš„ç³»çµ±ç•¶ä¸­ï¼ŒåªDisable å–®ä¸€CPUçš„Interruptï¼Œæ˜¯ç„¡æ³•é˜²æ­¢Race Condition(å› ç‚ºå…¶ä»–CPUsä¸ŠåŸ·è¡Œçš„Processä»å¯å­˜å–å…±äº«è®Šæ•¸)ï¼Œå¿…é ˆè¦Disableæ‰å…¨éƒ¨çš„CPU\u0026rsquo;s Interruptæ‰å¯é˜²æ­¢Race Conditionï¼Œä½†é€™æ¨£æœƒå¤§å¹…é™ä½Performance(å› ç‚ºç„¡æ³•å¹³è¡ŒåŸ·è¡Œ) é¢¨éšªå¾ˆé«˜ï¼Œå› ç‚ºå¿…é ˆä¿¡ä»»user processåœ¨Disable interruptå¾Œï¼Œåœ¨å¾ˆçŸ­çš„æ™‚é–“å¯ä»¥åœ¨Enable Interruptï¼Œå¦å‰‡CPU never come back to kernelã€‚æ³¨æ„ï¼Œé€šå¸¸Disable Interruptåšæ³•æ˜¯ä¸æœƒé–‹æ”¾çµ¦user Processçš„ï¼Œå®ƒé€šå¸¸åªå­˜åœ¨æ–¼kernelçš„è£½ä½œä¸­(åªæœ‰OS Developerså¯ä»¥ç”¨ï¼Œå› ç‚ºé–‹ç™¼è€…ä¹Ÿè¦é¿å…kernelå…§éƒ¨çš„Race Condition)  Critical section(è‡¨ç•Œå€é–“) Design å°å…±äº«Dataä¸‹æ‰‹\næé¾èª¤ç”¨Spinlock, Busy-waiting\næ˜¯ä¸€å€‹æ¦‚å¿µ\nå®šç¾©ï¼šå°å…±äº«è®Šæ•¸ä¹‹å­˜å–é€²è¡Œç®¡åˆ¶ï¼Œç•¶Piå–å¾—å…±äº«è®Šæ•¸å­˜å–æ¬Šåˆ©ï¼Œåœ¨å®ƒå°šæœªå®Œæˆçš„æœŸé–“ï¼Œå³ä½¿åˆ¥çš„Processå–å¾—CPUï¼Œä»»ä½•å…¶ä»–Processä¹Ÿç„¡æ³•å­˜å–å…±äº«è®Šæ•¸ã€‚\n  Critiacal Sectionï¼šProcessä¸­å°å…±äº«è®Šæ•¸é€²è¡Œå­˜ã€å–çš„æ•˜è¿°ä¹‹é›†åˆ\n  Remainder Section(RS)ï¼šProcessä¸­é™¤äº†Critical Sectionä»¥å¤–çš„å€é–“ï¼Œçµ±ç¨±ç‚ºRemainder Section\n  Processå…§å®¹ï¼š\næ¯å€‹CSçš„å‰å¾Œï¼ŒProgrammeré ˆè¨­è¨ˆ/åŠ å…¥é¡å¤–çš„æ§åˆ¶ç¢¼ï¼Œå«Entity Sectionï¼Œå³Exit Section\n  è€ŒCS Designä¸æ˜¯åœ¨è¨­è¨ˆè‡¨ç•Œå€é–“ï¼Œå› ç‚ºè‡¨ç•Œå€é–“æ˜¯å€‹æ¦‚å¿µï¼ŒCS Designæ˜¯åœ¨è¨­è¨ˆEntry SecåŠExit Secçš„Code\n  ä¸€å€‹processå¯ä»¥æ“æœ‰ä¸åªä¸€å€‹CS åªæ˜¯ç¯„ä¾‹éƒ½æ˜¯åªç•«ä¸€å€‹è€Œå·²ï¼Œè¦æ³¨æ„,é€²å…¥C=C+1å¾Œï¼ŒCPUå¯ä»¥è¢«Pjæ¶èµ°ï¼Œä½†Pjæƒ³è¦å°Cæ“ä½œæ™‚ï¼ŒPjçš„Enrty Sectionå°±æœƒæŠŠå®ƒæ“‹ä¸‹ä¾†ã€‚  C.S Design èˆ‡ Disable Interruptç›¸æ¯”(spinlock, Busy waiting)\nå„ªé»ï¼šé©ç”¨æ–¼Multiprocessors system\nç¼ºé»ï¼š\n è¨­è¨ˆè¼ƒç‚ºè¤‡é›œ è¼ƒä¸é©åˆç”¨åœ¨uniprocessor    Busy-Waiting Skill(or Spinlock)  å®šç¾©ï¼šé€éä½¿ç”¨loopingç›¸é—œæ•˜è¿°(eg. for, while, repeat \u0026hellip; util)ï¼Œé”åˆ°è®“processæš«æ™‚ç­‰å¾…ä¹‹æ•ˆæœ  ä¾‹ï¼š\n1 2 3  while(æ¢ä»¶å¼){ //ä¸åšäº‹ï¼Œåªæ˜¯è®“å®ƒè·‘ }   ç•¶æ¢ä»¶å¼ç‚ºTrueæ™‚ï¼Œprocesså°±è¢«å¡åœ¨whileä¸­ï¼Œç„¡æ³•é›¢é–‹whileï¼Œå¦‚æ­¤é”åˆ°Processæš«åœçš„æ•ˆæœï¼Œç›´åˆ°æ¢ä»¶å¼è®Šç‚ºFalseï¼Œprocessæ‰æœƒé›¢é–‹whileï¼Œå¾€ä¸‹åŸ·è¡Œã€‚\nNoteï¼š\n  [æ]èª¤ç”¨ï¼šå› ç‚ºåœ¨C.S Design Entry sectionä¸­ç¶“å¸¸æ˜¯ä½¿ç”¨Busy waitingçš„æŠ€å·§(æˆ–å«Spinlock)ï¼Œå› æ­¤æé¾æœƒæŠŠspinlock \u0026amp; busy waiting è¦–ä½œC.S Designï¼Œä¾†å»è·ŸDisable Interruptæ¯”è¼ƒ    åˆ†æï¼š\nç¼ºé»ï¼šç­‰å¾…ä¸­çš„Processï¼Œæœƒè·Ÿå…¶ä»–çš„Processesç«¶çˆ­CPUï¼Œå°‡æ¶åˆ°çš„CPU timeæµªè²»æ‰ï¼Œç”¨æ–¼åšç„¡å¯¦è³ªé€²å±•çš„è¿´åœˆæ¸¬è©¦ä¸Šã€‚å› æ­¤ï¼Œè‹¥æ­¤Processè¦ç­‰å¾ˆé•·çš„æ™‚é–“æ‰èƒ½exitè¿´åœˆï¼Œå‰‡æ­¤èˆ‰éå¸¸æµªè²»CPU time\nå„ªé»ï¼šè‹¥Processå¡åœ¨Loopçš„æ™‚é–“å¾ˆçŸ­(i.e å°æ–¼Context Switcing time)ï¼Œå‰‡Spinlockååˆ†æœ‰åˆ©ï¼Œå› ç‚ºLoopçš„æ™‚é–“å¾ˆçŸ­ï¼Œæµªè²»çš„æ™‚é–“ä¹Ÿä¸æœƒå¤ªçŸ­ã€‚\n  å¦ä¸€ç¨®Non-Busy-waiting Skill\nå®šç¾©ï¼šç•¶Processå› ç‚ºåŒæ­¥äº‹ä»¶è¢«å¡ä½ï¼Œä¸”å¦‚è¦å¡å¾ˆä¹…çš„æ™‚é–“ï¼Œå‰‡å¯ä»¥ä½¿ç”¨Block(p)çš„System callï¼Œå°‡pæš«åœï¼Œå³è®“pé€²å…¥Blockedçš„ç‹€æ…‹ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼ŒPå°±ä¸æœƒèˆ‡å…¶ä»–Processesç«¶çˆ­CPUï¼Œç›´åˆ°åŒæ­¥äº‹ä»¶ç™¼ç”Ÿäº†ï¼Œæ‰wakeup(p) system callï¼Œå°‡På¾blockedè®Šæˆready stateã€‚\nå„ªé»ï¼šç­‰å¾…ç•¶ä¸­çš„Processä¸æœƒèˆ‡åˆ¥äººç«¶çˆ­CPUï¼Œä¸æœƒæµªè²»CPU Time\nç¼ºé»ï¼šé¡å¤–ä»˜å‡ºContext Switchçš„äº‹ä»¶å¹¹ é€™çœŸçš„ç®—ç¼ºé»å—\n  C.S Designæ‡‰è©²æ»¿è¶³çš„3å€‹æ€§è³ª  Mutual exclusion Progress Bounded waiting  åˆ†è¿°å¦‚ä¸‹\nMutual exclusion(ç›¸äº’æ’æ–¥) å®šç¾©ï¼šæœ€é‡è¦çš„ä¸€é»ï¼Œå¦‚æœæ²’é€™é»çš„è©±è«‡å€‹å±çš„C.S Designï¼ŒRace Conditionéƒ½è™•ç†ä¸äº†äº†ã€‚åœ¨ä»»ä½•æ™‚é–“é»ï¼Œæœ€å¤šåªå…è¨±ä¸€å€‹Processé€²å…¥å®ƒè‡ªå·±çš„CSï¼Œä¸å¯æœ‰å¤šå€‹Processåˆ†åˆ¥é€²å…¥\u0026quot;å„è‡ª\u0026quot;çš„CS\nProgress(é€²å±•)  å®šç¾©ï¼šé ˆæ»¿è¶³ä»¥ä¸‹å…©é»æ‰ç®—Progress  ä¸æƒ³é€²å…¥C.Sçš„Process(äº¦å³åœ¨Ramaid Sectionæ´»å‹•)ï¼Œä¸å¯ä»¥é˜»ç¤™å…¶ä»–Processé€²å…¥C.S(æˆ–ä¸åƒèˆ‡é€²å…¥C.Sä¹‹æ±ºç­–)ä¸æƒ³é€²å»çš„processä¸æœƒé˜»ç¤™åˆ¥äººé€²å…¥ å¾é‚£äº›æƒ³é€²å…¥C.Sçš„Processesä¸­ï¼Œæ±ºå®šèª°å¯ä»¥é€²å…¥C.Sçš„æ±ºç­–æ™‚é–“æ˜¯æœ‰é™çš„(ä¸å¯ä»¥ç„¡çª®ï¼Œä¹Ÿå°±æ˜¯No Deadlock likes waitgin forever å¤§å®¶éƒ½ç„¡æ³•é€²å…¥CS)    Bounded waiting(æœ‰é™çš„ç­‰å¾…)  å®šç¾©ï¼šä»¥å€‹åˆ¥processçš„è§’åº¦ä¾†çœ‹ï¼Œè‡ªæŸprogressæå‡ºç”³è«‹åˆ°æ ¸å‡†é€²å…¥C.Sçš„ç­‰å¾…æ™‚é–“æ˜¯æœ‰é™çš„ï¼Œå³è‹¥æœ‰nå€‹Processæƒ³é€²å…¥CSï¼Œå‰‡ä»»ä¸€Processè‡³å¤šç­‰(n-1)æ¬¡å¾Œï¼Œå³å¯é€²å…¥CSï¼Œå³No Startvationï¼Œé ˆå…¬å¹³å°å¾…  C.S Designçš„æ–¹æ³•(æ¶æ§‹åœ–)é‡è¦      é—œæ³¨çš„ç„¦é» è£œå……     é«˜éš Monitorå®šç¾©ã€æ‡‰ç”¨ã€ç¨®é¡ã€è£½ä½œæ–¹å¼ åŒæ­¥å•é¡Œä¹‹è§£æ±º(æ‡‰ç”¨)    ä¸­éš Semaphore(è™ŸèªŒ)å®šç¾©ã€æ‡‰ç”¨ã€ç¨®é¡ã€è£½ä½œæ–¹å¼ C.S Degignæ­£ç¢ºèˆ‡å¦ï¼ŒåŒæ­¥å•é¡Œä¹‹è§£æ±º    åŸºç¤ Software solutions, Hardware Insturctions support C.S Degignæ­£ç¢ºèˆ‡å¦ åŒä½éšçš„é‚„æœ‰Disable Interrupt    Software Solutions    ç‰¹è‰²\n  2å€‹Processes(Pi,Pj)(P0,P1)\n Algo1 x\nAlgo2 x\nAlgo3 o = Peterson\u0026rsquo;s solution\n   nå€‹Processes\n Peterson\u0026rsquo;s Solution(nå€‹Processes)[ä¸å¤ªæœƒè€ƒäº†ï¼Œå› ç‚ºçœŸçš„å¾ˆçˆ›]\nBankery\u0026rsquo;s Algo[éºµåŒ…åº—å–è™Ÿç¢¼ç‰Œçš„æ¼”ç®—æ³•ï¼Œæé¾ç§»æ‰äº†ï¼Œä½†çœŸçš„å¾ˆé‡è¦ï¼Œè¦å­¸]\n     2å€‹Processesä¹‹C.S Design(Pi,Pj,iâ‰ j) Algo1   å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\n1 2  turn: int å€¼ç‚ºiæˆ–ç‚ºj æ„ç¾©ï¼šæ¬Šæ–ï¼Œturnå€¼ç‚ºiï¼Œå°±æ˜¯åªèƒ½è®“Pié€²å…¥(åªæœ‰Piæœ‰è³‡æ ¼é€²å…¥)ï¼Œåä¹‹äº¦ç„¶     ç¨‹å¼\n       CS Designè¦æ»¿è¶³çš„æ¢ä»¶ æ»¿è¶³èˆ‡å¦ è§£æ     Mutual Exclusion O å› ç‚ºturnå€¼ä¸æœƒåŒæ™‚ç‚ºiä¸”ç‚ºjï¼Œåªæœƒç‚ºiæˆ–jçš„å…¶ä¸­ä¸€å€‹ï¼Œå› æ­¤åªæœ‰Piæˆ–Pjå…¶ä¸­ä¸€å€‹å¯ä»¥é€²å…¥CSï¼Œä¸æœƒå…©å€‹åŒæ™‚é€²å…¥C.S   Progress X å‡è¨­ç›®å‰Piåœ¨RS(Piä¸æƒ³é€²å…¥CS)ï¼Œä¸”Turnå€¼ç‚ºiï¼Œè‹¥æ­¤æ™‚Pjæƒ³é€²å…¥CSå»ç„¡æ³•é€²å…¥ï¼Œè¢«Pié˜»ç¤™ï¼Œå› ç‚ºå”¯æœ‰ä»°è³´Piæ‰èƒ½å°‡Turnçš„å€¼æ”¹ç‚ºjï¼ŒPjæ‰èƒ½é€²å…¥CSï¼Œä½†æ­¤æ™‚Piä¸¦ä¸æœƒå»åšæ­¤è¨­å®š   Bounded Waiting O å‡è¨­ç›®å‰turnç‚ºiï¼Œä¸”Piå·²å…ˆæ–¼Pjé€²å…¥CSï¼Œè€ŒPjç­‰å¾…ä¸­ï¼Œç•¶Pié›¢é–‹CSå¾Œï¼Œåˆç«‹åˆ»æƒ³å†é€²å…¥CSï¼Œä½†å› Piæœƒåœ¨é›¢é–‹CSå¾Œï¼Œå°‡turnçš„å€¼è¨­ç‚ºjï¼Œä½¿å¾—Piç„¡æ³•å…ˆæ–¼Pjé€²å…¥CSï¼Œæ‰€ä»¥Pjè‡³å¤šç­‰ä¸€æ¬¡å¾Œå³å¯é€²å…¥CS    Algo2   å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\n1 2 3 4 5 6  flag[i..j] of boolean; åˆå€¼çš†ç‚ºFalse æ„ç¾©ï¼šflag[i] ={ True:Piæœ‰æ„é€²C.S False:Piç„¡æ„é€²C.S }     ç¨‹å¼ï¼š\n  åˆ†æ\n     CS Designè¦æ»¿è¶³çš„æ¢ä»¶ æ»¿è¶³èˆ‡å¦ è§£æ     Mutual Exclusion O å…©å€‹äººç¢ºå¯¦éƒ½ä¸æœƒåŒæ™‚é€²å»ï¼Œä½†æœ‰å¯èƒ½æœƒå…©å€‹éƒ½æƒ³é€²å»ï¼Œå¡ä½å½¼æ­¤ï¼Œåƒç…§ä¸‹é¢   Progress X ç¬¬äºŒé»ä¸ç¬¦åˆï¼Œæœƒå½¢æˆDeadlockï¼ŒPi,Pjå¯èƒ½æ¥ç„¡æ³•é€²å…¥C.Sè§£æåœ¨ä¸‹é¢   Bounded Waiting O å…©å€‹éƒ½é€²ä¸å»ï¼Œæ˜¯deadlockï¼Œä¸æ˜¯stravation    è§£æï¼šAlgo3 Peterson's solution\næ··åˆAlgo1,Algo2åšæ’’å°¿ç‰›ä¸¸\nalgo1åªè€ƒæ…®èª°æœ‰è³‡æ ¼ï¼Œæ²’è€ƒæ…®æ„é¡˜ã€‚algo2åªè€ƒé‡æ„é¡˜ï¼Œä½†æœƒé€ æˆæ­»çµã€‚å› æ­¤çµåˆç™¾å®¶ä¹‹é•·ï¼Œä¸åªè€ƒé‡è³‡æ ¼ä¹Ÿè€ƒé‡æ„é¡˜\n  å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\n Flag[i\u0026hellip;j] of Booleanåˆå€¼çš†ç‚ºFalse è¡¨æ„é¡˜ Turnï¼šå€¼ç‚ºiæˆ–j only è¡¨è³‡æ ¼    ç¨‹å¼\n  åˆ†æ\n   CS Designè¦æ»¿è¶³çš„æ¢ä»¶ æ»¿è¶³èˆ‡å¦ è§£æ     Mutual Exclusion O ç›¸äº’æ’æ–¥ï¼Œä¸æœƒæœ‰å…©å€‹processåŒæ™‚é€²å…¥C.Sï¼šè‹¥Piï¼ŒPjçš†æƒ³é€²å…¥C.Sï¼Œä»£è¡¨flag[i]è·Ÿflag[j]çµç‚ºTrueï¼Œ ç•¶é›™æ–¹çš†åšåˆ°whileæ¸¬è©¦çš„æ™‚å€™(ä¹Ÿå°±æ˜¯äº¤éŒ¯)ï¼Œè¡¨ç¤ºé›™æ–¹å·²åˆ†åˆ¥åŸ·è¡ŒéTurn=i, Trun=jä¹‹è¨­å®šï¼Œå·®åˆ¥åªæ˜¯å…ˆå¾Œé †åºä¸åŒè€Œå·²ã€‚è‹¥PiåŸ·è¡Œæ¯”è¼ƒå¿«ï¼ŒæŠŠTurnæ”¹æˆJï¼Œæ¥è‘—Pjå› ç‚ºåŸ·è¡Œæ¯”è¼ƒæ…¢ï¼ŒåˆæŠŠTurnæ”¹æˆiï¼Œæ‰€ä»¥Turnçš„å€¼åªæœƒç‚ºi(æˆ–jå…¶ä¸­ä¸€å€‹)ï¼Œä¸æœƒåŒæ™‚ç‚ºå…©è€…ï¼Œæ‰€ä»¥åªæœ‰Piæˆ–Pjä¸€å€‹Processå¾—ä»¥é€²å…¥CSï¼Œå› æ­¤ç¬¦åˆMutual Exclustion   Progress O å› ç‚ºprogressæœ‰å…©å€‹æƒ…æ³ï¼Œå› æ­¤åˆ†åˆ¥è¨è«–ä¹‹ã€‚\n1.ä¸æƒ³é€²å»çš„processä¸æœƒé˜»ç¤™åˆ¥äººé€²å…¥ï¼š å‡è¨­turnå€¼ç‚ºiï¼Œä¸”Piä¸æƒ³é€²å…¥C.Sï¼Œä»£è¡¨Flag[i]ç‚ºFalseï¼Œè‹¥æ­¤æ™‚Pjæƒ³é€²å»å‰‡Pjå¿…å¯é›¢é–‹while(å› ç‚ºFlag[i]==False)ï¼Œè€Œé€²å…¥CSï¼Œå› ç‚ºPiä¸æœƒé˜»ç¤™Pjé€²CS\n2.ä¸ç”¢ç”ŸDeadlockï¼šè‹¥Pi,Pjçš†æƒ³é€²å…¥C.Sï¼Œå‰‡åœ¨æœ‰é™çš„æ™‚é–“å…§å¿…å¯æ±ºå®šå‡ºTurnå€¼ç‚ºiæˆ–ç‚ºjï¼Œè®“Pi or Pjé€²å…¥ï¼Œå…©è€…ä¸æœƒwaiting forever   Bounded Waiting O å…ˆé€²å»çš„processå‡ºä¾†å¾Œï¼Œä¸æœƒç«‹åˆ»å†é€²å»ï¼Œäº¦å³ä¸æœƒæœ‰Starvationçš„æƒ…å½¢ï¼šå‡è¨­turnç‚ºiï¼ŒPiå·²å…ˆæ–¼Pjé€²å…¥CSï¼Œè€ŒPjç­‰å¾…é€²å…¥ä¸­ï¼ŒFlag[i]==[j]==Trueï¼Œè‹¥Pié›¢é–‹CSä¹‹å¾Œï¼Œåˆç«‹åˆ»æƒ³é€²å…¥CSï¼Œå‰‡Piå¿…å®šæœƒåšä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯**~~æŠŠFlag[i]è‡ªå·±è¨­ç‚ºFalse~~ï¼ŒæŠŠTurnè¨­æˆ=j**ï¼Œä¸€å®šæ˜¯Pjé€²å…¥CSï¼Œå› ç‚ºPjè‡³å¤šç­‰ä¸€æ¬¡å¾Œå³å¯é€²å…¥CSã€‚      Nå€‹Processes C.S Design Bankery\u0026rsquo;s Algo(éºµåŒ…åº—å–è™Ÿç¢¼ç‰Œ) è§£æ±ºRace Condition\n  è§€å¿µï¼š\n å®¢äºº(Process)è¦å…ˆå–å¾—è™Ÿç¢¼ç‰Œï¼Œæ‰å¯å…¥åº—å…§(CS) åº—å…§(CS)ä¸€æ¬¡åªå®¹ä¸€äºº(Process)é€²å…¥ è™Ÿç¢¼æœ€å°çš„å®¢äººæˆ–åŒç‚ºæœ€å°è™Ÿç¢¼ä¹‹å¤šå€‹å®¢äººä¸­IDæœ€å°çš„(PID)ï¼Œå¾—ä»¥å„ªå…ˆé€²å…¥åº—(CS)    å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹ï¼š\n  Choosing[0\u0026hellip;n-1] of Boolean åˆå€¼çš†ç‚ºFalseã€‚\næ„ç¾©ï¼šchoosing[i]=\n Trueï¼šPiæ­£åœ¨å–å¾—è™Ÿç¢¼ç‰Œï¼Œå°šæœªç¢ºå®šè™Ÿç¢¼ Falseï¼š  Piå–å¾—è™Ÿç¢¼ç‰Œ åˆå€¼      Number [0\u0026hellip;n-1] of int ä»£è¡¨è™Ÿç¢¼ç‰Œ\næ„ç¾©ï¼šä»£è¡¨P0~Pn-1ï¼Œnå€‹Processä¹‹è™Ÿç¢¼ç‰Œå€¼ï¼Œåˆå€¼çš†ç‚º0ã€‚\nnumber[i]ï¼š\n 0ï¼šè¡¨Piç„¡æ„é¡˜é€²å…¥CS .\u0026gt;0ï¼šè¡¨Piæœ‰æ„é¡˜é€²å…¥CS    æ•¸å­¸å‡½æ•¸used\n MAX(\u0026hellip;)ï¼šå–æœ€å¤§å€¼(ç”¨ä¾†æ±ºå®šè™Ÿç¢¼ç‰Œçš„å€¼) (a,b)\u0026lt;(c,d)è‹¥è¦æˆç«‹ï¼Œå‰‡å¿…é ˆæ»¿è¶³ä¸‹åˆ—å…©å€‹æ¢ä»¶ä¹‹å…¶ä¸­ä¸€å€‹  a\u0026lt;c a==c and b\u0026lt;d      Piä¹‹ç¨‹å¼å¦‚ä¸‹ï¼š\n  1 2 3 4 5 6 7 8 9 10 11 12 13  repeat chosing[i]= True; //è¡¨æ˜æ­£åœ¨å–å¾—è™Ÿç¢¼ç‰Œ Number[i] = MAX(Number[0]...[n-1])+1; //æ±ºå®šè™Ÿç¢¼ç‰Œæ˜¯å¹¾è™Ÿ choosing[i]= False; //è¡¨ç¤ºå·²å–å¾—è™Ÿç¢¼ç‰Œ  for(j=0;j\u0026lt;n;j++){ // æ­¤for-loopå»æª¢æ¸¬æ‰€æœ‰process  while (choosing[j]){do noting} //è‹¥åˆ¥äººpjæ­£åœ¨å–è™Ÿç¢¼ç‰Œä¸­ï¼Œå‰‡ç¨ç­‰ä¸€ä¸‹ï¼Œè‹¥éƒ½æ²’æœ‰è¢«å¡ä½ï¼Œå¯ä»¥é †åˆ©è·‘å®Œï¼Œå‰‡é€²å…¥CS  while(number[j]\u0026gt;0 and (number[j],j)\u0026lt;(number[i],i)){do noting} //iä»£è¡¨è‡ªå·±ï¼Œjä»£è¡¨åˆ¥äººã€‚Pjæœ‰æ„é¡˜é€²å…¥CSï¼Œä¸¦å–Pjè™Ÿç¢¼å°æ–¼æˆ‘æˆ–è·Ÿæˆ‘åŒå¥½ï¼ŒPj Id j \u0026lt;Pi ID iï¼Œå‰‡æˆ‘ç­‰å¾…ã€‚ } C.S Number[i]=0; R.S untill False     ç¶“å…¸å•é¡Œ ç‚ºä½•æœƒæœ‰å¾ˆå¤šå€‹Processeså–å¾—ç›¸åŒçš„Numberå€¼ï¼Ÿ Ans. å‡è¨­MAX(Number [0]~[n-1]å€¼ç‚ºkï¼ŒPi,Pj(iâ‰ j) 2å€‹Processesä¹‹äº¤éŒ¯åŸ·è¡Œé †åºå¦‚ä¸‹ï¼š\næ­£ç¢ºæ€§è­‰æ˜ï¼Ÿ Ans.\n  Mutual Exclusionï¼šOK\nCase1. å‡è¨­Numberå€¼çš†ä¸åŒ(\u0026gt;0)ï¼Œå‰‡å…·æœ‰æœ€å°çš„Numberå€¼ä¹‹Processï¼Œå¾—ä»¥å„ªå…ˆé€²å…¥CSï¼Œå…¶é¤˜Process waitè€Œæœ€å°å€¼å¿…å”¯ä¸€\nCase2. æœ‰å¤šå€‹Processeså…·æœ€å°Numberå€¼ï¼Œå‰‡ä»¥Processesä¹‹PIDæœ€å°è€…å¾—ä»¥é€²å…¥CSï¼Œè€ŒProcessIDå…·å‚™Uniqueæ€§è³ªï¼Œå› ç‚ºæœ€å°å€¼å¿…å®šå”¯ä¸€ã€‚\nè—‰ç”±Case1, Case2çŸ¥é“å”¯ä¸€æ€§ç¢ºå®šï¼Œäº’æ–¥ç¢ºä¿\n  Progressï¼šOK\nCase1. å‡è¨­Pjä¸æƒ³é€²å…¥CSï¼Œä»£è¡¨Number[j]ç‚º0ï¼Œè‹¥æ­¤æ™‚Piæƒ³é€²å…¥CSå‰‡Piæª¢æŸ¥åˆ°Pjï¼ŒPiå¿…å®šä¸æœƒè¢«Pjæ‰€é˜»ç¤™ï¼Œå¯ä»¥exits forä¸­ç¬¬äºŒå€‹While(å› ç‚ºwhile(number[j]\u0026gt;0 )ï¼Œé€™å€‹æ¢ä»¶åˆ¤æ–·ä¸æˆç«‹)\nCase2. è‹¥P0~Pn1-1ï¼Œnå€‹Processesçš†æƒ³é€²å…¥CSï¼Œå‰‡åœ¨æœ‰é™çš„æ™‚é–“å…§ï¼Œå¿…æœ‰ä¸€å€‹Proess(å…¶Numberæœ€å°æˆ–åŒè™Ÿä¸­ProcessIDæœ€å°)ï¼Œå¯ä»¥é †åˆ©è·‘å®Œfor loopé€²å…¥CSï¼Œå› ç‚ºNo Deadlock\n  Bouned waitingï¼šOK\nCase1. å‡è¨­P0~Pn-1 nå€‹Processesçš†æƒ³é€²å…¥CSï¼Œå¦Piå…·æœ‰æœ€å¤§çš„ï¼Œnumberå€¼ç‚º=K(number[i]=K)ï¼Œå› æ­¤Piæœƒæ˜¯æœ€å¾Œé€²å»çš„ï¼Œå…¶ä»–(n-1)å€‹Processes:Pj(jâ‰ i)ï¼Œå¿…å®šçš†å…ˆæ–¼Pié€²å…¥CSã€‚è‹¥Pjé›¢é–‹C.Så¾Œï¼Œåˆç«‹åˆ»æƒ³å†é€²å…¥C.Sï¼Œå‰‡Pjå–å¾—çš„è™Ÿç¢¼ç‰Œä¹‹å€¼Number[j]å¿…å®šå¤§æ–¼Kï¼Œæ‰€ä»¥Pjä¸æœƒå†åº¦å…ˆæ–¼Pié€²å…¥CSï¼Œå› æ­¤Pié ‚å¤šç­‰(n-1)æ¬¡å¾Œå³å¯é€²å…¥CS\n  è¨­è¨ˆå•é¡Œ 1 2 3 4 5 6 7 8  for(j=0;j\u0026lt;n;j++){ while(choosing[j]){ // do noting  } while(number[i]\u0026gt;0 and number[j],j\u0026lt;(number[i],i)){ //å•é¡Œï¼Œæ—¢ç„¶é€™é‚Šéƒ½æœƒæŠŠä¸ç¬¦åˆçš„Processæ””ä¸‹ä¾†ï¼Œå¨œä½•é‚„éœ€è¦ä¸Šé¢çš„choosing[j]ä¾†å¡ä½å‘¢?æ˜¯ä¸æ˜¯å¯ä»¥æŠŠchoosing[j]åˆªæ‰ï¼Œé€™æ¨£çš„é‚è¼¯å°å—?æœƒå‡ºç¾ä»€éº¼å•é¡Œå—  // do noting  } }   è§£é‡‹ï¼š\né•åäº†äº’æ–¥ã€‚\nä¾‹ï¼šä»¤ã€€ç›®å‰Number[0,n-1]éƒ½é‚„æ²’é ˜åˆ°è™Ÿç¢¼ç‰Œå€¼çš†ç‚º0ï¼ŒPiï¼ŒPj2å€‹Processes(iâ‰ j)æƒ³é€²å…¥CSï¼Œä¸”å‡è¨­ProcessIDæ˜¯i\u0026lt;j\nâ€‹\tå°±å¥½æ¯”ä¸€å€‹é˜¿å©†è·Ÿä¸€å€‹å¹´è¼•å¦¹å¦¹ä¸€èµ·å»éºµåŒ…åº—ï¼Œå¹´è¼•äººå…ˆå–å®Œè™Ÿç¢¼ç‰Œï¼Œè€å¤ªå©†é‚„æ²’å–å®Œã€‚é€™æ™‚å€™å¦¹å¦¹é ˜å®Œå¾Œï¼Œè€å¤ªå©†é‚„æ²’é ˜ï¼ŒåŸæœ¬çš„è¨­è¨ˆä¸‹ï¼Œå¦¹å¦¹æœƒç­‰é˜¿å©†é ˜å®Œæ‰åŸ·è¡Œä¸‹ä¸€æ­¥ï¼Œä½†é€™ç¨®æƒ…æ³ä¸‹ï¼Œå³ä½¿é˜¿å©†é‚„æ²’å–ï¼Œå¦¹å¦¹ä¹Ÿæœƒç›´æ¥é€²å…¥éºµåŒ…åº—è£¡ã€‚æ¥è‘—é˜¿å©†å–å®Œè™Ÿç¢¼ç‰Œï¼Œç™¼ç¾è·Ÿå¦¹å¦¹åŒè™Ÿ(Race Condition)ï¼Œæ­¤æ™‚ä»–ä¹Ÿæƒ³é€²å…¥CSï¼Œé€™æ™‚å€™é˜¿å©†çš„èº«åˆ†è­‰è™Ÿç¢¼(UID)æ¯”å¦¹å¦¹å°ï¼Œæ‰€ä»¥é˜¿å©†ä¹Ÿå¯ä»¥é€²å…¥CSï¼Œé€™ç¨®æƒ…æ³ä¸‹ï¼Œæœ‰å…©å€‹ProcessåŒæ™‚é€²å…¥CSè£¡ï¼Œé•åäº†äº’æ–¥(Mutual Exclustion)\nHardware Solution - CPU Instructions Support è‹¥CPUæœ‰æä¾›ä¸‹åˆ—æŒ‡ä»¤ä¹‹ä¸€\n  Test-and-Set (Lock) SWAP(a,b)   å‰‡Programmerå¯ä»¥é‹ç”¨åœ¨CS Design\nTest-and-Set(Lock) æŒ‡ä»¤ å®šç¾©ï¼šæ­¤CPU Instructionä¹‹åŠŸèƒ½ç‚ºï¼Œå‚³å‡ºLockåƒæ•¸å€¼Lockçš„è³‡æ–™å‹åˆ¥ç‚ºbooleanä¸”å°‡Lockåƒæ•¸è¨­ç‚ºTrue(1)ï¼Œä¸”CPUä¿è­‰æ­¤æŒ‡ä»¤æ˜¯â˜†â˜†â˜†\u0026quot;Atomically Executed\u0026quot;â˜†â˜†â˜†ï¼Œ\nç¯„ä¾‹ï¼šä»¥ï¼£èªè¨€èªªæ˜æ­¤æŒ‡ä»¤åŠŸèƒ½ï¼š\n1 2 3 4 5  int Test-and-Set(int *Lock){ int temp = *Lock; *Lock = 1; return temp; }   ç”¨åœ¨C.S Designä¸Š\n[Algo1]ï¼šï¼¸ä¸å¯ä»¥ç”¨   å…±äº«è®Šæ•¸å¦‚ä¸‹ï¼š\nLockï¼šboolean = False\n  Piç¨‹å¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9  repeat{ while(Test-and-Set(Lock)){ // do nothing  } C.Så€å¡Š; Lock = False; R.S; Utill False; }     åˆ†æï¼š\n  Mutual Exclustionï¼šOK\n  Progressï¼šOK\n ä¸æƒ³é€²å»çš„äººå°±å¾…åœ¨RSè£¡é¢ï¼Œä¸æœƒå»æ¶ é¿å…æ­»çµï¼Œç¸½æœ‰ä¸€å€‹äººæœƒæ¶åˆ°Test-and-Set(Lock)    Bounded Waitingï¼šé•å\nå‡è¨­Piå·²å…ˆæ–¼Pjé€²å…¥CSï¼Œä¸”Pjç­‰å¾…ä¸­ï¼Œç•¶Pié›¢é–‹CSå¾Œï¼Œè‹¥æƒ³åœ¨ç«‹åˆ»é€²å»CSï¼Œå‰‡Piæ˜¯æœ‰æ©Ÿæœƒåœ¨å„ªå…ˆé€²å»æ¶åˆ°Test-and-setä¹‹åŸ·è¡Œï¼Œå› æ­¤Pj æœ‰å¯èƒ½Starvation\n    [Algo2] ï¼šç©©çš„ï¼Œå¯ä»¥ç”¨   å…±äº«è®Šæ•¸å¦‚ä¸‹ï¼š\n Lockï¼šboolean = False; Test and Setæœƒç”¨åˆ°çš„è®Šæ•¸ waiting[0 ..n-1] of booleanåˆå€¼çš†ç‚ºFalseï¼Œè‹¥ç‚ºTrueå‰‡ä»£è¡¨æœ‰æ„é€²å…¥å€é–“ï¼Œè‹¥ç‚ºFalseå‰‡ä»£è¡¨åˆå€¼ï¼Œæˆ–æº–å‚™é€²å…¥C.S  æ„ç¾©ï¼š\nwaiting[i]æœ‰å…©ç¨®ï¼Œè‹¥ç‚º\nTrueï¼šè¡¨Piæœ‰æ„é€²å…¥CSï¼Œä¸”æ­£åœ¨ç­‰å¾…ä¸­\nFalseï¼šä»£è¡¨åˆå€¼ï¼Œæˆ–æ˜¯è¡¨ç¤ºPiä¸éœ€è¦å†ç­‰äº†ï¼Œå¯ä»¥é€²å…¥CS\n  Piä¹‹ç¨‹å¼å¦‚ä¸‹ï¼š [034 17 02 CH6 P 6 71æ™‚24åˆ†02ç§’ 17:57]\nå€åŸŸè®Šæ•¸\n  Keyï¼šboolean;\n  j: int\n  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  repeat waiting[i] =True; //Piæœ‰æ„ï¼Œä¸”ç­‰å¾…ä¸­...  key= True; while(waiting[i]\u0026amp;\u0026amp; key) { key = Test-and-set(Lock); } //--------------------åˆ†éš”ç·š-------------- //åœ¨é‚„æ²’é›¢é–‹whileå‰ï¼Œwaiting[i]çš„å€¼ä¸å¯èƒ½ç‚ºFalseï¼ŒProcess i å€‹äººè€Œè¨€ä¸å¯èƒ½æŠŠwaiting[i]å€¼æ”¹æˆFalseé€²å…¥CSã€‚å› æ­¤åªå‰©Keyå¯ä»¥å‹•äº† // åˆå› TestAndSet(Lock)æ–¹æ³•æœƒè¿”å›Lockçš„Booleanå€¼ï¼Œä¸¦å°‡Lockè¨­ç‚ºTrueï¼Œä¹Ÿå› æ­¤ï¼ŒæƒŸæœ‰ç¬¬ä¸€å€‹æ¶åˆ°CPUçš„Processï¼Œæ‰æœƒæœ‰Falseçš„Keyå€¼ waiting[i]= False; //â˜†â˜†â˜†â˜†â˜†è¡¨æ˜Piä¸ç”¨ç­‰äº†ï¼Œå¯ä»¥é€²å…¥CSäº†â˜†â˜†â˜†â˜†â˜†  C.S; j= (i+1) % n; //næ˜¯é™£åˆ—é•·åº¦, j æ˜¯æŒ‡içš„ä¸‹ä¸€å€‹element of array  while(jâ‰ i \u0026amp;\u0026amp; not waiting[j]){ //è‹¥j=iï¼Œå‰‡è¡¨ç¤ºå·²ç¶“ç¹äº†ä¸€åœˆã€‚waitingè¡¨æ„é¡˜ï¼ŒTrueä»£è¡¨æƒ³ï¼ŒFalseä»£è¡¨ä¸æƒ³  j=(j+1)%n; //æ‰¾å‡ºä¸‹ä¸€å€‹æƒ³é€²å…¥C.Sä¹‹Pj  } if(j==i) { //æ­é…ä¸‹é¢çš„case2ï¼Œä»£è¡¨éƒ½æ²’äººæƒ³é€²å…¥CSï¼Œä¸¦ä¸”å› ç‚º Test-and-Set(Lock)æœƒå°‡Lockè¨­ç‚ºTrue(å¯åƒç…§ä¸Šé¢)  Lock =False; //å› ç‚ºéƒ½æ²’äººæƒ³é€²å»ï¼Œå› æ­¤å°±æŠŠé–æ‰“é–‹  } else{ waiting[j]= False; //Pjä¸ç”¨ç­‰äº†ï¼Œæ›ä½ é€²CS  } R.S; utill False;   Case1.\nCase2ï¼šç•¶PiåŸ·è¡Œå®Œå¾Œï¼Œç™¼ç¾å¤–é¢éƒ½æ²’ä»»ä½•äººæƒ³é€²ä¾†ï¼Œåªå¥½å†æŠŠLockè¨­å›Falseï¼Œä¸€åˆ‡é‡æ–°ReSet\n  Q1ï¼šè­‰æ˜æ­£ç¢ºæ€§\nAnsï¼\n[1] Mutual Exclusionï¼šOK\npfï¼š Piå¯é€²å…¥C.Sä¹‹æ¢ä»¶æœ‰å…©ç¨®å¯èƒ½\ncase1. Keyå€¼ç‚ºFalse\nä»£è¡¨Piæ˜¯ç¬¬ä¸€å€‹æ¶åˆ°Test-and-Set(Lock)åŸ·è¡Œè€…ï¼Œå¦‚æ­¤æ‰èƒ½å°‡Keyæ”¹ç‚ºFalseï¼Œ==å› æ­¤å”¯ä¸€æ€§ç¢ºç«‹==\ncase2. waiting[i]ç‚ºFalse\nä»£è¡¨Piåœ¨é›¢é–‹whileä¹‹å‰ï¼Œæ˜¯ä¸æœƒå°‡waiting[i]æ”¹ç‚ºFalse,==åªæœƒå°‡å®ƒè¨­ç‚ºTrueï¼Œåªæœ‰åœ¨CSçš„Procesç•¶å®ƒé›¢é–‹CSå¾Œï¼Œæ‰èƒ½æ”¹è®Šå…¶ä»–processesä¸­ä¹‹ä¸€å€‹processçš„waitingå€¼è®ŠFalseï¼Œåœ¨CSä¸­çš„Processåªæœ‰ä¸€å€‹ï¼Œå‡ºä¾†CSå¾Œä¹Ÿåªæ”¹è®Šä¸€å€‹Processä¹‹waitingå€¼ç‚ºFalseï¼Œå› æ­¤å”¯ä¸€æ€§ä¹Ÿç¢ºç«‹ã€‚æ›è¨€ä¹‹ï¼Œä¸€å€‹processä¸æœƒè‡ªå·±æŠŠè‡ªå·±çš„waitiingå€¼è¨­æˆFalseï¼Œä¸€å®šéƒ½æ˜¯åˆ¥çš„processä¾†è¨­çš„ï¼Œå› æ­¤å”¯ä¸€æ€§ç¢ºç«‹==\nå› æ­¤ç”±case1åŠ2å¾—çŸ¥ï¼Œäº’æ–¥æˆç«‹\n[2] Progressï¼šOK\npfï¼š==è‹¥Piä¸æƒ³é€²å…¥C.Sï¼Œå…¶waiting[i]ç‚ºFalseï¼Œè€Œä¸”Piä¸æœƒè·Ÿå…¶ä»–Processç«¶çˆ­Test-and-Set(Lock)çš„åŸ·è¡Œï¼Œä¸”å¾CSé›¢é–‹ä¹‹Processï¼Œä¹Ÿä¸æœƒæ”¹è®ŠPiä¹‹waitingå€¼ï¼Œå› æ­¤Piä¸æœƒåƒèˆ‡é€²è¡ŒCSä¹‹æ±ºç­–ã€‚==\nè‹¥nå€‹Processéƒ½æƒ³é€²å…¥CSï¼Œå‰‡åœ¨æœ‰é™çš„æ™‚é–“å…§å¿…å®šæœƒæ±ºå®šå‡ºç¬¬ä¸€å€‹æ¶åˆ°Tetst-and-Set()åŸ·è¡Œï¼Œä¸¦é€²å…¥CSã€‚å®ƒå¾CSé›¢é–‹å¾Œï¼Œä¹Ÿæœƒåœ¨æœ‰é™çš„æ™‚é–“å…§è®“ä¸‹ä¸€å€‹æƒ³é€²å…¥CSä¹‹Processé€²å…¥CSæˆ–Lockè¨­Falseã€‚\n==ä¸æœƒæœ‰Deadlock==\n[3]Bounded Waitingï¼šOK\npfï¼šå‡è¨­P0~Pn-1ç­‰nå€‹Processesçš†æƒ³é€²å…¥C.Sè¡¨ç¤ºwaiting[0]~[n-1]çš†ç‚ºTrue\nä»¤Piæ˜¯ç¬¬ä¸€å€‹æ¶åˆ°Test-and-SetåŸ·è¡Œä¹‹Processï¼Œç‡å…ˆé€²å…¥CSç•¶Pié›¢é–‹CSå¾Œï¼Œæœƒå°‡P(n+1)%nä¹‹waitingå€¼æ”¹ç‚ºFalseï¼Œè®“P(n+1)%né€²å…¥csï¼Œä¾æ­¤é¡æ¨ï¼ŒProcessæœƒä¾Pi,P(i+1)%n,P(i+2)%n\u0026hellip;P(i-1)%nFIFO é †åºä¾æ“šé€²å…¥CSï¼Œæ•…ä¸æœƒæœ‰Starvation\nSWAP(a,b)æŒ‡ä»¤  å®šç¾©ï¼šæ­¤CPUæŒ‡ä»¤æ˜¯å°‡a,bå…©å€¼äº’æ›ï¼Œä¸”CPUä¿è­‰å®ƒæ˜¯==Atomically executed==  è‹¥ä»¥Cèªè¨€æè¿°ï¼ŒåŠŸèƒ½å¦‚ä¸‹ï¼š\n1 2 3 4 5  void swap(int *a, int *b){ int temp = *a; *a = *b; *b = temp; }    ç”¨åœ¨C.S designä¸Š  [algo1]ï¼šï¼¸\nå…±äº«è®Šæ•¸å¦‚ä¸‹\nLockï¼šboolean=False;\nå€åŸŸè®Šæ•¸å¦‚ä¸‹ï¼š\nkeyï¼šboolean\n1 2 3 4 5 6 7 8 9  repeat; key=True; {repeat; swap(Lock,key); utill(key==False)} ; //æˆç«‹æ‰é›¢é–‹ C.S Lock=False; R.S until False;   åˆ†æï¼š\n[Algo1]åŒTest-and-Set\nMutual Exclustion= ok\nprogress= ok\nBounded waiting= Noï¼Œåªæœ‰è¨­æˆFalesè€Œå·²ï¼Œé‚„æ˜¯ç„¡æ³•é¿å…ç„¡é™ç­‰å¾…\n[Algo2] æ­£ç¢ºçš„\nå°‡Test-and-setçš„[algo2]ä¸­\n1 2 3 4 5 6 7 8  ... while(...){ // key=test-and-set(Lock); swap(Lock,key); //æ”¹æˆé€™æ¨£å³å¯ } ...   ç¶œåˆç·´ç¿’\nåœ¨Test-and-set[Algo2]ä¸­\n1 2 3 4 5  while(waiting[i] and key){ key = Test-and-Set(Lock); } waiting[i] = False; //Piä¸ç”¨ç­‰äº†ï¼Œå¯é€²å…¥CS CS   è‹¥æŠŠwaiting[i] = False; é€™è¡Œåˆªæ‰ï¼Œæ­¤è¡Œremovedæ˜¯å¦æ­£ç¢º?explain in details\nAns.\né•åProgressï¼Œä¸æƒ³é€²å…¥çš„progressåƒèˆ‡æ±ºç­–ï¼Œä¸¦ä¸”æœƒç™¼ç”Ÿæ­»çµï¼Œå…©ä»¶äº‹æƒ…éƒ½æœƒç™¼ç”Ÿ\nSemaphore(è™ŸèªŒ) è£½ä½œSemaphoreçš„ç›®çš„å°±æ˜¯ç‚ºäº†ç¢ºä¿ ï¼Œè™ŸèªŒçš„å€¼ä¸æœƒRace Condition\nå­¸ç¿’åœ°åœ–\n å®šç¾©\næ‡‰ç”¨\n CS Design (è‡¨ç•Œå€é–“è¨­è¨ˆ)\nsynchronization problem solution(è§£æ±ºåŒæ­¥å•é¡Œ)\n ç¨®é¡\n Binary semaphore vs counting semaphore\nspinlock semaphore vs non-busy waiting semaphore\n    å®šç¾©ï¼šä»¤ï¼³ç‚ºSemaphore typeè®Šæ•¸ï¼Œæ¶æ§‹åœ¨integer typeé‡å°Sï¼Œæä¾›å…©å€‹Atomica operations\n wait(S)æˆ–P(S) å› ç‚ºæ˜¯è·è˜­äººï¼Œæ‰€ä»¥ç”¨è·è˜­å‘½å signal(S)æˆ–V(S) å› ç‚ºæ˜¯è·è˜­äººï¼Œæ‰€ä»¥ç”¨è·è˜­å‘½å  å®šç¾©å¦‚ä¸‹\n  wait(S)ï¼š ==è‹¥Sç‚º0å‰‡å¡ä½ï¼Œè‹¥Sä¸ç‚º0å‰‡é€šé==\n1 2 3  while(Sâ‰¦ï¼){do no-op;} //è‹¥semaphoreçš„å€¼ç‚º0ï¼Œå‰‡å¡åœ¨é€™é‚Š S=S-1; //é€€å‡ºå¾Œsemaphoreå€¼-1   signal(S)ï¼š 1  S=S+1;   noteï¼šå› ç‚ºAtomical, æ‰€ä»¥Sä¸æœƒæœ‰race condition\n æ‡‰ç”¨ï¼šä¸»è¦ç”¨åœ¨CS Designï¼ŒåŠåŒæ­¥å•é¡Œä¹‹è§£æ±º  CS Designä½¿ç”¨å¦‚ä¸‹   å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\nmutexå¸¸è¦‹çš„è®Šæ•¸åç¨±ï¼Œä»£è¡¨mutual exclustionçš„æ„æ€ï¼šsemaphore= 1; //åˆå€¼ç‚º1\n  Piç¨‹å¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6  repeat : wait(mutex); C.S signal(mutex); RS untill False;      Pi Pj     T1ï¼šwait(mutex);\nå› ç‚ºmutex = 1\næ‰€ä»¥Piå¯ä»¥é›¢é–‹whileï¼Œthen,mutexå€¼åœ¨æ¸›1è®Š0ï¼Œthen Pié€²å…¥CS T2ï¼šwait(mutex)ï¼Œå› ç‚ºæ­¤æ™‚mutex=0ï¼Œé€™æ™‚å€™Pjæœƒå¡ä½ã€‚ç¬¦åˆMutual exclustion\nProgressä¹Ÿç¬¦åˆ\nBounded waitingä¹Ÿç¬¦åˆ      è§£æ±ºç°¡å–®çš„Synchronization problem â€‹\tä½•è¬‚Synchronization? Processå› ç‚ºæŸäº›äº‹ä»¶ç™¼ç”Ÿ(oræœªç™¼ç”Ÿ)è€Œè¢«è¿«ç­‰å¾…ï¼Œç„¡æ³•å¾€ä¸‹åŸ·è¡Œï¼Œç›´åˆ°å…¶ä»–Processes do somethingæ‰å¾—ä»¥å¾€ä¸‹\nç¯„ä¾‹1ï¼š\n   Pi Pj     \u0026hellip; \u0026hellip;   A; B;   \u0026hellip; \u0026hellip;    è¦å®šï¼šAå¿…é ˆåœ¨Bä¹‹å‰åŸ·è¡Œï¼Œè©¦ç”¨Semaphoreé”åˆ°æ­¤éœ€æ±‚\nAns. å®£å‘Šä¸€å…±äº«è®Šæ•¸\nS= Semaphore=0;    Pi Pj     \u0026hellip; \u0026hellip;   A;\nsignal(S); wait(S);\nB;   \u0026hellip; \u0026hellip;    ==Noteï¼šsemaphoreçš„åˆå€¼æ˜¯å…·æœ‰æŸäº›æ„ç¾©çš„ï¼Œä¸¦ä¸”åˆå€¼ä¸ä¸€å®šè¦æ˜¯ï¼æˆ–ï¼‘ï¼Œå…¶å¯¦éƒ½å¯ä»¥ï¼Œåªæ˜¯éƒ½ç”¨ï¼è·Ÿï¼‘åšèˆ‰ä¾‹==\n åˆå€¼ç‚º1ï¼šç”¨ä½œäº’æ–¥æ§åˆ¶ åˆå€¼ç‚º0ï¼šç”¨ä½œå¼·è¿«ç­‰å¾…  ä¾‹2ï¼š\nS1ï¼šSemaphore= 0;\nS2ï¼šSemaphore= 0;\nè¦å®šåŸ·è¡Œé †åºç‚ºA -\u0026gt; C -\u0026gt; B è©²å¦‚ä½•å®Œæˆ?\nAnsï¼š\n   Pi Pj Pk      wait(s2) wait(s1)   A B; C;   signal(s1)  signal(s2)    Ex2ï¼šå¸Œæœ›é”æˆ A,B,C,A,B,C,A,B,C repeatly execuction\næ‰¿ä¸Šæ€§è³ªï¼ŒS1,S2 semaphore=0;S3 semaphore=1\n   Pi Pj Pk     wait(s3) wait(s1) wait(s2)   A; B; C;   signal(s1) signal(s2) signal(s3)    Ex3ï¼šCæ˜¯å…±äº«è®Šæ•¸ï¼Œåˆå€¼ç‚º3ï¼Œè«‹å¯«å‡ºæœ€å¾ŒCçš„å€¼ç‚ºå¤šå°‘\n ç¬¬ä¸€å°é¡Œ     Pi Pj     C=C*2 C=C+1    7æˆ–8æˆ–4æˆ–6\n ç¬¬äºŒå°é¡Œ  s= semaphore=1\n   Pi Pj     wait(s) wait(s)   c=c*2 c=c+1   signal(s) singal(s)    7æˆ–8\n ç¬¬ä¸‰å°é¡Œ  s= semaphore = 0\n   Pi Pj      wait(s)   c=c*2 c=c+1   signal(s)     7\nEX4\nS1ï¼šSemaphore = 1;\nS2ï¼šSemaphore = 0;\næ±‚ABCå¯èƒ½åŸ·è¡Œé †åº\n   Pi Pj Pk     wait(s1) wait(s2) wait(s1)   A; B; C;   signal(s2) signal(s1) signal(s1)    Ansï¼šæŠŠä¸å¯èƒ½çš„åˆªé™¤å°±å¥½\nABC,\nACB,\nBAC,\nBCA,\nCAB,\nCBA\nsemaphoreä¹‹èª¤ç”¨æ‰€é€ æˆä¹‹å•é¡Œ é•åäº’æ–¥ã€å½¢æˆæ­»çµ\nä¾‹1\ns= Semaphore=1\n   Pi     singal(s)   CS   Wait(s)    \u0026mdash;\u0026gt; é•åmutual exclusion\nä¾‹2\ns= semaphore = 2\n   Pi     wait(s)   cs   wait(s)   rs    \u0026mdash;\u0026gt; å½¢æˆæ­»çµ\nä¾‹3\nS1,S2 = Semaphore = 1;\n   Pi Pj     T1:wait(s1) T2:wait(s2)   T3:wait(s2) T4:wait(s1)   \u0026hellip; \u0026hellip;   signal(s1) signal(s2)   signal(s2) signal(s1)    å¯èƒ½å½¢æˆdeadlockï¼Œå¦‚æœPiï¼ŒPjä¾ç…§T1~T4ä¹‹é †åºäº¤éŒ¯åŸ·è¡Œ\nè‘—åçš„Synchronization Problemä¹‹è§£æ±º æƒ³çœ‹çœ‹ä½•æ™‚æœƒåœä¸‹ä¾†\nProducer-Consumer Problem(ç”Ÿç”¢è€…æ¶ˆè²»è€…å•é¡Œ) Producerï¼šæ­¤processå°ˆé–€ç”¢ç”Ÿè³‡è¨Šä¾›åˆ¥äººä½¿ç”¨\nConsumerï¼šæ­¤processå°ˆé–€æ¶ˆè€—åˆ¥äººç”¢ç”Ÿçš„æˆæœ\nåœ¨sharrd memoryæºé€šæ–¹å¼åº•ä¸‹ï¼Œæœƒæº–å‚™ä¸€å€‹buffer\nç´°åˆ†ç‚ºå…©å€‹é¡å‹çš„å•é¡Œ\n  Bounded Buffer Producer-Consumer(Bufferæœ‰é™)\næœ‰å…©å€‹æƒ…æ³æœƒè¢«è¿«ç­‰å¾…\n ç•¶Bufferæ»¿äº†ï¼ŒProducerè¢«è¿«ç­‰å¾… ç•¶Bufferç©ºäº†ï¼ŒConsumerè¢«è¿«ç­‰å¾…    Unbounded Buffer Producer-Consumer(Bufferç„¡é™)\n  algo1 å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\n  Buffer: [0..n-1] of items;\n  in,out: int = 0;\n  Producer ç¨‹å¼ï¼š\n1 2 3 4 5 6  repeat: produce an item in nextp; while((in+1)%n==out) {do noting}; //ç•¶bufferæ»¿çš„è©±ï¼Œå°±å¡åœ¨whileä¸­ Buffer[in] =nextp; in = (in+1)%n; until false;   Consumerç¨‹å¼ï¼š\n1 2 3 4 5 6 7  repeat while(in == out ){ do nothing} //bufferç‚ºç©º nextc= Buffer[out]; out=(out+1) % n; ... consumes the item in nextc; until false;   æ­¤æ™‚producer ç„¡æ³•åœ¨åŠ itemï¼Œå› ç‚º(in+1)%n == out, å³bufferå·²ç¶“æ»¿äº†ï¼Œå› æ­¤æœ€å¤šåˆ©ç”¨(n-1)æ ¼\nalgo2 å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\n  Buffer: [0..n-1] of items;\n  in,out: int = 0;\n  ==count:int =0==\n  é€™å€‹countå€¼æœ‰å¯èƒ½å°è‡´race conditionï¼Œå› æ­¤ä¸å®Œå…¨æ­£ç¢º\nProducer ç¨‹å¼ï¼š\n1 2 3 4 5 6 7  repeat: produce an item in nextp; while(count==n) {do noting}; //ç•¶bufferæ»¿çš„è©±ï¼Œå°±å¡åœ¨whileä¸­ Buffer[in] =nextp; in = (in+1)%n; count = count +1; until false;   Consumerç¨‹å¼ï¼š\n1 2 3 4 5 6 7 8  repeat while(count ==0 ){ do nothing} //bufferç‚ºç©º nextc= Buffer[out]; out=(out+1) % n; count = count -1; ... consumes the item in nextc; until false;   ç”¨semaphoreè§£producer-consumer problem å…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹ï¼š\n empty : semaphore = n . ä»£è¡¨bufferå…§ç©ºæ ¼æ•¸ï¼Œè‹¥ç©ºæ ¼æ•¸è®Šç‚º0ï¼Œä»£è¡¨æ»¿äº† full : semaphore=0. ä»£è¡¨bufferå€ä¸­ï¼Œå¡«å…¥itemä¹‹æ ¼æ•¸ï¼Œè‹¥ç‚º0ï¼Œè¡¨bufferç‚ºç©º mutexï¼šsemaphore=1; å°buffer, in , out , countåšäº’æ–¥æ§åˆ¶ï¼Œé˜²æ­¢race condition  semaphoreçš„è¨­è¨ˆå“²å­¸   æ»¿è¶³åŒæ­¥æ¢ä»¶ä¹‹è™ŸèªŒè®Šæ•¸empty, full äº’æ–¥æ§åˆ¶é˜²æ­¢race conditionä¹‹è™ŸèªŒ mutex å…ˆæ¸¬åŒæ­¥åœ¨æ¸¬äº’æ–¥ï¼Œä¸ç„¶æœƒé€ æˆæ­»çµ ==å…±äº«è®Šæ•¸å–å­˜ä¹‹å‰éƒ½éœ€è¦ç¶“éäº’æ–¥çš„è™•ç†==   producer\n1 2 3 4 5 6 7  repeat produce on item in nextp; wait(empty) ; //è‹¥ç„¡ç©ºæ ¼å‰‡Pè¢«è¿«ç­‰å¾… wait(mutex); add nextp into Bufffer; //æ¿ƒç¸®å¾ˆå¤šç¨‹å¼åœ¨é€™è¡Œè£¡é¢å–” signal(mutex); signal(full); //å¡«å…¥itemä¹‹æ ¼æ•¸åŠ 1ï¼Œmaybeæ‹¯æ•‘Consumer   consumer\n1 2 3 4 5 6  repeat wait(full); wait(mutex); remove item from Buffer in nextc signal(mutex); singal(empty)   Read/write Problem åŸºæœ¬çš„åŒæ­¥æ¢ä»¶\n Reader writeè¦äº’æ–¥ writer,writerä¹Ÿè¦äº’æ–¥  æ­¤å¤–ï¼Œé€™å•é¡Œå†ç´°åˆ†æˆå…©é¡\n  First read/writer problem\n-\u0026gt; å°Readeræœ‰åˆ©ï¼Œå°writerä¸åˆ©ï¼Œå› æ­¤writerå¯èƒ½starvation\n  Second read/writer problem\n-\u0026gt; å°writeræœ‰åˆ©ï¼Œå°readerä¸åˆ©ï¼Œå› æ­¤readerå¯èƒ½startvation\n  First Reader/Writer Problem ä½•è¬‚ã€Œå°Readeræœ‰åˆ©ï¼ŒWriterä¸åˆ©ã€?\nåªè¦æœ‰æºæºä¸çµ•çš„Readerï¼Œå‰‡W1å¯èƒ½Starvation\nå…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹ï¼š\n  wrtï¼šsemaphore =1\n æä¾›R/W åŠ W/Wäº’æ–¥æ§åˆ¶ï¼Œä¸¦å…¼å·®å°Writerä¸åˆ©çš„æ§åˆ¶\n   readcntï¼šint = 0;\n çµ±è¨ˆReaderå€‹æ•¸ï¼Œç›´åˆ°æ²’æœ‰Readerï¼Œæ‰å¯ä»¥æ”¾writeré€²å»\nReaderåˆ°-\u0026gt;Readcnt +1\nReaderèµ° -\u0026gt;Readcnt -1\n   mutexï¼šsemaphore=1\n ç”±æ–¼readcntæ˜¯ä¸€å…±äº«è®Šæ•¸ï¼Œæœƒæœ‰Race Conditionä¹‹å•é¡Œï¼Œæ•…éœ€é¡å¤–å®£å‘Šä¸€è®Šæ•¸Mutexåšäº’æ–¥æ§åˆ¶\n   ç¨‹å¼ï¼š\n   writer reader     \u0026hellip;\nwait(wrt)\nåŸ·è¡Œå¯«å…¥ä½œæ¥­\nsignal(wrt)\n\u0026hellip; \u0026hellip;\nwait(mutex) ;\nreadcnt = readcnt +1\nif(readcnt==1)ä»£è¡¨ä½ æ˜¯ç¬¬ä¸€å€‹Reader then wait(wrt)è¦å»åµæ¸¬æ˜¯å¦æœ‰writerå­˜åœ¨ã€‚è‹¥æœ‰å‰‡å¡ä½ï¼Œè‹¥ç„¡å‰‡é€šéï¼Œä¹Ÿé †ä¾¿å¡ä½writer\nsignal(mutex);\nåŸ·è¡Œreadingå·¥ä½œ wait(mutex);\nreadcnt = readcnt -1 //readerèµ°ï¼Œreader-1\nif(readcnt=.=0) then signal(wrt) //No readerï¼Œæ”¾writeré€²å»\nsingal(mutex)    ç·´ç¿’ï¼š\nè‹¥ç›®å‰W1å·²åœ¨å¯«å…¥ä¸­\n R1åˆ°ï¼Œå‰‡R1æœƒå¡åœ¨wrt è£¡ï¼Œæ­¤æ™‚readcnt=1 R2åˆåˆ°ï¼Œå‰‡R2æœƒå¡åœ¨mutexï¼Œæ­¤æ™‚readcnt=1 R3åˆ°ï¼Œå‰‡R3æœƒå¡åœ¨mutexï¼Œæ­¤æ™‚readcnt=1  Second Reader/ writer problem ä½•è¬‚å°Writer æœ‰åˆ©ï¼Œå°Readerä¸åˆ©\nT6ï¼šw1é›¢é–‹ï¼Œå„ªå…ˆæ”¾W2è¿‘ä¾†(ä¸¦éR1)\nT7ï¼šw2é›¢é–‹ï¼Œå„ªå…ˆæ”¾W2è¿‘ä¾†(ä¸¦éR1)\n\u0026hellip;(ä»¥æ­¤é¡æ¨)\nåªè¦Writeré›¢é–‹ï¼Œç™¼ç¾å°šæœ‰waiting writeråœ¨ï¼Œé‚£å°±æœƒå„ªå…ˆæ”¾writerè¿‘ä¾†ï¼Œæ‰€ä»¥R1æœ‰å¯èƒ½Startvation\nå…±äº«è®Šæ•¸ä¹‹å®£å‘Š\n  readcntï¼šint=0 ï¼šçµ±è¨ˆreaderå€‹æ•¸\n  wrtcndï¼šint=0ï¼šçµ±è¨ˆwriterå€‹æ•¸\n  xï¼šsemaphoreï¼šï¼‘ã€€//ç”¨ä¾†å°readcntåšäº’æ–¥æ§åˆ¶ï¼Œé˜²æ­¢race condition\n  yï¼šsemaphoreï¼šï¼‘ //ç”¨ä¾†å°wrtcndåšäº’æ–¥æ§åˆ¶ï¼Œé˜²æ­¢race condition\n  zï¼šsemaphoreï¼šï¼‘ã€€//æœ‰çš„ç‰ˆæœ¬æœƒæœ‰ï¼Œæœ‰çš„ç‰ˆæœ¬ä¸æœƒæœ‰ã€‚ä½œç‚ºå°readerä¹‹å…¥å£æ§åˆ¶(è®“å®ƒå¡å¤šä¸€äº›é—œå¡ï¼Œè®“reader slower)\n  rsemï¼šsemaphore=1ã€€//ä½œç‚ºå°readerä¸åˆ©ä¹‹æ§åˆ¶\n  wsemï¼šsemephore=1 //æä¾›R/WåŠW/Wäº’æ–¥æ§åˆ¶\n  ç¨‹å¼ï¼š\n   writer reaeder(ä»¥First readerç¨‹å¼ç‚ºä¸»ï¼Œå†åŠ å…¥æ§åˆ¶)     wait(y)\nwrtcnt = wrtcnt+1;\nif(wrtcnt==1) then(wait(rsem)) //ç¬¬ä¸€å€‹writer ï¼Œè¦è² è²¬ç¯‰èµ·å°readerä¸åˆ©ä¹‹æ§åˆ¶\nsignal(y);\nwait(wsem) //\nåŸ·è¡Œwritingå·¥ä½œ\nwait(y)\nwrtcnt = wrtcnt-1\nif(wrtcnt==0) then signal(resm) //è§£é™¤å°readerä¸åˆ©ä¹‹æ§åˆ¶\nsignal(wsem) //è§£é™¤ R/W W/Wäº’æ–¥\nsignal(y) wait(z)\nwait(rsem) //é€šéå°readerä¸åˆ©ä¹‹æ§åˆ¶?\nwait(x)\nreadcnt = readcnt +1;\nif(readcnt ==1) then wait(wsem) //R/Wäº’æ–¥\nsignal(x)\nsignal(rsem)\nsignal(z)\n(åŸ·è¡Œreadingå·¥ä½œ)\nwait(x);\nreadcnt = readcnt -1\nif(readcnt ==0) then signal(wsem) //è§£é™¤R/Wäº’æ–¥\nsignal(x)    The Sleeping Barbers Problem æè¿°ï¼šæœ‰ä¸€å€‹barberï¼Œä¸€å¼µBarberChairï¼Œnå¼µwaitingChairã€‚ä¸¦ä¸”æœ‰å®¢äººã€‚\nå®¢äººçš„è¡Œç‚ºå¦‚ä¸‹\n waiting chairs åæ»¿(nå€‹ç­‰å¾…å®¢äºº)ï¼šä¸å…¥åº—\nwaiting chairs å°šæœªåæ»¿ï¼šå…¥åº—å…§ï¼Œååœ¨waitingChairï¼Œé€šçŸ¥(å–šé†’)barber\nå®¢äººç¡è¦º(wait) if barber is busy now\u0026hellip; ç›´åˆ°Barberå«ä»–èµ·åºŠå‰ªé«®ï¼Œå‰ªå®Œé«®Exit\n ç†é«®å¸«çš„è¡Œç‚ºå¦‚ä¸‹\n ç¡è¦º if no å®¢äºº\nç›´åˆ°æœ‰å®¢äººå–šé†’(é€šçŸ¥)ä»–\nå«é†’å®¢äººå‰ªé«®\nå‰ªå®Œé«®å¾Œå¦‚æœé‚„æœ‰å®¢äººï¼Œå‰‡å«é†’å®¢äººå‰ªé«®\nå‰ªå®Œé«®å¾Œå¦‚æœæ²’æœ‰å®¢äººï¼Œå‰‡ç¹¼çºŒç¡ï¼Œç¹¼çºŒæ°´æ™‚é–“\n å…±äº«è®Šæ•¸å®£å‘Šï¼š ==å…±äº«è®Šæ•¸å–å­˜ä¹‹å‰éƒ½éœ€è¦ç¶“éäº’æ–¥çš„è™•ç†==\n Customerï¼šsemaphore=0 ï¼šç”¨ä¾†å¡ä½ç†é«®å¸« if no å®¢äºº Barberï¼šsemaphore=0ï¼šç”¨ä¾†å¡ä½å®¢äººçš„ if Barber is busy waitingï¼šint=0 // ååœ¨ç­‰å¾…æ¤…ä¸Šçš„å®¢äººæ•¸ç›®ã€‚ä½•æ™‚+1?ä½•æ™‚-1?å®¢äººå…¥åº—ï¼Œåä¸Šæ¤…å­ã€‚Barberå«å®¢äººèµ·ä¾†å‰ªé«®ï¼Œæœƒæœ‰race conditionçš„å•é¡Œ mutexï¼šsemaphore=1 //é˜²æ­¢waitingå€¼race condition  ç¨‹å¼ï¼š\n   Barber Customer     repeat\nwait((Customer))\nwait(mutex)\nwaiting = waiting -1;\nsignal(Barber)\nsignal(mutex)\nå‰ªå®¢äººé ­é«®();\nuntil False wait(mutex);\nif(waitng\u0026lt;n){waiting=waiting+1;\nsignal(Customer) //å«é†’ã€é€šçŸ¥barber\nsignal(mutex);\nwait(barber);\nè¢«ç†é«®()\n}else{ signal(mutex)}    å®¢äººæ˜¯æ²’æœ‰repear \u0026hellip; until false        The Dining-Philosophers Problems æè¿°\næ³¨æ„ï¼š1. åƒä¸­é¤ï¼šå¥‡æ•¸ã€å¶æ•¸å“²å­¸å®¶çš†å¯\n2. åƒè¥¿é¤ï¼šå¶æ•¸ä½æ‰å¯ä»¥ï¼ˆåˆ€å‰ä¸€å‰¯\nå…±äº«è®Šæ•¸ä¹‹å®£å‘Š\nchopstickï¼š[0,1,2,3,4] of semaphoreï¼›åˆå€¼çš†ç‚º1ï¼Œå°5æ ¹ç­·å­åšäº’æ–¥æ§åˆ¶ã€‚\niè™Ÿå“²å­¸å®¶(i=0~4)å“²å­¸å®¶Piä¹‹ç‹€æ³(é€™ç¨‹å¼æ˜¯æœ‰å•é¡Œçš„)\n1 2 3 4 5 6 7 8  repeat... hugry now; wait(chopstick[i]); wait(chopstick[(i+1)%5]) eating now; signal(chopstick[i]); signal(chopstick[(i+1)%5]); think now;   æ­¤Solutionæœ‰å•é¡Œï¼Œå¯èƒ½æœƒå½¢æˆDeadlock!!\nè‹¥æ¯ä½å“²å­¸å®¶éƒ½æ‹¿èµ·è‡ªå·±å·¦é‚Šçš„ç­·å­ï¼Œå‰‡æ¯ä½å“²å­¸å®¶éƒ½å¡ä½ï¼Œçš†ç„¡æ³•å–å¾—å³ç­·ï¼Œå½¢æˆcircular waiting\nè§£æ³•ä¸€\nä¸€æ¬¡æœ€å¤šè®“4ä½å“²å­¸å®¶ä¸Šæ¡Œ\nm=5æ ¹,Maxi=2\n  1â‰¦Maxiâ‰¦mæˆç«‹\n  $$ \\sum_{i=1}^nMaxi \u0026lt; n+m,å› æ­¤2n\u0026lt;n+5, n\u0026lt;5ã€‚æœ€å¤š4ä½ $$\n  ä¿è­‰DeadLock Free-\u0026gt; å¯é¡å¤–åŠ å…¥å¦ä¸€å€‹è™ŸèªŒ No:semaphore=4ï¼Œåšå…¥å£æ§åˆ¶\n1 2 3 4 5 6 7 8 9  repeat... wait(No); hugry now; wait(chopstick[i]); wait(chopstick[(i+1)%5]) eating now; signal(chopstick[i]); signal(chopstick[(i+1)%5]); think now;   è§£æ³•äºŒ\né™¤éå“²å­¸å®¶å¯åŒæ™‚å–å¾—å·¦å³å…©é‚Šç­·å­ï¼Œæ‰å‡†è¨±æŒæœ‰ç­·å­ï¼Œå¦å‰‡ä¸å¾—æŒæœ‰ä»»ä½•ç­·å­ã€‚å¦å‰‡ä¸å¾—æŒæœ‰ä»»ä½•ç­·å­\nç ´é™¤Hold\u0026amp;wait æ¢ä»¶\nè§£æ³•ä¸‰\nç›¸é„°å“²å­¸å®¶ä¹‹å–ç­·é †åºä¸åŒï¼Œå‰µé€ Asymmetric modeï¼Œä¾‹å¦‚ï¼š\n   å¥‡æ•¸è™Ÿ å¶æ•¸è™Ÿ     å…ˆå–å·¦ï¼Œå†å–å³ å…ˆå–å³ï¼Œå†å–å·¦    ç ´é™¤Circular waitingæ¢ä»¶\nNoteï¼šç­‰åŒæ–¼è¥¿é¤ï¼Œå¤§å®¶è¦å®šï¼šå…ˆå–åˆ€å†å–å‰\ncigarette smokers problem å¾ˆå°‘è€ƒï¼Œå¾50å¹´å‰å°±æ²’è€ƒéäº†ã€‚Pass\nSemaphoreä¹‹ç¨®é¡ åˆ†é¡ä¸€ï¼šè™ŸèªŒå€¼åŸŸåšå€åˆ† Binary(äºŒå…ƒ) Semaphore Vs Counting(è¨ˆæ•¸) semaphore\n Binary Semaphore  å®šç¾©ï¼šSemaphoreä¹‹å€¼åªæœ‰0,èˆ‡1å…©ç¨®(C.S Designæ­£å¸¸ä½¿ç”¨ä¸‹)ä¸å¯ç‚ºè² å€¼ï¼Œç„¡æ³•çµ±è¨ˆæœ‰å¤šå°‘å€‹Processå¡åœ¨waitä¸­\nSï¼šBinary-Semaphore=1;\n1 2 3 4  Wait(S)ï¼š While)(Sâ‰¦0) {do no-op} S=S-1   1 2 3  Signal(S){ S=S+1; }   Counting Semaphore  å®šç¾©ï¼šSemaphoreå€¼ä¸é™æ–¼0,1 å¯ä»¥ç‚ºè² å€¼ï¼Œä¸”è‹¥å€¼ç‚º-Nï¼Œå¯çŸ¥é“(çµ±è¨ˆå‡º)æœ‰Nå€‹processeså¡åœ¨waitä¸­\nç¯„ä¾‹1.\nè«‹ç”¨Binary Semaphoreå®šç¾©å‡ºCounting Semaphoreã€‚\nå…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹\n Cï¼šint //ä»£è¡¨ Counting Semaphoreè™ŸèªŒå€¼ S1ï¼šBinary-Semaphore=1 å°Cä½œäº’æ–¥æ§åˆ¶ï¼Œé˜²æ­¢Cå€¼race Condition S2ï¼šBinary-Semaphore=0 ï¼Œç•¶Cå€¼\u0026lt;0ï¼Œå¼·è¿«Processæš«åœä¹‹ç”¨  ç¨‹å¼ï¼š\n1 2 3 4 5 6 7 8  wait(C)ï¼š wait(S1); C=C-1; if(c\u0026lt;0) then { signal(S1); wait(S2); //processè‡ªå·±å¡ä½  }else signal(S1)   1 2 3 4 5  Signal(C)ï¼š wait(S1); C=C+1; if(câ‰¦0) then Singal(S2); //æ•‘process \tsignal(s1)   Demoå¦‚ä¸‹\n1 2 3 4 5  Cï¼šCounting semaphore= 1 wait(C); C.S // è‡¨ç•Œå€é–“ Singal(C) R.S   åˆ†é¡äºŒï¼šæ˜¯å¦æ¡ç”¨Busy-waiting(Spinlock)æŠ€å·§ä¾†å®šç¾©Semaphore Spinlock Vs Non-Busy-waiting Semaphore\nSpinlock\nå®šç¾©ï¼šä»¤ï¼³ç‚ºSemaphoreè®Šæ•¸ï¼Œè€Œ\n  wait(S)ï¼š\nå®šç¾©ï¼š\n1 2  while(Sâ‰¦0){do no-op} //æ¡ç”¨Busy-waiting Skill S=S-1     Signal(S)ï¼š\nå®šç¾©ï¼š\n1  ï¼³=S+1;     å„ªç¼ºé»ï¼šåƒé–±å‰è¿°Busy-waitingå…§å®¹\nNon-Busy waiting semaphore\nå®šç¾©ï¼šSemaphore typeå®šç¾©å¦‚ä¸‹\n1 2 3 4  Struct semaphore{ int value; //è™ŸèªŒå€¼  Queue Q ; // FIFO Queue }   ä»¤Sç‚ºSemaphoreè®Šæ•¸ï¼Œå‰‡\n1 2 3 4 5 6  Wait(S)ï¼š S.value = S.value-1; if(S.value \u0026lt;0 ) then{ add process P into S.Q; Block(P); // Pä¹‹ç‹€æ…‹æ”¹ç‚ºblock state  }   1 2 3 4 5 6  Signal(S)ï¼š S.value = S.value+1; if(S.value â‰¦ï¼)then{ remove a process form S.Q wakeup(P) //å°‡Pæ”¹ç‚ºready state  }   Noteï¼šæ­¤è™ŸèªŒä¹Ÿæ˜¯ä¸€å€‹Counting Semaphore\nè£½ä½œSemaphore using\n Disable interrupt Software solution or Hardware instructions support  ä½•è¬‚è£½ä½œSemaphore?\nå³æ˜¯å¦‚ä½•ä¿è­‰Semaphoreå€¼ä¸æœƒRace Condition(or å¦‚ä½•ç¢ºä¿waitèˆ‡singalæ˜¯Atomic operation?)\nè£½ä½œSemaphoreçš„ç›®çš„å°±æ˜¯ç‚ºäº†ç¢ºä¿ ï¼Œè™ŸèªŒçš„å€¼ä¸æœƒRace Condition\n   è£½ä½œæ–¹å¼|è™ŸèªŒå®šç¾© Non-Busy waiting Semaphore Spinlock Semaphore     Disable Interrupt [Algo1] [Algo3]   C.S Design(åŸºç¤)\nsoftware Solution\nç¡¬é«”æŒ‡ä»¤ [Algo2] [Algo4]    Algo1 1 2 3 4 5 6 7 8 9  wait(s)ï¼š Disable interrupt; S.value = S.value -1; if(S.value\u0026lt;0) then{ Enable Interrupt(); //åœ¨é€™é‚Šæ‰“é–‹ä¸­æ–·ï¼Œè€Œä¸æ˜¯åœ¨ifä¹‹å¤–ï¼Œé¿å…Block(p)ä¹‹å¾Œï¼Œå› ç‚ºDisable Interruptè€Œç„¡æ³•é‡‹æ”¾CPU  add process P into S.Q; block(p); }   Algo2 å°‡[Algo1]ä¸­çš„Disable Interrupt æ›æˆ Enter Sectionï¼ŒEnable Interruptæ”¹æˆExit Sectionã€‚\nEnter Sectionèˆ‡Exit Sectionä¹‹æ§åˆ¶ç¢¼æ‰¾å€‹åœ°æ–¹å¯«å‡ºä¾†ã€‚å–æ±ºæ–¼é¡Œç›®æ•™ä½ ç”¨Software Solution(Bakery\u0026rsquo;Algo) or Hardware Instrution(Test-and-set or Swapçš„Algo[2]æˆ–Algo[1]æ™‚é–“ä¸å¤ å°±å¯«é€™å€‹ï¼Œä½†é€™å¥½åƒä¸ç¬¦åˆä»€éº¼Bound waité‚„æ˜¯ä»€éº¼é¬¼çš„)\nAlgo3 1 2 3 4 5 6  wait(s)ï¼šwhile(Sâ‰¦ï¼){ Enable Interrupt; no-op; Disble Interrupt } S=S-1   1  Signal(S)ï¼šS=S+1   Algo4 å°‡[Algo3]ä¸­çš„Disable Interrupt æ›æˆ Enter Sectionï¼ŒEnable Interruptæ”¹æˆExit Sectionã€‚\nEnter Sectionèˆ‡Exit Sectionä¹‹æ§åˆ¶ç¢¼æ‰¾å€‹åœ°æ–¹å¯«å‡ºä¾†ã€‚å–æ±ºæ–¼é¡Œç›®æ•™ä½ ç”¨Software Solution(Bakery\u0026rsquo;Algo) or Hardware Instrution(Test-and-set or Swapçš„Algo[2]æˆ–Algo[1]æ™‚é–“ä¸å¤ å°±å¯«é€™å€‹ï¼Œä½†é€™å¥½åƒä¸ç¬¦åˆä»€éº¼Bound waité‚„æ˜¯ä»€éº¼é¬¼çš„)\nBusy-waitingæ˜¯å¦å¯ä»¥å®Œå…¨é¿å…ä¹‹(avoid altogether) Ans. No, ç„¡æ³•å®Œå…¨é¿å…ï¼Œä»¥Semaphoreç‚ºä¾‹\nMonitor  å®šç¾©ã€çµ„æˆ\nç‰¹æ€§(å„ªé»)\nCondition è®Šæ•¸ä½¿ç”¨\nè§£åŒæ­¥å•é¡Œ\nConditional Monitor\nç¨®é¡(3ç¨®)\nç”¨semaphore Monitor\n å®šç¾©ï¼šï¼­onitoræ˜¯ä¸€å€‹ç”¨ä¾†è§£æ±ºåŒæ­¥å•é¡Œçš„é«˜éšçµæ§‹classï¼Œæ˜¯ä¸€ç¨®ADT(abstract data type)ï¼ŒMonitorä¹‹å®šç¾©ï¼Œä¸»è¦æœ‰3å€‹\nçµ„æˆï¼š\n å…±äº«è®Šæ•¸å®£å‘Šå€ ä¸€çµ„local function(or procedures) Initialization area(åˆå§‹å€)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  public Class MonitorName{ //å…±äº«è®Šæ•¸å®£å‘Š  procedure entry function1(åƒæ•¸){ begin Body; end } procedure entry functionX(åƒæ•¸){ begin; Body; end; } begin; åˆå§‹å€ end; }   ç‰¹æ€§(å„ªé»)ï¼š\nMonitoræœ¬èº«å·²ä¿è­‰äº’æ–¥(Mutual excluesive)å³ä»»ä½•æ™‚é–“é»æœ€å¤šåªå…è¨±ï¼Œ1å€‹Processåœ¨Monitorå…§æ´»å‹•(Active)ï¼Œä¹Ÿå°±æ˜¯èªªï¼šåœ¨ä»»ä½•æ™‚é–“é»ï¼Œæœ€å¤šåªå…è¨±ä¸€å€‹1å€‹Processå‘¼å«(calling)monitorçš„æŸå€‹function(æˆ–procedure)åŸ·è¡Œä¸­ï¼Œä¸å¯ä»¥æœ‰å¤šå€‹processesåŒæ™‚å‘¼å«monitorçš„functions\n æ­¤ä¸€äº’æ–¥æ€§è³ªå¸¶ä¾†ä½•ç¨®å¥½è™•ï¼Ÿ\n å› ç‚ºå…±äº«è®Šæ•¸å€ä¹‹å…±äº«è®Šæ•¸åªèƒ½è¢«monitorçš„local functionç›´æ¥å­˜å–ï¼Œå¤–ç•Œä¸èƒ½ç›´æ¥å­˜å–ï¼Œå¤–ç•Œ(process)åªèƒ½é€éå‘¼å«Monitorçš„Local Functionä¾†å­˜å–å…±äº«è®Šæ•¸ï¼Œè€ŒMonitorä¿éšœäº’æ–¥ï¼Œå› æ­¤ä¿éšœäº†å…±äº«è®Šæ•¸ä¸æœƒç™¼ç”ŸRace Conditionï¼Œæ‰€ä»¥Programmeræ¯‹é ˆç…©æƒ±Race Condition problem (ä¸ç”¨æ’°å¯«é¡å¤–çš„Codeï¼Œæˆ–æ˜¯ä½¿ç”¨Mutex semaphore)ï¼Œåªéœ€å°ˆå¿ƒè™•ç†åŒæ­¥å•é¡Œå³å¯ã€‚æ­¤é»å„ªæ–¼Semaphore\nQuestionï¼šSemaphore æ¯” Monitorå®¹æ˜“ä½¿ç”¨ when solving synchronization problem\nAnsï¼šFalseï¼Œåƒç…§å¦‚ä¸Šã€‚ä¸¦ä¸”semaphoreä¸€å¤šï¼Œå®¹æ˜“ç”¢ç”ŸDeadloc\nCondition Type å®šç¾©ï¼šCondition å‹åˆ¥æ˜¯ç”¨Monitorä¸­ï¼Œæä¾›çµ¦Programmerè§£æ±ºåŒæ­¥å•é¡Œä¹‹ç”¨ï¼Œä»¤xæ˜¯Condition Typeè®Šæ•¸ï¼Œåœ¨Xä¸Šæä¾›å…©å€‹operationsï¼š\nx.wait åŠ x.signal\n x.waitï¼šåŸ·è¡Œæ­¤é‹ä½œçš„processæœƒè¢«Blockedä¸”ç½®å…¥Monitorå…§xæ‰€å±¬çš„waiting queueä¸­(é è¨­æ˜¯FIFO) x.signalï¼šå¦‚æœå…ˆå‰æœ‰Processeså¡åœ¨xçš„waiting queueä¸­ï¼Œå‰‡æ­¤é‹ä½œæœƒè‡ªæ­¤waiting queueä¸­ç§»èµ°ä¸€å€‹processä¸”æ¢å¾©(resume)å…¶åŸ·è¡Œï¼Œå¦å‰‡ç„¡ä»»ä½•ä½œç”¨  ä½¿ç”¨Monitorè§£æ±º The dining-philosophers Problem å…ˆå®šç¾©æ‰€éœ€çš„Monitor ADT Type\nDining-philosophers = Monitor\nVar\n State[0..4] of {thinking, hungry, eating} self[0..4] of condition;  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  procedure entry pickup(i : 0...4){ //æ‹¿èµ·ç­·å­  begin: state[i] = hungry; test(i); if(state[i]â‰ eating) then self[i].wait; // Piè‡ªå·±å¡ä½ } procedure test(k:0...4){ //æ¸¬è©¦  begin: if(state[(k+4)%5]â‰ eating and state[k]==hungry and state[(k+1)%5]â‰ eating) then{ state[k]= eating; self[k].signal } } procedure entry putdown(i: 0..4){ // åƒé£½äº†æ”¾ä¸‹ç­·å­  begin state[i]= thinking; test((i+4)%5); test((i+1)%5); end begin for(i=0;i â‰¦4 ; i++){ state[i]= thinking; } end }    ä½¿ç”¨æ–¹å¼  å…±äº«è®Šæ•¸å®£å‘Šï¼š\n1  dp`è®Šæ•¸åç¨±`ï¼šDining-ph`Monitor type`   Pi (iè™Ÿå“²å­¸å®¶)\n1 2 3 4 5 6 7  repeat hungry now; dp.pickup(i); //åœ¨Monitorä¸­ \teating; //ä¸åœ¨Mnitorä¸­ \tdp.putdown(i); //åœ¨Monitorä¸­ \tthinking; untill False;   Conditional Monitor   ç·£ç”±ï¼šconditionè®Šæ•¸ï¼Œeg. Xæ‰€é™„å±¬çš„waiting Queue, ä¸€èˆ¬çš†æ˜¯FIFO Queue (ç”šè‡³Monitorçš„Entry Quene ä¹Ÿæ˜¯FIFO,In general)ï¼Œå¯æ˜¯æˆ‘å€‘æœ‰æ™‚éœ€è¦Priority Queueï¼Œå„ªå…ˆç§»é™¤é«˜å„ªå…ˆæ¬Šçš„Processï¼Œæ¢å¾©åŸ·è¡Œæˆ–è®“å·²é€²å…¥Monitorå…§activeï¼Œæ­¤ç¨®monitorç¨±ä¹‹\n  èªæ³•æ”¹è®Šï¼š\n1 2  x.wait(c); // cä»£è¡¨æ­¤processçš„priority info      ä½¿ç”¨Conditional Monitorè§£æ±ºå•é¡Œ  ç¯„ä¾‹ä¸€  ä½¿ç”¨Monitorè§£æ±ºäº’æ–¥è³‡æºçš„é…ç½®å•é¡Œ\nè¦å®šï¼šprocessæœ€å°è€…ï¼Œå„ªå…ˆæ¬Šé«˜ï¼Œå„ªå…ˆå–å¾—è³‡æº\nè§£æ±ºå•é¡Œä¹‹å“²å­¸\n ã€Œéã€å„ªå…ˆæ¬Šä¹‹éœ€æ±‚-\u0026gt;å¯«å…¥Monitorä¹‹å®šç¾©\nå„ªå…ˆæ¬Šä¹‹éœ€æ±‚-\u0026gt;åªè¦å‘ŠçŸ¥è€å¸«èªªä½ ç”¨çš„æ˜¯Priority Queueçš„Monitorå³å¯\n Ans.\n å…ˆå®šç¾©Monitor  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  type ResourceAllocator = Monitor var Busy : Boolean //ä»£è¡¨è³‡æºé…ç½®å‡ºå»èˆ‡å¦  var Xï¼šCondition; //ä»£è¡¨è³‡æºåˆ°åº•å¯ç”¨ä¸å¯ç”¨  procdure entry Apply(processId:int) begin if(Busy) then x.wait(pid); Busy = True; procedure entry Release() begin Busy= False; X.signal; end; Begin; Busy= False; end;   ä½¿ç”¨æ–¹å¼ï¼š\nå…±äº«è®Šæ•¸å®£å‘Šå¦‚ä¸‹ï¼š\nâ€‹\tRAï¼šResource Allocator;\nâ€‹\tPi(iä»£è¡¨processId)ï¼š\nç¨‹å¼å¦‚ä¸‹ï¼š\nRA.Apply(i);\nä½¿ç”¨è³‡æº;\nRA.Release();\næ­¤Monitorçš„X Conditionè®Šæ•¸ä¹‹waiting QueueåŠMoniorçš„entry Queueæ˜¯Priority Queueä¸”processIdå°è€…ï¼Œå„ªå…ˆæ¬Šé«˜ï¼Œå„ªå…ˆç§»å‡º\n ç¯„ä¾‹äºŒ ==(æœ€å¸¸è€ƒ)==  æœ‰ä¸€å€‹Fileå¯è¢«å¤šå€‹Processesä½¿ç”¨ï¼Œæ¯ä¸€å€‹Processæœ‰Unique priority Noï¼Œä¸¦ä¸”å­˜å–Fileé ˆæ»¿è¶³ä»¥ä¸‹é™åˆ¶\n æ‰€æœ‰æ­£åœ¨å­˜å–fileçš„processä¹‹priority Noä¹‹åŠ ç¸½é ˆ\u0026lt;nï¼Œè¶…éå°±ç„¡æ³•å­˜å– process priority Noå°çš„ï¼Œå„ªå…ˆåº¦é«˜  è©¦è¨­è¨ˆMonitor\nAns.\neg n =10\n  å…ˆå®šç¾©Monitor\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  type FileAccess = Monitor; var sum:int; var x:condition; procedure entry Access(i:priority No){ begin; while((sum+i)â‰§n){ do x.wait(i) } sum = sum + i ; end ; } procedure entry Leave(i:priorityNo){ begin; sum = sum -i; x.signal; end; begin; sum=0; end; }     ä½¿ç”¨æ–¹å¼ï¼š\nå…±äº«è®Šæ•¸å®£å‘Šï¼š\n  FAï¼šFileAccess;\n  Pi(iï¼šprocess Priority No)ç¨‹å¼ï¼š\nâ€‹\tFA.Access(i);\nâ€‹\tä½¿ç”¨File;\nâ€‹\tFA.Leave(i);\n     ç¯„ä¾‹ä¸‰  æœ‰3éƒ¨printer è¢«processesä½¿ç”¨(ä¸‰å€‹äº’æ–¥è³‡æº)ï¼Œä¸”è¦å®šProcess Id å°ï¼Œå„ªå…ˆæ¬Šé«˜ã€‚\nAns.\nå…ˆå®šç¾©Monitor\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  var p [0..2] of Boolean; x:condition; int Acquire (i:processId){ if(p[0] and p[1] and p[2]){ x.wait(i) } if(not p[0]){ y=0; } else if (not p[1]){ y =1; } else{ y=2; } p[x]= true; return y; } void Release(y: printerNo){ p[y] = False; x.signal }   ä½¿ç”¨æ–¹å¼ï¼š\n  å…±äº«è®Šæ•¸å®£å‘Šï¼š\nPA: Allocator\n  Pi(i=processId)\n  ç¨‹å¼å¦‚ä¸‹\n1 2 3 4 5 6 7  pNo: printerNo; pNo=PA.Acquire(i); //ä½¿ç”¨pnoè™Ÿä¹‹åˆ—è¡¨æ©Ÿ  PA.Realse(pno);   ç¯„ä¾‹å›› ä½¿ç”¨Monitorå®šç¾©Semaphore\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  type semaphore = Monitor; var value : int; //è™ŸèªŒå€¼ var x : condition; procedure entry wait(){ begin value = value -1; if (value \u0026lt;0) then x.wait; end } procedure entry Signal(){ begin value = value+1; x.signal; end }   Monitorçš„ç¨®é¡(3ç¨®)   å€åˆ†è§’åº¦(ç·£ç”±)\nå‡è¨­Process Aç›®å‰å¡åœ¨ x condition è®Šæ•¸ä¹‹ waiting Queue(å› ç‚º Q å…ˆå‰åŸ·è¡Œäº† X.waitç›®å‰ï¼Œ**Process P is active in the **)\n  å¹¹ä»–åª½çš„ï¼Œé€™é‚Šä¹Ÿæ‹–å¤ªä¹…äº†ï¼Œæˆ‘å—ä¸äº†ï¼Œæˆ‘æƒ³å…ˆå»çœ‹è¨˜æ†¶é«”ç®¡ç† 2023/3/23 Chapter 7 Memory Management æœ¬ç« çš„è€ƒè©¦é‡é»æ˜¯åœ–ï¼Œæœ‰åœ–çš„éƒ½å¾ˆé‡è¦\n Binding åŠå…¶æ™‚æ©Ÿé»\nDynamic Binding\nDynamic Loading, Dynamic Linking\nContiguous Memory Allocation(Firstt/Best/Worst Fit)â˜†â˜†\nExternal Fragmentation, Internal Fragmentationâ˜†â˜†â˜†â˜†â˜†\nè§£æ±ºå¤–éƒ¨ç¢è£‚æ–¹æ³•\n Compactionâ˜†â˜†\nPage\n Page Memory Managementâ˜†â˜†â˜†â˜†â˜†\n Schema\nPage Table è£½ä½œ(3å€‹)\nç›¸é—œè¨ˆç®—\nPage Table Size å¤ªå¤§ä¹‹è§£æ±º(3å€‹)\n Segment Memory Managementâ˜†â˜†\nPaged Segment Memory Management [æé¾æœ¬å·²ç§»é™¤]\n Binding å®šç¾©ï¼šæ±ºå®šç¨‹å¼/processåŸ·è¡Œçš„èµ·å§‹ä½å€ï¼Œæ­¤ä¸€å‹•ä½œç¨±ä¹‹ç‚ºBinding\næ™‚æ©Ÿé»ï¼š\n   Compiling Timeï¼šç”±Compilerä½œBinding\n  Loading Time æˆ– Linking Loading Timeï¼šç”±Linking Loader æˆ– Linkage Editorä½œ\n\u0026laquo;ä»¥ä¸Šå…©è€…éƒ½å«Static Binding\u0026raquo;\n  Execution Timeï¼šç”±OSå‹•æ…‹æ±ºå®šï¼Œä¹Ÿå«Dynamic Binding\n     Compilerä½œBinding\n  ç”¢ç”Ÿä¹‹Object Codeå«åšAbsolute object code(çµ•å°å¼ç›®çš„ç¢¼)\neg:\n  å¾Œé¢çš„Loaderå«ä½œAbsolute Loaderä¸»è¦æ˜¯ä½œAllocationèˆ‡Loading only\n  ç¼ºé»ï¼šProcessè‹¥è¦æ”¹è®Šèµ·å§‹ä½å€ï¼Œå‰‡å¿…é ˆre-compilingéå¸¸ä¸ä¾¿\n  Noteï¼šé€šå¸¸ç”¨æ–¼.COM(å‘½ä»¤æª”)\n    Loading Timeç”± Linking Loader ä½œBinding\n  Compileræ‰€ç”¢ç”Ÿå‡ºçš„Object Codeå«ä½œRelocatable Object Code(å¯é‡å®šä½ä¹‹ç›®çš„ç¢¼)\n    ä½•è¬‚Relocationä¿®æ­£ï¼Ÿ\n ç•¶æˆæ˜¯åŸ·è¡Œèµ·å§‹ä½å€æ”¹è®Šï¼ŒæŸäº›Object codeå…§å®¹å¿…é ˆéš¨ä¹‹ä¿®æ­£ï¼Œå°‡ä¾†æ‰èƒ½æ­£ç¢ºåŸ·è¡Œã€‚\nä¾‹ï¼šæ¡ç”¨ç›´æ¥å®šå€(Direct Addressing Mode)æŒ‡ä»¤ï¼Œå‡è¨­ä»Šå¤©èµ·å§‹ä½å€ç‚º0000ï¼Œè®Šæ•¸å„²å­˜æ–¼2000çš„ä½å€ã€‚ä»Šèµ·å§‹ä½å€æ”¹ç‚º1000å¾Œï¼Œè®Šæ•¸å„²å­˜çš„ä½å€éœ€è¦æœ‰ç›¸æ‡‰çš„æ”¹å‹•ï¼Œé€™å€‹æ”¹å‹•å€¼å°±æ˜¯å¯«åœ¨Relocationä¿®æ­£è³‡è¨Š\n   ä½•è¬‚Linkingä¿®æ­£ï¼Ÿ\n   è§£æ±ºExternal Symbol reference(å¤–éƒ¨ç¬¦è™Ÿåƒè€ƒ)ä¹‹ä¿®æ­£\nä¾‹ï¼šå¤–éƒ¨ç¬¦è™Ÿï¼šå‰¯ç¨‹å¼åç¨±\nå¤–éƒ¨è®Šæ•¸(extern)ã€Library, etc\n Linking Loaderä¸»è¦4å€‹å·¥ä½œ\n Allocationï¼šä¾ç…§ç›®çš„ç¢¼ä¹‹å¤§å°ï¼Œå‘OSè¦æ±‚åˆ†é…èµ·å§‹ä½å€ Loadingï¼šobj code è¼‰å…¥åˆ°Memory Linkingï¼šä¾Compileræ‰€äº¤è¾¦ä¹‹Linkingä¿®æ­£è³‡è¨Šï¼ŒåŸ·è¡ŒLinkingä¿®æ­£ï¼Œå°‡Jump ????æ”¹ç‚º Jump 8000 Relocationï¼šä½œé‡å®šä½ä¿®æ­£  å„ªé»ï¼šç¨‹å¼èµ·å§‹ä½å€è‹¥è¦æ”¹è®Šï¼Œå‰‡åªéœ€é‡æ–°Relocation, Linkingå³å¯ï¼Œç„¡é ˆre-compiling\nç¼ºé»ï¼š\n  ç¨‹å¼é‡æ–°åŸ·è¡Œï¼Œè‹¥Modulesæ•¸å¤šï¼Œå‰‡re-linking(å¤–éƒ¨ç¬¦è™Ÿåƒè€ƒä¿®æ­£)å¾ˆèŠ±æ™‚é–“ã€‚\n  ProcessåŸ·è¡ŒæœŸé–“ï¼Œä¸å¯æ›´æ”¹èµ·å§‹ä½å€\nNoteï¼šå‡¡æ˜¯Static Bindingçš†ç„¡æ³•æ›´æ”¹\n  Linkage Editorçš„ä¸»è¦å·¥ä½œ\n  Dynamic Binding å®šç¾©ï¼šæ±ºå®šProcessèµ·å§‹ä½å€ä¹‹å·¥ä½œï¼Œæ¨é²è‡³åŸ·è¡Œæ™‚æœŸ(Execution Time)æ‰å‹•æ…‹åŸ·è¡Œï¼Œå³Processåœ¨åŸ·è¡ŒæœŸé–“ï¼Œå¯ä»»æ„è®Šæ›´èµ·å§‹ä½å€ï¼Œä¸”Processä»èƒ½æ­£ç¢ºåŸ·è¡Œã€‚\néœ€è¦Hardwareé¡å¤–æ”¯æŒ\n  Logical Addressï¼šgenerated by CPU logicalä»£è¡¨ä»¥ä½¿ç”¨è€…è§€é»ä¾†çœ‹\n  Physical Addressï¼šå¯¦éš›å»physical memory(ie. RAMå­˜å–ä¹‹ä½å€)physicalä»£è¡¨ä»¥ç¡¬é«”è§€é»ä¾†çœ‹ \n   logical address = physical address = \u0026gt; static binding\nlogical address â‰  Physical address = \u0026gt; Dynamic binding, Page, segment, Paged segmentã€‚æœƒæœ‰ã€Œlogical addressè½‰æˆphysical addressä¹‹é‹ä½œã€ï¼Œä¸”æ­¤é‹ä½œäº¤ç”±Hardwareè² è²¬\n   å„ªé»ï¼š\n Processä¹‹èµ·å§‹ä½å€å¯æ–¼execution time ä»»æ„æ›´å‹•ä¸”èƒ½æ­£ç¢ºåŸ·è¡Œï¼Œæœ‰åŠ©æ–¼OS Memory Managementä¹‹å½ˆæ€§åº¦ã€‚eg. Compactionå¯¦æ–½ã€process swapoutå¾Œå†swap inï¼Œä¸ä¸€å®šè¦ç›¸åŒèµ·å§‹ä½å€\\  ç¼ºé»ï¼š\n éœ€è¦Hardwareé¡å¤–æ”¯æŒ ProcessåŸ·è¡Œæ™‚é–“è¼ƒä¹…ã€æ•ˆç›Šè¼ƒå·®  Dynamic Loading å®šç¾©ï¼šä¹Ÿå«Load-on-Callï¼Œåœ¨execution timeï¼Œè‹¥moduleçœŸæ­£è¢«å‘¼å«åˆ°ä¸”ä¸åœ¨memoryä¸­ï¼Œæ­¤æ™‚loaderæ‰å°‡å®ƒè¼‰å…¥åˆ°memoryä¸­ã€‚ç•¶ä¸€å€‹ç¨‹åºåªæœ‰ç•¶å®ƒçœŸæ­£è¢«å‘¼å«æ™‚æ‰è¼‰å…¥åˆ°è¨˜æ†¶é«”ä¹‹ä¸­ã€‚\nç›®çš„ï¼šç¯€çœMemory space\nå„ªé»ï¼šä¸é ˆè¦OSä¹‹é¡å¤–æ”¯æŒ\nç¼ºé»ï¼šProcessåŸ·è¡Œæ™‚é–“è¼ƒä¹…\nNoteï¼šæ—©æœŸä½¿ç”¨overlayçš„æŠ€å·§ï¼Œæ˜¯programmerçš„è²¬ä»»ï¼ŒOSæ²’å•¥è²¬ä»»ã€‚è¿‘ä»£å‰‡æ˜¯OSæä¾›Virtual Memoryä¾†è™•ç†\nDynamic Linking å®šç¾©ï¼šåœ¨Execution Timeï¼Œè‹¥Moduleè¢«å‘¼å«åˆ°ï¼Œæ‰å°‡ä¹‹è¼‰å…¥ï¼Œä¸¦ä¸”èˆ‡å…¶ä»–Modulesé€²è¡ŒLinkingä¿®æ­£(å¤–éƒ¨ç¬¦è™Ÿåƒè€ƒä¹‹è§£æ±º)ï¼Œé©ç”¨åœ¨Library Linking eg Dynamic Linking Library(DLL)\nç›®çš„ï¼šç¯€çœä¸å¿…è¦ä¹‹Linking Timeï¼Œéœ€è¦OSé¡å¤–æ”¯æŒ\nContiguous (é€£çºŒæ€§) Memory Allocation ä¹Ÿå«Dynamic Variable Partitions Memoy Management å‹•æ…‹è®Šå‹•åˆ†å€è¨˜æ†¶é«”ç®¡ç†ã€‚\nOSå¿…é ˆé…ç½®Processä¸€å€‹é€£çºŒçš„Free Memory Space\nPartitionï¼šProcessæ‰€å ç”¨çš„Memory Space\nPartitionæ•¸ç›®ï¼Processæ•¸ç›®ï¼Multiprogramming Degreeï¼Œç”±æ–¼ä¸åŒæ™‚æœŸï¼Œç³»çµ±å…§Processæ•¸ç›®ä¸å›ºå®š\nå› æ­¤Paritionæ•¸ç›®ä¸å›ºå®š(Dynamic)\nç”±æ–¼å„Process Sizeä¸ç›¡ç›¸åŒï¼Œå› æ­¤å„Partitionå¤§å°ä¹Ÿå°±ä¸ä¸€å®šç›¸åŒ(Variable)\nMemoryä¸­æœƒæœ‰ä¸€äº›Free Memory Space(or Block)ï¼Œå«åšHoleï¼Œé€šå¸¸OSæœƒç”¨LinkedListçš„æ¦‚å¿µï¼Œä¾†ç®¡ç†é€™äº›Holesï¼Œå«åšAV-List(Available List å¯ç”¨ç©ºé–“ä¸²åˆ—)\né…ç½®æ–¹æ³•\n  First-Fit Best-Fit Worst-Fit    First-Fit  å®šç¾©ï¼šå¾AV-Listé ­é–‹å§‹æ‰¾èµ·ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€å€‹Holeï¼Œå…¶hole size â‰§ã€€process sizeç‚ºæ­¢ï¼Œå³å¯é…ç½®æˆ–æ‰¾å®Œæ•´æ¢ä¸²åˆ—ï¼Œæˆ–æ‰¾å®Œæ•´æ¢ä¸²åˆ—ï¼Œç„¡ä¾å¤ å¤§ç¬¦åˆç‚ºæ­¢\nBest-Fit  å®šç¾©ï¼šå¿…é ˆæª¢æŸ¥AV-Listä¸­æ‰€æœ‰Holesæ‰¾å‡ºä¸€å€‹holeï¼Œå…¶hole sizeâ‰§process sizeï¼Œä¸”hole sizeæ¸›å»process sizeå¾Œå·®å€¼æœ€å°çš„holeï¼Œäºˆä»¥é…ç½®\nBest-Fit  å®šç¾©ï¼šå¿…é ˆæª¢æŸ¥AV-Listä¸­æ‰€æœ‰Holesæ‰¾å‡ºä¸€å€‹holeï¼Œå…¶hole sizeâ‰§process sizeï¼Œä¸”hole sizeæ¸›å»process sizeå¾Œå·®å€¼æœ€å¤§çš„holeï¼Œäºˆä»¥é…ç½®\nä¾‹é¡Œä¸€\nè‹¥Processå¤§å°=90K\nå‰‡\n First-Fitæœƒé…ç½®\u0026quot;A\u0026quot;Blockä¹‹90Kçµ¦Processï¼Œå‰©ä¸‹\u0026quot;210\u0026quot;Kä¹‹Hole Best-Fitæœƒé…ç½®\u0026quot;B\u0026quot;Blockä¹‹90Kçµ¦Processï¼Œå‰©ä¸‹\u0026quot;10\u0026quot;Kä¹‹Hole Worst-Fitæœƒé…ç½®\u0026quot;C\u0026quot;Blockä¹‹90Kçµ¦Processï¼Œå‰©ä¸‹410Kä¹‹Hole  ä¾‹é¡ŒäºŒ\nFirst, Best,Worst Fitï¼Œå“ªå€‹æœ€å¥½ in memory Utilization?\nFirst-Fit\næœ€å¾Œæœƒå‰©420Kçš„ç„¡æ³•é…ç½®\nBest-Fit\nçš†å¯é…ç½®\næ¯”è¼ƒè¡¨     æ™‚é–“æ•ˆç‡ ç©ºé–“åˆ©ç”¨åº¦     First-Fit(å‹) æœ€ä½³ ä½³   Best-Fit å·® æœ€ä½³   Worst-Fit å·® å·®    ä¸Šè¿°Contiguous Memory Allocationæ–¹æ³•å‡é­é‡ä¸€å€‹å…±é€šå•é¡Œ\u0026quot;External Fragmentation\u0026quot; External Fragmentation\nå®šç¾©ï¼šåœ¨Contiguous Allocationè¦æ±‚ï¼Œç›®å‰AV-Listä¸­ä»»ä½•ä¸€å€‹hole Sizeå‡å°æ–¼process sizeï¼Œä½†é€™äº›holes size åŠ ç¸½å»â‰§process sizeï¼Œç„¶è€Œï¼Œå› ç‚ºé€™äº›holes ä¸¦ä¸é€£çºŒï¼Œå› æ­¤ä»ç„¡æ³•é…ç½®çµ¦æ­¤processï¼Œé€ æˆç©ºé–“é–’ç½®ä¸ç”¨ï¼Œmemory utilizationä½ä¹‹å•é¡Œ\nç¯„ä¾‹ï¼š\nè‹¥Processå¤§å°ç‚º220Kï¼Œè€Œé€™äº›hole sizeåŠ ç¸½=250K\u0026gt;220Kï¼Œä½†é€™äº›holeä¸é€£çºŒï¼Œä»ç„¡æ³•é…ç½®ï¼Œ[æ]ä¸€èˆ¬è€Œè¨€ï¼Œæ¯é…ç½®Nå¤§å°ï¼Œå¹³å‡æœƒæœ‰0.5Nçš„å¤–ç¢ï¼Œæ‰€ä»¥å¤–ç¢çš„æ¯”ä¾‹ç‚º=1/3ï¼Œæ˜¯å€‹åš´é‡çš„å•é¡Œ\nå¦ä¸€å€‹åè©Internal Fragmentation(å…§éƒ¨ç¢è£‚) å®šç¾©ï¼šé…ç½®çµ¦Processä¹‹spaceè¶…éprocess sizeï¼Œå…©è€…ä¹‹å·®å€¼ç©ºé–“ï¼Œæ­¤processä½¿ç”¨ä¸åˆ°ä¸”å…¶ä»–processesäº¦ç„¡æ³•ä½¿ç”¨ï¼Œæ­¤ä¸€æµªè²»ç©ºé–“ï¼Œç¨±ä¹‹ç‚ºå…§éƒ¨ç¢è£‚\nè§£æ±ºExternal Fragmentation æ–¹æ³•ä¸€ï¼šä½¿ç”¨**Compaction(èšé›†)**æŠ€è¡“\nä½œæ³•ï¼šç§»å‹•åŸ·è¡Œä¸­çš„processï¼Œä½¿å¾—åŸæœ¬éé€£çºŒçš„holesï¼Œå¾—ä»¥èšé›†å½¢æˆä¸€å€‹å¤ å¤§çš„é€£çºŒçš„Free Memory Space\nä¾‹å­ï¼šã€€å›°é›£è™•ï¼š\n  ä¸æ˜“åˆ¶å®šæœ€ä½³çš„Compactionç­–ç•¥\n  Processeså¿…é ˆæ˜¯Dynamic Bindingæ‰å¯æ–¼execution timeç§»å‹•\n  æ–¹æ³•äºŒï¼šä½¿ç”¨Page Memory Management\næ–¹æ³•ä¸‰ï¼šMultiple Base/Limit Registeræ–¹æ³•\né€™å€‹æ–¹æ³•å…¶å¯¦ä¸è¡Œè§£æ±ºï¼Œåªèƒ½é™ä½ã€‚å°‡Processæ‹†æˆCode Sectionèˆ‡Data Sectionå…©éƒ¨åˆ†ï¼Œåˆ†é–‹é…ç½®é€£çºŒçš„holeï¼Œä»¥é™ä½å¤–éƒ¨ç¢è£‚ç™¼ç”Ÿçš„æ©Ÿç‡ã€‚å› æ­¤ï¼Œæ¯å€‹Processéœ€è¦2å¥— Base/Limit Registersï¼Œåˆ†åˆ¥è¨˜Code SecåŠData Sec çš„èµ·å§‹ä½å€åŠå¤§å°\nPage(åˆ†é ) memory Management   Physical Memory (i,e RAM)è¦–ç‚ºä¸€çµ„Frame(é æ¡†)ä¹‹é›†åˆï¼Œä¸”å„Frame Sizeç›¸åŒï¼ŒNoteï¼šFrame Sizeæ˜¯HWæ±ºå®šï¼ŒOSåªæ˜¯é…åˆï¼ŒPagingæ˜¯æ¡Physical ViewPointã€‚\n  Logical Memory (å³User Processå¤§å°)è¦–ç‚ºä¸€çµ„Page(é é¢)ä¹‹é›†åˆï¼Œä¸”Page Size=Frame Size\n  RAM=400KB=40å€‹Frames\nFrames=10KB\né…ç½®æ–¹å¼ï¼šOSæ¡éé€£çºŒæ€§é…ç½®åŸå‰‡ï¼Œå³è‹¥Processå¤§å°=nå€‹Pagesï¼Œå‰‡OSåªéœ€åœ¨Physical memory æ‰¾å‡ºnå€‹Free Frames(ä¸ä¸€å®šè¦é€£çºŒ)ï¼Œå³å¯é…çµ¦æ­¤process\nOSæœƒæ›¿æ¯å€‹Processå»ºç«‹ä¸€å€‹Page Table(åˆ†é è¡¨)ï¼Œç´€éŒ„å„å€‹Pageç½®æ–¼å“ªå€‹Frame ä¹‹Frame No\nNoteï¼šPage Table is stoted in PCB\nè‹¥Processå¤§å°=nå€‹Pagesï¼Œå‰‡å®ƒçš„Page Tableå°±æœ‰nå€‹entry(æ ¼å­)\nåœ–ç¤ºï¼š\nLogical Address è½‰ Physical Address éç¨‹By MMU(Hardware) Steps [ä¾‹ï¼šå‡è¨­Page size=10]\n LogicalAddressåˆå§‹æ˜¯å–®ä¸€é‡ï¼Œè‡ªå‹•æ‹†è§£æˆï¼š  â€‹\tå…¶ä¸­pä»£è¡¨PageNoï¼Œdä»£è¡¨Page offset(åç§»é‡)\n$$ å–®ä¸€é‡ä½å€ \\div PageSize = å•†æ•¸(p)\u0026hellip;é¤˜æ•¸(d) $$\n ä¾PæŸ¥è©¢Page Table, å–å¾—è©²Pageçš„FrameNo(é æ¡†è™Ÿç¢¼)ï¼Œä»¤ç‚ºf\n  fèˆ‡dåˆæˆå³ç‚ºPhysical Address\næˆ– f * PageSize + d = Physical Address\neg.\n   p d     3 2    ä¾P=3æŸ¥è¡¨ï¼Œå®ƒçš„Frame No= F7, å› æ­¤\n   f d     7 2    =Physical Address\n=7*10+2=72\n  å„ªç¼ºé»æ¯”è¼ƒ å„ªé»ï¼š  æ²’æœ‰å¤–éƒ¨ç¢è£‚ å¯æ”¯æ´Memory SharingåŠMemory Protectionä¹‹å¯¦æ–½ å¯æ”¯æŒDynamic Loading, Dynamic LinkingåŠVirtual Memoryä¹‹å¯¦ç¾  Memory Sharing(å…±äº«)\nè‹¥å¤šå€‹Processeså½¼æ­¤å…·æœ‰å…±é€šçš„Read-only Code/Data Pagesï¼Œå‰‡æˆ‘å€‘å¯ä»¥è—‰ç”±processå„è‡ªçš„Page Tableï¼Œå°‡å…±é€šPagesæ˜ å°„åˆ°åŒä¸€å€‹é æ¡†ï¼Œå¦‚æ­¤å¯ä»¥ç¯€çœmemory space\nMemory Protection(ä¿è­·)\nåœ¨Page Tableä¸­å¤šåŠ ä¸€å€‹æ¬„ä½ï¼š\nProtection Bit å€¼ç‚º\n Rï¼šè¡¨æ­¤Pageåªèƒ½Read-Only\nWï¼šè¡¨æ­¤Page Read/writeéƒ½å¯ä»¥\n ç¼ºé»ï¼š   æœ‰Internal Fragmentationï¼Œå› ç‚ºProcesså¤§å°ä¸è¦‹å¾—æ˜¯PageSizeä¹‹æ•´æ•¸å€æ•¸ã€‚eg. PageSize=10KBï¼ŒProcesså¤§å°=32KBï¼Œå› æ­¤éœ€é…ç½®4å€‹Framesï¼Œå› æ­¤å…§ç¢=4*10-32=8KB\nNoteï¼šè‹¥PageSizeæ„ˆå¤§ï¼Œå‰‡å…§ç¢è¶Šåš´é‡\n  éœ€è¦é¡å¤–Hardwareæ”¯æ´ï¼Œä¾‹ï¼šPage Tableä¹‹è£½ä½œã€Logical Addressè½‰physical address By MMU\n  effective memory access time è¼ƒé•·å› ç‚ºæœ‰Logical Addressè½‰physical address çš„æ™‚é–“ï¼Œé€™é‚Šçš„è¼ƒé•·æ˜¯ç›¸å°æ–¼Contiguousä¾†çœ‹\n  Page Tableä¹‹è£½ä½œ(ä¿å­˜) [æ–¹æ³•ä¸€] ä½¿ç”¨Registerä¿å­˜ï¼ŒPage Tableä¸­æ¯å€‹Entryå…§å®¹(frame No)\nå„ªé»ï¼šå­˜å–page table æ™‚ï¼Œç„¡é ˆmemory accessï¼Œå› ç‚ºé€Ÿåº¦æœ€å¿«\nç¼ºé»ï¼šRegisteræ•¸é‡æœ‰é™ï¼Œä¸é©ç”¨å¤§å‹çš„Page Table(æˆ–å¤§å‹Process)\n[æ–¹æ³•äºŒ] ä½¿ç”¨Memoryä¿å­˜åˆ†é è¡¨ï¼Œä¸”ç”¨ä¸€å€‹Register:PTBR(Page Table Base Register)ç´€éŒ„å®ƒåœ¨memoryä¸­ä¹‹ä½å€ï¼ŒåŠPTLR(Page Table Length Register)ç´€éŒ„Tableå¤§å°\nå„ªé»ï¼šé©ç”¨æ–¼å¤§å‹Page Table\nç¼ºé»ï¼šé ˆé¡å¤–å¤šä¸€æ¬¡Memory Accessä¾†å­˜å–Page Tableï¼Œå› æ­¤é€Ÿåº¦å¾ˆæ…¢\n[æ–¹æ³•ä¸‰] æœ€æ™®éçš„æ–¹æ³•ï¼Œä½¿ç”¨TLB(Translation-Lookaside Buffer) Register(æˆ–å«Associative Registers)ä¿å­˜Page Tableä¸­ç¶“å¸¸è¢«å­˜å–ä¹‹Page NoåŠFrameNoï¼Œä¸”å®Œæ•´çš„age Tableå­˜æ–¼memoryä¸­\nä½¿ç”¨TLBä¹‹effective Memory Access Time =\n$$ effective Memory Access Time=P \\times (TLB time+ Memory Access Time)+ (1-P) * (TLB Time +2*Memory Access Time) \\\nwhere P is TLB Hit Ration $$\n Translation Lookaside Buffer (TLB) æ˜¯ä¸€ç¨®ç¡¬é«”å¿«å–ï¼Œç”¨æ–¼åŠ é€Ÿè™›æ“¬è¨˜æ†¶é«”çš„åœ°å€è½‰æ›éç¨‹ã€‚ç•¶ç¨‹å¼å­˜å–ä¸€å€‹è™›æ“¬è¨˜æ†¶é«”é é¢æ™‚ï¼Œè™•ç†å™¨éœ€è¦å°‡è™›æ“¬åœ°å€è½‰æ›æˆå¯¦é«”åœ°å€ï¼Œæ‰èƒ½å¤ å¾è¨˜æ†¶é«”ä¸­å–å¾—è³‡æ–™ã€‚é€™å€‹è½‰æ›éç¨‹éœ€è¦æŸ¥è©¢ä¸€å€‹ç”±ä½œæ¥­ç³»çµ±ç¶­è­·çš„ç¨±ç‚ºé è¡¨çš„è³‡æ–™çµæ§‹ï¼Œä»¥ç²å–è™›æ“¬åœ°å€å’Œå¯¦é«”åœ°å€çš„å°æ‡‰é—œä¿‚ã€‚ä½†æ˜¯ï¼Œé€™å€‹æŸ¥è©¢éç¨‹éœ€è¦è¨ªå•ä¸»è¨˜æ†¶é«”ï¼Œå› æ­¤éå¸¸è€—æ™‚ã€‚ç‚ºäº†åŠ é€Ÿé€™å€‹éç¨‹ï¼Œè™•ç†å™¨ä½¿ç”¨ TLB å¿«å–äº†æœ€è¿‘çš„åœ°å€è½‰æ›è³‡æ–™ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸€æ¬¡å­˜å–ç›¸åŒè™›æ“¬é é¢æ™‚å¯ä»¥ç›´æ¥å¾å¿«å–ä¸­å–å¾—è³‡æ–™ï¼Œè€Œä¸å¿…å†æ¬¡æŸ¥è©¢é è¡¨ã€‚\nTLB æ˜¯ä¸€ç¨®é—œéµçš„è™›æ“¬è¨˜æ†¶é«”å­ç³»çµ±ï¼Œå› ç‚ºåœ°å€è½‰æ›æ˜¯è™›æ“¬è¨˜æ†¶é«”ç³»çµ±ä¸­æœ€å¸¸è¦‹ã€æœ€è¤‡é›œå’Œæœ€è€—æ™‚çš„æ“ä½œä¹‹ä¸€ã€‚TLB çš„æ•ˆèƒ½ç›´æ¥å½±éŸ¿äº†ç³»çµ±çš„æ•´é«”æ•ˆèƒ½ï¼Œå› æ­¤è¨­è¨ˆé«˜æ•ˆçš„ TLB æ˜¯éå¸¸é‡è¦çš„ã€‚\n ç¯„ä¾‹ï¼š\nRegister access Time : 0 ns(ignored)\nMemory Access Timeï¼š200ns\nTLB Timeï¼š100ns\nTLB Hit Rationï¼š90%\næ±‚Effective Memory Access Time if Page Table is Stored using\n Register Memory TLB  Ans.\n 200ns(åªè¨ªå•ä¸€æ¬¡è¨˜æ†¶é«”) 2*200 =400 ns 0.9 * (100+200) + 0.1 * (100+2*200) = 100+200+0.1*200=320ns  Pagingç›¸é—œè¨ˆç®— [å‹ä¸€] ä½¿ç”¨TLBä¹‹effective Memory Access Time [å‹äºŒ] Logical Address èˆ‡ Physical Address Bit æ•¸ç›®è¨ˆç®— ä¾‹ä¸€ï¼š\n  pageSize=1kb;\n  Processæœ€å¤§æœ‰8å€‹Pages\n  Physical Memory æœ‰32å€‹Frames\n  æ±‚\n Logical Address length physical Address length  Ans.\n  Logical address\n   p d     13 10    å› ç‚ºpageSize=1kb= 2 10Bytes ï¼Œæ‰€ä»¥dä½”10bitsã€‚åˆå› ç‚ºprocessæœ€å¤š8å€‹processæœ€å¤š8(23\u0026gt;)å€‹Pagesã€‚æ‰€ä»¥Pä½”3bitsï¼Œå› æ­¤3+10 = 13bits\n  physical address\n   f d     15bits     å› ç‚ºphysical memoryæœ‰32(25)å€‹Framesï¼Œæ‰€ä»¥fä½”5bitsï¼Œæ‰€ä»¥5+10= 15bits\n  [å‹ä¸‰] PageTable sizeç›¸é—œè¨ˆç®— 1bit = 0 or 1\n1 KB = 1024 bytes\n1 byte= 8 bits\n1MB = 1024 KB\nä¾‹ä¸€\n Page size=8KB Process å¤§å° = 2MB Page Table entry ä½”4bytes  æ±‚æ­¤processçš„pageTable size?\nans\nprocesså¤§å°= 2MB/8KB = 221/213=28å€‹Pagesï¼Œé€™éº¼å¤§\nå› æ­¤ Page Table æœ‰2 8 entryï¼Œå› æ­¤size = 28*4bytes = 1KB\nä¾‹äºŒ\n logical address = 32 bits page size = 16kb page table entry ä½” 4 bytes  æ±‚MAX page table size?\nans\nå› ç‚ºPage size = 16kb = 2 14 bytesï¼Œæ‰€ä»¥dä½”14bitesï¼Œæ‰€ä»¥pä½”32-14= 18bits\nprocess æœ€å¤§å¯ä»¥æœ‰218Pagesï¼Œæ‰€ä»¥MAX. page Table size = 2 18 å€‹entry * 4bytes= 1MB\nEx. æ‰¿ä¸Š è‹¥Logical Adress = 48 bitså‘¢?\nAns:\np ä½” 48-14 = 34 bits\nå› æ­¤MAX page table size = 234 * 4 bytes = 64GB\nNoteï¼špage table size å¤ªå¤§æ˜¯å€‹è­°é¡Œï¼ï¼\nä¾‹ä¸‰\n Page Size = 16 KB Page Table entry ä½” 4 bytes MAX Page Table Size æ°ç‚ºone Page æ±‚ Logical Address length  å› ç‚ºPage size = 16KB = 2 14 bytesï¼Œæ‰€ä»¥dä½”14 bitsï¼Œå› ç‚ºMAX Page Table Size = One Page = 16KBã€‚å› ç‚ºMAX Page Table = 16KB/ 4 bytes = 212entryï¼Œå› æ­¤Pä½”12bitsï¼Œå› æ­¤12+14= 26 bits\n[å‹å››] Page Table Size å¤ªå¤§ä¹‹è§£æ³•çš„ç›¸é—œè¨ˆç®— (è€ƒè©¦å¿…è€ƒ) Page Table Size å¤ªå¤§ ä¹‹è§£æ±ºæ–¹æ¡ˆ   â˜†â˜†â˜†â˜†â˜†MultiLevel Paging(Hierarchical Paging)(Paging the Page Table)(Forward Mapping)\n  Hashing Page Table\n  â˜†â˜†â˜†â˜†â˜†Inverted Page Table\n  Multilevels Paging è€ƒçš„é »ç‡è¼ƒé«˜\nå®šç¾©ï¼šä¸¦ä¸æ˜¯æŠŠåˆ†é è¡¨ç¸®å°ï¼Œè€Œæ˜¯ç¸®æ¸›æŠ“é€²ä¾†çš„åˆ†é è¡¨çš„å…§å®¹ï¼ŒåªæŠ“æœ‰éœ€è¦çš„å€é–“ï¼Œä¸éœ€è¦å°‡æ•´å€‹Page Table è¼‰å…¥é€²memoryä¸­ï¼Œè€Œæ˜¯è¼‰å…¥éƒ¨åˆ†éœ€è¦çš„å…§å®¹å°±å¥½ï¼Œå› æ­¤æå‡ºå¤šå±¤æ¬¡çš„Pagingçš„åšæ³•ï¼Œä¾‹ï¼šä»¥2-level paging ç‚ºä¾‹ï¼Œç•¶ç„¶ä½ æƒ³è¦åˆ†3, 4 ,5 å±¤éƒ½å¯ä»¥ï¼Œä½ çˆ½å°±å¥½\n Level 1 Page Table ï¼šæœ‰2xå€‹entryï¼Œæ¯å€‹entry ç´€éŒ„æŸå€‹Level-2 Page Table Level 2 Page Table ï¼šæœ‰2yå€‹entryï¼Œæ¯å€‹entryç´€éŒ„Frame No.   Processåœ¨åŸ·è¡Œæ™‚åªé ˆ1å€‹Level 1- Page Tableä»¥åŠæŸ1å€‹ Level 2 - Page Tableåœ¨memoryä¸­å³å¯ï¼Œå› æ­¤å¯å¤§å¹…é™ä½Pable Tableå ç”¨ä¹‹Memory Space  ç¼ºé»ï¼šeffective Memory Access Timeæ›´ä¹…ï¼Œå› ç‚ºé ˆå¤šæ¬¡Memory Accesså­˜å–Page Table\nä¾‹å¦‚\nTwo-Level Paging -\u0026gt; æ•´å€‹éç¨‹é ˆä¸‰æ¬¡MA\nThree-Level Paging - \u0026gt; æ•´å€‹éç¨‹é ˆå››æ¬¡MA\nç›¸é—œè¨ˆç®—ï¼š\nä¾‹ä¸€ï¼š\n TLB Timeï¼š100ns TLB Hit Ratioï¼š80% Memory Access(MA) Time ï¼š200ns Two-Level Paging æ¡ç”¨  æ±‚æœ‰æ•ˆMemory Access Time\nAns.\n0.8 * (100ns + 200ms) +0.2 * (100ns+3*200ns)\nä¾‹äºŒï¼š\n Logical Address= 32 bits Page Size = 4KB Page Table Entry ä½” 4 bytes  åœ¨ä»¥ä¸‹å¹¾ç¨®æƒ…ä¸‹ï¼Œæ±‚Max. Page Table Size\n Single-level-paging Two-level paging ä¸”Level-1 Pagingèˆ‡Level 2 Paging Bitæ•¸ç›¸ç­‰  Ans.\n    å› ç‚ºLevel-1åŠLevel-2 Paging å„ä½” 20/2 = 10bitsï¼Œæ‰€ä»¥\n1å€‹level-1 Page Table MAX Size = 210*4bytes = 4 KB,\n1å€‹Level-2 Page Table MAX Size = 210*4bytes=4KB\nå› æ­¤é ‚å¤š4KB+4KB= 8KB in the memory\n  ä¾‹ä¸‰ï¼š\n Logical Address = 65 bits Page Size = 16kb Page Table entry ä½” 4 bytes; ä»»ä¸€ Level Pagingä¹‹MAX Page Table Sizeé ‚å¤šç‚ºOne Page  å‰‡è‡³å°‘åˆ†å¹¾å±¤ ?-level Paging\nAns.\nå› ç‚ºä»»ä¸€levelä¹‹MAX Page table Size = One Page = 16KBï¼Œ\næ‰€ä»¥ä»»ä¸€Levelä¹‹Page Table æœ€å¤šæœ‰ 16KB / 4 bytes =span 212å€‹Entry\næ‰€ä»¥ä»»æ„Level Paging Bitsæ•¸ â‰¦ 12bits\n50 / 12 = 5 Level\nHashing Page Table è€ƒçš„æ©Ÿæœƒè¼ƒå°‘\nå®šç¾©ï¼šåˆ©ç”¨Hashing æŠ€å·§ï¼Œå°‡Page Table è¦–ç‚ºHash Tableï¼Œå…·æœ‰ç›¸åŒçš„Hasing Addressçš„Page NoåŠä»–çš„Frame Noè³‡è¨Šï¼Œæœƒç½®å…¥æ–¼åŒä¸€å€‹Entry(Bucket)ä¸­ï¼Œä¸”å·²Link List(Chain)ä¸²æ¥ï¼Œåœ–ç¤ºå¦‚ä¸‹ï¼š\nç¼ºé»ï¼šä½¿ç”¨Linear Search åœ¨Link Listä¸­æ‰¾ç¬¦åˆçš„Page Noï¼Œè¼ƒç‚ºè€—æ™‚\nä¾‹é¡Œï¼š\n H(x)= X % 53 Page Table Entry ä½” 4 bytes æ±‚Hashing Page Table Size  Ansï¼šæœ‰53å€‹entry ï¼Œæ‰€ä»¥53 * 4 = 212 bytes\nInverted Page Table åè½‰åˆ†é è¡¨ï¼Œè€ƒçš„é »ç‡è¼ƒé«˜\nå®šç¾©ï¼šå¤§éƒ¨åˆ†çš„è§£æ±ºæ–¹æ¡ˆéƒ½æ˜¯ä»¥Processç‚ºå°è±¡ï¼Œé€™å€‹æ–¹æ³•æ”¹ç‚ºä»¥è¨˜æ†¶é«”ç‚ºå°è±¡ã€‚æ˜¯ä»¥Physical Memoryç‚ºè¨˜éŒ„å°è±¡ï¼Œä¸¦éä»¥Processç‚ºå°è±¡ï¼Œå³è‹¥æœ‰Nå€‹Framesï¼Œå‰‡æ­¤è¡¨å°±æœ‰nå€‹entryï¼Œæ¯å€‹entryç´€éŒ„ \u0026lt;Process Id, Page No\u0026gt;ï¼Œé…å°è³‡è¨Šï¼Œä»£è¡¨æ­¤Frameå­˜æ”¾çš„æ˜¯å“ªå€‹Processçš„å“ªå€‹Pageï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œæ•´å€‹ç³»çµ±åªæœ‰ä¸€ä»½è¡¨æ ¼\nåœ–ç¤ºï¼š\nç¼ºé»ï¼š\n  å¿…é ˆä½¿ç”¨\u0026lt;Process Id, Page No\u0026gt; è³‡è¨Šï¼Œä¸€ä¸€æ¯”å°æŸ¥è©¢ï¼Œæ­¤èˆ‰ç”šç‚ºè€—æ™‚\n  å–ªå¤±äº†Memory Sharaingä¹‹å¥½è™•ï¼Œå³ç„¡æ³•æ”¯æŒå…¶å¯¦ç¾ï¼Œå› ç‚ºProcess Idä¸ä¸€æ¨£\n  ä¾‹é¡Œï¼š\n Page Size = 8 KB Physical Memory = 16 GB Page Table entry ä½” 4 bytes æ±‚Inverted Page Table ä¹‹ size?  Ans.\nphysical memory æœ‰ 16 GB/ 8 KB= 234 / 213 = 2 21å€‹framesï¼Œæ‰€ä»¥Inverted page table æœ‰221å€‹entryï¼Œæ‰€ä»¥size = 221 4 bytes= 8MB*\nSegment Memory Management   Physical Memory è¦–ç‚ºä¸€å€‹å¤ å¤§çš„é€£çºŒå¯ç”¨ç©ºé–“\n  Logical memory(process)è¦–ç‚ºä¸€çµ„Segment(æ®µ)ä¹‹é›†åˆï¼Œä¸”å„æ®µå¤§å°ä¸ä¸€å®šç›¸åŒï¼Œæ®µçš„è§€é»æ˜¯æ¡ç”¨Logical viewpointï¼Œèˆ‡userå°memoryä¹‹çœ‹æ³•ä¸€è‡´\nä¾‹ï¼šcode segment, Data segment, stack segment etc\u0026hellip;\n  é…ç½®åŸå‰‡ï¼š\n  æ®µèˆ‡æ®µä¹‹é–“å¯ä»¥æ˜¯éé€£çºŒæ€§é…ç½®\n  ä½†å°æ¯ä¸€å€‹æ®µè€Œè¨€ï¼Œå¿…é ˆå ç”¨é€£çºŒçš„(Sapce)ç©ºé–“\n    Osæœƒæ›¿æ¯å€‹Processå»ºç«‹Segment Tableåˆ†æ®µè¡¨ï¼Œç´€éŒ„æ¯å€‹æ®µçš„Limit(å¤§å°)å³Base(èµ·å§‹ä½å€)\n  åœ–ç¤ºï¼š\n  Logical Addressè½‰physical Address\n  Logical Address initiallyæ˜¯å…©å€‹é‡ï¼Œ[ s | d ]å…¶ä¸­sæ˜¯æ®µç·¨è™Ÿï¼Œdæ˜¯æ®µçš„offset\n  ä¾SæŸ¥åˆ†æ®µè¡¨ï¼Œå–å¾—å®ƒçš„limitåŠBase\n  **Check d \u0026lt; limit ?**è‹¥æˆç«‹ï¼Œä»£è¡¨åˆæ³•ï¼Œæ‰€ä»¥physical address = Base + dï¼Œè‹¥ä¸æˆç«‹ï¼Œå‰‡ä»£è¡¨éæ³•å­˜å–\n    ä¾‹é¡Œï¼š\nåˆ†æ®µè¡¨å¦‚ä¸‹ï¼Œæ±‚ä¸‹åˆ—Logical Addresss,dÂ ä¹‹physical Address?\n    Limit Base     0 100 4200   1 500 80   2 830 7300   3 940 1000     (0,90) (1,380) (2,900) (3,940)  Ans.\n  å› ç‚º90\u0026lt;100ï¼Œæ‰€ä»¥åˆæ³•ã€‚4200+90 = 4290\n  å› ç‚º380\u0026lt; 500ï¼Œæ‰€ä»¥åˆæ³•ã€‚80+380 = 460\n  å› ç‚º900 \u0026gt; 830ï¼Œä¸åˆæ³•ã€‚éæ³•å­˜å–\n  å› ç‚º940 ä¸å°æ–¼940ï¼Œä¸åˆæ³•ã€‚éæ³•å­˜å–\n  å„ªé»\n  æ²’æœ‰å…§éƒ¨ç¢è£‚\n  å¯æ”¯æŒMemory SharingåŠMemory protectionï¼Œä¸”æ¯”Pageå®¹æ˜“å¯¦æ–½(å› ç‚ºæ®µæ˜¯æ¡ç”¨Logical viewpoint)\neg. ä»¥Protectionç‚ºä¾‹\n  å¯æ”¯æŒDynamic Loading , Linking åŠ Vitual Memory å¯¦æ–½\n    ç¼ºé»\n æœ‰å¤–éƒ¨ç¢è£‚ å¿…é ˆè¦æœ‰é¡å¤–ç¡¬é«”æ”¯æŒï¼Œä¾‹å¦‚åˆ†æ®µè¡¨çš„ä¿å­˜ã€logical addressè½‰physical address Effective memory access time æ›´ä¹…    Pageèˆ‡Segmentæ¯”è¼ƒè¡¨    Page Segment     å„Page Sizeç›¸åŒ å„æ®µå¤§å°ä¸ä¸€å®šç›¸åŒ   ç”¨physical viewpoint logical viewpoint   ç„¡å¤–éƒ¨ç¢è£‚ æœ‰å¤–éƒ¨ç¢è£‚   æœ‰å…§éƒ¨ç¢è£‚ ç„¡å…§éƒ¨ç¢è£‚   Memory protectionåŠSharingè¼ƒé›£å¯¦æ–½ è¼ƒå®¹æ˜“å¯¦æ–½   ç„¡é ˆCheck page offset \u0026lt; page size é ˆ check æ®µ offset \u0026lt; æ®µå¤§å°   Logical address initially å–®ä¸€é‡ å…©å€‹é‡\u0026lt;s,d\u0026gt;   Page Tableç´€éŒ„Frame No åˆ†æ®µè¡¨ç´€éŒ„æ®µçš„Limit åŠBase    Paged Segment Memory Management [æ]ç¾å·²ç§»é™¤ï¼Œç•¶ä½œè£œå……\nè§€å¿µï¼šprocess \u0026mdash;\u0026gt; æ®µçµ„æˆ \u0026mdash;\u0026gt; Page çµ„æˆã€‚æ®µåœ¨åˆ†é (Processç”±ä¸€å †æ®µæ§‹æˆï¼Œæ®µå†ç”±é é¢æ§‹æˆ)\nå‹•æ©Ÿï¼šå¸Œæœ›ä¿æœ‰åˆ†æ®µæ¡logical viewpointçš„å¥½è™•ï¼Œä¸”åˆè¦è§£æ±ºå¤–éƒ¨ç¢è£‚ï¼Œæ‰€ä»¥æ®µå†åˆ†é \nåœ–ç¤ºï¼š\nå°çµ å››å¤§è¨˜æ†¶é«”ç®¡ç†æ–¹å¼ï¼Œ\n    Contiguous Allocation Page(ä¸»è§’ï¼Œè€ƒæœ€å¤š) Segment Paged Segment     å¤–éƒ¨ç¢è£‚ æœ‰ ç„¡ æœ‰ ç„¡   å…§éƒ¨ç¢è£‚ ç„¡ æœ‰ ç„¡ æœ‰    047\nChapter 8 Virtula Memory (è™›æ“¬è¨˜æ†¶é«”)  [åŸºæœ¬]ä¸»è¦ç›®çš„(å„ªé»)ä»¥åŠé™„å¸¶å¥½è™•\n[åŸºæœ¬]Demand PagingæŠ€è¡“\nâ˜†â˜†â˜†Page fault å³å…¶è™•ç†æ­¥é©Ÿ\nâ˜†â˜†â˜†â˜†â˜†Effective Memory Access timeè¨ˆç®— in virtual memory\nå½±éŸ¿Page fault rationä¹‹å› ç´ \nâ˜†â˜†â˜†â˜†â˜†Page replacement åŠå…¶æ³•å‰‡ã€è¨ˆç®—é¡Œã€åŠç›¸é—œåè©(Modification Bit, Belady Anomaly, stack property)\nâ˜†Frameæ•¸åˆ†é…å¤šå¯¡ä¹‹å½±éŸ¿\nâ˜†â˜†â˜†â˜†â˜†Thrashingç¾è±¡åŠå…¶è§£æ³•\nâ˜†â˜†Page Size å¤§å°ä¹‹å½±éŸ¿\nâ˜†â˜†â˜†Program structure ä¹‹å½±éŸ¿\nâ˜†â˜†â˜†â˜†Copy-on-writeä¹‹æŠ€è¡“ (3ç¨®Fork())\nâ˜†TLB Reach\n ä¸»è¦ç›®çš„(å„ªé»)ä»¥åŠé™„å¸¶å¥½è™• å„ªé»ï¼šå…è¨±Process size åœ¨è¶…éphysical memory å¯ç”¨ç©ºé–“å¤§å°æƒ…æ³ä¸‹ï¼Œprocessä»èƒ½é€²è¡Œï¼Œæ˜¯OSçš„è²¬ä»»(è² æ“”)ï¼Œprogrammerræ²’ä»€éº¼è² æ“”\né™„å¸¶å¥½è™•ï¼š\n Memory Utilizationè¼ƒé«˜ ç›¡å¯èƒ½åœ°çš„æå‡Multiprogramming Degreeï¼Œå¢é«˜CPU Utilizationï¼ŒNoteï¼šThrasingé™¤å¤– I/O Transfer(å‚³è¼¸) Timeè¼ƒå° Noteï¼šI/Oæ¬¡æ•¸ã€Total Timeå¢åŠ  programmeråªé ˆå°ˆå¿ƒå¯«å¥½ç¨‹å¼å³å¯ï¼Œæ¯‹é ˆç…©æƒ±ç¨‹å¼éå¤§ç„¡æ³•åŸ·è¡Œä¹‹å•é¡Œï¼Œé€™æ˜¯OSçš„è²¬ä»»ï¼Œæ‰€ä»¥Programmerä¹Ÿä¸é ˆè¦ï¼Œéæ™‚çš„overlayæŠ€è¡“  å¯¦ç¾Virtual Memoryçš„æŠ€è¡“ä¹‹ä¸€ã€€Demand Paging(éœ€æ±‚åˆ†é ) æ˜¯æ¶æ§‹åœ¨Page Memory Management åŸºç¤ä¸Šã€‚å·®åˆ¥åœ¨æ–¼æ¡ç”¨Lazy Swapperè§€å¿µï¼Œå³Processåœ¨åŸ·è¡Œä¹‹åˆï¼Œæ¯‹é ˆäº‹å…ˆè¼‰å…¥å…¨éƒ¨çš„Pageï¼Œè€Œæ˜¯æŒ‡è¼‰å…¥éƒ¨åˆ†çš„Pages(ç”šè‡³ä¸è¼‰å…¥ä»»ä½•Pageï¼ŒPure demand paging)ï¼ŒProcesså³å¯åŸ·è¡Œã€‚\n è‹¥ProcessåŸ·è¡Œæ™‚ï¼Œå®ƒæ‰€éœ€è¦çš„Pagesçš†åœ¨Memoryä¸­ï¼Œå‰‡Processæœ¬èº«ä¸€åˆ‡ç„¡èª¤åœ°åŸ·è¡Œ è‹¥ProcessåŸ·è¡Œæ™‚ï¼Œä¼åœ–å­˜å–ä¸åœ¨memoryä¸­çš„Pagesï¼Œå‰‡ç¨±ç‚ºç™¼ç”ŸPage Faultï¼ŒOSå¿…é ˆè™•ç†ï¼Œå°‡Processæ‰€éœ€çš„lost Page(missed page)è¼‰å…¥åˆ°Memory ä¸­ from diskï¼Œprocessæ‰å¯åŸ·è¡Œ  åœ¨Page Tableä¸­é ˆå¼•é€²ä¸€å€‹æ¬„ä½ï¼šValid/ Invalid Bit ï¼Œç”¨ä»¥å€åˆ†æ­¤pageæ˜¯å¦åœ¨memoryç•¶ä¸­\nVï¼šè¡¨åœ¨memory\nIï¼šè¡¨ä¸åœ¨memory\nNoteï¼šæ­¤Bitæ˜¯ç”±OS set and modifyã€‚MMU reference\nåœ–ç¤ºï¼š\nPage fault ä¹‹è™•ç† Steps  MMUæœƒç™¼å‡ºä¸€å€‹Address error interrupt é€šçŸ¥OS OSæ”¶åˆ°ä¸­æ–·å¾Œï¼Œå¿…é ˆè¦æš«åœç›®å‰Processä¹‹åŸ·è¡Œä¸”ä¿å­˜å…¶Status info OSæª¢æŸ¥Processä¹‹å­˜å–ä½å€æ˜¯å¦åˆæ³•ã€‚  è‹¥éæ³•ï¼Œå‰‡çµ‚æ­¢æ­¤Process è‹¥åˆæ³•ï¼Œå‰‡SOåˆ¤å®šæ˜¯ç”±Page Faultæ‰€å¼•èµ·   OSå…ˆå»Memoryä¸­æª¢æŸ¥æœ‰ç„¡Freeçš„Frame  è‹¥æ²’æœ‰ï¼Œå‰‡OSå¿…é ˆåŸ·è¡ŒPage Replacementå·¥ä½œï¼Œä»¥ç©ºå‡ºä¸€å€‹Free Frame æœ‰çš„è©±å°±æŠŠé é¢æŠ“è¿‘ä¾†   OSå†åˆ°Diskä¸­æ‰¾å‡ºLost Pageæ‰€åœ¨ä½ç½®ï¼Œå•Ÿå‹•I/Oé‹ä½œï¼Œå°‡Lost Page è¼‰å…¥åˆ°Free Frameä¸­ ç„¶å¾Œï¼ŒOSä¿®æ”¹Page Tableç´€éŒ„æ­¤Pageçš„Frame Noï¼Œä»¥åŠå°‡Invailaid å€¼æ”¹ç‚ºValidå€¼ OS æ¢å¾©ä¸­æ–·ä¹‹å‰Processçš„åŸ·è¡Œ  No.\n p8-5ç°¡å–®ä¸€é» p8-7 æ›´å¤šä¸€äº›stpes  Effective Memory Access Timeè¨ˆç®— in Virtual Memory å…¬å¼ï¼š\n$$ (1-p) \\times \\begin{matrix}\\text{memory} \\ \\text{Access} \\\\text{Time}\\end{matrix} + P \\times \\begin{matrix}\\text{Page Fault} \\ \\text{Process Time} \\\\end{matrix} $$\nProcess Fault Process Timeçš„æ™‚é–“è¶…ç´šä¹…ï¼\nwhere P is Page Fault Ration\nç¯„ä¾‹1.\n Memory Access Time: 200ns Page Fault process time: 5ms   è‹¥Page Fault ration = 10 %ï¼Œæ±‚effective memory access time  ans. (1-0.1) * 200ns + 0.1 *5ms = 180ns + 0.1 * 5 % 10 6ns = 500180ns\n           m milli æ¯« 10-3   u micro å¾® 10-6   n nano å¥ˆ 10-9    ç¯„ä¾‹2. `\nè‹¥å¸Œæœ›effective memory access timeä¸è¶…é2 msï¼Œå‰‡Page fault rationæ‡‰ç‚º?\nAns.\n(1-p) * 200ms + p * 5ms â‰¦ 2msÂ \n= p â‰’ 2/5\nå°çµ æ¬²é™ä½effective memory Access Timeæå‡VMæ•ˆç›Šï¼Œé—œéµåšæ³•åœ¨æ–¼é™ä½Page Fault Ration\n[049]\nå½±éŸ¿Page Fault rationå› ç´    Page Replacement æ³•å‰‡ä¹‹é¸æ“‡ Frame æ•¸ç›®åˆ†é…å¤šå¯¡ä¹‹å½±éŸ¿ Page Size å½±éŸ¿ Program Structure ä¹‹å½±éŸ¿   Page Replacement(é é¢æ›¿æ›) å®šç¾©ï¼šç•¶Page Faultç™¼ç”Ÿä¸”Memoryä¸­ç„¡Free frameæ™‚ï¼ŒOSå¿…é ˆåŸ·è¡Œæ­¤å·¥ä½œï¼Œå³é¸ä¸€å€‹Victim Page (or the replaced page)å°‡å®ƒSwap outåˆ°Diskä¿å­˜ï¼Œä»¥ç©ºå‡ºä¸€å€‹Free Frame\nåœ–ç¤ºï¼š\næœƒé¡å¤–å¤šå‡ºä¸€å€‹Disk I/Oé‹ä½œï¼Œæ‰€ä»¥Page falut process timeæ›´ä¹…\nå¦‚ä½•é™ä½Swap outæ­¤ä¸€é¡å¤–I/Oæ¬¡æ•¸ï¼Ÿ\nä½œæ³•ï¼šåœ¨Page Table å†å¼•é€²ä¸€å€‹æ¬„ä½ï¼ŒModification Bit æˆ– Dirty Bitï¼Œç”¨ä»¥è¡¨ç¤ºPageä¸Šæ¬¡è¼‰å…¥å¾Œï¼Œåˆ°ç¾åœ¨ï¼Œå…§å®¹æ˜¯å¦è¢«ä¿®æ”¹é\n 0ï¼šæ²’æœ‰\nï¼‘ï¼šæœ‰\n å¼•é€²é€™ä»¶äº‹æƒ…å¾Œï¼ŒOSå¯æª¢æŸ¥Victim pageçš„modification Bitå€¼ï¼Œè‹¥ç‚º0ï¼Œå‰‡ç„¡éœ€Swap it outï¼Œå› æ­¤å¯é™ä½I/Oæ¬¡æ•¸ï¼Œåä¹‹ï¼Œå‰‡éœ€Swap it outÂ \nNoteï¼šæ­¤Bitç”±MMU set(0\u0026mdash;\u0026gt;1)ï¼ŒOS Reference åŠ Reset (1 \u0026mdash;\u0026gt; 0)\nä¾‹é¡Œï¼š\n Page Fault process timeï¼š8ms  â€‹\tif æœ‰å¯ç”¨é æ¡†ï¼Œæˆ– the replaced page is not modified\n Page fault process tiem if victim page is modified : 20ms memory access timeï¼š100ns victim page is modified ä¹‹æ©Ÿç‡ ï¼š70%  æ±‚Page fault ration â‰¦ ? if effective memory access time â‰¦ 200ns\nAns.\n(1-p) * 100ns + p * page fault process time(0.3 * 8ms + 0.7 * 20ms)=16.4ms\n= (1-p * 100ns + p * 16.4 ms â‰¦ 200ns )\n= 100 - 100p + P* 16.4 * 10 6 â‰¦ã€€200 pÂ â‰¦ 1/ 163999\nä¾‹é¡Œï¼š\n  1æ¬¡ I/O time ï¼š10 ms\n  page Fault Rationï¼š10 %\n  Victim page modified rationï¼š60%\n  memory access timeï¼š200ns\n  æ±‚Effective memory access time\nAns .\n0.9 * 200ns + 0.1 *(page fault process time)(0.4 * 10 ms + 0.6 * 10ms *2 å…©æ¬¡I/O)\nreplacement policy æœ‰å…©ç¨®\n Local replacement policy Global replacement policy    Localï¼šOSåªèƒ½å¾ç™¼ç”ŸPage Fault çš„process ä¹‹Pagesä¸­ï¼Œå»æŒ‘victim page ï¼Œä¸å¯ä»¥å¾å…¶ä»–processesä¹‹pages(in memory)æŒ‘victim page\nç¼ºé»ï¼š\n Memory utilizationè¼ƒå·®  å„ªé»ï¼š\n å¯é™ç¸®Thrashing çš„ç¯„åœ    Globalï¼šOSå¯å¾å…¶ä»–processesæŒ‘victim page(ç›®å‰éƒ½æ˜¯æ¡æ­¤æ–¹æ¡ˆ) ç¼ºé»ï¼š\n ä¸èƒ½é™ç¸®Thrasingçš„ç¯„åœ  å„ªé»ï¼š\n Memory Utilizationè¼ƒä½³    Page replacementæ³•å‰‡ä»‹ç´¹  FIFO OPT LRU LRUUè¿‘ä¼¼  Additional Reference Bitws Usage Second chance Enhanced Second Chance   LFUèˆ‡MFU Page Buffering algo (åå‘æ©Ÿåˆ¶)  FIFO æ³•å‰‡ å®šç¾©ï¼šæœ€æ—©è¼‰å…¥(Loading Timeæœ€å°)çš„Pageï¼Œä½œç‚ºVictim page\n[049 00:45:00]\nç¯„ä¾‹ï¼šçµ¦äºˆ3å€‹Frames, Initially, they are all empty(æˆ– pure demand paging)æœ‰ä¸‹åˆ—çš„Page Reference String ï¼Œæ±‚Page Faultæ¬¡æ•¸\né é¢ç·¨è™Ÿï¼š7,0,1,2,0,3,0,4,2,3,0,3,2,1,2,0,1,7,0,1\næˆ–ã€€Page Size = 100ï¼Œä¸‹åˆ—å­˜å–ä½å€ï¼š731, 008, 117, 258, 039 , 331, 047 \u0026hellip;\næˆ–ã€€Logical address= 12 bits, Page Noä½”3 bitsï¼Œå­˜å–ä½å€å¦‚ä¸‹ï¼š7AF, 8BD, 259, 047, EAF, D72\nAns.\nåˆ†æï¼š\n  Simple , easy, implementation\n  æ•ˆèƒ½ä¸æ˜¯å¾ˆå¥½ï¼ŒPage Fault rationç›¸ç•¶é«˜\nNoteï¼šPage replacementæ³•å‰‡ä¸­ï¼Œåªæœ‰æœ€ä½³ï¼Œæ²’æœ‰æœ€å·®\n  å¯èƒ½æœ‰Belady Anormaly(ç•°å¸¸ç¾è±¡)\n  Belady Anormaly å®šç¾©ï¼šprocess åˆ†é…åˆ°çš„é æ¡†æ•¸å¢åŠ ï¼Œå…¶Page Fault rationå»ä¸é™åå‡ä¹‹ç•°å¸¸ç¾è±¡\nä¾‹å­ï¼š\né é¢ç·¨è™Ÿï¼š1,2,3,4,1,2,5,1,2,3,4,5\n 3å€‹é æ¡†  â€‹\t 4å€‹é æ¡†\n  Stack Property å®šç¾©ï¼šï¼šï½å€‹Framesæ‰€åŒ…å«çš„Page Setä¿è­‰æ˜¯(n+1)å€‹Frames \u0026hellip; ä¹‹å­é›†åˆ(subset)ï¼Œæ­¤æ€§è³ªç¨±ä¹‹\næ€§è³ªï¼šè‹¥å…·æœ‰ stack propertyï¼Œä¿è­‰ä¸æœƒæœ‰Belady Anormalyï¼Œåªæœ‰OPTèˆ‡LRUæ³•å‰‡ï¼Œå…·æœ‰stack propertyï¼Œæ‰€ä»¥ä»–å€‘ä¸æœƒç™¼ç”Ÿbelady anomaly\nOPT (Optional æœ€ä½³)æ³•å‰‡ å®šç¾©ï¼šé¸æ“‡å°‡ä¾†(æœªä¾†)é•·æœŸä¸æœƒç”¨åˆ°çš„Pageç‚ºVictim Page\nç¯„ä¾‹ï¼š\nåˆ†æï¼š\n  Page Fault rationæœ€ä½ï¼Œå› æ­¤æœ€ä½³\n  ä¸æœƒæœ‰Belady AnomalyS\n  ç„¡æ³•è¢«å¯¦ä½œ(å› ç‚º needs the future knowledge)ï¼Œé€šå¸¸åšç‚ºç†è«–ä¸Šç ”ç©¶æ¯”è¼ƒå°è±¡ä¹‹ç”¨\n  LRU(Least Recently Used)æ³•å‰‡ å®šç¾©ï¼šé¸æ“‡éå»ä¸å¸¸ä½¿ç”¨çš„Pageä½œç‚ºVictim Pageï¼Œå³ç›¸ç•¶æ–¼æ˜¯OPT reverse (ä¾æ­·å²info åšæ±ºå®šçš„OPT)å³æŒ‘é¸the last reference time æœ€å°çš„page\nåˆ†æï¼š\n Page fault rationå¯ä»¥æ¥å— ä¸æœƒç™¼ç”ŸBelady Anomaly LRUçš„è£½ä½œï¼Œé ˆè¦å¤§é‡Hardwareæ”¯æŒï¼Œå› æ­¤Costå¾ˆé«˜ï¼Œå› æ­¤æ‰æœ‰LRUè¿‘  LRUçš„è£½ä½œæ–¹æ³• æ–¹æ³•ä¸€ï¼šCounteræ³• æ­¥é©Ÿ\n æ¯ç™¼ç”Ÿmemory Acessï¼ŒCounterå€¼++ Copy Counterå€¼åˆ°Access Pageçš„\u0026quot;the last reference time\u0026quot;æ¬„ä½ï¼Œå°‡ä¾†OSè¦é¸LRU Pageæ™‚ï¼Œå°±æŒ‘the last reference timeæœ€å°çš„Page   æ–¹æ³•äºŒï¼šStack æ³•ã€€ æ­¤ç‚ºStack propertyä¹‹ç”±ä¾†\nå®šç¾©ï¼š\n æœ€å¾Œä¸€æ¬¡å­˜å–ä¹‹Page å¿…ç½®æ–¼Stack Topç«¯ Stack ä¹‹ Botton(åº•ç«¯)ï¼Œå³ç‚ºLRU Page Stackå¤§å°=Frameæ•¸ç›®  é‡‹ä¾‹ï¼š\nLRUè¿‘ä¼¼æ³•å‰‡ ä¸»è¦æ˜¯ä»¥Reference Bit(åƒè€ƒä½å…ƒ)ç‚ºåŸºç¤ï¼Œæ­¤ä½œæ³•è¼ƒç‚ºç°¡å–®\n0ï¼šæ­¤Pageä¸æ›¾è¢«åƒè€ƒé\n1ï¼šæ­¤Pageæ›¾è¢«åƒè€ƒé\n[050]\nAdditional Reference Bits usage ä½œæ³•ï¼šæ¯å€‹Page æœ‰ä¸€å€‹æ¬„ä½(or Register) ï¼Œä¾‹å¦‚ï¼š8 bits\nç•¶ç™¼ç”ŸMemory Accessï¼Œè©²è¢«Access Pageä¹‹Ref Bit æœƒ Setç‚º1\nç³»çµ±æ¯éš”ä¸€æ®µæ™‚é–“æœƒå°‡å„pageçš„registerå€¼å³ç§»ä¸€ä½(ç©ºå‡ºæœ€é«˜ä½å…ƒï¼Œæœ€å³ä½å…ƒæ¨å»)ä¸¦å°‡å„Pageä¹‹Ref Bitå€¼Copyåˆ°Registerä¹‹æœ€é«˜ä½å…ƒï¼Œä¸”Reset å„Page ä¹‹ref bit ç‚º0ï¼Œå°‡ä¾†è¦æ’victim pageæ™‚ï¼Œå°±æŒ‘Registeræœ€å°ä¹‹Pageï¼Œè‹¥å¤šå€‹Pageå…·ç›¸åŒå€¼ï¼Œå‰‡ä»¥FIFOç‚ºæº–\nåœ–ç¤ºï¼š\nçŠ§ç‰²é é¢æœƒæŒ‘Page2ï¼Œå› ç‚ºæš«å­˜å™¨çš„å€¼æœ€å°\nSecond Chance äºŒæ¬¡æ©Ÿæœƒæ³•å‰‡\nå®šç¾©ï¼šä»¥FIFOç‚ºåŸºç¤ï¼Œæ­é…Reference Bitä½¿ç”¨ï¼ŒæŒ‘victim pageä¹‹Stepså¦‚ä¸‹\n  å…ˆä»¥FIFO order æŒ‘å‡ºä¸€å€‹Page\n  æª¢æŸ¥æ­¤pageçš„Reference Bitå€¼\nCase 1ï¼šè‹¥ç‚º0ï¼Œå‰‡å®ƒå³Victim Page\nCase 2ï¼šè‹¥ç‚º1ï¼Œå‰‡çµ¦å®ƒæ©Ÿæœƒï¼Œä¸è®“å®ƒç•¶çŠ§ç‰²é é¢ã€‚ä½†Reset its Reference Bitå€¼ç‚º0ã€‚ä¸¦å°‡å®ƒçš„Loading Time(è¼‰å…¥æ™‚é–“)æ›´æ”¹ç‚ºç¾åœ¨ï¼Œå› æ­¤FIFOæŒ‡é‡å¾€ä¸‹æŒ‡ã€‚æ¥å›Step1\n  ä¾‹ï¼š\næŒ‘çŠ§ç‰²é é¢\nä¾‹ï¼š3å€‹Frames\né é¢åƒè€ƒï¼š1,2,3,4,2,5,2,6,1,2ï¼Œæ±‚Second Change\nNoteï¼šç•¶æ‰€æœ‰Pagesä¹‹Reference Bitçš†ç›¸åŒï¼Œå‰‡é€€åŒ–æˆFIFOã€‚ä¹Ÿå«Clock Algorithm\nEnhanced Second Chance åŠ å¼·å‹äºŒæ¬¡æ©Ÿæœƒ\nå®šç¾©ï¼šä»¥\u0026lt;Reference Bit, Modification Bit\u0026gt;é…å°å€¼ï¼Œä½œç‚ºæŒ‘é¸Victim Pageä¹‹ä¾æ“šï¼Œå€¼æœ€å°ä¹‹Pageï¼Œä½œç‚ºVictimã€‚è‹¥æœ‰å¤šå€‹Pageså…·ç›¸åŒå€¼ï¼Œå‰‡ä»¥FIFOç‚ºæº–\n   å€¼ \u0026lt;R bit, M bit\u0026gt;     ç¬¬ä¸€å° \u0026lt;0,0\u0026gt;   ç¬¬äºŒå° \u0026lt;0,1\u0026gt;   ç¬¬ä¸‰å° \u0026lt;1,0\u0026gt;   ç¬¬å››å° \u0026lt;1,1\u0026gt;    LFUèˆ‡MFUæ³•å‰‡ å®šç¾©ï¼šä»¥Pageçš„ç´¯ç©åƒè€ƒç¸½æ¬¡æ•¸ä½œç‚ºæŒ‘Victim Pageä¹‹ä¾æ“šï¼Œåˆ†ç‚ºå…©ç¨®ï¼š\n  LFU(Least Frequently Used)\næ¬¡æ•¸æœ€å°çš„Pageç‚ºVictim\n  MFU(Most Frequently Used)\næ¬¡æ•¸æœ€å¤§çš„page ç‚ºVimtim\n  è‹¥å¤šå€‹Pageså…·ç›¸åŒå€¼ï¼Œä¹Ÿæ˜¯FIFOç‚ºæº–\nåˆ†æï¼šè¨ˆç®—é¡ŒFIFO,OPT,LRUæœ€å¸¸è€ƒã€‚\n Page Fault Rationç›¸ç•¶é«˜ã€€ æœ‰Belady Anomoaly è£½ä½œéœ€å¤§é‡Hardwareæ”¯æŒï¼Œå› æ­¤Costå¾ˆé«˜  \nä¾‹ï¼š\n   Page Loadingã€€TIme The Last reference Time R bit M Bit åƒè€ƒæ¬¡æ•¸     Page1 493 800 0 0 410   Page2 172 700 1 1 235   Page3 333 430 0 1 147   Page4 584 621 1 0 875   Page5 256 564 0 1 432    åœ¨ä¸‹åˆ—æƒ…æ³ä¸­ï¼Œvictim pageç‚º\n  FIFOï¼šPage2\n  LRUï¼šPage3\n  Second Chanceï¼šPage5\n  Enhanced Second Chanceï¼šPage1\n  LFUï¼šPage3\n  MFUï¼šPage4\n  Page Bufferingæ©Ÿåˆ¶ ç·£ç”±ï¼šç•¶æŒ‘å‡ºVictim Pageä¹‹å¾Œï¼Œä¸”å®ƒè¢«Modifiedéï¼Œæ­¥é©Ÿå¦‚ä¸‹\n1. å‰‡æŠŠVictim PageSwap Out åˆ° Disk\n2. è¼‰å…¥Lost Page\n3. Process resume execution\n\u0026ndash;\u0026gt; IOå¤ªå¤šï¼ŒProcessæ¢å¾©åŸ·è¡Œçš„æ™‚é–“é»æ‹–å¤ªä¹…ï¼Œæƒ³è¦æ”¹å–„\næ–¹æ³•ä¸€ OS æœƒ Keepsä¸€å€‹ Free Frames Pool(OSçš„ç§æˆ¿éŒ¢ï¼Œä¸æ˜¯é…ç½®çµ¦Processçš„)\nåœ–ç¤ºï¼š\næµç¨‹ï¼š\nOSæŒ‘å®ŒçŠ§ç‰²é é¢(Modified)\næ­¥é©Ÿæ›´æ”¹å¦‚ä¸‹\n1. OSå¾Free Frame poolä¸­ï¼Œå–å‡ºä¸€å€‹Free Frameï¼Œä¾›Lost Pageä½¿ç”¨ï¼Œè®“å®ƒå…ˆè¼‰å…¥\n2. è¼‰å…¥å®Œå¾Œï¼ŒProcessæ¢å¾©åŸ·è¡Œ\n3. Process Resume execution\nOSå¯ç¨å¾Œå°‡Victim Page å¯«å›Diskï¼Œç©ºå‡ºFrameå†é‚„çµ¦OSï¼ŒåŠ å…¥Free Frame Poolä¸­\næ–¹æ³•äºŒ OSæœƒKeepä¸€æ¢Modification Listï¼Œè¨˜éŒ„æ‰€æœ‰è¢«Modifiedéçš„Page info(å³Modification Bitå€¼=1ä¹‹Pages)ï¼ŒOSæœƒç­‰Paging I/O Deviceæœ‰ç©ºæ™‚ï¼Œå°‡æ­¤Listä¸­æŸäº›Pageså¯«å›Diskï¼ŒåŒæ™‚è‡ªæ­¤Listä¸­ï¼Œç§»èµ°é€™äº›Pagesï¼ŒReset their Modification Bitå€¼ç‚º0ã€‚å¦‚æ­¤å¯å¢åŠ Victim pagesæ˜¯unmodified ä¹‹æ©Ÿç‡ï¼Œé€™æ¨£ç›´æ¥æŠŠLost PageæŠ“é€²ä¾†å°±å¥½ï¼Œé€™æ¨£Processæœ‰è¼ƒé«˜æ©Ÿæœƒå¿«é€Ÿresume exec\n[051 00:00:00 ~00:40:00]\næ–¹æ³•ä¸‰ å¸Œæœ›é€£ä¸€æ¬¡I/Oéƒ½ä¸è¦æœ‰ã€‚æ˜¯ä»¥æ–¹æ³•ä¸€ç‚ºåŸºç¤ï¼Œå·®åˆ¥åœ¨æ–¼é‡å°Free Frames Pool(ç§æˆ¿éŒ¢)ä¸­çš„æ¯å€‹Frameï¼Œç´€éŒ„æ”¾çš„æ˜¯å“ªå€‹Processçš„å“ªå€‹Page(\u0026lt;process ID, Page No\u0026gt;)ï¼Œé€™äº›Pageå…§å®¹å¿…å®šæ˜¯æœ€æ–°çš„\næµç¨‹ï¼š\n OSé¸å®ŒVictim Page(modified) OSå»Free Frames Poolä¸­å°‹æ‰¾æœ‰ç„¡Lost Pageå­˜åœ¨ã€‚è‹¥å­˜åœ¨ï¼Œä»£è¡¨å…¶å…§å®¹ç‚ºæœ€æ–°çš„ï¼Œå‰‡å°‡æ­¤Free FrameåŠ å…¥Resident Frames Poolä¸­ï¼ŒProcesså³å¯Resume execï¼Œé€£ä¸€æ¬¡I/Oéƒ½ä¸ç”¨ï¼ï¼ŒOSå¯«å›Victim Pageå¾Œï¼Œå†åŠ å…¥(é‚„çµ¦)Free Frames Poolï¼Œè‹¥ä¸å­˜åœ¨ï¼Œå‰‡ä¾æ–¹æ³•ä¸€æ­¥é©Ÿè™•ç†  . .\n.\né€™é‚Šçœ‹ä¸å¤ªæ‡‚ï¼Œå…ˆPass\n.\n.\n.\nFrame æ•¸ç›®åˆ†é…å¤šå¯¡ä¹‹å½±éŸ¿  ä¸€èˆ¬è€Œè¨€Processåˆ†é…åˆ°çš„é æ¡†æ•¸å¢åŠ ï¼Œå…¶Page Fault Rationç†æ‡‰ä¸‹é™ OSåœ¨åˆ†é…Processé æ¡†æ•¸æ™‚ï¼Œå¿…é ˆæ»¿è¶³æœ€å°‘åŠæœ€å¤šæ•¸ç›®ä¹‹é™åˆ¶ï¼Œé€™å…©å€‹é™åˆ¶å‡ç”±Hardwareæ±ºå®šçš„ï¼ŒéOS  æœ€å¤šæ•¸ç›®é™åˆ¶å³æ˜¯Physical Memory Size(é æ¡†ç¸½æ•¸)\næœ€å°‘æ•¸ç›®é™åˆ¶å³æ˜¯CPUå®Œæˆæ©Ÿå™¨æŒ‡ä»¤åŸ·è¡Œéç¨‹ä¸­ï¼Œæœ€å¤šçš„å¯èƒ½Memoryå­˜å–æ¬¡æ•¸ï¼Œå¦å‰‡æ©Ÿå™¨æŒ‡ä»¤å¯èƒ½æ°¸é ç„¡æ³•å®Œæˆ\nä¾‹ï¼š\n[051] 01:10:00 çœ‹ä¸å¤ªæ‡‚ï¼Œéœ€è¦è¨ˆçµ„çŸ¥è­˜\n å‡è¨­æŒ‡ä»¤ä¸è·¨é é¢ é‹ç®—å…ƒ(memoryè®Šæ•¸)æ˜¯æ¡ç”¨Direct AddressingÂ   å‰‡æœ€å¤šå¯èƒ½éœ€è¦3æ¬¡Memory Access(M.A.)ï¼Œå› æ­¤osè‡³å°‘è¦åˆ†çµ¦process â‰§3å€‹Frames\nThrashingç¾è±¡ â˜†â˜†â˜†â˜†â˜† Thrashing meaning å¾’å‹ç„¡åŠŸ\nå®šç¾©ï¼šè‹¥Processåˆ†é…åˆ°çš„é æ¡†æ•¸ä¸è¶³æ™‚ï¼Œå‰‡æ­¤Processæœƒç¶“å¸¸Page Faultï¼Œä¸”OSè¦åšPage Replacementï¼Œè‹¥OSæ¡ç”¨Global replacement policyï¼Œæ‰€ä»¥OSå¯èƒ½æŒ‘å…¶ä»–Processä¹‹Pageï¼Œè€Œé€™ä¹Ÿæœƒé€ æˆå…¶ä»–Process Page Faultï¼Œå®ƒå€‘ä¹Ÿæœƒå»æ¶å¥ªåˆ¥çš„Processä¹‹Frameä¾†ç”¨ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œå¹¾ä¹æ‰€æœ‰çš„Processesçš†Page Faultï¼Œå¤§å®¶çš†åœ¨ç­‰å¾…Paging I/O Device ä¹‹I/O é‹ä½œ(swapÂ out/in)å®Œæˆï¼ŒCPU Utilizationä¸‹é™ï¼Œç³»çµ±æœƒä¼åœ–èª¿é«˜Multiprogramming degreeï¼Œå¼•å…¥æ›´å¤šProcessé€²å…¥åŸ·è¡Œï¼Œä½†æ˜¯Memoryæœ¬ä¾†å°±ä¸å¤ ï¼ŒProcessä¹Ÿç«‹åˆ»Page Faultï¼Œç³»çµ±åˆèª¿é«˜Multiprogramming Degreeï¼Œå¦‚æ­¤å¾ªç’°ä¸‹å»ï¼Œæ­¤æ™‚ç³»çµ±å‘ˆç¾\n CPU Utilizationæ€¥é€Ÿä¸‹é™ Paging I/O Device ç•°å¸¸å¿™ç¢Œ ProcessesèŠ±åœ¨Page Fault Processing Time(å°±æ˜¯é–’ç½®æ™‚é–“å•¦)é å¤§æ–¼æ­£å¸¸åŸ·è¡Œæ™‚é–“ï¼Œæ­¤ä¸€ç¾è±¡ç¨±ç‚ºThrashing  è§£æ±º/é é˜² Thrashing æ–¹æ³•ä¸€ æ¸›å°‘ Multiprogramming DegreeÂ \nä¾‹å¦‚æŒ‘é¸ä¸€äº›lower-priority æˆ–å®Œæˆåº¦ä½ Process swap-out\næ–¹æ³•äºŒ åˆ©ç”¨Page Fault Frequency Control æ©Ÿåˆ¶ï¼Œä¾†é˜²æ­¢/é é˜²Thrashimgç™¼ç”Ÿ\nä½œæ³•ï¼šOSæœƒå»åˆ¶å®šprocess Page Fault Rationä¹‹åˆç†çš„ä¸Šé™èˆ‡ä¸‹é™å€¼\nOSè‹¥ç™¼ç¾Processçš„Page Fault ration\n é«˜æ–¼ä¸Šé™ï¼Œå‰‡OSæ‡‰å¢åŠ é¡å¤–Frameæ•¸ç›®çµ¦æ­¤Processï¼Œé™ä½å…¶Ratioï¼Œå›åˆ°åˆç†å€é–“ ä½æ–¼ä¸‹é™ï¼Œå‰‡OSè‡ªæ­¤Processå–èµ°å¤šé¤˜çš„Frameï¼Œåˆ†çµ¦å…¶ä»–æœ‰éœ€è¦ä¹‹Processes  è‹¥OSèƒ½å¤ æ§åˆ¶æ‰€æœ‰processesä¹‹Page Fault ratio åœ¨åˆç†å€é–“ï¼Œå‰‡ç†ç•¶ä¸æœƒæœ‰Thrashing\næ–¹æ³•ä¸‰\né‹ç”¨Working Set ModelæŠ€è¡“é ä¼°Processåœ¨ä¸åŒåŸ·è¡Œæ™‚æœŸæ‰€éœ€ä¹‹é æ¡†æ•¸ï¼Œä¸¦ä¾æ­¤åˆ†é…å„Processè¶³å¤ çš„Frameæ•¸ç›®ï¼Œä»¥é˜²æ­¢Thrashing\nWorking Set Model æŠ€è¡“ æ˜¯æ¶åœ¨\u0026quot;Locality Mode\u0026quot;ä¹‹ç†è«–åŸºç¤ä¸Š\nå®šç¾©ï¼šProcessåŸ·è¡Œæ™‚ï¼Œå°æ–¼æ‰€å­˜å–çš„Memory Areaï¼Œä¸¦éæ˜¯å‡å‹»çš„ï¼Œè€Œæ˜¯å…·æœ‰æŸç¨®å±€éƒ¨/é›†ä¸­å€åŸŸå­˜å–ä¹‹ç‰¹æ€§ï¼Œä¸€èˆ¬åˆ†ç‚ºå…©ç¨®Locality\n Temporalæ™‚é–“ Locality Spatialç©ºé–“ Locality  Temporal Locality ç›®å‰æ‰€å­˜å–çš„å€åŸŸï¼Œéä¸ä¹…åˆæœƒå†åº¦è¢«å­˜å–(æˆ–æ­¤å€åŸŸç¶“å¸¸è¢«å­˜å–)\nä¾‹ï¼šFor LoopÂ (while, for , repeat \u0026hellip;), Subroutineå‰¯ç¨‹å¼(function, pure code), Counter, Stack\nSpatial Locality å®šç¾©ï¼šç›®å‰æ‰€å­˜å–ä¹‹å€åŸŸï¼Œå…¶é„°è¿‘çš„å€åŸŸï¼Œä¹Ÿå³æœ‰å¯èƒ½è¢«å­˜å–\nä¾‹ï¼šArray, Sequential Code Execution, Common Data area, Linear Search, Vector operat\n[052]\nåªè¦Programä¸­ç”¨åˆ°çš„æŒ‡ä»¤, Data Structures, algo ç¬¦åˆ Locality Model å‰‡ç‚ºGood(æ‰€ä»¥ Page Fault Ratio åº¦æœƒä¸‹é™) è‹¥é•åï¼Œå‰‡ç‚ºBad\nä¾‹ï¼šBAD Samples\nAnsï¼šHashing(åˆ†æ•£åœ¨å„å€‹è¨˜æ†¶é«”é é¢ï¼Œä¸ç¬¦ç©ºé–“å±€éƒ¨æ€§), Binary Search(è·³ä¾†è·³å»), LinkedList(æ•£è½åœ¨ä¸åŒé é¢), goto JumpæŒ‡ä»¤(è·³ä¾†è·³å»), Indirect Addressing mode(é–“æ¥å®šå€æ¨¡å¼)\nWorking Set Modelç›¸é—œè¡“èªè§£æï¼š\n Working Set windowï¼šè¨˜ç‚ºâ–³è¡¨ç¤ºä»¥â–³æ¬¡ã€€Pages reference ä½œç‚ºçµ±è¨ˆWorking Setä¹‹ä¾æ“š Working Set:Â  åœ¨â–³æ¬¡Pageåƒè€ƒä¸­ï¼Œæ‰€åƒè€ƒåˆ°çš„ä¸åŒPagesä¹‹é›†åˆ Working Set Size(WSS)ï¼šworking Setä¹‹ å…ƒç´ (Page)å€‹æ•¸ï¼Œä»£è¡¨Process æ­¤æ™‚æ‰€éœ€ä¹‹é æ¡†æ•¸  [052] 00:13:00\nä¾‹é¡Œï¼šåˆ°æ™‚å€™å†ä¾†è£œ\nPage Size ä¹‹å½±éŸ¿ è‹¥Page Sizeè¶Šå°ï¼Œå‰‡\n  Page Fault ratioï¼šä¸Šå‡ Page Table Size ï¼šè®Šæ•¸ I/Oæ¬¡æ•¸(total Time)ï¼šå¢åŠ  å…§éƒ¨ç¢è£‚ï¼šè¼•å¾® I/O Transfer Timeï¼šè®Šå° Localityï¼šè¶Šä½³   è¶¨å‹¢ï¼šæœPage sizeå¤§çš„æ›´æ–°ï¼Œå› ç‚ºæˆ‘å€‘åªé—œå¿ƒPage Fault ration\nProgram Structures ä¹‹å½±éŸ¿   è‹¥Proframä¸­ä½¿ç”¨çš„æŒ‡ä»¤Data Structure, Algo ç¬¦åˆ \u0026ldquo;Locality Model\u0026rdquo;ï¼Œå‰‡ç‚ºGOOD(æœ‰åŠ©æ–¼é™ä½Page Fault Ratio)ï¼Œåä¹‹ï¼Œè‹¥é•åï¼Œå‰‡ç‚ºBAD\n  ç¨‹å¼ä¸­å°æ–¼Arrrayå…ƒç´ çš„è™•ç†é †åºæœ€å¥½èˆ‡Arrayå…ƒç´ åœ¨Memoryä¸­çš„å„²å­˜æ–¹å¼(Row-Majoræˆ–Column-mahor)å°æ‡‰ï¼Œæœ‰åŠ©æ–¼é™ä½Page FaultÂ ratio\nä¾‹ï¼šAï¼šArray[1..128,1..128] of int;\næ¯å€‹int ä½” 1 bytes\nAä»¥Row-major(ç¬¬ä¸€åˆ—æ”¾å®Œå†æ”¾ç¬¬äºŒåˆ—åœ¨æ”¾ç¬¬ä¸‰åˆ—...)æ–¹å¼å­˜æ–¼Memory\nPage Size= 128 byte\nçµ¦3å€‹Framesï¼Œä¸”ç¨‹å¼å·²åœ¨Memoryä¸­\næ¡FIFO Replacemenrt policy\næ±‚ä¸‹åˆ—Codeä¹‹Page Faultæ¬¡æ•¸\n1 2 3  for i = 1 to 128 do for j = 1 to 128 do A[i,j]=0   1 2 3  for j=1 to 128 do for i to 128 do A[i,j] = 0    Row-Major çš„æ’åˆ—æ–¹å¼ Column-Major  ä¾‹2ï¼šAï¼šArray[1..100,1..100] of int;\næ¯å€‹int ä½” 1 bytes\nAä»¥Row-major(ç¬¬ä¸€åˆ—æ”¾å®Œå†æ”¾ç¬¬äºŒåˆ—åœ¨æ”¾ç¬¬ä¸‰åˆ—...)æ–¹å¼å­˜æ–¼Memory\nPage Size= 200 byte\nçµ¦3å€‹Framesï¼Œä¸”ç¨‹å¼å·²åœ¨Memoryä¸­\næ¡LRU Replacemenrt policy\næ±‚ä¸‹åˆ—Codeä¹‹Page Faultæ¬¡æ•¸\n1 2 3  for i = 1 to 100 do for j = 1 to 100 do A[i,j]=0   1 2 3  for j=1 to 100 do for i to 100 do A[i,j] = 0         Copy-On-WriteæŠ€è¡“ (æ­¤è™•ä¸»è¦æ˜¯è¨è«–3ç¨®Fork())\n  å‚³çµ±çš„Fork() ch4\n(fork () without \u0026ldquo;copy-on-write\u0026rdquo;)\nå®šç¾©ï¼šParent process fork() å»ºç«‹å‡ºChild processï¼ŒOSæœƒé…ç½®New Framesçµ¦Child Process(å³Child èˆ‡ Parent å ç”¨ä¸åŒçš„Memory Space)ï¼ŒåŒæ™‚OSä¹Ÿè¦è¤‡è£½(Copy)Parent Processå…§å®¹(code Sec åŠ Data Sec)çµ¦Child Process initially\næ­¤èˆ‰æœƒå°è‡´å…©å€‹ç¼ºå¤±\n Memory(Frames)éœ€æ±‚é‡å¤§å¢ Slower Child Process Creation  è€Œä¸”ä¸Šè¿°åšæ³•åœ¨Child ç”Ÿå‡ºå¾Œï¼Œç«‹åˆ»åŸ·è¡Œexeclp()ä½œå…¶ä»–Taskæ™‚ï¼Œæ›´åŠ é¡¯å¾—ç„¡ç”¨ unnecessary(ä¸é©åˆï¼Œå› ç‚ºæ²’æœ‰å…±é€šçš„æ±è¥¿ï¼Œå»è¦Copyä¸ç”¨çš„æ±è¥¿çµ¦child)\n  Fork() with copy-on-write\nå®šç¾©ï¼šç•¶Parent Process ç”Ÿå‡ºchild process ä¹‹åˆï¼ŒOSæœƒè®“childå…±äº«parent processä¹‹memory(frames)ç©ºé–“ï¼Œå¦‚æ­¤ï¼Œç„¡é ˆé…ç½®çµ¦Child process New Frames ä¸”ä¹Ÿä¸ç”¨Copy Parent å…§å®¹çµ¦Childï¼Œå› æ­¤å¯é™ä½é æ¡†éœ€æ±‚é‡åŠåŠ é€ŸSpeed Up process Creationã€‚\nä½†æ˜¯ï¼Œä»»ä½•ä¸€æ–¹æ”¹è®Šäº†æŸPageå…§å®¹ï¼Œå‰‡å¦ä¸€æ–¹æœƒå—åˆ°å½±éŸ¿(æ­¤ç‚ºrisk)ï¼Œæ‰€ä»¥å¼•å…¥Copy-on-writeæŠ€è¡“ï¼Œå³eg. è‹¥Child Process æƒ³è¦æ›´æ”¹æŸPageå…§å®¹(eg. Stackå…§å®¹)ï¼Œå‰‡OSæœƒé…ç½®ä¸€å€‹New Frameçµ¦Childï¼Œä¸”Copy Pageå…§å®¹åˆ°new Frameä¸­ï¼Œä¸”ä¿®æ”¹Childçš„page Table æŒ‡å‘ New Frameï¼Œä¾›Child ä½¿ç”¨/ä¿®æ”¹ï¼Œå¦‚æ­¤ï¼Œå‰‡ä¸æœƒå½±éŸ¿Parent\nå› æ­¤é‚£äº›æœ‰Modifiedå¯èƒ½çš„Pagesï¼Œé ˆæ¨™ç¤ºCopy-on-writeï¼Œè€Œæœ‰äº›ä¸æœƒModified çš„Page(eg: read-only code/data)å‰‡ä¸é ˆæ¨™ç¤ºï¼Œå‰‡å¯å…±äº«\n  Vfork() (virtual memory fork())\nå®šç¾©ï¼šParent ç”Ÿå‡ºChild ä¹‹åˆï¼Œä¹Ÿæ˜¯è®“Childå…±äº«parentç›¸åŒçš„framesï¼Œä½†æ˜¯ï¼Œå®ƒä¸¦æœªæä¾›Copy-on-weiteæŠ€è¡“ï¼Œæ‰€ä»¥ï¼Œä»»ä½•ä¸€æ–¹æ”¹è®Šäº†æŸPageå…§å®¹ï¼Œå‰‡å¦ä¸€æ–¹æœƒå—åˆ°å½±éŸ¿ï¼Œæ•…å‹™å¿…å°å¿ƒä½¿ç”¨ã€‚é€™å€‹æ±è¥¿ç‰¹åˆ¥é©åˆç”¨åœ¨ï¼šç•¶ç”Ÿå‡ºChild å¾Œï¼ŒChildç«‹åˆ»åŸ·è¡Œexeclp()å»ä½œå…¶ä»–taskæ™‚ï¼ŒVfork()éå¸¸æœ‰æ•ˆç‡ã€‚ä¾‹å¦‚ï¼šCommand Interpreterè£½ä½œ(egï¼šUnix shell)\n  TLB Reach å®šç¾©ï¼šç¶“ç”±TLB Mapping æ‰€èƒ½å­˜å–åˆ°çš„Memory Areaå¤§å°ï¼Œå³TLB ReachÂ = TLB Entryæ•¸ç›® * Page Size\neg. TLBæœ‰8å€‹Entryï¼Œä¸”Page Szie= 16 KBï¼Œæ‰€ä»¥TLB reach = 8 * 16kb = 128 kb\nNoteï¼šå¸Œæœ› TLB Reach è¶Šå¤§è¶Šå¥½\nQï¼šå¦‚ä½•åŠ å¤§TLB Reach?\næ–¹æ³•ä¸€ æé«˜TLB Entryæ•¸ç›®\nå„ªé»ï¼š\n TLB Reach è®Šå¤§ é€£å¸¶TLB Hit Ratioä¹Ÿè¼ƒé«˜   TLB (Translation Lookaside Buffer) Hit Ratio æ˜¯è¨ˆç®—è™›æ“¬è¨˜æ†¶é«”ç®¡ç†ä¸­ TLB å‘½ä¸­ç‡çš„ä¸€å€‹æŒ‡æ¨™ã€‚TLB æ˜¯è™•ç†å™¨ä¸­ä¸€ç¨®ç¡¬é«”å¿«å–ï¼Œç”¨æ–¼åŠ é€Ÿè™›æ“¬è¨˜æ†¶é«”çš„åœ°å€è½‰æ›éç¨‹ã€‚ç•¶ç¨‹å¼å­˜å–ä¸€å€‹è™›æ“¬è¨˜æ†¶é«”é é¢æ™‚ï¼Œè™•ç†å™¨æœƒå…ˆåœ¨ TLB ä¸­æŸ¥æ‰¾æ˜¯å¦å·²ç¶“æœ‰è©²é é¢çš„è½‰æ›è³‡æ–™ã€‚å¦‚æœæœ‰ï¼Œå°±å¯ä»¥ç›´æ¥é€²è¡Œåœ°å€è½‰æ›ï¼Œç¨±ç‚º TLB å‘½ä¸­ã€‚å¦‚æœæ²’æœ‰ï¼Œå‰‡éœ€è¦å¾ä¸»è¨˜æ†¶é«”ä¸­è®€å–è½‰æ›è³‡æ–™ï¼Œä¸¦ä¸”æ›´æ–° TLB ä¸­çš„å…§å®¹ï¼Œç¨±ç‚º TLB éŒ¯èª¤ã€‚\nTLB Hit Ratio å°±æ˜¯ TLB å‘½ä¸­ç‡ï¼Œå³åœ¨è™›æ“¬è¨˜æ†¶é«”ç®¡ç†ä¸­ï¼ŒTLB å‘½ä¸­çš„æ¬¡æ•¸èˆ‡ç¸½å­˜å–æ¬¡æ•¸ä¹‹æ¯”ã€‚é€™å€‹æŒ‡æ¨™åæ˜ äº† TLB çš„æ•ˆç‡ï¼Œä¹Ÿå¯ä»¥ç”¨ä¾†è©•ä¼°è™›æ“¬è¨˜æ†¶é«”å­ç³»çµ±çš„æ•ˆèƒ½ã€‚ä¸€èˆ¬ä¾†èªªï¼Œé«˜çš„ TLB Hit Ratio è¡¨ç¤ºè™•ç†å™¨èƒ½å¤ æ›´å¿«é€Ÿåœ°å®Œæˆåœ°å€è½‰æ›ï¼Œå› ç‚ºæœ‰æ›´å¤šçš„è½‰æ›è³‡æ–™è¢«å¿«å–åœ¨ TLB ä¸­ã€‚\n ç¼ºé»ï¼š\n æˆæœ¬è²´(é«˜) æœ‰æ™‚TLB Entryæ•¸ä»ä¸è¶³ä»¥æ¶µè“‹Process   æ–¹æ³•äºŒ åŠ å¤§Page Size\nå„ªé»ï¼š\n åŠ å¤§TLB Reach Costå¯æ¥å—  ç¼ºé»ï¼š\n  å…§éƒ¨ç¢è£‚æœƒå¾ˆåš´é‡\n  è§£æ±ºæ–¹æ³•ï¼šç¾ä»£å¾ˆå¤šç¡¬é«”å‡æä¾›ä¸€äº›ä¸åŒå¤§å°çš„Page(Multiple Page Size)\n  eg . æä¾›ä¹™çµ„Page Size (4 KB, 2 MB)\n  å› æ­¤TLB ç´€éŒ„é …ç›®å¤šå¢åŠ ä¸€å€‹Page(Frame) Size\n     Page No Frame No Page(Frame) Size      æ­¤å¤–ï¼ŒTLBç®¡ç†ä»¥å‰æ˜¯Hardwareç®¡ç†ï¼Œç¾åœ¨å§”ç”±OSç®¡ç†ï¼Œé€™æ¨£å¸¶ä¾†çš„å¥½è™•é å¤§æ–¼æ•ˆèƒ½ä¸‹é™çš„å£è™•\n    [053 1:29:23]\nChapter 9 Disk Management  Disk System çµ„æˆå³å¤§å°è¨ˆç®— â˜†â˜†\nDisk Access Time çµ„æˆ è¨ˆç®— â˜†â˜†â˜†â˜†\nDisk Free Space Management(4ç¨®) å¾ˆå°‘è€ƒ\nFile Allocatation Method(3ç¨®) â˜†â˜†â˜†â˜†â˜†\nDisk Scheduling Algo (6ç¨®) â˜†â˜†â˜†â˜†â˜†\nå…¶ä»–åè© è€ƒå€‹ä¸€å…©æ¬¡å§\n Formatting â˜†\nRaw-I/O x\nBootstrap loader, Boot Disk â˜†â˜†\nBad Sectors è™•ç†æ–¹æ³•(3ç¨®) â˜†â˜†â˜†\nSwap Space Mangement (2æ–¹æ³•) â˜†\nRAID ä»‹ç´¹ â˜†â˜†â˜†â˜†\n  â€‹\nDisk Systemçµ„æˆ å®šç¾©ï¼šDisk System ç”±å¤šç‰‡Disksçµ„æˆï¼Œ\n æ¯ç‰‡Diské€šå¸¸é›™é¢(Double-side)ï¼Œå¯å­˜Data æ¯ä¸€é¢(surface)åŠƒåˆ†ç‚ºå¤šå€‹åŒå¿ƒåœ“è»Œé“ï¼Œå«åšç£è»Œ(Track) æ¯æ¢Trackç”±å¤šå€‹Sector(ç£å€)æ‰€çµ„æˆ ä¸åŒé¢ä¹‹ç›¸åŒTrack Noçµ„æˆä¹‹Track é›†åˆï¼Œå«åšCylinder(ç£æŸ±)  åœ–ç¤ºï¼š\nä¾‹ï¼šDisk Systemæœ‰10ç‰‡Disk\n æ¯ç‰‡çš†é›™é¢å¯å­˜ æ¯é¢æœ‰2048æ¢Tracks æ¯æ¢Trackæœ‰4096å€‹Sectors æ¯å€‹Sectorå¯å­˜16KB Data  æ±‚Disk System Size?\nAns.\n10 * 2 * 2048 * 4096 * 16KB = 20 * 211 * 2 12 * 2 14 Bytes\n= 10 * 238 bytes = 2.5 * 2 40 bytes = 2.5 TB\nDisk Access Time å®šç¾©ï¼šDisk Access Time ç”±ä¸‹åˆ—3å€‹æ™‚é–“åŠ ç¸½è€Œå¾—\n Seek Time Latency Time (or Rotationæ—‹è½‰ Time) Transfer Time  åˆ†è¿°å¦‚ä¸‹ï¼š\n Seek Timeï¼šå°‡Head(ç£é ­)ç§»åˆ°æ¬²å­˜å–ä¹‹Trackä¸Šæ–¹æ‰€èŠ±çš„æ™‚é–“ Latency Timeï¼šå°‡æ¬²å­˜å–ä¹‹Sector è½‰åˆ°Head ä¸‹æ–¹æ‰€èŠ±çš„æ™‚é–“ Transfer Timeï¼šDataåœ¨Disk èˆ‡ Memory ä¹‹é–“çš„å‚³è¼¸æ™‚é–“ï¼Œèˆ‡å‚³è¼¸é‡æˆæ­£æ¯”  æ­¤å¤–ä¸Šè¿°3è€…é€šå¸¸ä»¥ Seek time ä½”æ¯”è¼ƒå¤§\nè¨ˆç®—ï¼š\nä¾‹1ï¼š\nDisk è½‰é€Ÿ 7200 rpmï¼Œæ±‚Avg Latency (rotation) Time?\nAns.\n7200 rpm = ä¸€åˆ†é˜è½‰7200æ¬¡ = ä¸€ç§’é˜120æ¬¡ = è½‰ä¸€åœˆ1/120 ç§’\nå¹³å‡Rotation Time = 1/2 * 1/120 = 1/240 ç§’\nä¾‹2ï¼š\nDisk System æœ‰3ç‰‡Disksï¼Œé›™é¢å¯å­˜\n æ¯é¢æœ‰1024æ¢Tracks æ¯æ¢Trackæœ‰40%å€‹Sectors æ¯å€‹Sectorå¯å­˜32KB è½‰é€Ÿ6000 rpm  æ±‚Transfer Rate(å³æ¯ç§’å¯å‚³è¼¸å¤šå¤§é‡Data)\nAns.\n6000 Rpm = 1ç§’å¯è½‰ 6000/60 = 100åœˆ\næ¯è½‰ä¸€åœˆå¯å‚³è¼¸ä¸€å€‹Cylinderå®¹é‡(å¤šé¢æ™‚)\nå› ç‚ºä¸€æ¢Trackå®¹é‡ = 4096 * 32 Kb\nä¸€æ¢Cylinderå®¹é‡ = 6æ¢Track * 4096 * 32KB\n= 6 * 128 MB\nTransfer Rate = 100 * 6 * 128 MB/secÂ \n= 600 * 128 Mb/Sec\nä¾‹3ï¼š\næ‰¿ä¸Šï¼Œè‹¥Diskå¹³å‡Seek Time = 10 msï¼Œä»Šæœ‰ä¸€å€‹Fileå¤§å°=2MBï¼Œæ¬²read this fileï¼Œè¦èŠ±å¤šå°‘I/O TIme?\nAns.\nSeekTime + Latency time + Transfer Time = 10 ms +(1/2 * 1/100)ç§’ + 2MB / 500 * 128MB\n= 10 ms + ms + 10 / 3*128 ms\nDisk Free Space Management æœ‰å››ç¨®æ–¹æ³•\n Bit Vector(æˆ–Bit Map) Link List Grouping Counting  Bit Vector(Bit Map) (ä½å…ƒå‘é‡/åœ°åœ–)\nå®šç¾©ï¼šæ¯ä¸€å€‹Blockçš†ç”¨ä¸€å€‹Bitè¡¨ç¤ºFreeèˆ‡å¦\n0ï¼šè¡¨Free\n1ï¼šè¡¨Allocated\nDiskæœ‰nå€‹Blockï¼Œå‰‡Bit Vectorå¤§å°= n Bit\nä¾‹\n   0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15     0 0 1 0 0 0 0 1 0 1 1 0 0 0 1 0    å„ªé»ï¼š\n ç°¡å–®æ˜“å¯¦æ–½ å®¹æ˜“æ‰¾åˆ°é€£çºŒçš„Free Block(å³é€£çºŒçš„0)  ç¼ºé»ï¼š\n å°å‹Diské©ç”¨ï¼Œä½†å¤§å‹Diskä¸é©ç”¨ï¼Œå› ç‚ºBlockæ•¸ç›®é¾å¤§ï¼Œé€ æˆBlock Vector Sizeå¾ˆå¤§ï¼Œå¾ˆä½”Memory Spaceç”šè‡³è¢«è¿«ç½®æ–¼Disk  Link List å®šç¾©ï¼šOSç›´æ¥åœ¨Diskä¸Šï¼Œå°‡é€™äº›Free Blocksä»¥Linkingæ–¹å¼ä¸²æ¥ï¼Œé€²è¡Œç®¡ç†\nå„ªé»ï¼š\n1. å¤§å‹Diské©ç”¨\n2. æ’å…¥/åˆªé™¤ Free Blockæ–¹ä¾¿\nç¼ºé»ï¼š\n1. ä¸å¤ è¿…é€Ÿå»æ‰¾å¤§é‡çš„å¯ç”¨å€å¡Šï¼Œå› ç‚ºDiskä¸Šè®€å–Link Infoè€—æ™‚(I/O)\nNoteï¼šç”¨Groupingæ³•æ”¹å–„\n2. ä¸å®¹æ˜“æ‰¾åˆ°é€£çºŒçš„Free Blocks\nNoteï¼šç”¨Countingæ³•æ”¹å–„\nGrouping å®šç¾©ï¼šæ˜¯Link Listæ³•ä¹‹è®Šå½¢ï¼Œåœ¨Free Blockå…§é™¤äº†ç´€éŒ„ Link Infoä¹‹å¤–ï¼Œå¦é¡å¤–ç´€éŒ„å…¶ä»–Free Blockä¹‹No(Address)\nä¾‹ï¼š(Assume one Block å¯è¨˜5å€‹æ¬„ä½)\nå„ªé»ï¼šå¯è¿…é€Ÿæ‰¾åˆ°å¤§é‡çš„Free Blocks\nCounting å®šç¾©ï¼šåˆ©ç”¨é€£çºŒæ€§é…ç½®åŠé€£çºŒæ€§æ­¸é‚„ä¹‹ç‰¹æ€§ï¼Œç¨åŠ æ”¹è®ŠLink Listè¨˜éŒ„æ–¹å¼ï¼ŒFree Block å…§é™¤äº†ç´€éŒ„Linking infoä»¥å¤–ï¼Œå¦å¤–ç´€éŒ„åœ¨æ­¤Free Blockä¹‹å¾Œçš„é€£çºŒFree Blockä¹‹å€‹æ•¸\nä¾‹ï¼š\nå„ªé»ï¼š\né©ç”¨æ–¼é€£çºŒæ€§é…ç½®ï¼Œæ–¹ä¾¿æ‰¾åˆ°é€£çºŒæ€§çš„Free Blockï¼Œä¸”è‹¥é€£çºŒçš„Free Blockå¾ˆå¤šï¼ŒLink Listé•·åº¦ä¹Ÿå¯å¤§å¹…ç¸®çŸ­\n[054]\nFile Allocation Methods â˜†â˜†â˜†â˜†â˜† ä¸»è¦æœ‰ä¸‰å¤§æ–¹æ³•\n Contiguous Allocation(é€£çºŒæ€§) Linked Allocation(éˆçµå¼)  æœ‰ä¸€å€‹è®Šå½¢å«åš FAT metohd   Index Allocation(ç´¢å¼•å¼)  ä¾‹ï¼šUNIXçš„I-Node Structure    Contiguous Allocation å®šç¾©ï¼šè‹¥Fileå¤§å°=nå€‹Blocksï¼Œå‰‡OSå¿…é ˆåœ¨Diskä¸­æ‰¾åˆ°nå€‹é€£çºŒæ€§çš„Free Blocksæ‰èƒ½é…ç½®çµ¦å®ƒï¼Œæ­¤å¤–OSåœ¨Physical Directoryï¼Œæœƒè¨˜éŒ„ä¸‹åˆ—è³‡è¨Š\n   File Name Strat Block No Size(å€å¡Šæ•¸)           ä¾‹ï¼š\nè‹¥File1å¤§å°=3å€‹Blocksï¼Œå‰‡OSé…ç½®6,7,8è™ŸBlockçµ¦å®ƒï¼Œä¸”Physical Directoryç´€éŒ„å¦‚ä¸‹\n   File Name State No Size     File1 6 3    å„ªé»ï¼š\n å¹³å‡SeekTimeè¼ƒå°(å› ç‚ºBlockså¤§éƒ½è½åœ¨åŒä¸€æ¢Trackæˆ–é„°è¿‘Trackä¸Š) å¯æ”¯æŒRamdom(Direct) AccessåŠSequential Access å¯é åº¦è¼ƒé«˜(than Linked Allocation) å¾ªåºå­˜å–é€Ÿåº¦è¼ƒå¿«(than LinkedList)  ç¼ºé»ï¼š\n æœƒæœ‰External Fragmentation(å¤–éƒ¨ç¢è£‚)(Noteï¼šDiskç”¨Repack(ç£ç¢Ÿé‡çµ„)æ–¹å¼è§£æ±ºï¼Œé¡ä¼¼Memoryçš„Compaction)(Noteï¼šæ‰€æœ‰Fileé…ç½®æ–¹æ³•çš†æœ‰å…§éƒ¨ç¢è£‚)   eg. Block Size = 10KB, Fileå¤§å°=44 KB, é…5å€‹Blocksï¼Œå…§ç¢=5*16-44 = 6KB  Fileå¤§å°ä¸æ˜“å‹•æ…‹æ“´å…… å»ºæª”ä¹‹å‰é ˆè¦äº‹å…ˆå®£å‘Šå¤§å°  Linked Allocation å®šç¾©ï¼šè‹¥Fileå¤§å°=nå€‹ Blocksï¼Œå‰‡OSåªé ˆåœ¨Diskä¸­æ‰¾åˆ°nå€‹Free Blocks(ä¸é ˆé€£çºŒ)ï¼Œå³å¯é…ç½®ä¸”Allocated Blocksä¹‹é–“ä»¥Linkæ–¹å¼ä¸²é€£ï¼Œå¦OSåœ¨Physical Directoryç´€éŒ„ä¸‹åˆ—Info\n   File Name Start Block No End Block No     File2 3 4    ä¾‹ï¼š\nå„ªç¼ºé»èˆ‡Contiguousç›¸å\nå„ªé»ï¼š\n æ²’æœ‰å¤–éƒ¨ç¢è£‚ Fileå¤§å°å®¹æ˜“å‹•æ…‹æ“´å…… å»ºFileå‰ç„¡éœ€äº‹å…ˆå®£å‘Šå¤§å°  ç¼ºé»ï¼š\n Seek Timeè¼ƒé•·(å› ç‚ºä¸é€£çºŒçš„blockå¯èƒ½æ•£è½åœ¨è¨±å¤šä¸åŒçš„Trackä¸Š) ä¸æ”¯æ´Random Access å¯é åº¦è¼ƒå·®(å› ç‚ºè¬ä¸€Linkæ–·è£‚ï¼ŒData Lost) å¾ªåºå­˜å–é€Ÿåº¦æ…¢(å› ç‚ºè¦åœ¨Diskä¸Šè®€å–Linkè³‡è¨Šï¼Œæ‰çŸ¥ä¸‹ä¸€å€‹Blockç‚ºä½•)  \nè‹¥File2å¤§å°=3å€‹Blocksï¼Œå‰‡OSå¯é…ç½® 3, 1, 4 è™Ÿ\n[055]\nFAT(File Allocation Table) å®šç¾©ï¼šæ˜¯LinkedAllocationä¹‹è®Šå½¢ï¼Œä¸»è¦å·®ç•°å¦‚ä¸‹\nAllocated Blockä¹‹é–“çš„Linked Infoå­˜æ–¼OS Memory Areaä¸­çš„ä¸€å€‹è¡¨æ ¼ï¼Œå«FATï¼Œè€Œéå­˜æ–¼Diskä¸­\nä¾‹ï¼š\nFile Directory\n   File Name FAT Entry     File 2 3    å„ªé»ï¼š\n æƒ³è¦åŠ é€ŸRandom Access In the Linked Allocation(å› ç‚ºå¯ä»¥åœ¨memoryä¸­çš„FATæ‰¾åˆ°ç¬¬iå€‹å€å¡Šçš„è™Ÿç¢¼ï¼Œç›¸æ¯”æ–¼åœ¨Diskä¸­æ‰¾æ›´å¿«ã€‚æ‰¾å®Œå¾Œå†å»Disk Access i th Block)ï¼Œä¸ç”¨åœ¨Disk ä¸­Traverse LinkedList  Index Allocation å®šç¾©ï¼šè‹¥Fileå¤§å°=nå€‹Blocksï¼Œå‰‡OSé™¤äº†é…ç½®nå€‹Blocks(ç„¡é ˆé€£çºŒ)å­˜æ”¾Dataä¹‹å¤–ï¼Œå¦é ˆé¡å¤–é…ç½®Index Blockï¼Œå„²å­˜æ‰€æœ‰Data Block ä¹‹No(address) ï¼Œä¸”OSåœ¨Physical Directory\nç´€éŒ„ï¼š\n   File Name Index Block No          ä¾‹ï¼šFile3å¤§å°=3å€‹Blocksï¼Œå‰‡OSå¯é…ç½®11,0,14è™ŸBlockçµ¦å®ƒå­˜æ”¾Dataï¼Œå¦å¤–é…ç½®15è™ŸBlockä½œç‚ºIndex Block è€ŒIndex Blockå…§å®¹ç‚º\n   File Name Index Block No     File3 15    æƒ³è¦èåˆé€£çºŒæ€§é…ç½®èˆ‡éˆçµå¼é…ç½®éƒ¨åˆ†çš„å¥½è™•\nå„ªé»ï¼š\n ä¸æœƒæœ‰å¤–éƒ¨ç¢è£‚ æ”¯æ´Ramdom AccessåŠSequential Access Fileå¤§å°å®¹æ˜“å‹•æ…‹æ“´å…… å»ºFileä¹‹å‰ç„¡é ˆäº‹å…ˆå®£å‘Šå¤§å°ï¼Œ  ç¼ºé»ï¼š\n Index Block å ç”¨é¡å¤–ç©ºé–“ Linking Spaceæµªè²»(OverHead)æ¯”Linked Allocation è‹¥Fileå¾ˆå¤§ï¼Œå‰‡å–®ä¸€å€‹Index Blockå¯èƒ½ç„¡æ³•å®¹ç´(ä¿å­˜)Fileçš„æ‰€æœ‰Data Block Noï¼Œæ­¤å•é¡Œé ˆè¢«è§£æ±º  è§£æ±ºå–®ä¸€Index Block ä¸å¤ å­˜æ”¾æ‰€æœ‰Data Block Noä¹‹å•é¡Œ æ–¹æ³•ä¸€ ä½¿ç”¨å¤šå€‹Index Blocksï¼Œä¸”å½¼æ­¤ä»¥Linkæ–¹å¼ä¸²é€£\nä¾‹ï¼š\nAssumeä¸€å€‹index Blockå¯å­˜5å€‹No\nç¼ºé»ï¼š\nRandom Access of i th Blockä¹‹å¹³å‡I/Oæ¬¡æ•¸å¤§å¹…å¢é•·(ç·šæ€§æˆé•·)\næ–¹æ³•äºŒ ä½¿ç”¨éšå±¤å¼Index StructureÂ \nä¾‹ï¼š\nTwo-Level Index Structure\nå„ªé»ï¼š\n RandomÂ Access of i th Blockä¹‹I/Oæ¬¡æ•¸æ˜¯å›ºå®šå€¼ eg 2å±¤-\u0026gt; 3æ¬¡I/O é©åˆå¤§å‹æª”æ¡ˆ  ç¼ºé»ï¼š\n å°å°å‹æª”æ¡ˆæ¥µä¸åˆé©ï¼Œå› ç‚ºIndex Blockså¤ªä½”ç©ºé–“ï¼Œç”šè‡³å¤šæ–¼Data Block æ•¸ç›®(ç›®éŒ„20é ï¼Œå…§æ–‡2é )  æ–¹æ³•ä¸‰â˜†â˜†â˜†â˜†â˜† æ··åˆæ³•ï¼Œå³UNIXçš„I-Nodeçµæ§‹ï¼Œä¸€å®šè¦æœƒï¼Œç‹ ç‹ åœ°è¨˜ä¸‹ä¾†\nä¾‹ï¼šI-Nodeæœ‰15æ ¼(entry)\nç¬¬1~ç¬¬12æ ¼ï¼šç›´æ¥ç”¨ä¾†è¨˜éŒ„Data Block No\nç¬¬13æ ¼ï¼špointer to Single-Level Index\nç¬¬14æ ¼ï¼špointer To Two-Level Index\nç¬¬15æ ¼ï¼špointer To Three-Level Index\n\u0026hellip; ä»¥æ­¤é¡æ¨\nMAX.FILE size = (12+n2+n3+\u0026hellip; ) å€‹Data Blocks\nå„ªé»ï¼š\nå°å‹ã€å¤§å‹Fileçš†é©åˆ\n[055 1:20:00]\nä¾‹é¡Œ1ï¼š\nI-Nodeä¹‹å®šç¾©åŒä¸Šæ‰€è¿°(15å€‹Entry)\n Block-Size = 16Kb Block No(Address) ä½”4Bytes  æ±‚MAX File Sizeå¤šå¤§?\nAns\nä¸€å€‹Index Blockå¯ä»¥å­˜ 16KB/4Byte = 212Data Block No\nå› æ­¤MAX File SIZE\n=12+212+(212)2+(212)3\n=(12+212+224+36) * 16kb\n= 250 byte\nâ‰’ 1PB\nä¾‹é¡Œ2ï¼š\næ‰¿ä¸Šï¼Œè‹¥Fileå¤§å° = 8000å€‹Blocksï¼Œå‡è¨­I-Nodeå·²åœ¨Memoryä¸­ï¼Œå‰‡è¦å­˜å–æ­¤Fileçš„ç¬¬6000å€‹Data Blockï¼Œéœ€è¦?æ¬¡I/O\nAns.\nå‰12å€‹ï¼š6000-12 = 5988\nç¬¬13å€‹ï¼š5988-4096= 1892\nç¬¬14å€‹ï¼šå¤§æ¦‚å°±åœ¨é€™\nå…±3æ¬¡çš„I/O\nä¾‹é¡Œ3ï¼š\nå¾ªåºå­˜å–å‰é¢6000å€‹Data Blocksï¼Œå‰‡è¦?æ¬¡I/O\nAns.\n6000+3= 6003æ¬¡ I/O\n[055 1:39:00]\nDisk Scheduling Algo ç›®çš„åœ¨æ–¼é™ä½è»Œé“ç§»å‹•ç¸½æ•¸\n FCFS SSTF SCAN C-SCAN (C:Cirular) Look C-Look  FCFS(First-Come-First-Service) å®šç¾©ï¼šæœ€æ—©åˆ°é”çš„Track requestï¼Œå„ªå…ˆæœå‹™\nä¾‹å­ï¼š\nDiskæœ‰200è»Œï¼Œç·¨è™Ÿ0~199ï¼ŒHeadç›®å‰åœåœ¨ç¬¬53è»Œï¼Œå‰›å‰›æœå‹™å®Œç¬¬40è»Œï¼Œç¾åœ¨Disk Queueä¸­æœ‰ä¸‹åˆ—Track requestä¾åºç‚º\n98, 183, 37, 122, 14, 124, 65, 67\næ±‚Trackç§»å‹•ç¸½æ•¸\nAns\n(183-53)+(183-37)+(122-37)+(122-14)+(124-14)+(124-65)+(67-65) = 640è»Œ\nåˆ†æï¼š\n æ’ç­æ•ˆæœä¸¦ä¸æ˜¯å¾ˆå¥½ï¼ŒTrackç§»å‹•æ•¸è¼ƒå¤šï¼ŒSeek TimeÂ è¼ƒé•·  Noteï¼šDisk Schedulingæ³•å‰‡ï¼Œæ—¢ç„¡æœ€ä½³ï¼Œä¹Ÿç„¡æœ€å·®\nå…¬å¹³ï¼ŒNo Starvation  SSTF(Shortest Seek-Time Track First) å®šç¾©ï¼šè·é›¢Headç›®å‰ä½ç½®æœ€è¿‘çš„Track requestï¼Œå„ªå…ˆæœå‹™\nä¾‹ï¼š\n98, 183, 37, 122, 14, 124, 65, 67\nans\n53-\u0026gt;65-\u0026gt;67-\u0026gt;37-\u0026gt;14-\u0026gt;98-\u0026gt;122-\u0026gt;124-\u0026gt;183\n= 236è»Œ\nåˆ†æï¼š\n æ’ç­æ•ˆæœä¸éŒ¯ï¼ŒTrackç§»å‹•æ•¸è¼ƒå°‘ï¼ŒSeek Timeå°ï¼Œä½†ä¸¦éæ˜¯Optimal ä¸å…¬å¹³ï¼Œæœ‰å¯èƒ½Starvation  SCANæ³•å‰‡ SCAN is Suck Do not Use\nå®šç¾©ï¼šHeadä¾†å›é›™å‘ç§»å‹•æƒæï¼Œé‡æœ‰Track requestï¼Œå³è¡Œæœå‹™ï¼ŒHeadé‡åˆ°Tracké–‹ç«¯æˆ–ç›¡é ­æ™‚ï¼Œæ‰æœƒæŠ˜è¿”æä¾›æœå‹™\nç¤ºæ„åœ–ï¼š\nåˆ†æï¼š\n æ’ç­æ•ˆèƒ½å¯æ¥å—é©ç”¨æ–¼å¤§é‡è² è¼‰ä¹‹æƒ…æ³(å› ç‚ºåœ¨Track Requestæœ‰è¼ƒå‡å‹»ä¸€è‡´ä¹‹ç­‰å¾…æ™‚é–“)  Noteï¼šLookä¹Ÿæ˜¯\nåœ¨æŸäº›æ™‚åˆ»å°æŸäº›Track Requestï¼Œä¼¼ä¹ä¸ç›¡å…¬å¹³  â€‹\tNoteï¼šç”¨C-SCANè§£\nHeadéœ€è¦é‡åˆ°Track é–‹ç«¯æˆ–ç›¡é ­æ‰æŠ˜è¿”ï¼Œæ­¤èˆ‰è€—è²»ä¸å¿…è¦çš„Seek Time  â€‹\tNoteï¼šç”¨Lookè§£æ±º\n[056]\nC-SCAN å®šç¾©ï¼šC Stand for circulerï¼Œæ˜¯SCANè®Šå½¢\nå·®åˆ¥ï¼šåªæä¾›å–®é …æœå‹™ï¼ŒæŠ˜è¿”å›ç¨‹ä¸æä¾›æœå‹™\nç¤ºæ„ï¼š\nçˆ­è­°åœ¨è¨ˆç®—ä¸Šï¼ŒæŠ˜è¿”çš„Trackç§»å‹•æ•¸è¦åˆ—å…¥é‚„æ˜¯ä¸åˆ—å…¥è¨ˆç®—?\nLook å®šç¾©ï¼šæ˜¯SCANä¹‹è®Šå½¢\nå·®åˆ¥ï¼šHeadæœå‹™å®Œè©²æ–¹å‘æœ€å¾Œä¸€å€‹Track Requestå¾Œï¼Œå³å¯æŠ˜è¿”æä¾›å›ç¨‹æœå‹™\nç¤ºæ„åœ–ï¼š\nC-LOOK å®šç¾©ï¼šLookä¹‹è®Šå½¢\nå·®åˆ¥ï¼šåªæä¾›å–®å‘æœå‹™ï¼ŒæŠ˜è¿”çš„Trackåˆ—å…¥è¨ˆç®—\nè£œå……    [æ] [Modern]å…¶ä»–ç‰ˆ     SCAN x   C-SCAN x   Look SCAN   C-Look C-SCAN    å…¶ä»–åè©é … Formatting (æ ¼å¼åŒ–) åˆ†ç‚ºå…©ç¨®\n  Physical format\nåˆç¨±low-level format\n  å·¥å» ç”Ÿç”¢Disk Systemæ™‚åŸ·è¡Œ\n  ä¸»è¦æ˜¯åŠƒåˆ†å‡ºDisk Controllerå¯ä»¥å­˜å–çš„Sector\n  åµæ¸¬æœ‰ç„¡ä¸è‰¯Sector\n    Logical formatting\n useråœ¨ä½¿ç”¨Diskä¹‹å‰ï¼Œå¿…é ˆåšå…©ä»¶äº‹æƒ…  Partitionï¼šåˆ‡å‰²åˆ†å€ï¼Œå³Logical driveï¼Œec: C,D,Eç£ç¢Ÿæ©Ÿ Logical Formatï¼šOSè£½ä½œ(å¯«å…¥) File Management System æ‰€éœ€ä¹‹è³‡æ–™çµæ§‹  Free Spaceç®¡ç†(eg. Bit Vector) FAT, I-Node (é…ç½®æ–¹æ³•) ç©ºçš„Physical Directory        RowåŸå§‹çš„-I/O (åŸºæœ¬ä¸Šæ²’è€ƒé) å®šç¾©ï¼šå°‡Diskè¦–ç‚ºå¤§å‹Arrayåœ¨ä½¿ç”¨ï¼Œä¸€å€‹Sectorå¥½æ¯”æ˜¯Arrayçš„ä¸€æ ¼ï¼Œç„¡File Systemä¹‹è³‡æºï¼Œé€™æ¨£çš„å„ªé»æ˜¯æª”æ¡ˆå­˜å–é€Ÿåº¦å¿«é€Ÿï¼Œç¼ºé»æ˜¯Userä¸æ˜“ä½¿ç”¨ï¼Œé€šå¸¸åœ¨DBMSåº•å±¤ä½¿ç”¨\n[057]\nBootstrap Loader â˜†â˜†â˜†â˜†â˜† ä¸»è¦ç›®çš„ï¼šé–‹æ©Ÿæ™‚ï¼Œç”¨ä»¥å¾Diskè¼‰å…¥ OS Object Code åˆ°Memory(RAM) çš„ç‰¹æ®ŠLoader\næ—©æœŸçš„ä½œæ³• ç¼ºé»ï¼š\n  Bootstrap Loaderç„¡æ³•ä»»æ„è®Šæ›´\n  ROM Sizeæœ‰é™ï¼ŒBootStrap Loader ç„¡æ³•å¾ˆå¤§\n  ç¾ä»£çš„åšæ³• BAD Sectors ä¹‹è™•ç†æ–¹æ³• Sectoræœƒå£çš„åŸå› \n å·¥å» ç”Ÿç”¢æ™‚å·²Bad æ­£å¸¸ä½¿ç”¨ä¸€æ®µæ™‚é–“å¾Œï¼ŒBad  è™•ç†æ–¹æ³•ï¼š\n[æ–¹æ³•ä¸€] Mark(æ¨™ç¤º) Bad Sectorsï¼Œä»¥å¾Œä¸ç”¨\nä¾‹ï¼šIDE Disk Controller\n[æ–¹æ³•äºŒ] Spare(å‚™å“) Sectorsæ–¹æ³•\nä¾‹ï¼šSCSI Disk Controlleræ¡ç”¨\nä½œæ³•ï¼š\nä¸€æ—¦æœ‰BAD Sector(eg 87è™Ÿ Sector BAD)ï¼Œå‰‡Disk Controller æœƒå¾ Spare Sectorsé¸æ“‡ä¸€å€‹Spare Sector (eg. 333è™Ÿ Sector) ä¾†æ›¿ä»£BAD Sectorã€‚å°‡ä¾†OSåœ¨å­˜å–87è™ŸSectoræ™‚ï¼ŒSCSI Controlleræœƒå°‡å®ƒè½‰å‘æˆå°333è™Ÿä¹‹å­˜å–(ä½†OSä¸çŸ¥é“é€™ä»¶äº‹æƒ…)\nç¼ºé»ï¼š\næ­¤ä¸€Sectorè½‰å‘å­˜å–ä¹‹å‹•ä½œï¼Œå¯èƒ½æœƒç ´å£æ‰OS Disk Schedulingä¹‹æœ€é©æ•ˆç›Šï¼Œç ´å£ç£ç¢Ÿæ’ç­æ•ˆèƒ½\nä¾‹ï¼š\næ”¹å–„ä½œæ³•ï¼š\nå°‡Spare Sectors åˆ†æ•£åˆ°æ¯æ¢Track (or cylinder)ä¸Šï¼Œä¸è¦é›†ä¸­å­˜æ”¾\nè‹¥Sector BADï¼Œå‰‡ç”¨ç›¸åŒè»Œé“æˆ–é„°è¿‘çš„Track ä¸Šçš„Spare Sectorä½œæ›¿ä»£\nèˆ‰ä¾‹ä¾†èªªï¼šç¶­ä¿®ä¸­å¿ƒå¦‚æœéƒ½åœ¨å°æ±ï¼Œé‚£é‹é€æ™‚é–“æœƒæ‹–å¾ˆé•·ï¼Œè¦è®“æ™‚é–“é™ä½çš„åšæ³•å°±æ˜¯è®“å…¨çœå„åœ°éƒ½æœ‰ç¶­ä¿®ä¸­å¿ƒï¼Œé™ä½é‹é€æ™‚é–“\n[æ–¹æ³•ä¸‰] Sector Sliping æ³•\nä¾‹ï¼š\nSwap Space Management [äº¤å¤§æˆå¤§æœ‰è€ƒéä¸€æ¬¡ï¼Œè‡³æ­¤ä¹‹å¾Œæ»…è·¡]\nåœ¨Virtual Memory, Medium-term Schedulerï¼Œæœƒå°‡Diskä½œç‚ºSwap outçš„pageæˆ–process imageä¹‹æš«å­˜è™•\nSwap Spaceç©ºé–“å¤§å°ï¼Œå®œè¶…ä¼°ï¼Œæ¯”è¼ƒå®‰å…¨\nå¦‚æœç•™å¤ªå°çš„ç¤ºæ„åœ–ï¼š\nSwap Space Managementæ–¹å¼\n(ç”¨ä»€éº¼æ–¹å¼ä¿å­˜Swap out page/process image?)\næ–¹æ³•ä¸€\nç”¨File Sy(stemï¼Œä»ç„¶ä»¥Fileå‹å¼ä¿å­˜(.temp)\nå„ªé»ï¼š\n Easy implementation  ç¼ºé»ï¼š\n æœ‰å¤–éƒ¨ç¢è£‚(å› ç‚ºå¤§éƒ½æ¡Contiguous Allocatation) æ•ˆèƒ½æ¯”è¼ƒå·®  æ–¹æ³•äºŒ\nä½¿ç”¨ä¸€å€‹ç¨ç«‹çš„Partitionä¾†ä¿å­˜(ä½¿ç”¨è€…çœ‹ä¸åˆ°)\nå„ªé»ï¼š\n æ•ˆèƒ½ä½³ï¼Œå› ç‚ºæ¡ç”¨Row-I/Oï¼Œç„¡File System æ”¯æŒ  ç¼ºé»ï¼š\n å…§éƒ¨ç¢è£‚(ä½†è€å¯¦èªªï¼Œè¶…ä¼°æ¯”ä½ä¼°å®‰å…¨) è‹¥Partitionä¸€é–‹å§‹åˆ‡ä¸å¤ å¤§ï¼Œå°è‡´ä¸å¤ ç”¨ï¼Œå‰‡éœ€è¦é‡æ–°re-partition  æå‡Disk Data Access Performance(æ•ˆèƒ½)ä¹‹æŠ€è¡“-Data(Disk) Striping(Interleaving) æŠ€è¡“ å®šç¾©ï¼šæŠŠå¤šéƒ¨Physical Disksï¼Œçµ„æˆå–®ä¸€çš„Logical Diskï¼Œé‹ç”¨å¹³è¡Œå­˜å–æŠ€å·§ä¾†æå‡æ•ˆèƒ½ï¼Œä¸€ç­åˆ†ç‚ºå…©ç¨®\n Bit-Level Striping Block-Level Stirping  ç¤ºæ„åœ–ï¼šã€€æå‡Disk Reliability(å¯é åº¦)ä¹‹æŠ€è¡“ ç•¶Blockå£äº†ï¼ŒData Lostï¼Œå¦‚ä½•ä½œData Recovery?\nå…©ç¨®\n Mirror(æˆ–Shadow)æŠ€è¡“ Parity-checkæŠ€è¡“  Mirror å®šç¾©ï¼šæ¯ä¸€éƒ¨æ­£å¸¸çš„Diskï¼Œå‡é…å‚™æœ‰å°æ‡‰çš„Mirror Diskï¼Œè³‡æ–™å¿…é ˆåŒæ™‚å­˜å…¥æ­£å¸¸DiskåŠits Mirror Diskï¼Œå°‡ä¾†ï¼Œè‹¥æ­£å¸¸Disk is Badï¼Œå‰‡ç”¨its Mirror Diskæ›¿ä»£\nå„ªé»ï¼š\n å¯é åº¦æœ€é«˜ Data Recovery é€Ÿåº¦æœ€å¿«  ç¼ºé»ï¼š\n æˆæœ¬é«˜(è²´)  Parity-Check æŠ€è¡“ å®šç¾©ï¼šå¤šæº–å‚™ä¸€éƒ¨Diskä½œç‚ºå„²å­˜Parity-Check Blockä¹‹ç”¨ï¼Œè³‡æ–™å¯«å…¥æ™‚ï¼Œéœ€è¦é¡å¤–ç®—å‡ºPariry-check Blockå…§å®¹\nå°‡ä¾†ï¼Œè‹¥æŸä¸€å€‹Block BADï¼Œåªè¦ç”¨å…¶ä»–BlockåŠPariry Blockä½œå¶åŒä½ï¼Œå³å¯Recovery Data\nå„ªé»ï¼š\n æˆæœ¬æ¯”Mirrorä¾¿å®œè¨±å¤š  ç¼ºé»ï¼š\n å¯é åº¦ä½ï¼Œå› ç‚ºå¦‚æœåŒæ™‚æœ‰å¤šå€‹Blockå£æ‰ï¼Œå‰‡ç„¡æ³•å¾©åŸ è³‡æ–™æ¢å¾©é€Ÿåº¦æ…¢æ–¼Mirror è³‡æ–™å¯«å…¥é€Ÿåº¦ä¹Ÿæ…¢  RAID è¦æ ¼ (Redundant Array Of Independent Disks)\nç£ç¢Ÿå†—é¤˜é™£åˆ—\n RAID 0~6 RAID-0èˆ‡RAID-1çµ„åˆ  ç¯„ä¾‹ï¼š\nçš†ä»¥4éƒ¨æ­£å¸¸ä½¿ç”¨çš„Diskç‚ºä¾‹ï¼Œ\nRAID-0 åªæä¾›Block-Level Striping(Interleaving)è€Œå·²ï¼Œæœªæä¾›ä»»ä½•å¯é åº¦æŠ€è¡“(eg. mirror, parity-Checkï¼Œç”¨åœ¨å¼·èª¿å­˜å–æ•ˆèƒ½è¦æ±‚é«˜ï¼Œä½†å¯é åº¦ä¸é‡è¦ä¹‹å ´åˆ\neg. VOD(Video Of Demand) Server\nRAID-1 å°±æ˜¯Mirror\nRAID-2 æ¡ç”¨Memoryçš„ECCæŠ€è¡“ä¾†æ”¹å–„å¯é åº¦ï¼Œå¸Œæœ›é™ä½Mirroræˆæœ¬ï¼Œä½†æ˜¯æˆæœ¬é™ä½æœ‰é™(åªæ¯”Mirrorå°‘ä¸€éƒ¨Diskè€Œä»¥)\nä¾‹\nDiskæ•¸=2n-1\næ­¤å¤–ï¼Œèˆ‡RAID-3ç›¸æ¯”ï¼Œå¯é åº¦ä¸€æ¨£ï¼Œä½†æˆæœ¬é«˜æ–¼RAID-3ï¼Œå› æ­¤RAID-2ç„¡å¯¦éš›ç”¢å“ï¼Œè·ŸRAID-6ä¸€æ¨£ï¼Œè·ŸRAID-2ä¸€æ¨£æ²’å¯¦éš›ç”¢å“ï¼Œå£è¨£2266\nRAID-3 æ¡ç”¨Bit-Level Striping åŠ Parity-CheckæŠ€è¡“\nDisKæ•¸=n+1\nRAID-4 æ¡ç”¨Block-LevelåŠPariry-CheckæŠ€è¡“\nRAID-5 æ¡ç”¨Block-Level StripingåŠParity-CheckæŠ€è¡“ï¼Œèˆ‡RAID-3,RAID-4ä¹‹ä¸»è¦å·®åˆ¥åœ¨ï¼Œå°‡parity Blockåˆ†æ•£å­˜æ–¼ä¸åŒDiskï¼Œä¸¦éé›†ä¸­åœ¨ä¸€éƒ¨Disk\nRAID-6 ä¸ç”¨Parity-CheckæŠ€è¡“ï¼Œæ”¹ç”¨é¡ä¼¼Reed-SolomonæŠ€è¡“ï¼Œå¯ä»¥åšåˆ°2éƒ¨Disk BlockåŒæ™‚å‡ºéŒ¯ï¼Œ\né‚„èƒ½Recoveryï¼Œä½†Costå¤ªé«˜(â‰§ Mirroræˆæœ¬)ï¼Œå› æ­¤ä¹Ÿç„¡å¯¦éš›ç”¢å“\nRAID-0 \u0026amp; RAID-1 ä¹‹çµ„åˆ ç”¨åœ¨é«˜æ•ˆèƒ½ä»¥åŠé«˜å¯åº¦è¦æ±‚ä¹‹å ´åˆï¼Œé›–ç„¶å¾ˆé«˜ï¼Œä½†ä¸è¨ˆä»»ä½•ä»£åƒ¹\nçµ„åˆæ–¹å¼æœ‰ï¼š\n RAID0+1 RAID1+0[å„ªç§€]  é€™é‚Šè€ƒç•«åœ–\nRAID0+1 å…ˆStripingï¼Œå†æ•´é«”Mirror\nä¸€éƒ¨Disk BADï¼Œæ•´çµ„çš„Diskéƒ½è¦æ›æˆMirrorçš„ï¼Œä¸å¯ä»¥åªæ›ä¸€å€‹Disk\nRAID1+0 å…ˆMirrorï¼Œå†Striping\nChapter10 FileManagement  File Open \u0026amp; Close å‹•ä½œ\nConsistency semantic\nFile Protection\n [058]\nFile Open \u0026amp; Closeå‹•ä½œ ç·£ç”±ï¼š OS å° File é€²è¡Œä»»ä½•é‹ä½œä¹‹å‰ï¼Œéƒ½å¿…é ˆè¦Diskä¹‹Physical Directory æ‰¾å‡ºFileçš„é…ç½®è³‡è¨Šï¼Œæ­¤èˆ‰æœƒå°è‡´2å€‹Problems\n æœå°‹çš„æ™‚é–“å¾ˆé•·(å› ç‚ºFileæ•¸ç›®å¤ªé¾å¤§) Disk I/O Time(æ¬¡æ•¸)å¾ˆå¤šï¼Œéå¸¸è€—æ™‚  ç‚ºäº†æ”¹å–„æ­¤å•é¡Œï¼Œæ‰æœ‰File OpenåŠCloseå‹•ä½œ\nFile Opené‹ä½œ å®šç¾©ï¼šç•¶Fileç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ™‚ï¼ŒOSå¿…é ˆè¦Diskä¹‹Physical Directoryæ‰¾å‡ºFileçš„é…ç½®è³‡è¨Šï¼ŒThenï¼Œå°‡æ­¤è³‡è¨ŠCopyåˆ°OS Memory Areaä¸­çš„ä¸€å€‹Tableï¼Œå«åš ã€ŒOpen File Tableã€ï¼Œå°‡ä¾†å°æ­¤Fileé€²è¡Œä»»ä½•é‹ä½œä¹‹å‰ï¼ŒOSåªéœ€åˆ°æ­¤ï¼Œæœå°‹å–å¾—Fileçš„é…ç½®è³‡è¨Šå³å¯ï¼Œç”±æ–¼Open File Tableä¸­çš„Fileæ•¸ç›®å°‘(eg. 20å€‹)ï¼Œæœå°‹æ™‚é–“å¯å¤§å¹…é™ä½ï¼Œåˆæ­¤è¡¨æ ¼åœ¨Memoryä¸­ï¼Œæ‰€ä»¥çœä¸‹å¯è§€çš„I/O Time(æ¬¡æ•¸)\nç”±æ–¼Fileå¯è¢«å¤šå€‹Processeså…±ç”¨ä¹‹æ•…ï¼Œæ¯å€‹Processè®€å–åˆ°çš„ä½ç½®å¯èƒ½ä¸ä¸€æ¨£ï¼Œæœ‰çš„å¯èƒ½åœ¨ç¬¬å…«è¡Œï¼Œæœ‰å€‹å¯èƒ½åœ¨ç¬¬å…«ç™¾èˆªï¼Œæ‰€ä»¥Open File Tableå¯é€²ä¸€æ­¥åˆ†æˆå…©ç¨®\n System-Open File Tableï¼šä¿å­˜Fileçš„å…±é€šé…ç½®è³‡è¨Š(Fileåç¨±ã€é…ç½®å€å¡Šã€å¤§å°)ï¼Œä¸å› Processä¸åŒè€Œæœ‰æ‰€ä¸åŒã€‚ Process-open File Tableï¼šProcesså­˜å–Fileæ™‚ï¼Œæœƒæœ‰ä¸åŒçš„è³‡è¨Šè¦ä¿å­˜eg. Fileç•¶å‰æŒ‡æ¨™ä½ç½®ã€File Accessæ¬Šåˆ©  File Closeé‹ä½œ å®šç¾©ï¼šç•¶Fileä¸å†ä½¿ç”¨æ™‚ï¼ŒOSæœƒå°‡Open File Tableä¸­æ­¤Fileçš„é…ç½®è³‡è¨Šæ›´æ–°å›Diskä¹‹Physical Directoryï¼Œä¸”è‡ªTableä¸­åˆªé™¤æ­¤Fileçš„é…ç½®è³‡è¨Š\nConsistency Semantic (ä¸€è‡´æ€§èªè¨€ï¼Œç¿»æˆç™½è©±æ–‡å°±æ˜¯ã€‚æª”æ¡ˆå¯ä»¥è¢«å¤šå€‹Process/userå…±äº«ï¼Œè€Œå…±äº«çš„æ¨¡å¼(model)æœ‰å“ªå¹¾ç¨®?)\nåˆ†ç‚ºä¸‰ç¨®\n UNIX Semanticï¼šä¾‹å¦‚ï¼šè¨‚ç¥¨ç³»çµ±çš„åº§æ¬¡è¡¨  éœ€è¦äº’æ–¥å­˜å– å¤§å®¶çœ‹åˆ°çš„Fileå…§å®¹æ˜¯ä¸€è‡´çš„ æŸå€‹Processå°Fileä½œçš„ä»»ä½•æ”¹è®Šï¼Œå…¶ä»–ProcessesæœƒçŸ¥é“   Session Semanticï¼šä¾‹å¦‚ï¼šç©ºç™½å ±åè¡¨File ä¾›äººä¸‹è¼‰å¡«å­—  ä¸é ˆäº’æ–¥å­˜å–ï¼Œå¤§å®¶éƒ½åœ¨å„è‡ªçš„Copyä¸Šread/writeå­˜å–ä¸å—é™åˆ¶ å¤§å®¶çœ‹åˆ°çš„å…§å®¹ä¸ä¸€å®šä¸€è‡´   Immutable Sematicï¼šä¾‹å¦‚ï¼šç¸½ç¶“ç†å…¬å‘Šæ–‡ä»¶ç¬¬005è™Ÿ.pdf  Read-Onlyï¼Œä¸å¯æ›´æ”¹å…§å®¹ æª”åä¸å¾—é‡è¤‡    File Protection Physical Protectionï¼šé˜²æ­¢å› ç‚ºDisk BADæ‰€é€ æˆçš„File Data Lostï¼Œæ–¹æ³•ï¼šBackup only\nLogical Protectionï¼šé˜²æ­¢éæ³•ä½¿ç”¨è€…å°FIleä¹‹ä¸ç•¶å­˜å–\næ–¹æ³•å¦‚ä¸‹\n  Name Protection\n  Passwork Protection\n  Access List\n  Access Groupâ˜†â˜†â˜†\nä»¥UNIXç‚ºä¾‹\n å°‡User åˆ†ç‚ºä¸‰é¡  Owner Group(Member) Other(Universal)   Fileå­˜å–æ¬Šåˆ©  Rï¼šRead Wï¼šWrite ï¼¸ï¼šeXecute      \n\n\n\n\n\n\n\n","date":"2022-10-08T03:02:43+08:00","image":"https://i.imgur.com/HJLk11O.png","permalink":"https://hoxtoncraft.com/p/%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%E7%AD%86%E8%A8%98/","title":"ä½œæ¥­ç³»çµ±ç­†è¨˜"},{"content":"æœ€è¿‘é ˜åˆ°è–ªæ°´å¾Œè²·äº†TYPORAå¾Œï¼Œæƒ³æ‰¾å¦‚ä½•ä¸Šå‚³åœ–ç‰‡çš„æ•™å­¸ï¼Œç™¼ç¾ç¶²è·¯ä¸Šçš„æ•™å­¸è »å°‘çš„ï¼Œå°ç£å¥½åƒåªæœ‰ä¸€ç¯‡ï¼Œé‚„æ˜¯For macçš„æ•™å­¸ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯ä¸­åœ‹çš„æ•™å­¸ï¼Œä½†ä»–å€‘ç”¨çš„åœ–åºŠï¼Œå°ç£ä¹Ÿå¾ˆå¤šä¸èƒ½ç”¨ï¼Œå¾Œä¾†ç ”ç©¶äº†å¹¾å¤©çµ‚æ–¼ææ‡‚ï¼Œæ‰€ä»¥æ±ºå®šå¯«ä¸€ç¯‡çœ‹çœ‹\nåœ–ç‰‡ç©ºé–“æœ‰Githubè·Ÿimgurï¼Œå°±çœ‹ä½ æƒ³è¦ç”¨å“ªå€‹å°±ç”¨å“ªå€‹å§ï¼Œå…¶å¯¦æ²’å·®å¤ªå¤šï¼Œä½†imguræœƒç¨å¾®ç°¡å–®ä¸€é»é»é»é»é»é»ï¼Œä»¥ä¸‹æ˜¯æ­¥é©Ÿ\né–‹å§‹  å…ˆå»å®‰è£node.jsï¼Œå› ç‚ºæœƒéœ€è¦è£¡é¢çš„npm  https://nodejs.org/en/download/\nå®‰è£å¥½å¯ä»¥ç”¨ç³»çµ±ç®¡ç†å“¡èº«åˆ†æ‰“é–‹cmdï¼Œä¸¦è¼¸å…¥\n1  node    å¦‚æœæœ‰æˆåŠŸå®‰è£çš„è©±æ‡‰è©²æœƒé¡¯ç¤º  æ¥è‘—å®‰è£picGo-core\n1  npm install picgo -g   èªªå‡ºç¾éŒ¯èª¤ï¼Œè¦æˆ‘å€‘åŸ·è¡Œ\n1  npm audit fix -force   åŸ·è¡Œå®Œä¹‹å¾Œå°±å®‰è£å¥½äº†ï¼Œæ¥è‘—è¼¸å…¥\n1  picgo   ä¾†ç¢ºèªæ˜¯å¦æœ‰å®‰è£æˆåŠŸï¼Œæœ‰æ™‚å€™å¯èƒ½æœƒå‡ºç¾\n1  æª”æ¡ˆæœªç¶“æ•¸ä½ç°½ç½²é€™å€‹æŒ‡ä»¤ç¢¼å°‡ä¸æœƒåœ¨ç³»çµ±ä¸ŠåŸ·è¡Œ   ä¹‹é¡ä¹‹é¡çš„å¥å­ï¼Œé€™æ™‚å€™å¯ä»¥è¼¸å…¥\n1  Set-ExecutionPolicy RemoteSigned   ä¾†å…è¨±åŸ·è¡Œï¼Œé€™æ™‚å€™åœ¨è¼¸å…¥picgoæ‡‰è©²å°±å¯ä»¥çœ‹åˆ°é€™æ¨£å­çš„ç•«é¢äº†\nåˆ°é€™ä¸€æ­¥æœ¬åœ°ç«¯çš„è¨­å®šå·²ç¶“å®Œæˆ80%äº†ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯è¦é¸æ“‡è¦ä½¿ç”¨å“ªç¨®åœ–ç‰‡ç©ºé–“\nGithub  é¦–å…ˆå…ˆåˆ°Githubå‰µå»ºä¸€å€‹å…¬é–‹çš„Repositoryï¼Œåå­—éš¨æ„å°±å¥½   æ¥è‘—æŠŠé€™å€‹Repositoryçš„URLè¤‡è£½ä¸‹ä¾†  1  https://github.com/Hoxton019030/Typora    å³ä¸Šè§’å€‹äººé ­åƒé»é–‹ï¼Œé¸æ“‡Settings   å·¦å´é¸é …æœ€ä¸‹é¢æœ‰ä¸€å€‹Developer settings   é¸æ“‡Personal access tokens   é¸æ“‡ Generate new token   è¼¸å…¥é€™å€‹tokençš„åç¨±ï¼Œéš¨ä¾¿å–å°±å¥½ï¼ŒExpirationçœ‹å€‹äººå–œå¥½ï¼Œæˆ‘å¾ˆæ‡¶ï¼Œæ‰€ä»¥æˆ‘é¸æ“‡æ°¸ä¹…ï¼Œä¸‹é¢çš„select scopeså‹¾é¸repo   æ¥è‘—æœƒç”¢ç”Ÿä¸€çµ„ghpé–‹é ­çš„tokenï¼Œé€™çµ„åºè™Ÿåªæœƒåœ¨é€™è£¡ä»¥æ˜ç¢¼å‡ºç¾ä¸€æ¬¡ï¼Œæ¥ä¸‹ä¾†æ°¸é éƒ½ä¸æœƒå†ä»¥æ˜ç¢¼çš„æ–¹å¼å‘ˆç¾æ‰€ä»¥è«‹å¥½å¥½è¨˜èµ·ä¾† ç„¶å¾Œåˆ°Typoraçš„åå¥½è¨­å®šè£¡æ‰“é–‹é–‹å•Ÿè¨­å®šæª”ï¼Œé€šå¸¸æœƒæ˜¯ç”¨ä¸€å€‹æ–‡æœ¬ç·¨è¼¯å™¨æ‰“é–‹ï¼Œé€šå¸¸éƒ½æ˜¯vscodeå•¦   æ¥è‘—æŠŠé€™ä¸²æ±è¥¿è¤‡è£½è²¼ä¸Šå»  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  { \u0026#34;picBed\u0026#34;: { \u0026#34;current\u0026#34;: \u0026#34;github\u0026#34;, \u0026#34;uploader\u0026#34;: \u0026#34;github\u0026#34;, \u0026#34;github\u0026#34;: { \u0026#34;repo\u0026#34;: \u0026#34;Hoxton019030/Typora\u0026#34;, //é€™ä¸²å°æ‡‰çš„æ˜¯ä½¿ç”¨è€…åç¨±+Repoåç¨±ï¼Œæ”¹æˆè‡ªå·±çš„ \u0026#34;token\u0026#34;: \u0026#34;ghp_xxxxxxxxxxxxxxxxxxxx\u0026#34;, //é€™é‚ŠæŠŠå‰›å‰›ç”¢ç”Ÿçš„tokenè²¼ä¸Šå» \u0026#34;path\u0026#34;: \u0026#34;data/\u0026#34;, //åœ–ç‰‡è¦ä¸Šå‚³åˆ°å“ªå€‹è³‡æ–™å¤¾ï¼Œå¯ä»¥å…ˆä¸ç”¨è¨­å®šï¼Œ \u0026#34;customUrl\u0026#34;: \u0026#34;https://raw.githubusercontent.com/Hoxton019030/Typora/main\u0026#34;, //æŠŠHoxton019030/Typoraæ”¹æˆä½ è‡ªå·±çš„repo \u0026#34;branch\u0026#34;: \u0026#34;main\u0026#34; //æ‡‰è©²ä¹Ÿä¸ç”¨å‹• } }, \u0026#34;picgoPlugins\u0026#34;: {} }    å®Œæˆä¹‹å¾Œæ‡‰è©²é•·é€™å€‹æ¨£å­ï¼Œæ¥è‘—æŒ‰å­˜æª”   æ¥è‘—å›åˆ°è¨­å®šï¼Œè©¦è‘—æŒ‰çœ‹çœ‹æ¸¬è©¦åœ–ç‰‡ä¸Šå‚³  å¦‚æœæˆåŠŸçš„è©±å°±æœƒå‡ºç¾é€™æ¨£çš„ç•«é¢\nå°±ä»£è¡¨ä½ æˆåŠŸäº†ï¼\n å¦‚æœä½ åœ¨æŒ‰ä¸€æ¬¡æ¸¬è©¦åœ–ç‰‡ä¸Šå‚³ï¼Œç”±æ–¼ä¸Šå‚³çš„åœ–ç‰‡æª”åä¸€æ¨¡ä¸€æ¨£ï¼Œæœƒå ±éŒ¯ï¼Œé€™æ¨£æ˜¯æ­£å¸¸ç¾è±¡ï¼Œè«‹ä¸è¦é©šæ…Œ\n imgur  é¦–å…ˆå…ˆè¾¦å¸³è™Ÿ https://api.imgur.com/oauth2/addclient é»æ“Šé€™å€‹ç¶²å€ è€æ¨£å­ï¼Œåå­—éš¨æ„å–å°±å¥½ï¼Œç„¶å¾ŒAuthorization typeé¸æ“‡ç¬¬äºŒå€‹   æ¥è‘—æœƒè·³å‡ºç•«é¢ï¼Œæœƒå‘Šè¨´ä½ ä½ çš„Client IDæ˜¯ä»€éº¼ï¼Œè«‹è¤‡è£½ä¸‹ä¾†   æ¥è‘—åˆ°åå¥½è¨­å®šè£¡é¢æ‰“é–‹é–‹å•Ÿè¨­å®šæª”ï¼Œé€šå¸¸æœƒç”¨vscodeé–‹å•Ÿ   æ¥è‘—æŠŠé€™æ®µè¤‡è£½è²¼ä¸Šä¸Šå»  1 2 3 4 5 6 7 8 9 10 11  { \u0026#34;picBed\u0026#34;: { \u0026#34;current\u0026#34;: \u0026#34;imgur\u0026#34;, \u0026#34;uploader\u0026#34;: \u0026#34;imgur\u0026#34;, \u0026#34;imgur\u0026#34;:{ \u0026#34;clientId\u0026#34;: \u0026#34;XXXXXXXXXXX\u0026#34; } }, \u0026#34;picgoPlugins\u0026#34;: {} }   è²¼ä¸Šå»ä¹‹å¾Œæ‡‰è©²æœƒé•·é€™å€‹æ¨£å­\n ç„¶å¾Œå­˜æª”ä¹‹å¾Œï¼Œå›åˆ°åå¥½è¨­å®šï¼ŒæŒ‰ã€Œæ¸¬è©¦åœ–ç‰‡ä¸Šå‚³ã€  è·³å‡ºé€™å€‹å°±ä»£è¡¨æˆåŠŸä¸Šå‚³äº†ï¼\nå°çµ é€™æ¨£å­åªè¦åœ¨typoraè£¡é¢è²¼ä¸Šåœ–ç‰‡ï¼Œtyporaå°±æœƒè‡ªå‹•å¹«æˆ‘å€‘ä¸Šå‚³åœ–ç‰‡åˆ°åœ–ç‰‡ç©ºé–“äº†ã€‚\n","date":"2022-10-08T01:02:04+08:00","image":"https://i.imgur.com/W6FAkN1.png","permalink":"https://hoxtoncraft.com/p/typora-%E5%A6%82%E4%BD%95%E4%B8%8A%E5%82%B3%E5%9C%96%E7%89%87%E6%95%99%E5%AD%B8-%E4%BD%BF%E7%94%A8github-imagur%E4%BD%9C%E7%82%BA%E5%9C%96%E7%89%87%E7%A9%BA%E9%96%93/","title":"TYPORA å¦‚ä½•ä¸Šå‚³åœ–ç‰‡(æ•™å­¸ ä½¿ç”¨Github , imagurä½œç‚ºåœ–ç‰‡ç©ºé–“)"},{"content":"â€‹\tåˆ°åº•è¦ä¸è¦é€²äº‹å‹™æ‰€ï¼Ÿ\næˆ‘æƒ³ä¸€é–‹å§‹å°±çµ¦å‡ºè§£ç­”\nå¦‚æœä¸çŸ¥é“åšä»€éº¼å°±é€²äº‹å‹™æ‰€å§ï¼\nâ€‹\tå¦‚æœæ˜¯æœƒè¨ˆç³»çš„å­¸ç”Ÿï¼Œåœ¨å¤§å­¸æœŸé–“ä¸€å®šæœ‰æƒ³éè‡ªå·±åˆ°åº•è¦ä¸è¦é€²å…¥æ‰€è¬‚çš„å››å¤§ï¼ˆå‹¤æ¥­ã€è³‡èª ã€å®‰ä¾¯ã€å®‰æ°¸ï¼‰ï¼Œæˆ‘åœ¨å¤§å­¸çš„æ™‚å€™å°æ–¼é€™å€‹å•é¡Œå€’æ˜¯æ²’å¤ªå¤šæƒ³æ³•ï¼Œåªè¦ºå¾—é€²å…¥å››å¤§äº‹å‹™æ‰€å¥½åƒå¾ˆå¨é¢¨ï¼Œå‡ºå…¥ä¿¡ç¾©å€ï¼Œè¥¿è£é©å±¥çš„æ¨£å­ï¼Œåç¨±ä¹Ÿæ˜¯åœ‹éš›ä¸Šæœ‰åå…¬å¸ï¼Œæ€éº¼æƒ³éƒ½è¦ºå¾—å¾ˆç©©ï¼Œèƒ½å‡ºä»€éº¼å•é¡Œï¼Ÿ\nç•¶ç„¶å¯¦éš›é€²å»ä¹‹å¾Œæˆ‘å°±å¾Œæ‚”äº†ï¼Œç™¼ç¾é€™æ¨£çš„ç”Ÿæ´»æ ¹æœ¬ä¸æ˜¯è‡ªå·±æƒ³è¦çš„ï¼Œç´¢æ€§çš„å¾…åˆ°ä¸€æœˆï¼ŒæŠŠå¹´çµ‚çé‡‘é‚„æœ‰åˆ°è·çé‡‘ï¼Œä»¥åŠæ”¿åºœçš„é’å¹´å°±æ¥­è£œåŠ©çš„éŒ¢é ˜ä¸€é ˜ä¹‹å¾Œï¼Œå°±è¶•ç·Šè·‘å›é«˜é›„æº–å‚™è½‰æ›è·‘é“ï¼Œåšä»€éº¼éƒ½è¡Œï¼Œä½†é€™è¼©å­çµ•å°ä¸æœƒåœ¨åšæœƒè¨ˆäº†ã€‚\nä½†é›¢è·éå¾Œä¹Ÿå¿«ä¸€å¹´ï¼Œè½‰æ›å·¥ä½œä¹Ÿç®—æˆåŠŸï¼Œä½†æŒçºŒçš„ä¸€ç›´æœ‰åœ¨Followæœƒè¨ˆé€™å€‹åœˆå­ï¼Œæ‰€ä»¥æƒ³èªªä¾†åˆ†äº«ä¸€ä¸‹è‡ªå·±çš„ä¸€äº›æƒ³æ³•ï¼Œå¸Œæœ›å¯ä»¥å¹«åŠ©åˆ°ä¸€äº›æœƒè¨ˆç³»çš„å­¸ç”Ÿã€‚\n ä¸€ä»½å·¥ä½œä¸€å®šæ˜¯æœ‰å¥½æœ‰å£çš„ï¼Œäº‹å‹™æ‰€çš„å·¥ä½œå‰‡æ˜¯å°‡å¥½èˆ‡å£çš„é‚£éå¸¸æ¥µç«¯ï¼Œé€™ç¯‡æ–‡ç« å…ˆä¾†è¬›ã€Œæˆ‘ã€è¦ºå¾—äº‹å‹™æ‰€å¥½çš„åœ°æ–¹ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« å†ä¾†è¬›æˆ‘ç‚ºä»€éº¼é›¢è·ã€‚\n  äº‹å‹™æ‰€çš„åè²   äº‹å‹™æ‰€çš„åè²æ˜¯æˆ‘åœ¨é›¢è·ä¹‹å¾Œæœ€ç›´æ¥çš„æ„Ÿå—ï¼Œåœ¨è‡ªæˆ‘ä»‹ç´¹æˆ–æ˜¯ä¹‹å¾Œè½‰æ›è·‘é“çš„é¢è©¦ï¼Œç¬¬ä¸€å€‹è¢«å•çš„å•é¡Œéƒ½æ˜¯\nã€Œä½ ä¹‹å‰åœ¨è³‡èª è€¶ï¼Œå¾ˆå¥½çš„ä¸€é–“å…¬å¸ï¼Ÿæ€éº¼æœƒæƒ³è¦é›¢è·è½‰æ›è·‘é“å‘¢ï¼Ÿã€\nèª ç„¶å››å¤§åœ¨æœƒè¨ˆç³»å­¸ç”Ÿçš„çœ¼ä¸­å·²ç¶“æ˜¯è‡­åˆ°ä¸èƒ½å†è‡­çš„å…¬å¸ï¼Œä½†å‡ºäº†äº‹å‹™æ‰€ä¹‹å¾Œï¼Œåªè¦å¾…çš„å…¬å¸ä¸æ˜¯å¤ªé³¥çš„é‚£ç¨®ï¼ŒåŸºæœ¬ä¸Šå››å¤§çš„ç¶“æ­·å³ä½¿ä¸åˆ°äº®çœ¼ï¼Œä½†ä¹Ÿçµ•å°ä¸æœƒæ˜¯ä¸€å€‹çœ‹ä¸ä¸Šçœ¼çš„ç¶“æ­·ã€‚\n äº‹å‹™æ‰€æ˜¯ä¸€å®¶å¾ˆå¤§çš„å…¬å¸   åœ¨é›¢è·ä¹‹å¾Œç¬¬äºŒå€‹å¾ˆæ·±çš„æ„Ÿå—æ˜¯ï¼Œå››å¤§ç¢ºå¯¦æ˜¯ä¸€é–“å¾ˆå¤§çš„å…¬å¸ï¼Œåœ¨ä¿¡ç¾©å€çš„ç²¾è¯åœ°æ®µè£¡æœ‰å¾ˆå¤šå±¤æ¨“çš„è¾¦å…¬å®¤ï¼Œæœ‰åŒ…å ´çš„å°¾ç‰™ï¼Œæœƒè«‹è—äººä¾†å”±æ­Œï¼Œé‚„æœ‰å¾ˆå®Œå–„çš„å…¬å¸åˆ†å·¥åˆ¶åº¦ã€‚æˆ‘ç¾åœ¨çš„å…¬å¸å°±æ˜¯ä¸€å®¶åœ¨ä¸­å±±å€æ™®é€šå•†è¾¦å¤§æ¨“è£¡é¢çš„è¾¦å…¬å®¤ï¼Œå“¡å·¥æ•¸å¤§æ¦‚ä¹Ÿå°±åä¾†äººå·¦å³ï¼Œä¹Ÿæ²’ä»€éº¼å®Œæ•´çš„åˆ†å·¥åˆ¶åº¦ï¼Œæœ‰æ™‚å€™æ„Ÿè¦ºä¸€å€‹äººè¦èº«å…¼å¤šè·ã€‚\nè€Œä¸”æˆ‘ç›¸ä¿¡å¾ˆå¤šäººé›¢è·ä¹‹å¾Œï¼Œç¬¬äºŒå®¶å…¬å¸çš„è¦æ¨¡éƒ½ä¸æœƒå†æœ‰å››å¤§é‚£æ¨£çš„è¦æ¨¡ï¼Œæ‰€ä»¥æˆ‘è¦ºå¾—å¯ä»¥ä¾†å››å¤§é«”é©—çœ‹çœ‹ä¸€å®¶å“¡å·¥æ•¸ç ´åƒçš„å…¬å¸æ„Ÿè¦ºæ˜¯æ€éº¼æ¨£çš„ã€‚\n äº‹å‹™æ‰€çš„å·¥ä½œå¼·åº¦   é€™é»å…¶å¯¦å¾ˆè«·åˆºï¼Œæˆ‘ä¹‹å‰åœ¨çš„çµ„åˆ¥æ˜¯æœ€è¿‘å¾ˆå¤¯çš„è³‡èª A11 AKA ç¨ç«‹æ‰€ç–Šå­—çµ„ã€‚èªªå¯¦è©±ç•¶æ™‚ä¹Ÿæ²’è¦ºå¾—ä»€éº¼åœ°ä¸åœ°ç„çš„ï¼Œç•¶ä½ çœ‹åŒäº‹åœ¨åŠ ç­ï¼Œçµ„é•·åœ¨åŠ ç­ï¼Œç¶“ç†å€‘ä¹Ÿåœ¨åŠ ç­ï¼Œå…¶å¯¦ç•¶ä¸‹ä¹Ÿæœƒè¦ºå¾—æ²’ä»€éº¼ï¼Œåæ­£å¤§å®¶å°±ä¸€èµ·åŠ ç­ï¼Œæœ‰æ™‚å€™æ™šä¸Šå…­é»å¤šï¼ŒåŒäº‹å€‘ç›¸ç´„è¨‚é¤çš„ç•«é¢ç¸½è®“æˆ‘æƒ³èµ·åœ‹å°åœ¨è®€å®‰è¦ªç­çš„æ„Ÿè¦ºã€‚\næˆ‘åœ¨äº‹å‹™æ‰€çš„ä¸Šç­çš„å¤§æ¦‚å°±æ˜¯9æœˆå…¥è·ç„¶å¾Œåˆ°1æœˆåˆé›¢è·ï¼Œå”¯ä¸€æ¥è§¸åˆ°çš„å¿™å­£å¤§æ¦‚å°±æ˜¯åæœˆï¼Œé‚£æ™‚å€™æ˜ŸæœŸä¸€åˆ°äº”å¤§æ¦‚éƒ½æ˜¯9é»10é»é‚£é‚Šå›å®¶ï¼Œå·®ä¸å¤šæœ‰ä¸‰å¤©æ˜¯å¾…åˆ°11é»æ‰èµ°ï¼ˆ11é»å°±å¯ä»¥èµ°æ˜¯å› ç‚ºè³‡èª æ˜¯åœ¨åœ‹è²¿å¤§æ¨“ï¼Œåœ‹è²¿å¤§æ¨“11é»å°±è¦é—œé–€ï¼Œæ‰€ä»¥æ‰æœ‰æ©Ÿæœƒå›å®¶Q_Qï¼‰ï¼Œæ˜ŸæœŸå…­å¤§æ¦‚æ˜¯10é»11é»é€²æ‰€å…§ï¼Œç„¶å¾Œå¯èƒ½æ™šä¸Š8ã€9é»é›¢é–‹ï¼Œè‡³æ–¼æ˜ŸæœŸå¤©æˆ‘æ˜¯æ²’é€²éæ‰€å…§ï¼Œå¿«æ¨‚çš„å°ç¢ºå¹¸ï½\nåœ¨é€™æ¨£ä¸­å¼·åº¦çš„åŠ ç­å¼·åº¦ä¸‹ï¼Œæˆ‘é›¢è·ä¹‹å¾Œï¼Œä¸ç®¡å¾…å“ªå®¶å…¬å¸æˆ‘éƒ½è¦ºå¾—å¥½çˆ½ï¼Œé€™å¯èƒ½ä¹Ÿæ˜¯äº‹å‹™æ‰€å¾ˆè«·åˆºçš„ä¸€å€‹å¥½è™•å§ï¼Œç•¢ç«Ÿå¾å››å¤§å‡ºä¾†çš„ï¼Œæ¯å€‹éƒ½æ˜¯è¦‹éåœ°ç„çš„äººï¼Œåˆ°å“ªè£¡éƒ½åƒæ˜¯å¤©å ‚ä¸€æ¨£ã€‚\n å“ˆå“ˆï¼Œå¯èƒ½çœŸçš„å¤ªä¹…æ²’å¯«æ–‡ç« äº†ï¼Œæ„Ÿè¦ºåŸæœ¬è…¦ä¸­æœ‰å¾ˆå¤šæƒ³æ³•ï¼Œçªç„¶è¦å¯«å°±å¯«ä¸å‡ºä»€éº¼æ±è¥¿ä¾†ï¼Œè‡ªå·±å¯«å®Œå†å›é ­ä¾†çœ‹è‡ªå·±åˆ—çš„é€™å¹¾é»ï¼Œç™¼ç¾çœŸçš„æ˜¯è »ç„¡èŠçš„å¹¾å€‹é»ï¼Œä¹Ÿä¸æ§‹æˆä»€éº¼å¸å¼•åŠ›ï¼Œä½†è¦å•æˆ‘å¾Œæ‚”é€²å…¥äº‹å‹™æ‰€å—ï¼Ÿå…¶å¯¦é‚„è »æ…¶å¹¸æˆ‘æœ‰é€²å…¥äº‹å‹™æ‰€çš„ï¼Œå› ç‚ºä¸–ç•Œä¸ŠçœŸçš„æ‰¾ä¸å¤ªåˆ°æ¯”é‚£æ›´çˆ›çš„å·¥ä½œäº†ï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨é‚£æ®µæœŸé–“çœŸçš„å¾ˆæƒ³é›¢è·ï¼Œæœ‰é€™æ¨£çš„å¿µé ­ä¹‹å¾Œæ‰çŸ¥é“è‡ªå·±åˆ°åº•æƒ³åšçš„æ˜¯ä»€éº¼ï¼Œé€™å¯èƒ½å°±æ˜¯æ‰€è¬‚çš„ã€Œåœ¨æ¥µå¤§çš„ç—›è‹¦ä¸­æ„Ÿè¦ºç²¾ç¥ç”¦é†’å§ã€ï¼Œç¸½ä¹‹æˆ‘æƒ³èªªçš„æ˜¯ï¼Œä¸ç®¡ä½ æ˜¯å°æ”¿åŒ—æˆ–æ˜¯ç§ç§‘æœƒè¨ˆï¼Œä¸çŸ¥é“åšå•¥å°±æ˜¯é¸äº‹å‹™æ‰€ï¼Œé€²å»ä¹‹å¾Œå°±æœƒçŸ¥é“åŸä¾†æœ‰é€™éº¼çˆ›çš„å·¥ä½œï¼Œå°±æœƒå¼·è¿«è‡ªå·±å»æƒ³è‡ªå·±åˆ°åº•è¦åšä»€éº¼ï¼Œå¦‚æœåšå¾—ä¸‹å»é‚£ä¹Ÿå¾ˆå¥½ï¼Œäº‹å‹™æ‰€çš„å±¥æ­·é‚„æ˜¯æœ‰ä¸€é»é»ç”¨çš„ï¼ˆä½†æˆ‘éƒ½å»ºè­°æœ€å¥½æ˜¯å¾…åˆ°çµ„é•·æœƒæ¯”è¼ƒæœ‰ç”¨ä¸€é»ï¼‰ã€‚\næ¥ä¸‹ä¾†ä¸‹ä¸€ç¯‡æ–‡ç« æœƒèŠèŠæˆ‘ç‚ºä»€éº¼å¾äº‹å‹™æ‰€é›¢è·ï¼Œæ‡‰è©²è »å¤šå¯ä»¥è«‡çš„ï½\n","date":"2022-10-08T00:36:13+08:00","image":"https://i.imgur.com/aHMlhAm.png","permalink":"https://hoxtoncraft.com/p/%E5%BE%9E%E5%85%A5%E8%81%B7%E5%88%B0%E9%9B%A2%E8%81%B7%E4%BA%8B%E5%8B%99%E6%89%80%E7%9A%84%E6%97%A5%E5%AD%90%E4%B9%8B%E8%A9%B2%E9%80%B2%E4%BA%8B%E5%8B%99%E6%89%80%E5%97%8E/","title":"å¾å…¥è·åˆ°é›¢è·ï¼Œäº‹å‹™æ‰€çš„æ—¥å­ä¹‹ã€Šè©²é€²äº‹å‹™æ‰€å—ï¼Ÿã€‹"},{"content":"ç›®éŒ„  Filter(éæ¿¾å™¨)Interceptor(æ””æˆªå™¨)AOP(å‰–é¢å°å‘ç¨‹å¼è¨­è¨ˆ)ä¹‹å·®ç•°  Filter  Interceptor AspectJ    AspectJ 1 2  graph TD; AOP ---\u0026gt; SpringAop \u0026amp; AspectJ   AOP (æ¦‚å¿µ) é¢å‘åˆ‡é¢ç·¨ç¨‹ï¼Œåˆ©ç”¨AOPå¯ä»¥å°æ¥­å‹™é‚è¼¯çš„å„å€‹éƒ¨åˆ†é€²è¡Œéš”é›¢ï¼Œä½¿å¾—æ¥­å‹™é‚è¼¯å„éƒ¨åˆ†ä¹‹é–“çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹å¼çš„å¯é‡ç”¨æ€§ï¼ŒåŒæ™‚æé«˜é–‹ç™¼çš„æ•ˆç‡\nä¸ä¿®æ”¹åŸå§‹ç¢¼ï¼Œå¾è€Œæ“´å……æ–°åŠŸèƒ½\nFilter(éæ¿¾å™¨)Interceptor(æ””æˆªå™¨)AspectJ(AOP)ä¹‹å·®ç•° 1 2 3 4 5 6 7 8 9 10 11  flowchart LR; 1((ä½¿ç”¨è€…))--ç™¼é€è«‹æ±‚ --\u0026gt;Filter\\n+çµ±ä¸€è¨­ç½®ç·¨ç¢¼\\n+éæ¿¾æ•æ„Ÿå­—\\n+ç™»å…¥é©—è­‰\\n+URLç´šåˆ¥çš„è¨ªå•æ¬Šé™æ§åˆ¶\\n+æ•¸æ“šå£“ç¸® --\u0026gt;dispatcher --\u0026gt;Interceptor\\n+æ¬Šé™é©—è­‰\\n+ç™»å…¥é©—è­‰\\n+æ€§èƒ½æª¢æ¸¬ --\u0026gt;AOP\\n+æ—¥èªŒç´€éŒ„ --\u0026gt;2(Controller) -1[ç²—ç³™]--èƒ½è™•ç†requestçš„ç²¾ç´°ç¨‹åº¦----\u0026gt;-2[ç´°ç·»]   Filter 1 2 3 4 5 6  flowchart LR; 1[ç€è¦½å™¨]---\u0026gt;2{éæ¿¾å™¨}---\u0026gt;3[Webè³‡æº] 3[Webè³‡æº]--\u0026gt;2{éæ¿¾å™¨}--\u0026gt;1[ç€è¦½å™¨]   åœ¨HttpServletRequeståˆ°é”Servletä¹‹å‰ï¼Œéæ¿¾ã€è™•ç†ä¸€äº›è³‡è¨Šï¼Œæœ¬èº«ä¾è³´Sevletå®¹å™¨ï¼Œä¸èƒ½ç²å–SpringBeançš„ä¸€äº›è³‡è¨Šï¼Œå®ƒæ˜¯javax.servlet.FilterChainçš„é …ç›®ï¼Œä¸æ˜¯Springboot\nå¯ä»¥åšä»€éº¼\n ä¿®æ”¹Request, Response é˜²æ­¢xss(Cross-Site-SCriptingè·¨ç¶²ç«™æŒ‡ä»¤ç¢¼)æ”»æ“Š åŒ…è£äºŒé€²åˆ¶æµ  è‡ªå®šç¾©Filter  ä»¥è¨»è§£æ–¹å¼è£½ä½œFilter  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  /** * ç¶²è·¯ä¸Šæ•™å­¸è »å¤šéƒ½æ˜¯implenments filterï¼Œä½†æˆ‘å»ºè­°extend GenericFilterBean * æœƒæ¯”è¼ƒæ–¹ä¾¿ä¸€é»ï¼Œçœå»implenments init(), distory()çš„éº»ç…© */ @Slf4j @Component @WebFilter(filterName = \u0026#34;f1\u0026#34;,urlPatterns = {\u0026#34;*.html\u0026#34;,\u0026#34;*.jsp\u0026#34;,\u0026#34;/\u0026#34;}) //filterNameå°±åªæ˜¯ä¸€å€‹åç¨±å¯ä»¥ï¼Œéš¨æ„å°±å¥½ï¼ŒurlPatternæ˜¯ç”¨ä¾†æŒ‡å®šå“ªäº›urlè¦ç¶“éé€™å€‹éæ¿¾å™¨ public class HiFilter extends GenericFilterBean { @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { log.info(\u0026#34;Hello Hoxton\u0026#34;); chain.doFilter(request,response); //ä»£è¡¨é€™å€‹Filterå·²ç¶“ä½œç”¨å®Œç•¢ï¼Œå¯ä»¥æŠŠrequest,responseäº¤çµ¦ä¸‹ä¸€å€‹Filteräº†  } }   çµæœå¦‚ä¸Š\n ä»¥Javaé…ç½®æ–¹å¼è£½ä½œFilter  1 2 3 4 5 6 7 8 9 10 11 12 13 14  @Slf4j /** * ç¶²è·¯ä¸Šæ•™å­¸è »å¤šéƒ½æ˜¯implenments filterï¼Œä½†æˆ‘å»ºè­°extend GenericFilterBean * æœƒæ¯”è¼ƒæ–¹ä¾¿ä¸€é»ï¼Œçœå»implenments init(), distory()çš„éº»ç…© */ public class HiFilter extends GenericFilterBean { @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { log.info(\u0026#34;Hello Hoxton\u0026#34;); chain.doFilter(request,response); //ä»£è¡¨é€™å€‹Filterå·²ç¶“ä½œç”¨å®Œç•¢ï¼Œå¯ä»¥æŠŠrequest,responseäº¤çµ¦ä¸‹ä¸€å€‹Filteräº†  } }   1 2 3 4 5 6 7 8 9  @Configuration public class FilterConfig { @Bean public FilterRegistrationBean heFilterRegistration() { FilterRegistrationBean registration = new FilterRegistrationBean(new HiFilter()); registration.addUrlPatterns(\u0026#34;/*\u0026#34;); //é…ç½®ç›¸é—œçš„è·¯å¾‘  return registration; } }    ä¸€äº›å…¶ä»–çš„configè¨­ç½®ï¼Œåƒ…ä¾›åƒè€ƒï¼Œèˆ‡ä¸Šé¢é‡‹ä¾‹ç„¡é—œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  @Configuration public class FilterConfig { //test @Bean public FilterRegistrationBean\u0026lt;Filter\u0026gt; logProcessTimeFilter() { FilterRegistrationBean\u0026lt;Filter\u0026gt; bean = new FilterRegistrationBean\u0026lt;\u0026gt;(); bean.setFilter(new LogProcessTimeFilter()); //è¨­å®šæƒ³è¦ä½¿ç”¨å“ªä¸€å€‹Filter  bean.addUrlPatterns(\u0026#34;/*\u0026#34;); //è¨­ç½®å“ªäº›urlæœƒè§¸ç™¼Filterï¼Œè¨­ç½®æˆ/* å°±ä»£è¡¨å…¨éƒ¨éƒ½æœƒåƒåˆ°ï¼Œ/user/*å°±ä»£è¡¨/useré–‹é ­çš„éƒ½æœƒåƒåˆ°  bean.setName(\u0026#34;logProcessTimeFilter\u0026#34;); //è¨­ç½®è¦å«ä»€éº¼åå­—  bean.setOrder(0); //è¨­å®šéæ¿¾å™¨çš„åŸ·è¡Œé †åº  return bean; } @Bean public FilterRegistrationBean\u0026lt;Filter\u0026gt; logApiFilter() { FilterRegistrationBean\u0026lt;Filter\u0026gt; bean = new FilterRegistrationBean\u0026lt;\u0026gt;(); bean.setFilter(new LogApiFilter()); //è¨­å®šæƒ³è¦ä½¿ç”¨å“ªä¸€å€‹Filter  bean.addUrlPatterns(\u0026#34;/*\u0026#34;); //è¨­ç½®å“ªäº›urlæœƒè§¸ç™¼Filterï¼Œè¨­ç½®æˆ/* å°±ä»£è¡¨å…¨éƒ¨éƒ½æœƒåƒåˆ°ï¼Œ/user/*å°±ä»£è¡¨/useré–‹é ­çš„éƒ½æœƒåƒåˆ°  bean.setName(\u0026#34;logApiFilter\u0026#34;); //è¨­ç½®è¦å«ä»€éº¼åå­—  bean.setOrder(1); //è¨­å®šéæ¿¾å™¨çš„åŸ·è¡Œé †åº  return bean; } @Bean public FilterRegistrationBean\u0026lt;Filter\u0026gt; printResponseRequestFilter() { FilterRegistrationBean\u0026lt;Filter\u0026gt; bean = new FilterRegistrationBean\u0026lt;\u0026gt;(); bean.setFilter(new PrintResponseRequest()); //è¨­å®šæƒ³è¦ä½¿ç”¨å“ªä¸€å€‹Filter  bean.addUrlPatterns(\u0026#34;/*\u0026#34;); //è¨­ç½®å“ªäº›urlæœƒè§¸ç™¼Filterï¼Œè¨­ç½®æˆ/* å°±ä»£è¡¨å…¨éƒ¨éƒ½æœƒåƒåˆ°ï¼Œ/user/*å°±ä»£è¡¨/useré–‹é ­çš„éƒ½æœƒåƒåˆ°  bean.setName(\u0026#34;printResponseRequestFilter\u0026#34;); //è¨­ç½®è¦å«ä»€éº¼åå­—  bean.setOrder(2); //è¨­å®šéæ¿¾å™¨çš„åŸ·è¡Œé †åº  return bean; } }    SpringBootæœ¬èº«ä¹Ÿæä¾›äº†è¨±å¤šä¸åŒçš„Filterä¾›ä½¿ç”¨ï¼Œåƒè€ƒå¦‚ä¸‹\nå¸¸ç”¨çš„æœ‰ä»¥ä¸‹å¹¾å€‹\n CharacterEncodingFilter(ç”¨æ–¼è™•ç†ç·¨ç¢¼å•é¡Œ) HiddenHttpMethodFilter(éš±è—Httpå‡½æ•¸) HttpPutFormContentFilter(formè¡¨å–®è™•ç†) RequesrtContextFilter(è«‹æ±‚ä¸Šä¸‹æ–‡)  å…¶ä»–è³‡è¨Šå¯ä»¥è©³é–±Spring MVCä¸­å„ä¸ªfilterçš„ç”¨æ³•\nå…¶ä¸­ä»¥OncePerRequestFilteræœ€å¸¸è¢«ä½¿ç”¨ï¼Œé€™å€‹Filteræœƒå»éæ¿¾æ¯ä¸€å€‹Requestè«‹æ±‚ï¼Œä¸”ä¸æœƒé‡è¤‡åŸ·è¡Œï¼Œä¸”é€™å€‹Filteræœ‰ä¸€å€‹doFilterInternal()çš„æ–¹æ³•ï¼Œä¾›æˆ‘å€‘æ’°å¯«Filteré‚è¼¯å› doFilter()çš„æ–¹æ³•å·²åœ¨OncePerRequestFilterè£¡é¢å¯¦ç¾äº†ï¼Œå¯ä»¥ç”¨ä¾†åšJwtokençš„ç™»å…¥é©—è­‰ï¼Œç¨‹å¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  @Component public class JwtAuthenticationFilter extends OncePerRequestFilter { @Autowired private JwtService jwtService; @Autowired private UserDetailsService userDetailsService; //æ³¨å…¥JwtService UserDetailsServiceï¼Œåˆ†åˆ¥ç”¨ä¾†è§£æTokenèˆ‡æŸ¥è©¢ä½¿ç”¨è€…è©³æƒ…  @Override protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException { String authHeader = request.getHeader(HttpHeaders.AUTHORIZATION); if (authHeader != null) { String accessToken = authHeader.replace(\u0026#34;Bearer \u0026#34;, \u0026#34;\u0026#34;); //å¾è«‹æ±‚æ¨™é ­ä¸­å–å¾—Authorizationæ¬„ä½ä¸­çš„å€¼  Map\u0026lt;String, Object\u0026gt; claims = jwtService.parseToken(accessToken); //æ“·å–å‡ºå¾Œé¢çš„JWTå­—ä¸²ï¼Œæ¥è‘—è§£æå®ƒ  String username = (String) claims.get(\u0026#34;username\u0026#34;); //å¾claimsç‰©ä»¶ä¸­å–å¾—usernameæ¬„ä½çš„å€¼  UserDetails userDetails = userDetailsService.loadUserByUsername(username); //ä¸¦é€éuserDetailServiceæŸ¥è©¢ä½¿ç”¨è€…è©³æƒ…ã€‚é€™ä¹Ÿä»£è¡¨JWTçš„å…§å®¹(payload)å¿…é ˆåŒ…å«usernameé€™å€‹æ¬„ä½  //åœ¨filterä¸­æŸ¥è©¢ä½¿ç”¨è€…çš„ç›®çš„ï¼Œæ˜¯ç‚ºäº†å°‡è©²æ¬¡è«‹æ±‚æ‰€ä»£è¡¨çš„é©—è­‰å¾Œè³‡æ–™(Authentication)å¸¶é€²securityä¸­çš„Contextã€‚  //Contextæ˜¯ä¸€ç¨®è¼ƒæŠ½è±¡çš„æ¦‚å¿µï¼Œå¯ä»¥æƒ³åƒæˆè©²æ¬¡è«‹æ±‚çš„èº«åˆ†ç‹€æ…‹  Authentication authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities()); //ç‚ºäº†å°‡é€™å€‹è«‹æ±‚çš„ä½¿ç”¨è€…èº«åˆ†å‘Šè¨´ä¼ºæœå™¨ï¼Œæˆ‘å€‘å»ºç«‹UsernamePasswordAuthenticationTokençš„ç‰©ä»¶ï¼Œå…¶ä¸­ç¬¬ä¸‰å€‹åƒæ•¸æ”¾GrantedAuthorityçš„Listï¼Œ ä½œç‚ºAPIçš„æˆæ¬Šæª¢æŸ¥  //ç¬¬ä¸€å€‹åƒæ•¸(principal)å‚³å…¥ä½¿ç”¨è€…è©³è«‹(UserDetails)ã€‚  // è€Œç¬¬äºŒå€‹åƒæ•¸æ˜¯credentialï¼Œé€šå¸¸æ˜¯å¯†ç¢¼ï¼Œä½†ä¸å‚³å…¥ä¹Ÿç„¡è¨ª  //ç¶“ç”±å‚³å…¥principalï¼Œæˆ‘å€‘å¾—ä»¥åœ¨æ¥­å‹™é‚è¼¯ä¸­å¾Contextè¼•æ˜“ç²å–ä½¿ç”¨è€…èº«åˆ†çš„è³‡æ–™  SecurityContextHolder.getContext().setAuthentication(authentication); } filterChain.doFilter(request, response); } }   é…ç½®å®Œå¾Œå†å°‡é€™å€‹FilteråŠ å…¥Securityçš„éæ¿¾éŠ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51  @EnableWebSecurity public class SecurityConfig extends WebSecurityConfigurerAdapter { @Autowired private UserDetailsService userDetailsService; @Autowired private JwtAuthenticationFilter jwtAuthenticationFilter; /** * å”åŠ©å¸³è™Ÿå¯†ç¢¼èªè­‰çš„æ±è¥¿ * @return */ @Override @Bean public AuthenticationManager authenticationManagerBean() throws Exception { return super.authenticationManagerBean(); } //åŠ å…¥Securityçš„éæ¿¾éŠ  protected void configure(HttpSecurity http) throws Exception { http.authorizeHttpRequests() .antMatchers(HttpMethod.GET, \u0026#34;/users/**\u0026#34;).hasAuthority(MemberAuthority.SYSTEM_ADMIN.name()) // .antMatchers(HttpMethod.GET,\u0026#34;/h2/**\u0026#34;).hasAuthority(MemberAuthority.SYSTEM_ADMIN.name())  .antMatchers(HttpMethod.GET,\u0026#34;/login/**\u0026#34;).permitAll() // .antMatchers(HttpMethod.POST,\u0026#34;login\u0026#34;).permitAll() // .antMatchers(HttpMethod.POST, \u0026#34;/users\u0026#34;).permitAll()  .anyRequest().permitAll() .and() .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class) //æ–¼UsernamePasswordAuthenticationFilteré€²è¡Œèªè­‰  .sessionManagement() .sessionCreationPolicy(SessionCreationPolicy.STATELESS) .and() .csrf().disable() .formLogin(); http.headers().frameOptions().disable(); //è®“spring Securityå¯ä»¥å’Œh2å»ºç«‹é€£ç·š  } /** * * @param auth é…ç½®å…¨å±€é©—è­‰è³‡è¨Šï¼Œå¦‚Authentication Provider,UserDetailServiceç­‰ç­‰è³‡è¨Šï¼Œ * authenticationManageræœƒæ¥æ”¶åˆ°UsernamePasswordAuthenticationTokenå‚³å…¥çš„è³‡æ–™å¾Œ * èª¿ç”¨SecurityConfigä¸­æ‰€é…ç½®çš„userDetailsService,passwordEncoderä¾†å”åŠ©é©—è­‰ * * @throws Exception */ protected void configure(AuthenticationManagerBuilder auth) throws Exception { auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder()); } }   ä¸€äº›Codeçš„ç¤ºç¯„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  public class LogProcessTimeFilter extends OncePerRequestFilter { /** * @param request è«‹æ±‚ * @param response å›æ‡‰ * @param filterChain éæ¿¾éˆ æœƒå°‡ç¾æœ‰çš„filterçµ¦ä¸²è¯èµ·ä¾†ï¼Œç•¶è«‹æ±‚é€²å…¥å¾Œç«¯ï¼Œéœ€è¦ä¾åºç¶“éå®ƒå€‘æ‰æœƒé”åˆ°Controllerï¼Œç›¸å°çš„ï¼Œç•¶å›æ‡‰é›¢é–‹Controllerï¼Œå‰‡æ˜¯æŒ‰ç…§ç›¸åçš„æ–¹å‘ç¶“éé‚£äº›Filter * @throws ServletException * @throws IOException */ @Override protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException { long startTime = System.currentTimeMillis(); filterChain.doFilter(request, response); //doFilter:ç›¸ç•¶æ–¼å°‡è«‹æ±‚é€è‡³Controllerã€‚  long endTime = System.currentTimeMillis(); long processTime = endTime - startTime; System.out.println(\u0026#34;processTime = \u0026#34; + processTime); } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  /** * Controlleræ”¶åˆ°çš„è«‹æ±‚ä¸»é«”(RequestBody)å’Œå›æ‡‰ä¸»é«”(ResponseBody) * åˆ†åˆ¥ç”±HttpServletRequestèˆ‡HttpServletResponseçš„InputStreamã€OutputStreamè½‰åŒ–è€Œä¾†ï¼Œ * ä½†è³‡æ–™æµåªèƒ½è®€å–ä¸€æ¬¡ï¼Œå¦‚æœåœ¨Filterå±¤å°±è¢«è®€æ‰ï¼Œå¯èƒ½æœƒå°è‡´å¾Œé¢éƒ½æ”¶ä¸åˆ°è³‡æ–™ * ç‚ºäº†ä¿ç•™ä¸»é«”ä¸­çš„è³‡æ–™ï¼Œæˆ‘å€‘å°‡è«‹æ±‚ä¸»é«”èˆ‡å›æ‡‰ä¸»é«”åŒ…è£æˆContentCachingResponseWrapper ContentCachingRequestWrapper * å†å¦‚åŒå¾€å¸¸å‚³å…¥FilterChain * * é€™å…©å€‹Wrapperçš„ç‰¹è‰²æ˜¯æœƒåœ¨å…§éƒ¨å‚™ä»½ä¸€å€‹ByteArrayOutputStreamï¼Œæˆ‘å€‘åªè¦å‘¼å«é€™å…©å€‹Wrapperçš„ * getContentAsByteArrayå°±å¯ä»¥ç„¡é™åˆ¶åœ°å–å¾—ä¸»é«”å…§å®¹ */ public class PrintResponseRequest extends OncePerRequestFilter { @Override protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException { ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request); ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response); filterChain.doFilter(requestWrapper, responseWrapper); // logApi(request, response);  logBody(requestWrapper,responseWrapper); responseWrapper.copyBodyToResponse(); } private void logApi(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { int httpStatus = response.getStatus(); //200,403,404ä¹‹é¡çš„  String httpMethod = request.getMethod(); String uri = request.getRequestURI(); String params = request.getQueryString(); if (params != null) { uri += \u0026#34;?\u0026#34; + params; } System.out.println(String.join(\u0026#34; \u0026#34;, String.valueOf(httpStatus), httpMethod, uri)); } private void logBody(ContentCachingRequestWrapper request, ContentCachingResponseWrapper response) { String requestBody = getContent(request.getContentAsByteArray()); System.out.println(\u0026#34;Request: \u0026#34; + requestBody); String responseBody = getContent(response.getContentAsByteArray()); System.out.println(\u0026#34;Response: \u0026#34; + responseBody); } /** * @param content * @return è¿”å›JSONå­—ä¸² */ private String getContent(byte [] content){ String body = new String(content); return body.replaceAll(\u0026#34;[\\n\\t]\u0026#34;, \u0026#34;\u0026#34;); //å»é™¤æ›è¡Œ\\nèˆ‡å®šä½ç¬¦è™Ÿ\\t  } }   Interceptor æœ¬èº«æ˜¯AOPçš„ä¸€ç¨®æ‡‰ç”¨ï¼Œå…¶å¯¦æ””æˆªå™¨è·Ÿéæ¿¾å™¨æ˜¯å¯ä»¥äº’ç›¸æ›¿æ›çš„ï¼ŒåŠŸèƒ½å…¶å¯¦å·®ä¸å¤šï¼Œåªæ˜¯æ””æˆªå™¨å¯ä»¥åœ¨è«‹æ±‚åˆ°é”Controlleræˆ–æ˜¯å›æ‡‰å›å‚³å‡ºContrlleræ™‚é€²è¡Œæ””æˆªï¼Œæ””æˆªæˆåŠŸæ™‚å¯ä»¥å¯¦åšä¸€äº›è‡ªå®šç¾©çš„æ¥­å‹™é‚è¼¯é€²è¡Œä¿®æ”¹ï¼Œä¸”Interceptoræ˜¯Springbootä¸‹çš„ä¸€å€‹åŠŸèƒ½org.springframework.web.servlet.HandlerInterceptor\nå¯ä»¥ç”¨ä¾†\n æ€§èƒ½ç›£æ§ï¼šç´€éŒ„è«‹æ±‚çš„è™•ç†æ™‚é–“ï¼Œæ¯”å¦‚èªªè«‹æ±‚è™•ç†å¤ªä¹…ï¼ˆè¶…é500æ¯«ç§’ï¼‰ ç™»å…¥æª¢æ¸¬   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  graph LR; request--\u0026gt;id1 id1--\u0026gt;id2--\u0026gt;id4--\u0026gt;id3--\u0026gt;id6--\u0026gt;id5 subgraph æ””æˆªå™¨1 direction TB id1[\u0026#34;preHandle()\u0026#34;] id3[\u0026#34;postHandler()\u0026#34;] id5[\u0026#34;afterCompletion()\u0026#34;] end subgraph æ””æˆªå™¨2 direction TB id2[\u0026#34;preHandle()\u0026#34;] id4[\u0026#34;postHandler()\u0026#34;] id6[\u0026#34;afterCompletion()\u0026#34;] end   è¦å¯¦ç¾interceptoræœ‰å…©ç¨®æ–¹å¼\n å¯¦ä½œHandlerInterceptor ç¹¼æ‰¿HandlerInterceptorAdapter  é‡‹ä¾‹\n è‡ªå®šç¾©æ””æˆªå™¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  public class LogInterceptor extends HandlerInterceptorAdapter { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { long startTime = System.currentTimeMillis(); System.out.println(\u0026#34;\\n-------- LogInterception.preHandle --- \u0026#34;); System.out.println(\u0026#34;Request URL: \u0026#34; + request.getRequestURL()); System.out.println(\u0026#34;Start Time: \u0026#34; + System.currentTimeMillis()); request.setAttribute(\u0026#34;startTime\u0026#34;, startTime); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;\\n-------- LogInterception.postHandle --- \u0026#34;); System.out.println(\u0026#34;Request URL: \u0026#34; + request.getRequestURL()); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;\\n-------- LogInterception.afterCompletion --- \u0026#34;); long startTime = (Long) request.getAttribute(\u0026#34;startTime\u0026#34;); long endTime = System.currentTimeMillis(); System.out.println(\u0026#34;Request URL: \u0026#34; + request.getRequestURL()); System.out.println(\u0026#34;End Time: \u0026#34; + endTime); System.out.println(\u0026#34;Time Taken: \u0026#34; + (endTime - startTime)); } }    è¨»å†Šæ””æˆªå™¨  1 2 3 4 5 6 7 8 9 10 11 12  @Configuration public class WebConfig implements WebMvcConfigurer { @Override public void addInterceptors(InterceptorRegistry registry) { registry.addInterceptor(new LogInterceptor()); registry.addInterceptor(new OldLoginInterceptor()).addPathPatterns(\u0026#34;/admin/oldLogin\u0026#34;); registry.addInterceptor(new AdminInterceptor()).addPathPatterns(\u0026#34;/admin/*\u0026#34;).excludePathPatterns(\u0026#34;/admin/oldLogin\u0026#34;); } }   AspectJ å±¬æ–¼ä¸€ç¨®AOPæ¡†æ¶\n å‹•æ…‹ä»£ç†(Spring5æœ¬èº«å·²ç¶“å°è£äº†)  æœ‰å…©ç¨®æƒ…æ³çš„å‹•æ…‹ä»£ç†   æœ‰ä»‹é¢(JDKå‹•æ…‹ä»£ç†)\n1 2 3  interface UserDao{ public void login(); }   1 2 3 4  class UserDaoImpl implementsã€€UserDao{ public void login(){ } }   å‰µå»ºUserDaoä»‹é¢å¯¦ç¾é¡çš„ä»£ç†å°è±¡ï¼Œä»£ç†å°è±¡æœƒæœ‰è¢«ä»£ç†å°è±¡çš„æ‰€æœ‰æ–¹æ³•ï¼Œä¸¦ä¸”å¢å¼·\n  ç„¡ä»‹é¢(CGLIBå‹•æ…‹ä»£ç†)\n1 2 3 4 5  class User{ public void add (){ } }   1 2 3 4 5  class Person extends User{ public void add(){ super.add(); } }         AOP(JDKå‹•æ…‹ä»£ç†) ä½¿ç”¨JDKçš„å‹•æ…‹ä»£ç†ï¼Œè¦ä½¿ç”¨Proxyé¡è£¡é¢çš„æ–¹æ³•ä¾†å‰µå»ºå‡ºä»£ç†å°è±¡ newProxyInstance(é¡åŠ è¼‰å™¨,å¢å¼·æ–¹æ³•æ‰€åœ¨çš„é¡ï¼Œé€™å€‹é¡å¯¦ç¾çš„ä»‹é¢,å¯¦ç¾é€™å€‹æ¥å£(InvocationHandler)\nç·¨å¯«JDKå‹•æ…‹ä»£ç¢¼\n1 2 3 4 5 6  public interface UserDao { public int add (int a,int b); public String update(String id); }   1 2 3 4 5 6 7 8 9 10 11 12 13  public class UserDaoImpl implements UserDao{ @Override public int add(int a, int b) { System.out.println(\u0026#34;addæ–¹æ³•åŸ·è¡Œäº†\u0026#34;); return a+b; } @Override public String update(String id) { return id; } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48  package com.example.aop; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; import java.lang.reflect.Proxy; import java.util.Arrays; /** * @author Hoxton * @version 1.1.0 */ public class JDKProxy { public static void main(String[] args) { Class[] interfaces = {UserDao.class}; UserDaoImpl userDao = new UserDaoImpl(); UserDao dao = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new UserDaoProxy(userDao)); //æ­¤daoå·²ç¶“ä¸æ˜¯åŸæœ¬çš„daoï¼Œè€Œæ˜¯æ–°çš„ä»£ç†é¡daoäº†  int result = dao.add(1, 2); System.out.println(\u0026#34;result = \u0026#34; + result); } } //å‰µå»ºä»£ç†å°è±¡çš„ä»£ç¢¼ class UserDaoProxy implements InvocationHandler { //1. æŠŠå‰µå»ºçš„æ˜¯èª°çš„ä»£ç†å°è±¡ï¼ŒæŠŠèª°å‚³éé€²ä¾†  // æœ‰åƒå»ºæ§‹å­  private Object obj; public UserDaoProxy(Object obj) { this.obj = obj; } //å¢å¼·çš„é‚è¼¯  @Override public Object invoke(Object proxy, Method method, Object[] methodArgs) throws Throwable { //æ–¹æ³•ä¹‹å‰  System.out.println(\u0026#34;æ–¹æ³•ä¹‹å‰åŸ·è¡Œ...\u0026#34; + method.getName() + \u0026#34;å‚³éçš„åƒæ•¸...\u0026#34; + Arrays.toString(methodArgs)); //è¢«å¢å¼·çš„æ–¹æ³•åŸ·è¡Œ  Object res = method.invoke(obj, methodArgs); //æ–¹æ³•ä¹‹å¾Œ  System.out.println(\u0026#34;æ–¹æ³•ä¹‹å¾ŒåŸ·è¡Œ...\u0026#34; + obj); return res; } }   AOPå°ˆæ¥­è¡“èª   é€£æ¥é»\nä¸€å€‹é¡è£¡é¢ä¸­ï¼Œèƒ½è¢«å¢å¼·çš„æ–¹æ³•å°±å«é€£æ¥é»ï¼Œä¸‹é¢é€™å€‹é¡å°±æœ‰å››å€‹é€£æ¥é»\n1 2 3 4 5 6  class User{ add(); update(); select(); delete(); }     åˆ‡å…¥é»\nå¯¦éš›è¢«å¢å¼·çš„æ–¹æ³•ï¼Œå°±å«åˆ‡å…¥é»\n  é€šçŸ¥(å¢å¼·)\n  å¯¦éš›å¢å¼·çš„é‚è¼¯éƒ¨åˆ†ç¨±ç‚ºé€šçŸ¥(å¢å¼·)\n  é€šçŸ¥æœ‰å¤šç¨®é¡å‹\n  å‰ç½®é€šçŸ¥\nåœ¨åˆ‡å…¥é»å‰åŸ·è¡Œ\n  å¾Œç½®é€šçŸ¥\nåœ¨åˆ‡å…¥é»å¾ŒåŸ·è¡Œ\n  ç’°ç¹é€šçŸ¥\nåœ¨åˆ‡å…¥é»å‰å¾ŒåŸ·è¡Œ\n  ç•°å¸¸é€šçŸ¥\nå‡ºç¾ç•°å¸¸æ™‚åŸ·è¡Œ\n  æœ€çµ‚é€šçŸ¥\nåŸ·è¡Œåˆ°try\u0026hellip;catchçš„finalæ™‚åŸ·è¡Œ\n      åˆ‡é¢\næ˜¯ä¸€å€‹å‹•ä½œ\n æŠŠé€šçŸ¥æ‡‰ç”¨åˆ°åˆ‡å…¥é»çš„éç¨‹ï¼Œå°±å«åˆ‡é¢    AOP(æº–å‚™)   Spring æ¡†æ¶ä¸€èˆ¬éƒ½æ˜¯åŸºæ–¼AspectJå¯¦ç¾çš„AOPæ“ä½œ\n  ä»€éº¼æ˜¯AspectJ\n AspectJä¸æ˜¯Springçš„çµ„æˆéƒ¨åˆ†ï¼Œæ˜¯ä¸€å€‹ç¨ç«‹çš„AOPæ¡†æ¶ï¼Œ ä¸€èˆ¬æŠŠAspectJå’ŒSpringæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œé€²è¡ŒAOPæ“ä½œ    åŸºæ–¼Aspectå¯¦ç¾AOPæ“ä½œ\n xmlé…ç½®æ–‡ä»¶å¯¦ç¾ åŸºæ–¼è¨»è§£æ–¹æ³•å¯¦ç¾(ä¸»è¦ä½¿ç”¨)    å†å°ˆæ¡ˆè£¡é¢å¼•å…¥AOPä¾è³´\n  åˆ‡å…¥é»è¡¨é”å¼\n  åˆ‡å…¥é»è¡¨é”å¼çš„ä½œç”¨: çŸ¥é“å°å“ªå€‹é¡çš„å“ªå€‹æ–¹æ³•é€²è¡Œå¢å¼·\n  èªæ³•çµæ§‹:\nexecution( [æ¬Šé™ä¿®é£¾ç¬¦] [è¿”å›é¡å‹] [é¡å…¨è·¯å¾‘] [æ–¹æ³•åç¨±] ( [åƒæ•¸åˆ—è¡¨] ) )\n  æ¬Šé™ä¿®é£¾ç¬¦: public, private, *(ä»£è¡¨ä¸è«–æ˜¯public, private éƒ½é¸)\n  è¿”å›é¡å‹: String, int\n  é¡å…¨è·¯å¾‘: com.hoxton\u0026hellip;\u0026hellip;.\n  æ–¹æ³•åç¨±: å°±æ–¹æ³•åç¨±\n  åƒæ•¸åˆ—è¡¨: æœ‰å“ªäº›åƒæ•¸\nèˆ‰ä¾‹\n  å°com.hoxton.dao.BookDaoé¡è£¡é¢çš„addæ–¹æ³•é€²è¡Œå¢å¼·\n  1  execution(* com.hoxton.dao.BookDao.add(..) )       å°com.hoxton.dao.BookDaoé¡çš„æ‰€æœ‰æ–¹æ³•é€²è¡Œå¢å¼·\n  1  execution(* com.hoxton.dao.BookDao.*(..))       å°com.hoxton.daoåŒ…è£¡çš„æ‰€æœ‰é¡ï¼Œé¡è£¡é¢çš„é«“æœ‰æ–¹æ³•é€²è¡Œå¢å¼·\n  1  excution(* com.hoxton.dao.*.*(..))         within([packageå].* )æˆ–( [packageå]..*)\nèˆ‰ä¾‹\n          AOPæ“ä½œ(Aspect J è¨»è§£)  å‰µå»ºé¡ï¼Œåœ¨é¡è£¡é¢å®šç¾©æ–¹æ³•  1 2 3 4 5 6  public class User { public void add(){ System.out.println(\u0026#34;add\u0026#34;); } }    å‰µå»ºå¢å¼·é¡(ç·¨å¯«å¢å¼·é‚è¼¯)\n  åœ¨å¢å¼·é¡çš„è£¡é¢ï¼Œå‰µå»ºæ–¹æ³•ï¼Œè®“ä¸åŒæ–¹æ³•ä»£è¡¨ä¸åŒé€šçŸ¥é¡å‹\n1 2 3 4 5  public class UserProxy { public void before(){ System.out.println(\u0026#34;before\u0026#34;); } }       é€²è¡Œé€šçŸ¥çš„é…ç½®\n åœ¨Spring    Log4j 2 1 2 3 4  flowchart TD; 8[\u0026#34;ALL(å…¨è¼¸å‡ºä¸ç•™æƒ…)\u0026#34;]---\u0026gt;7[\u0026#34;Trace(æ›´ç´°çš„é™¤éŒ¯è³‡è¨Šï¼Œé€šå¸¸ç”¨ä¾†è¿½è¹¤åŸå¸‚æµç¨‹çš„æ—¥èªŒ)\u0026#34;]---\u0026gt;6[\u0026#34;DEBUG(é™¤éŒ¯è³‡è¨Šçš„æ—¥å¿—)æ¨è–¦â˜…\u0026#34;]---\u0026gt;5[\u0026#34;INFO(ä¸€èˆ¬è³‡è¨Šçš„æ—¥å¿—)æ¨è–¦â˜…\u0026#34;]---\u0026gt;4[\u0026#34;WARN(å¯èƒ½å°è‡´éŒ¯èª¤çš„æ—¥å¿—)\u0026#34;]---\u0026gt;3[\u0026#34;ERROR(é€ æˆæ‡‰ç”¨éŒ¯èª¤åœæ­¢çš„æ—¥å¿—)\u0026#34;]---\u0026gt;2[\u0026#34;FETAL(é€ æˆæ‡‰ç”¨ç¨‹å¼åœæ­¢çš„æ—¥å¿—)\u0026#34;]---\u0026gt;1[\u0026#34;OFF(ä¸è¼¸å‡ºä»»ä½•æ—¥å¿—)\u0026#34;]   åƒè€ƒ https://www.cnblogs.com/itlihao/p/14329905.html\nhttps://blog.csdn.net/fly910905/article/details/86537648\nSpringBootæ””æˆªå™¨(Interceptor)è©³è§£\nSpring Bootä½¿ç”¨éæ¿¾å™¨å’Œæ””æˆªå™¨åˆ†åˆ¥å¯¦ç¾RESTä»‹é¢ç°¡æ˜“å®‰å…¨èªè­‰\n  ","date":"2022-10-07T22:41:52+08:00","image":"https://i.imgur.com/B7GhSw1.png","permalink":"https://hoxtoncraft.com/p/%E5%9F%BA%E7%A4%8Eaop%E4%BB%8B%E7%B4%B9-filter-interceptor-aspectj/","title":"åŸºç¤AOPä»‹ç´¹-Filter Interceptor AspectJ"},{"content":"SpringBoot-Scheduling ç”¨ä¾†åšå®šæœŸä»»å‹™çš„æ±è¥¿ï¼Œæœ‰å…©ç¨®\n Spring scheduleï¼šåªé©åˆè™•ç†ç°¡å–®çš„è¨ˆç•«ä»»å‹™ï¼Œä¸èƒ½è™•ç†åˆ†æ•£å¼çš„ä»»å‹™ï¼Œç•¶ä»»å‹™å¤ªå¤šæ™‚ï¼Œå¯èƒ½å‡ºç¾é˜»å¡ã€å´©æ½°ã€å»¶é²å•Ÿå‹•ç­‰å•é¡Œ Quartzï¼šæ›´å¼·å¤§çš„ä¸€å€‹æ’ç¨‹å™¨ï¼Œèƒ½å¤ é…ç½®ä¸Šç™¾ç”šè‡³ä¸Šåƒçš„äº‹å‹™ã€‚  Spring Schedule æ­¥é©Ÿ  åœ¨å•Ÿå‹•é¡ä¸ŠåŠ ä¸Š@EnableScheduling  1 2 3 4 5 6 7  @SpringBootApplication() @EnableScheduling public class Application { public static void main(String[] args) { SpringApplication.run(Application.class, args); } }   åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Scheduled  1 2 3 4 5 6 7  @Component public class Task { @Scheduled(fixedDelay = 10 * 100) public void printLocalTime() { System.out.println(LocalTime.now().toString()); } }   1 2 3 4  @Scheduled(cron = \u0026#34;1 * * * * ?\u0026#34;,zone = \u0026#34;Asia/Taipei\u0026#34;) public void printPer5second(){ log.info(\u0026#34;cron\u0026#34;); }   1 2 3 4  @Scheduled(cron = \u0026#34;0/1 * * * * ?\u0026#34;,zone = \u0026#34;Asia/Taipei\u0026#34;) public void printPer5second(){ log.info(\u0026#34;cron\u0026#34;); }   Cronè¡¨é”å¼(ä¸ƒå­è¡¨é”å¼) è¡¨é”å¼ç”Ÿæˆå·¥å…·\nCronèªæºä¾†è‡ªChronosï¼Œæ˜¯å¸Œè‡˜ç¥è©±ä¸­æŒç®¡æ™‚é–“çš„ç¥æŸ¯ç¾…è«¾æ–¯(Chronos)ã€‚\n   ç§’ åˆ† æ™‚ æ—¥ æœˆ å‘¨ å¹´(å¯é¸)     1 * * * * ? ?     ç§’ï¼š0-59 åˆ†ï¼š0-59 æ™‚ ï¼š0-23 æ—¥ï¼š1-31 æœˆï¼š0-11æˆ–\u0026quot;JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC\u0026quot; å‘¨ï¼š1-7æˆ–SUN, MON, TUE, WED, THU, FRI,SAT å¹´  æƒ³åƒä¸€å€‹æ™‚é˜\u0026hellip;\n   ç•¶æ¯æ¬¡ç§’é‡æŒ‡å‘ä¸€ç§’æ™‚ 1 * * * * ?     ç•¶æ¯æ¬¡æ™‚é‡æŒ‡å‘12æ™‚ * * 12 * * ?   æ¯å€‹æœˆ 1 è™Ÿä¸­åˆ 12 é» 0 0 12 1 * ?   1 æœˆæ¯å¤©ä¸­åˆ 12 é»ï¼Œæ¯ 5 ç§’ 0/5 0 12 * 1 ?       å­—å…ƒ æ„ç¾©     * è¡¨é”ä»»æ„å€¼ï¼Œæ‰€æœ‰å€¼éƒ½å¯ä»¥åŒ¹é…   ? åªç”¨åœ¨ æ—¥ è·Ÿ å‘¨ çš„å€¼åŸŸï¼Œæœ‰é»è¡¨é” donâ€™t care çš„æ¦‚å¿µï¼Œç„¡æ‰€è¬‚ï¼Œä¸é—œå¿ƒåˆ°åº•æ˜¯ä»€éº¼å€¼   - æŒ‡å®šç¯„åœï¼Œå‰å¾Œæ¥æ•¸å­—: 10-12   , æŒ‡å®šé›¢æ•£çš„é¸é …: 1,5,6,8ï¼Œæˆ–è€…çš„æ¦‚å¿µ   / æŒ‡å®šå¢é‡ï¼Œè¡¨é” æ¯ çš„æ¦‚å¿µ: 0/5 æ„æ—¨å¾ 0 é–‹å§‹æ¯ 5 å–®ä½   L ç”¨åœ¨ æœˆ è·Ÿ å‘¨ çš„å€¼åŸŸã€‚åœ¨æœˆçš„è©±è¡¨é”æœ€å¾Œä¸€å¤©ï¼Œåœ¨å‘¨çš„è©±å‰é¢å¯ä»¥åŠ ä¸Šæ•¸å­— 3L è¡¨ç¤ºè©²æœˆæœ€å¾Œä¸€å€‹æ˜ŸæœŸäºŒ   W ç”¨åœ¨æ—¥çš„å€¼åŸŸè¡¨ç¤ºè·é›¢æœ€è¿‘çš„è©²æœˆå·¥ä½œæ—¥: 15Wï¼Œè·é›¢ 15 è™Ÿæœ€è¿‘çš„å·¥ä½œæ—¥ï¼Œå¯èƒ½å¾€å‰ä¹Ÿå¯èƒ½å¾€å¾Œ   LW ç”¨åœ¨æ—¥çš„å€¼åŸŸï¼Œè¡¨ç¤ºæœ€å¾Œä¸€å‘¨çš„å·¥ä½œæ—¥   # ç”¨åœ¨å‘¨çš„å€¼åŸŸï¼ŒæŒ‡å®šç‰¹å®šå‘¨çš„ç‰¹å®šæ—¥: â€œ4#2â€ è¡¨ç¤ºç¬¬äºŒå‘¨çš„æ˜ŸæœŸä¸‰   C ç”¨åœ¨æ—¥è·Ÿå‘¨çš„å€¼åŸŸï¼ŒæŒ‡æŸç‰¹å®šå€‹æ—¥æœŸçš„å¾Œä¸€å¤©: åœ¨æ—¥ä¸­å¯« 3C æŒ‡è©²æœˆ 3 è™Ÿçš„å¾Œä¸€å¤©ï¼Œåœ¨å‘¨ä¸­å¯« 2C æŒ‡è©²å‘¨æ˜ŸæœŸä¸€çš„å¾Œä¸€å¤©    Quartz æ˜¯ä¸€å€‹é–‹æºçš„ä»»å‹™æ’ç¨‹å™¨ï¼Œå¹¾ä¹å¯ä»¥æ•´åˆåˆ°ä»»ä½•Javaæ‡‰ç”¨ç¨‹å¼ä¸­ã€‚\nå®ƒå¯ä»¥ç”¨ä¾†\n å®‰æ’æ¯å€‹æ™šä¸ŠæŠŠè³‡æ–™åº«å…§å®¹è½‰å­˜åˆ°æª”æ¡ˆ æä¾›å®šæ™‚æé†’æœå‹™ æ—ç¹ä¸åŠå‚™è¼‰\u0026hellip;  åº•å±¤æ•¸æ“šçµæ§‹- å † ä»‹ç´¹ å †æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„æ¨¹ï¼Œæ»¿è¶³ä¸‹é¢å…©å€‹æ¢ä»¶ï¼Œå°±æ˜¯ä¸€å€‹å †\n å †æ˜¯ä¸€é¡†å®Œå…¨äºŒå…ƒæ¨¹å®Œæ•´äºŒå…ƒæ¨¹ï¼šé™¤äº†æœ€å¾Œä¸€å±¤ä»¥å¤–ï¼Œå…¶ä»–å±¤çš„ç¯€é»æ•¸éœ€è¦é”åˆ°æœ€å¤§(1,2,4,8. ..)  æ¯å€‹ç¯€é»æ‰€å„²å­˜çš„å€¼ï¼Œå¿…é ˆè¦å¤§æ–¼å°é ‚å †æˆ–å°æ–¼å¤§é ‚å †çˆ¶ç¯€é»çš„å€¼   å°é ‚å †\n å®Œæ•´äºŒå…ƒæ¨¹çš„ä¸€äº›ç‰¹æ€§ï¼šå¿«é€Ÿå®šä½çˆ¶ç¯€é»\nåœ¨æ’ç¨‹å™¨çš„æ¡†æ¶ä¸­ï¼Œæ¯ä¸€å€‹ç¯€é»å°±æ˜¯ä¸€å€‹Jobï¼Œè¶Šé »ç¹çš„Jobæœƒè¢«æ”¾ç½®åœ¨è¶Šä¸Šå±¤çš„ç¯€é»\nå¦‚ä½•æ’å…¥å…ƒç´  å°¾æ’æ³•ï¼Œåœ¨å°¾éƒ¨æ’å…¥ä¸€å€‹æ–°çš„å…ƒç´ ï¼Œç„¶å¾Œä¸Šæµ®ï¼Œæµ®åˆ°ç¬¦åˆå®šç¾©\n é™¤äº†æœ€å¾Œä¸€å±¤ä»¥å¤–ï¼Œå…¶ä»–å±¤çš„ç¯€é»æ•¸éœ€è¦é”åˆ°æœ€å¤§(1,2,4,8. ..)ï¼Œä¸”æœ€å¾Œä¸€å±¤ç¯€é»éƒ½é å·¦æ’åˆ— æ¯å€‹ç¯€é»æ‰€å„²å­˜çš„å€¼ï¼Œå¿…é ˆè¦å¤§æ–¼å°é ‚å †æˆ–å°æ–¼å¤§é ‚å †çˆ¶ç¯€é»çš„å€¼  å¦‚ä½•åˆªé™¤å…ƒç´  å°‡å°¾éƒ¨(æœ€å¾Œä¸€å€‹ç¯€é»)æ”¾ç½®åˆ°å †é ‚ï¼Œç„¶å¾Œä¸‹æ²‰\næ™‚é–“è¼ªç®—æ³•(Time Wheel) å†åˆªé™¤å…ƒç´ çš„æ™‚å€™éƒ½éœ€è¦ä¸‹æ²‰ï¼Œç•¶ç¯€é»æ•¸å¾ˆå¤šæ™‚æœƒé€ æˆæ€§èƒ½å»¶å®•\nround å‹çš„æ™‚é–“è¼ª ä»»å‹™ä¸Šè¨˜éŒ„ä¸€å€‹roundï¼Œéæ­·åˆ°äº†å°±å°‡roundæ¸›ä¸€ï¼Œç‚º0æ™‚å–å‡ºä¾†åŸ·è¡Œ\nåˆ†å±¤æ™‚é–“è¼ª Cronè¡¨é”å¼ä»¥åŠå…¶ä»–æ’ç¨‹å™¨æ‰€æ¡ç”¨çš„åº•å±¤æ¶æ§‹ï¼Œåˆ†æˆç§’è¼ªã€åˆ†è¼ªã€å°æ™‚è¼ªã€æ—¥è¼ªã€å‘¨è¼ªã€æœˆè¼ªã€å¹´è¼ª\u0026hellip;ï¼Œæœˆè¼ªè¿­ä»£åˆ°äº†ï¼Œå°±å°‡ä»»å‹™å–å‡ºæ”¾åˆ°å¤©è¼ªä¸­åŸ·è¡Œ\u0026hellip;ï¼Œä»¥æ­¤é¡æ¨\nCronè¡¨é”å¼(ä¸ƒå­è¡¨é”å¼) è¡¨é”å¼ç”Ÿæˆå·¥å…·\nCronèªæºä¾†è‡ªChronosï¼Œæ˜¯å¸Œè‡˜ç¥è©±ä¸­æŒç®¡æ™‚é–“çš„ç¥æŸ¯ç¾…è«¾æ–¯(Chronos)ã€‚\n   ç§’ åˆ† æ™‚ æ—¥ æœˆ å‘¨ å¹´(å¯é¸)     1 * * * * ? ?     ç§’ï¼š0-59 åˆ†ï¼š0-59 æ™‚ ï¼š0-23 æ—¥ï¼š1-31 æœˆï¼š0-11æˆ–\u0026quot;JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC\u0026quot; å‘¨ï¼š1-7æˆ–SUN, MON, TUE, WED, THU, FRI,SAT å¹´  æƒ³åƒä¸€å€‹æ™‚é˜\u0026hellip;\n   ç•¶æ¯æ¬¡ç§’é‡æŒ‡å‘ä¸€ç§’æ™‚ 1 * * * * ?     ç•¶æ¯æ¬¡æ™‚é‡æŒ‡å‘12æ™‚ * * 12 * * ?   æ¯å€‹æœˆ 1 è™Ÿä¸­åˆ 12 é» 0 0 12 1 * ?   1 æœˆæ¯å¤©ä¸­åˆ 12 é»ï¼Œæ¯ 5 ç§’ 0/5 0 12 * 1 ?       å­—å…ƒ æ„ç¾©     * è¡¨é”ä»»æ„å€¼ï¼Œæ‰€æœ‰å€¼éƒ½å¯ä»¥åŒ¹é…   ? åªç”¨åœ¨ æ—¥ è·Ÿ å‘¨ çš„å€¼åŸŸï¼Œæœ‰é»è¡¨é” donâ€™t care çš„æ¦‚å¿µï¼Œç„¡æ‰€è¬‚ï¼Œä¸é—œå¿ƒåˆ°åº•æ˜¯ä»€éº¼å€¼   - æŒ‡å®šç¯„åœï¼Œå‰å¾Œæ¥æ•¸å­—: 10-12   , æŒ‡å®šé›¢æ•£çš„é¸é …: 1,5,6,8ï¼Œæˆ–è€…çš„æ¦‚å¿µ   / æŒ‡å®šå¢é‡ï¼Œè¡¨é” æ¯ çš„æ¦‚å¿µ: 0/5 æ„æ—¨å¾ 0 é–‹å§‹æ¯ 5 å–®ä½   L ç”¨åœ¨ æœˆ è·Ÿ å‘¨ çš„å€¼åŸŸã€‚åœ¨æœˆçš„è©±è¡¨é”æœ€å¾Œä¸€å¤©ï¼Œåœ¨å‘¨çš„è©±å‰é¢å¯ä»¥åŠ ä¸Šæ•¸å­— 3L è¡¨ç¤ºè©²æœˆæœ€å¾Œä¸€å€‹æ˜ŸæœŸäºŒ   W ç”¨åœ¨æ—¥çš„å€¼åŸŸè¡¨ç¤ºè·é›¢æœ€è¿‘çš„è©²æœˆå·¥ä½œæ—¥: 15Wï¼Œè·é›¢ 15 è™Ÿæœ€è¿‘çš„å·¥ä½œæ—¥ï¼Œå¯èƒ½å¾€å‰ä¹Ÿå¯èƒ½å¾€å¾Œ   LW ç”¨åœ¨æ—¥çš„å€¼åŸŸï¼Œè¡¨ç¤ºæœ€å¾Œä¸€å‘¨çš„å·¥ä½œæ—¥   # ç”¨åœ¨å‘¨çš„å€¼åŸŸï¼ŒæŒ‡å®šç‰¹å®šå‘¨çš„ç‰¹å®šæ—¥: â€œ4#2â€ è¡¨ç¤ºç¬¬äºŒå‘¨çš„æ˜ŸæœŸä¸‰   C ç”¨åœ¨æ—¥è·Ÿå‘¨çš„å€¼åŸŸï¼ŒæŒ‡æŸç‰¹å®šå€‹æ—¥æœŸçš„å¾Œä¸€å¤©: åœ¨æ—¥ä¸­å¯« 3C æŒ‡è©²æœˆ 3 è™Ÿçš„å¾Œä¸€å¤©ï¼Œåœ¨å‘¨ä¸­å¯« 2C æŒ‡è©²å‘¨æ˜ŸæœŸä¸€çš„å¾Œä¸€å¤©    â€‹\né‡è¦APIåŠæ¦‚å¿µ  è¨˜å¾—Jobé¡ä¸€å®šè¦æ˜¯public classï¼Œä¸ç„¶Scheduleræœƒè®€ä¸åˆ°\n é‡‹ä¾‹ä¸€ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  public class Quartz { public static void main(String[] args) { MyJob myJob = new MyJob(); JobDetail jobDetail = JobBuilder.newJob(MyJob.class) .withIdentity(\u0026#34;job1\u0026#34;, \u0026#34;group1\u0026#34;) .build(); Trigger trigger = TriggerBuilder.newTrigger() .withIdentity(\u0026#34;trigger1\u0026#34;, \u0026#34;trigger1\u0026#34;) .startNow() .withSchedule(SimpleScheduleBuilder.simpleSchedule().withIntervalInSeconds(1).repeatForever()) .build(); try { Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler(); scheduler.scheduleJob(jobDetail,trigger); scheduler.start(); } catch (SchedulerException e) { throw new RuntimeException(e); } ; } }   1 2 3 4 5 6  public class MyJob implements Job { @Override public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException { System.out.println(\u0026#34;MyJob execute:\u0026#34; + new Date()); } }   é‡‹ä¾‹äºŒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  public class HelloJob { public static void main(String[] args) { try { Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler(); scheduler.start(); JobDetail jobDetail = JobBuilder.newJob(SayHello.class) .withIdentity(\u0026#34;job1\u0026#34;, \u0026#34;group1\u0026#34;) //Job1æ˜¯åå­—ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼Œgroup1æ˜¯é€™å€‹Jobå±¬æ–¼å“ªä¸€çµ„ï¼ŒåŒä¸€çµ„çš„Jobå¯ä»¥å…±äº«ç›¸åŒçš„é‚è¼¯ä¾†è™•ç†Jobã€‚éœ€è¦nameèˆ‡Jobæ‰å¯ä»¥çµ„æˆä¸€å€‹JobKey  .usingJobData(\u0026#34;username\u0026#34;, \u0026#34;Hoxton\u0026#34;) .usingJobData(\u0026#34;age\u0026#34;, \u0026#34;20\u0026#34;) .withDescription(\u0026#34;desc-demo\u0026#34;) .build(); SimpleTrigger trigger = TriggerBuilder.newTrigger() .withIdentity(\u0026#34;trigger1\u0026#34;, \u0026#34;group1\u0026#34;) .startNow() .withSchedule(SimpleScheduleBuilder.simpleSchedule().withIntervalInSeconds(1).repeatForever()) .build(); scheduler.scheduleJob(jobDetail,trigger); scheduler.start(); // scheduler.shutdown();  } catch (SchedulerException e) { throw new RuntimeException(e); } } }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  @Slf4j @NoArgsConstructor public class SayHello implements Job { @Override public void execute(JobExecutionContext context) throws JobExecutionException { JobDetail jobDetail = context.getJobDetail();//å¾contextä¸­ç²å–å±¬æ€§  JobKey key = jobDetail.getKey(); Class\u0026lt;? extends Job\u0026gt; jobClass = jobDetail.getJobClass(); String description = jobDetail.getDescription(); JobDataMap jobDataMap = jobDetail.getJobDataMap(); String username = jobDataMap.getString(\u0026#34;username\u0026#34;); int age = jobDataMap.getIntValue(\u0026#34;age\u0026#34;); log.info(\u0026#34;\\nJobKey : {},\\n JobClass : {},\\n JobDesc : {},\\n username : {},\\n age : {}\u0026#34;, key, jobClass.getName(), description, username, age); } }   Scheduler ç”Ÿå‘½é€±æœŸç”±ScheduleFactoryå»ºç«‹é–‹å§‹ï¼Œå‘¼å«shutdownæ–¹æ³•çµæŸã€‚\nç•¶Schdulerå»ºç«‹ï¼Œä»»ä½•é—œæ–¼Schdulingç›¸é—œçš„äº‹æƒ…ï¼Œéƒ½ç”±å®ƒæ§åˆ¶\n æ–°å¢ åˆªé™¤ åˆ—å‡ºæ‰€æœ‰Job æš«åœè§¸ç™¼å™¨  åœ¨Startä¹‹å‰ä¸æœƒåšä»»ä½•äº‹æƒ…\nJob ä½ å¸Œæœ›è¢«æ’ç¨‹å™¨æ’ç¨‹çš„ä»»å‹™å…ƒä»¶ä»‹é¢ï¼Œå®šç¾©å¦‚ä½•åŸ·è¡Œï¼Œæ˜¯æ­£åœ¨åŸ·è¡Œçš„ä½œæ¥­ä¾‹é …ï¼Œä¸€å€‹Jobå¯ä»¥å»ºç«‹å¤šå€‹JobDetailï¼Œæ“æœ‰ä¸åŒçš„JobDataMapã€‚æœ¬èº«implementäº†Jobé¡\n1 2 3  graph TD; Job ---\u0026gt; JodDetail1 \u0026amp; JodDetail2 \u0026amp; JodDetail3 \u0026amp; JodDetail...   1 2 3 4 5 6  public class SendEmail implements Job { @Override public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException { System.out.println(\u0026#34;SendEmail\u0026#34;); } }    ç•¶Jobçš„è§¸ç™¼å™¨è§¸ç™¼æ™‚ï¼Œæ’ç¨‹ç¨‹å¼çš„å·¥ä½œåŸ·è¡Œå°‡å‘¼å«excute()æ–¹æ³• è©²æ–¹æ³•æ¥æ”¶ä¸€å€‹JobExcutionContextç‰©ä»¶ï¼Œç‚ºJobæä¾›äº†è±å¯Œçš„åŸ·è¡Œæ™‚ç’°å¢ƒï¼Œæ¯”å¦‚schduler,trigger,jobDataMap,job,calender,time   ä½•è¬‚Context(ä¸Šä¸‹æ–‡)\nå¯ä»¥ç†è§£ç‚ºç’°å¢ƒã€å®¹å™¨çš„æ„æ€æœƒæ¯”ä¸Šä¸‹æ–‡æ›´å…·é«”ä¸€é»ï¼Œå®ƒæä¾›äº†ä¸€å€‹ç¨‹å¼ä¸­å…¨åŸŸæ€§çš„è³‡è¨Šã€‚\n JobDetail ç”¨æ–¼å®šç¾©Jobçš„å„ç¨®å±¬æ€§ã€å„ç¨®ä»»å‹™ï¼Œé‚„å¯ä»¥ç”¨ä¾†ç‚ºJobå„²å­˜ç‹€æ…‹è³‡è¨Šçš„JobDataMapï¼Œæ˜¯å°‡JobåŠ å…¥scheduleræ™‚ï¼Œæ‰€éœ€è¦å‰µå»ºçš„ä¸€å€‹ç‰©ä»¶ï¼Œå®ƒåŒ…å«äº†å„ç¨®å±¬æ€§è¨­ç½®ï¼Œä»¥åŠç”¨æ–¼å­˜å–jobå¯¦ä¾‹ç‹€æ…‹è¨Šæ¯çš„JobDataMapï¼Œåœ¨å‰µå»ºJobDetailæ™‚ï¼Œéœ€è¦å°‡æ¬²åŸ·è¡Œçš„é¡åå‚³éçµ¦JobDetailï¼Œé€™æ¨£scheduleå°±çŸ¥é“è¦åŸ·è¡Œä½•ç¨®é¡å‹çš„jobã€‚\n1  JobDetail jobDetail=JobBulider.newJob(Job.class).bulid();   JobDataMap å¯¦ä½œMapä»‹é¢ï¼Œå› æ­¤å…·æœ‰Key-Valueï¼Œå„²å­˜å¯åºåˆ—åŒ–è³‡æ–™ï¼Œä¾›Jobåœ¨åŸ·è¡Œæ™‚ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨usingJobData(key,value)åœ¨å»ºæ§‹JobDetailçš„æ™‚å€™å‚³å…¥è³‡æ–™ï¼Œä½¿ç”¨JobDetail.getDataMap()ç²å–Mapã€‚å¯ä»¥å†é€éjobDataMapå–å‡ºè£¡é¢çš„æ•¸æ“š\n1 2 3 4 5  JobDetail job = JobBuilder.newJob(HelloJob.class) .withIdentity(\u0026#34;helloJob\u0026#34;, \u0026#34;hello\u0026#34;)//çµ¦jobå‘½åä¸¦åˆ†çµ„  .usingJobData(\u0026#34;jobdd\u0026#34;, \u0026#34;hello job\u0026#34;)//é€šéJobBuilderçš„usingJobDataæ–¹æ³•çµ¦JobDataMapä¸­å¡å…¥æ•¸æ“š  .build();   1 2 3 4 5 6 7 8 9 10  public class HelloJob implements Job { @Override public void execute(JobExecutionContext context) throws JobExecutionException { System.err.println(context.getJobDetail().getKey());// JobDetailçš„keyåˆä»–çš„nameå’Œgroupçµ„æˆ \tSystem.err.println(context.getTrigger().getKey());// Triggerçš„keyåˆä»–çš„nameå’Œgroupçµ„æˆ \tSystem.err.println(context.getJobDetail().getJobDataMap().get(\u0026#34;jobdd\u0026#34;)); System.err.println(\u0026#34;hello,quartz\u0026#34;); } }   æœƒè¼¸å‡º\n`hello.helloJob\nhello.helloTrigger\nhello job\nhello, quartz\nTrigger è§¸ç™¼ä»»å‹™åŸ·è¡Œï¼Œè§¸ç™¼å™¨å¯èƒ½å…·æœ‰èˆ‡Jobæœ‰é—œçš„JobDataMapï¼Œä»¥ä¾¿å°‡è§¸ç™¼å™¨è§¸ç™¼çš„å¼•æ•¸å‚³éçµ¦Jobï¼ŒQuartzæœ¬èº«æä¾›äº†å¹¾ç¨®è§¸ç™¼å™¨SimpleTriggerå’ŒCronTriggeræ˜¯æœ€å¸¸ç”¨åˆ°çš„ã€‚\nSimpleTriger ç”¨æ–¼ä¸€æ¬¡æ€§åŸ·è¡Œä½œæ¥­æˆ–éœ€è¦åœ¨çµ¦å®šçš„æ™‚é–“è§¸ç™¼ä¸€å€‹ä½œæ¥­ä¸¦é‡è¤‡åŸ·è¡ŒNæ¬¡ï¼Œä¸”å…©æ¬¡åŸ·è¡Œæ™‚é–“æœ‰Delayã€‚ç”¨åœ¨å…·é«”çš„æ™‚é–“é»ï¼Œä¸¦å·²æŒ‡å®šçš„é–“éš”æ™‚é–“é‡è¤‡åŸ·è¡Œè‹¥å¹²æ¬¡ï¼Œå®ƒåŒ…å«äº†å¹¾ç¨®å±¬æ€§ï¼š\n é–‹å§‹æ™‚é–“ çµæŸæ™‚é–“ é‡è¤‡æ¬¡æ•¸ é‡è¤‡é–“éš”  é‡‹ä¾‹ä¸€ï¼šç«‹åˆ»è§¸ç™¼ä¸€æ¬¡ï¼Œç„¶å¾Œåœæ­¢\n1 2 3 4 5  Date date = new Date(); Trigger trigger1 = TriggerBuilder.newTrigger() .withIdentity(\u0026#34;trigger1\u0026#34;, \u0026#34;group1\u0026#34;) .startAt(date) .build();   é‡‹ä¾‹äºŒï¼šæŒ‡å®šæ™‚é–“è§¸ç™¼ï¼Œæ¯éš”åç§’åŸ·è¡Œä¸€æ¬¡ï¼Œé‡è¤‡10æ¬¡\n1 2 3 4 5 6 7 8  trigger = newTrigger() .withIdentity(\u0026#34;trigger3\u0026#34;, \u0026#34;group1\u0026#34;) .startAt(myTimeToStartFiring) // if a start time is not given (if this line were omitted), \u0026#34;now\u0026#34; is implied  .withSchedule(simpleSchedule() .withIntervalInSeconds(10) .withRepeatCount(10)) // note that 10 repeats will give a total of 11 firings  .forJob(myJob) // identify job with handle to its JobDetail itself  .build();   é‡‹ä¾‹ä¸‰ï¼š5åˆ†é˜ä»¥å¾Œé–‹å§‹è§¸ç™¼ï¼Œåƒ…åŸ·è¡Œä¸€æ¬¡\n1 2 3 4 5  trigger = (SimpleTrigger) newTrigger() .withIdentity(\u0026#34;trigger5\u0026#34;, \u0026#34;group1\u0026#34;) .startAt(futureDate(5, IntervalUnit.MINUTE)) // use DateBuilder to create a date in the future  .forJob(myJobKey) // identify job with its JobKey  .build();   é‡‹ä¾‹å››ï¼šç«‹å³è§¸ç™¼ï¼Œæ¯å€‹5åˆ†é˜åŸ·è¡Œä¸€æ¬¡ï¼Œç›´åˆ°22:00ï¼š\n1 2 3 4 5 6 7  trigger = newTrigger() .withIdentity(\u0026#34;trigger7\u0026#34;, \u0026#34;group1\u0026#34;) .withSchedule(simpleSchedule() .withIntervalInMinutes(5) .repeatForever()) .endAt(dateOf(22, 0, 0)) .build();   é‡‹ä¾‹äº”ï¼šåœ¨ä¸‹ä¸€å°æ™‚æ•´é»è§¸ç™¼ï¼Œæ¯å€‹2å°æ™‚åŸ·è¡Œä¸€æ¬¡ï¼Œä¸€ç›´é‡è¤‡ï¼š\n1 2 3 4 5 6 7 8 9 10 11  trigger = newTrigger() .withIdentity(\u0026#34;trigger8\u0026#34;) // because group is not specified, \u0026#34;trigger8\u0026#34; will be in the default group  .startAt(evenHourDate(null)) // get the next even-hour (minutes and seconds zero (\u0026#34;00:00\u0026#34;))  .withSchedule(simpleSchedule() .withIntervalInHours(2) .repeatForever()) // note that in this example, \u0026#39;forJob(..)\u0026#39; is not called which is valid  // if the trigger is passed to the scheduler along with the job  .build(); scheduler.scheduleJob(trigger, job);   CronTrigger å¸Œæœ›ä»¥æ—¥æœŸä½œç‚ºè§¸ç™¼ä»»å‹™çš„æ¿æ©Ÿï¼Œå°±ç”¨CronTrigerï¼Œå¯¦å‹™ä¸Šæ¯”è¼ƒå¸¸ç”¨é€™å€‹\n1 2 3 4  CronTrigger trigger2 = TriggerBuilder.newTrigger() .withIdentity(\u0026#34;trigger3\u0026#34;, \u0026#34;group1\u0026#34;) .withSchedule(CronScheduleBuilder.cronSchedule(\u0026#34;0/2 * * * * ?\u0026#34;)) .build();   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  package com.how2java; import static org.quartz.CronScheduleBuilder.cronSchedule; import static org.quartz.JobBuilder.newJob; import static org.quartz.TriggerBuilder.newTrigger; import static org.quartz.SimpleScheduleBuilder.simpleSchedule; import java.util.Date; import org.quartz.CronTrigger; import org.quartz.DateBuilder; import org.quartz.JobDetail; import org.quartz.Scheduler; import org.quartz.SimpleTrigger; import org.quartz.impl.StdSchedulerFactory; public class TestQuartz { public static void main(String[] args) throws Exception{ Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler(); Date startTime = DateBuilder.nextGivenSecondDate(null, 8); JobDetail job = newJob(MailJob.class).withIdentity(\u0026#34;mailJob\u0026#34;, \u0026#34;mailGroup\u0026#34;).build(); CronTrigger trigger = newTrigger().withIdentity(\u0026#34;trigger1\u0026#34;, \u0026#34;group1\u0026#34;).withSchedule(cronSchedule(\u0026#34;0/2 * * * * ?\u0026#34;)) .build(); // schedule it to run!  Date ft = scheduler.scheduleJob(job, trigger); System.out.println(\u0026#34;ä½¿ç”¨çš„Cronè¡¨è¾¾å¼æ˜¯ï¼š\u0026#34;+trigger.getCronExpression()); // System.out.printf(\u0026#34;%s è¿™ä¸ªä»»åŠ¡ä¼šåœ¨ %s å‡†æ—¶å¼€å§‹è¿è¡Œï¼Œç´¯è®¡è¿è¡Œ%dæ¬¡ï¼Œé—´éš”æ—¶é—´æ˜¯%dæ¯«ç§’%n\u0026#34;, job.getKey(), ft.toLocaleString(), trigger.getRepeatCount()+1, trigger.getRepeatInterval());  scheduler.start(); //ç­‰å¾…200ç§’ï¼Œè®©å‰é¢çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œäº†ä¹‹åï¼Œå†å…³é—­è°ƒåº¦å™¨  Thread.sleep(200000); scheduler.shutdown(true); } }   JobBulider ç”¨ä¾†å»ºç«‹JobDetail\n1 2 3 4 5 6 7 8  JobDetail jobDetail = JobBuilder.newJob(æŸå€‹ç¹¼æ‰¿äº†Jobçš„é¡)... JobDetail jobDetail = JobBuilder.newJob(SayHello.class) .withIdentity(\u0026#34;job1\u0026#34;, \u0026#34;group1\u0026#34;) .usingJobData(\u0026#34;username\u0026#34;, \u0026#34;Hoxton\u0026#34;) .usingJobData(\u0026#34;age\u0026#34;, \u0026#34;20\u0026#34;) .withDescription(\u0026#34;desc-demo\u0026#34;) .build();   TriggerBulider\nç”¨æ–¼å»ºç«‹Trigger\nIdentity ç•¶Jobå’ŒTrggeråœ¨Quartzæ’ç¨‹ç¨‹å¼ä¸­è¨»å†Šæ™‚ï¼Œæœƒç²å¾—æ¨™ç¤ºéµï¼ŒJobKeyå’ŒTriggerKeyç½®å…¥groupä¸­ï¼Œæ˜“æ–¼çµ„ç¹”ç®¡ç†ï¼Œå…¶ä¸­nameèˆ‡groupå¿…é ˆå”¯ä¸€\nç‚ºä½•è¦å°‡Jobå’ŒTriggeråˆ†é–‹ä¾†?  While developing Quartz, we decided that it made sense to create a separation between the schedule and the work to be performed on that schedule. This has (in our opinion) many benefits.\nFor example, Jobs can be created and stored in the job scheduler independent of a trigger, and many triggers can be associated with the same job. Another benefit of this loose-coupling is the ability to configure jobs that remain in the scheduler after their associated triggers have expired, so that that it can be rescheduled later, without having to re-define it. It also allows you to modify or replace a trigger without having to re-define its associated job.\n Jobèˆ‡JobDetailçš„ä¸€äº›èªªæ˜  Jobæ˜¯æ­£åœ¨åŸ·è¡Œçš„ä½œæ¥­ï¼ŒJobDetailå‰‡æ˜¯ä½œæ¥­çš„å®šç¾© ä¸€å€‹Jobå¯ä»¥å‰µå»ºå¤šå€‹JobDetailï¼Œæ“æœ‰ä¸åŒçš„JobDataMap  èˆ‰ä¾‹ä¾†èªªï¼Œä»Šå¤©å¯«äº†ä¸€å€‹å®šæ™‚å¯„é€ä¿¡ä»¶çš„Jobï¼Œå«åšSendEmailJobï¼Œæˆ‘å€‘å¸Œæœ›é€™å€‹Jobå¯ä»¥å¯„çµ¦å®¢æˆ¶ï¼Œç„¶å¾Œåœ¨ccçµ¦ä½ çš„ä¸»ç®¡ï¼Œæ‰€ä»¥éœ€è¦å‰µå»ºå…©å€‹ä¸åŒçš„JobDetailï¼Œæ¯”å¦‚èªªSendEmailToClientã€SendEmailToAdministorï¼Œä¸¦é€éJobDataMapç¶å®šåƒæ•¸å‚³éè‡³JobDetailä¸­ï¼Œé€™å…©å€‹JobDetailæ“æœ‰å„è‡ªç¨ç«‹çš„JobDataMapï¼Œå¯¦ç¾èµ·ä¾†æœƒæ›´éˆæ´»ã€‚\nåƒè€ƒ å®˜æ–¹æ–‡æª”\nä»»å‹™æ’ç¨‹æ¡†æ¶Quartzå¿«é€Ÿå…¥é–€\nQuartzæ•™å­¸åŸºç¤\nè§¸ç™¼å™¨è©³ç´°å®šç¾©\n","date":"2022-10-06T23:14:21+08:00","image":"https://i.imgur.com/9or5BzU.png","permalink":"https://hoxtoncraft.com/p/java%E5%85%A7%E7%9A%84%E6%8E%92%E7%A8%8B%E5%99%A8%E4%BB%8B%E7%B4%B9/","title":"Javaå…§çš„æ’ç¨‹å™¨ä»‹ç´¹"}]