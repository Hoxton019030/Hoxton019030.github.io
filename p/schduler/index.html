<!DOCTYPE html>
<html lang="zh" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='é—œæ–¼æ’ç¨‹å™¨çš„ä»‹ç´¹ '><title>Schduler</title>

<link rel='canonical' href='https://Hoxton019030.github.io/p/schduler/'>

<link rel="stylesheet" href="/scss/style.min.b0b89b0dd996a596c4f3b50239e7a6499c1a59da968562fa4649d097368cdb29.css"><meta property='og:title' content='Schduler'>
<meta property='og:description' content='é—œæ–¼æ’ç¨‹å™¨çš„ä»‹ç´¹ '>
<meta property='og:url' content='https://Hoxton019030.github.io/p/schduler/'>
<meta property='og:site_name' content='Hoxton'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='æ’ç¨‹å™¨' /><meta property='article:published_time' content='2022-10-06T23:14:21&#43;08:00'/><meta property='article:modified_time' content='2022-10-06T23:14:21&#43;08:00'/><meta property='og:image' content='https://i.imgur.com/9or5BzU.png' />
<meta name="twitter:title" content="Schduler">
<meta name="twitter:description" content="é—œæ–¼æ’ç¨‹å™¨çš„ä»‹ç´¹ "><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://i.imgur.com/9or5BzU.png' />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9N16MVLR0Q"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-9N16MVLR0Q', { 'anonymize_ip': false });
}
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "dark");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avator_hu6a42c31c76a673cb4138239719c1dd56_73650_300x0_resize_box_3.png" width="300"
                            height="301" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ®</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Hoxton</a></h1>
            <h2 class="site-description">ç”¨ä¾†è¨˜éŒ„ç¨‹å¼çš„ä¸€äº›ç­†è¨˜ï¼Œé‚„æœ‰ä¸€äº›æ—¥å¸¸ç‘£äº‹çš„ç´€éŒ„</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/Hoxton019030'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.instagram.com/hoxton_8a31/'
                        target="_blank"
                        title="Instagram"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-instagram" width="80" height="80" viewBox="0 0 24 24" stroke-width="1.5" stroke="#6f32be" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <rect x="4" y="4" width="16" height="16" rx="4" />
  <circle cx="12" cy="12" r="3" />
  <line x1="16.5" y1="7.5" x2="16.5" y2="7.501" />
</svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/schduler/">
                
                    <img src="https://i.imgur.com/9or5BzU.png" loading="lazy" alt="Featured image of post Schduler" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E7%A8%8B%E5%BC%8F/" >
                ç¨‹å¼
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/schduler/">Schduler</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            é—œæ–¼æ’ç¨‹å™¨çš„ä»‹ç´¹ 
        </h3>
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 06, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    7 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="springboot-scheduling">SpringBoot-Scheduling</h1>
<p>ç”¨ä¾†åšå®šæœŸä»»å‹™çš„æ±è¥¿ï¼Œæœ‰å…©ç¨®</p>
<ul>
<li>Spring scheduleï¼šåªé©åˆè™•ç†ç°¡å–®çš„è¨ˆç•«ä»»å‹™ï¼Œä¸èƒ½è™•ç†åˆ†æ•£å¼çš„ä»»å‹™ï¼Œç•¶ä»»å‹™å¤ªå¤šæ™‚ï¼Œå¯èƒ½å‡ºç¾é˜»å¡ã€å´©æ½°ã€å»¶é²å•Ÿå‹•ç­‰å•é¡Œ</li>
<li>Quartzï¼šæ›´å¼·å¤§çš„ä¸€å€‹æ’ç¨‹å™¨ï¼Œèƒ½å¤ é…ç½®ä¸Šç™¾ç”šè‡³ä¸Šåƒçš„äº‹å‹™ã€‚</li>
</ul>
<h1 id="spring-schedule">Spring Schedule</h1>
<h2 id="æ­¥é©Ÿ">æ­¥é©Ÿ</h2>
<ol>
<li>åœ¨å•Ÿå‹•é¡ä¸ŠåŠ ä¸Š@EnableScheduling</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@SpringBootApplication</span><span class="o">()</span>
</span></span><span class="line"><span class="cl"><span class="nd">@EnableScheduling</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Application</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">Application</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Scheduled</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Component</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Task</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Scheduled</span><span class="o">(</span><span class="n">fixedDelay</span> <span class="o">=</span> <span class="n">10</span> <span class="o">*</span> <span class="n">100</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printLocalTime</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://i.imgur.com/RJ1HtHT.png"
	
	
	
	loading="lazy"
	
		alt="image-20220914144530121"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="nd">@Scheduled</span><span class="o">(</span><span class="n">cron</span> <span class="o">=</span> <span class="s">&#34;1 * * * * ?&#34;</span><span class="o">,</span><span class="n">zone</span> <span class="o">=</span> <span class="s">&#34;Asia/Taipei&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printPer5second</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&#34;cron&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://i.imgur.com/AATFHO2.png"
	
	
	
	loading="lazy"
	
		alt="image-20220914145339544"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Scheduled</span><span class="o">(</span><span class="n">cron</span> <span class="o">=</span> <span class="s">&#34;0/1 * * * * ?&#34;</span><span class="o">,</span><span class="n">zone</span> <span class="o">=</span> <span class="s">&#34;Asia/Taipei&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">printPer5second</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&#34;cron&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://i.imgur.com/Kby8DZf.png"
	
	
	
	loading="lazy"
	
		alt="image-20220914145730980"
	
	
></p>
<h2 id="cronè¡¨é”å¼ä¸ƒå­è¡¨é”å¼">Cronè¡¨é”å¼(ä¸ƒå­è¡¨é”å¼)</h2>
<p><a class="link" href="https://cron.qqe2.com/"  target="_blank" rel="noopener"
    >è¡¨é”å¼ç”Ÿæˆå·¥å…·</a></p>
<p>Cronèªæºä¾†è‡ªChronosï¼Œæ˜¯å¸Œè‡˜ç¥è©±ä¸­æŒç®¡æ™‚é–“çš„ç¥æŸ¯ç¾…è«¾æ–¯(Chronos)ã€‚</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ç§’</th>
<th>åˆ†</th>
<th>æ™‚</th>
<th>æ—¥</th>
<th>æœˆ</th>
<th>å‘¨</th>
<th>å¹´(å¯é¸)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>?</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<ul>
<li>ç§’ï¼š0-59</li>
<li>åˆ†ï¼š0-59</li>
<li>æ™‚ ï¼š0-23</li>
<li>æ—¥ï¼š1-31</li>
<li>æœˆï¼š0-11æˆ–&quot;JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC&quot;</li>
<li>å‘¨ï¼š1-7æˆ–SUN, MON, TUE, WED, THU, FRI,SAT</li>
<li>å¹´</li>
</ul>
<p>æƒ³åƒä¸€å€‹æ™‚é˜&hellip;</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ç•¶æ¯æ¬¡ç§’é‡æŒ‡å‘ä¸€ç§’æ™‚</th>
<th>1 * * * * ?</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç•¶æ¯æ¬¡æ™‚é‡æŒ‡å‘12æ™‚</td>
<td>* * 12 * * ?</td>
</tr>
<tr>
<td>æ¯å€‹æœˆ 1 è™Ÿä¸­åˆ 12 é»</td>
<td>0 0 12 1 * ?</td>
</tr>
<tr>
<td>1 æœˆæ¯å¤©ä¸­åˆ 12 é»ï¼Œæ¯ 5 ç§’</td>
<td>0/5 0 12 * 1 ?</td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">å­—å…ƒ</th>
<th style="text-align:left">æ„ç¾©</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>*</code></td>
<td style="text-align:left">è¡¨é”ä»»æ„å€¼ï¼Œæ‰€æœ‰å€¼éƒ½å¯ä»¥åŒ¹é…</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">åªç”¨åœ¨ <code>æ—¥</code> è·Ÿ <code>å‘¨</code> çš„å€¼åŸŸï¼Œæœ‰é»è¡¨é” donâ€™t care çš„æ¦‚å¿µï¼Œç„¡æ‰€è¬‚ï¼Œä¸é—œå¿ƒåˆ°åº•æ˜¯ä»€éº¼å€¼</td>
</tr>
<tr>
<td style="text-align:left"><code>-</code></td>
<td style="text-align:left">æŒ‡å®šç¯„åœï¼Œå‰å¾Œæ¥æ•¸å­—: 10-12</td>
</tr>
<tr>
<td style="text-align:left"><code>,</code></td>
<td style="text-align:left">æŒ‡å®šé›¢æ•£çš„é¸é …: 1,5,6,8ï¼Œæˆ–è€…çš„æ¦‚å¿µ</td>
</tr>
<tr>
<td style="text-align:left"><code>/</code></td>
<td style="text-align:left">æŒ‡å®šå¢é‡ï¼Œè¡¨é” <code>æ¯</code> çš„æ¦‚å¿µ: 0/5 æ„æ—¨å¾ 0 é–‹å§‹æ¯ 5 å–®ä½</td>
</tr>
<tr>
<td style="text-align:left"><code>L</code></td>
<td style="text-align:left">ç”¨åœ¨ <code>æœˆ</code> è·Ÿ <code>å‘¨</code> çš„å€¼åŸŸã€‚åœ¨æœˆçš„è©±è¡¨é”æœ€å¾Œä¸€å¤©ï¼Œåœ¨å‘¨çš„è©±å‰é¢å¯ä»¥åŠ ä¸Šæ•¸å­— 3L è¡¨ç¤ºè©²æœˆæœ€å¾Œä¸€å€‹æ˜ŸæœŸäºŒ</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">ç”¨åœ¨<code>æ—¥</code>çš„å€¼åŸŸè¡¨ç¤ºè·é›¢æœ€è¿‘çš„è©²æœˆå·¥ä½œæ—¥: 15Wï¼Œè·é›¢ 15 è™Ÿæœ€è¿‘çš„å·¥ä½œæ—¥ï¼Œå¯èƒ½å¾€å‰ä¹Ÿå¯èƒ½å¾€å¾Œ</td>
</tr>
<tr>
<td style="text-align:left"><code>LW</code></td>
<td style="text-align:left">ç”¨åœ¨<code>æ—¥</code>çš„å€¼åŸŸï¼Œè¡¨ç¤ºæœ€å¾Œä¸€å‘¨çš„å·¥ä½œæ—¥</td>
</tr>
<tr>
<td style="text-align:left"><code>#</code></td>
<td style="text-align:left">ç”¨åœ¨<code>å‘¨</code>çš„å€¼åŸŸï¼ŒæŒ‡å®šç‰¹å®šå‘¨çš„ç‰¹å®šæ—¥: â€œ4#2â€ è¡¨ç¤ºç¬¬äºŒå‘¨çš„æ˜ŸæœŸä¸‰</td>
</tr>
<tr>
<td style="text-align:left"><code>C</code></td>
<td style="text-align:left">ç”¨åœ¨<code>æ—¥</code>è·Ÿ<code>å‘¨</code>çš„å€¼åŸŸï¼ŒæŒ‡æŸç‰¹å®šå€‹æ—¥æœŸçš„å¾Œä¸€å¤©: åœ¨<code>æ—¥</code>ä¸­å¯« 3C æŒ‡è©²æœˆ 3 è™Ÿçš„å¾Œä¸€å¤©ï¼Œåœ¨<code>å‘¨</code>ä¸­å¯« 2C æŒ‡è©²å‘¨æ˜ŸæœŸä¸€çš„å¾Œä¸€å¤©</td>
</tr>
</tbody>
</table></div>
<h1 id="quartz">Quartz</h1>
<p><img src="https://i.imgur.com/C8FFRz9.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916143034403"
	
	
></p>
<p>æ˜¯ä¸€å€‹é–‹æºçš„ä»»å‹™æ’ç¨‹å™¨ï¼Œå¹¾ä¹å¯ä»¥æ•´åˆåˆ°ä»»ä½•Javaæ‡‰ç”¨ç¨‹å¼ä¸­ã€‚</p>
<p>å®ƒå¯ä»¥ç”¨ä¾†</p>
<ul>
<li>å®‰æ’æ¯å€‹æ™šä¸ŠæŠŠè³‡æ–™åº«å…§å®¹è½‰å­˜åˆ°æª”æ¡ˆ</li>
<li>æä¾›å®šæ™‚æé†’æœå‹™</li>
<li>æ—ç¹ä¸åŠå‚™è¼‰&hellip;</li>
</ul>
<h3 id="åº•å±¤æ•¸æ“šçµæ§‹--å †">åº•å±¤æ•¸æ“šçµæ§‹- å †</h3>
<h4 id="ä»‹ç´¹">ä»‹ç´¹</h4>
<p>å †æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„æ¨¹ï¼Œæ»¿è¶³ä¸‹é¢å…©å€‹æ¢ä»¶ï¼Œå°±æ˜¯ä¸€å€‹<strong>å †</strong></p>
<ol>
<li>å †æ˜¯ä¸€é¡†å®Œå…¨äºŒå…ƒæ¨¹<code>å®Œæ•´äºŒå…ƒæ¨¹ï¼šé™¤äº†æœ€å¾Œä¸€å±¤ä»¥å¤–ï¼Œå…¶ä»–å±¤çš„ç¯€é»æ•¸éœ€è¦é”åˆ°æœ€å¤§(1,2,4,8. ..)</code></li>
</ol>
<p><img src="https://i.imgur.com/GYIKgRe.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916103657827"
	
	
></p>
<ol start="2">
<li>æ¯å€‹ç¯€é»æ‰€å„²å­˜çš„å€¼ï¼Œå¿…é ˆè¦å¤§æ–¼<code>å°é ‚å †</code>æˆ–å°æ–¼<code>å¤§é ‚å †</code>çˆ¶ç¯€é»çš„å€¼</li>
</ol>
<p><img src="https://i.imgur.com/t5Aeict.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916104946559"
	
	
></p>
<blockquote>
<p>å°é ‚å †</p>
</blockquote>
<p>å®Œæ•´äºŒå…ƒæ¨¹çš„ä¸€äº›ç‰¹æ€§ï¼šå¿«é€Ÿå®šä½çˆ¶ç¯€é»</p>
<p><img src="https://i.imgur.com/F9btok2.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916105634080"
	
	
></p>
<p><strong>åœ¨æ’ç¨‹å™¨çš„æ¡†æ¶ä¸­ï¼Œæ¯ä¸€å€‹ç¯€é»å°±æ˜¯ä¸€å€‹Jobï¼Œè¶Šé »ç¹çš„Jobæœƒè¢«æ”¾ç½®åœ¨è¶Šä¸Šå±¤çš„ç¯€é»</strong></p>
<h4 id="å¦‚ä½•æ’å…¥å…ƒç´ ">å¦‚ä½•æ’å…¥å…ƒç´ </h4>
<p>å°¾æ’æ³•ï¼Œåœ¨å°¾éƒ¨æ’å…¥ä¸€å€‹æ–°çš„å…ƒç´ ï¼Œç„¶å¾Œä¸Šæµ®ï¼Œæµ®åˆ°ç¬¦åˆå®šç¾©</p>
<ol>
<li>é™¤äº†æœ€å¾Œä¸€å±¤ä»¥å¤–ï¼Œå…¶ä»–å±¤çš„ç¯€é»æ•¸éœ€è¦é”åˆ°æœ€å¤§(1,2,4,8. ..)ï¼Œä¸”æœ€å¾Œä¸€å±¤ç¯€é»éƒ½é å·¦æ’åˆ—</li>
<li>æ¯å€‹ç¯€é»æ‰€å„²å­˜çš„å€¼ï¼Œå¿…é ˆè¦å¤§æ–¼<code>å°é ‚å †</code>æˆ–å°æ–¼<code>å¤§é ‚å †</code>çˆ¶ç¯€é»çš„å€¼</li>
</ol>
<p><img src="https://i.imgur.com/kGnnrnf.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916110137933"
	
	
></p>
<p><img src="https://i.imgur.com/YjWGVYi.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916110150486"
	
	
></p>
<p><img src="https://i.imgur.com/pqhvAgT.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916110656733"
	
	
></p>
<h4 id="å¦‚ä½•åˆªé™¤å…ƒç´ ">å¦‚ä½•åˆªé™¤å…ƒç´ </h4>
<p>å°‡å°¾éƒ¨(æœ€å¾Œä¸€å€‹ç¯€é»)æ”¾ç½®åˆ°å †é ‚ï¼Œç„¶å¾Œä¸‹æ²‰</p>
<p><img src="https://i.imgur.com/vM6IFnf.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916111249806"
	
	
></p>
<p><img src="https://i.imgur.com/ltoSIL1.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916111306206"
	
	
></p>
<p><img src="https://i.imgur.com/spOXHoC.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916111330270"
	
	
></p>
<p><img src="https://i.imgur.com/giEhi6Y.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916111958376"
	
	
></p>
<h3 id="æ™‚é–“è¼ªç®—æ³•time-wheel">æ™‚é–“è¼ªç®—æ³•(Time Wheel)</h3>
<p><img src="https://i.imgur.com/FGlGv1M.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916114613849"
	
	
></p>
<p>å†åˆªé™¤å…ƒç´ çš„æ™‚å€™éƒ½éœ€è¦ä¸‹æ²‰ï¼Œç•¶ç¯€é»æ•¸å¾ˆå¤šæ™‚æœƒé€ æˆæ€§èƒ½å»¶å®•</p>
<p><img src="https://i.imgur.com/djp3Uq4.png"
	
	
	
	loading="lazy"
	
		alt="image-20220916113838923"
	
	
></p>
<h4 id="round-å‹çš„æ™‚é–“è¼ª">round å‹çš„æ™‚é–“è¼ª</h4>
<p>ä»»å‹™ä¸Šè¨˜éŒ„ä¸€å€‹roundï¼Œéæ­·åˆ°äº†å°±å°‡roundæ¸›ä¸€ï¼Œç‚º0æ™‚å–å‡ºä¾†åŸ·è¡Œ</p>
<h4 id="åˆ†å±¤æ™‚é–“è¼ª">åˆ†å±¤æ™‚é–“è¼ª</h4>
<p>Cronè¡¨é”å¼ä»¥åŠå…¶ä»–æ’ç¨‹å™¨æ‰€æ¡ç”¨çš„åº•å±¤æ¶æ§‹ï¼Œåˆ†æˆç§’è¼ªã€åˆ†è¼ªã€å°æ™‚è¼ªã€æ—¥è¼ªã€å‘¨è¼ªã€æœˆè¼ªã€å¹´è¼ª&hellip;ï¼Œæœˆè¼ªè¿­ä»£åˆ°äº†ï¼Œå°±å°‡ä»»å‹™å–å‡ºæ”¾åˆ°å¤©è¼ªä¸­åŸ·è¡Œ&hellip;ï¼Œä»¥æ­¤é¡æ¨</p>
<h2 id="cronè¡¨é”å¼ä¸ƒå­è¡¨é”å¼-1">Cronè¡¨é”å¼(ä¸ƒå­è¡¨é”å¼)</h2>
<p><a class="link" href="https://cron.qqe2.com/"  target="_blank" rel="noopener"
    >è¡¨é”å¼ç”Ÿæˆå·¥å…·</a></p>
<p>Cronèªæºä¾†è‡ªChronosï¼Œæ˜¯å¸Œè‡˜ç¥è©±ä¸­æŒç®¡æ™‚é–“çš„ç¥æŸ¯ç¾…è«¾æ–¯(Chronos)ã€‚</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ç§’</th>
<th>åˆ†</th>
<th>æ™‚</th>
<th>æ—¥</th>
<th>æœˆ</th>
<th>å‘¨</th>
<th>å¹´(å¯é¸)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>?</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<ul>
<li>ç§’ï¼š0-59</li>
<li>åˆ†ï¼š0-59</li>
<li>æ™‚ ï¼š0-23</li>
<li>æ—¥ï¼š1-31</li>
<li>æœˆï¼š0-11æˆ–&quot;JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC&quot;</li>
<li>å‘¨ï¼š1-7æˆ–SUN, MON, TUE, WED, THU, FRI,SAT</li>
<li>å¹´</li>
</ul>
<p>æƒ³åƒä¸€å€‹æ™‚é˜&hellip;</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ç•¶æ¯æ¬¡ç§’é‡æŒ‡å‘ä¸€ç§’æ™‚</th>
<th>1 * * * * ?</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç•¶æ¯æ¬¡æ™‚é‡æŒ‡å‘12æ™‚</td>
<td>* * 12 * * ?</td>
</tr>
<tr>
<td>æ¯å€‹æœˆ 1 è™Ÿä¸­åˆ 12 é»</td>
<td>0 0 12 1 * ?</td>
</tr>
<tr>
<td>1 æœˆæ¯å¤©ä¸­åˆ 12 é»ï¼Œæ¯ 5 ç§’</td>
<td>0/5 0 12 * 1 ?</td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">å­—å…ƒ</th>
<th style="text-align:left">æ„ç¾©</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>*</code></td>
<td style="text-align:left">è¡¨é”ä»»æ„å€¼ï¼Œæ‰€æœ‰å€¼éƒ½å¯ä»¥åŒ¹é…</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">åªç”¨åœ¨ <code>æ—¥</code> è·Ÿ <code>å‘¨</code> çš„å€¼åŸŸï¼Œæœ‰é»è¡¨é” donâ€™t care çš„æ¦‚å¿µï¼Œç„¡æ‰€è¬‚ï¼Œä¸é—œå¿ƒåˆ°åº•æ˜¯ä»€éº¼å€¼</td>
</tr>
<tr>
<td style="text-align:left"><code>-</code></td>
<td style="text-align:left">æŒ‡å®šç¯„åœï¼Œå‰å¾Œæ¥æ•¸å­—: 10-12</td>
</tr>
<tr>
<td style="text-align:left"><code>,</code></td>
<td style="text-align:left">æŒ‡å®šé›¢æ•£çš„é¸é …: 1,5,6,8ï¼Œæˆ–è€…çš„æ¦‚å¿µ</td>
</tr>
<tr>
<td style="text-align:left"><code>/</code></td>
<td style="text-align:left">æŒ‡å®šå¢é‡ï¼Œè¡¨é” <code>æ¯</code> çš„æ¦‚å¿µ: 0/5 æ„æ—¨å¾ 0 é–‹å§‹æ¯ 5 å–®ä½</td>
</tr>
<tr>
<td style="text-align:left"><code>L</code></td>
<td style="text-align:left">ç”¨åœ¨ <code>æœˆ</code> è·Ÿ <code>å‘¨</code> çš„å€¼åŸŸã€‚åœ¨æœˆçš„è©±è¡¨é”æœ€å¾Œä¸€å¤©ï¼Œåœ¨å‘¨çš„è©±å‰é¢å¯ä»¥åŠ ä¸Šæ•¸å­— 3L è¡¨ç¤ºè©²æœˆæœ€å¾Œä¸€å€‹æ˜ŸæœŸäºŒ</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">ç”¨åœ¨<code>æ—¥</code>çš„å€¼åŸŸè¡¨ç¤ºè·é›¢æœ€è¿‘çš„è©²æœˆå·¥ä½œæ—¥: 15Wï¼Œè·é›¢ 15 è™Ÿæœ€è¿‘çš„å·¥ä½œæ—¥ï¼Œå¯èƒ½å¾€å‰ä¹Ÿå¯èƒ½å¾€å¾Œ</td>
</tr>
<tr>
<td style="text-align:left"><code>LW</code></td>
<td style="text-align:left">ç”¨åœ¨<code>æ—¥</code>çš„å€¼åŸŸï¼Œè¡¨ç¤ºæœ€å¾Œä¸€å‘¨çš„å·¥ä½œæ—¥</td>
</tr>
<tr>
<td style="text-align:left"><code>#</code></td>
<td style="text-align:left">ç”¨åœ¨<code>å‘¨</code>çš„å€¼åŸŸï¼ŒæŒ‡å®šç‰¹å®šå‘¨çš„ç‰¹å®šæ—¥: â€œ4#2â€ è¡¨ç¤ºç¬¬äºŒå‘¨çš„æ˜ŸæœŸä¸‰</td>
</tr>
<tr>
<td style="text-align:left"><code>C</code></td>
<td style="text-align:left">ç”¨åœ¨<code>æ—¥</code>è·Ÿ<code>å‘¨</code>çš„å€¼åŸŸï¼ŒæŒ‡æŸç‰¹å®šå€‹æ—¥æœŸçš„å¾Œä¸€å¤©: åœ¨<code>æ—¥</code>ä¸­å¯« 3C æŒ‡è©²æœˆ 3 è™Ÿçš„å¾Œä¸€å¤©ï¼Œåœ¨<code>å‘¨</code>ä¸­å¯« 2C æŒ‡è©²å‘¨æ˜ŸæœŸä¸€çš„å¾Œä¸€å¤©</td>
</tr>
</tbody>
</table></div>
<p>â€‹</p>
<h2 id="é‡è¦apiåŠæ¦‚å¿µ">é‡è¦APIåŠæ¦‚å¿µ</h2>
<blockquote>
<p>è¨˜å¾—Jobé¡ä¸€å®šè¦æ˜¯<strong>public class</strong>ï¼Œä¸ç„¶Scheduleræœƒè®€ä¸åˆ°</p>
</blockquote>
<p>é‡‹ä¾‹ä¸€ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quartz</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">MyJob</span> <span class="n">myJob</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyJob</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="n">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">MyJob</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;job1&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Trigger</span> <span class="n">trigger</span> <span class="o">=</span> <span class="n">TriggerBuilder</span><span class="o">.</span><span class="na">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger1&#34;</span><span class="o">,</span> <span class="s">&#34;trigger1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">startNow</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">SimpleScheduleBuilder</span><span class="o">.</span><span class="na">simpleSchedule</span><span class="o">().</span><span class="na">withIntervalInSeconds</span><span class="o">(</span><span class="n">1</span><span class="o">).</span><span class="na">repeatForever</span><span class="o">())</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">try</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Scheduler</span> <span class="n">scheduler</span> <span class="o">=</span> <span class="n">StdSchedulerFactory</span><span class="o">.</span><span class="na">getDefaultScheduler</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">scheduleJob</span><span class="o">(</span><span class="n">jobDetail</span><span class="o">,</span><span class="n">trigger</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SchedulerException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyJob</span> <span class="kd">implements</span> <span class="n">Job</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="n">JobExecutionContext</span> <span class="n">jobExecutionContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JobExecutionException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;MyJob execute:&#34;</span> <span class="o">+</span> <span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‡‹ä¾‹äºŒ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloJob</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Scheduler</span> <span class="n">scheduler</span> <span class="o">=</span> <span class="n">StdSchedulerFactory</span><span class="o">.</span><span class="na">getDefaultScheduler</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="n">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">SayHello</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;job1&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>  <span class="c1">//Job1æ˜¯åå­—ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼Œgroup1æ˜¯é€™å€‹Jobå±¬æ–¼å“ªä¸€çµ„ï¼ŒåŒä¸€çµ„çš„Jobå¯ä»¥å…±äº«ç›¸åŒçš„é‚è¼¯ä¾†è™•ç†Jobã€‚éœ€è¦nameèˆ‡Jobæ‰å¯ä»¥çµ„æˆä¸€å€‹JobKey
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="o">.</span><span class="na">usingJobData</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">,</span> <span class="s">&#34;Hoxton&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">usingJobData</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="s">&#34;20&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">withDescription</span><span class="o">(</span><span class="s">&#34;desc-demo&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">SimpleTrigger</span> <span class="n">trigger</span> <span class="o">=</span> <span class="n">TriggerBuilder</span><span class="o">.</span><span class="na">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger1&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">startNow</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">SimpleScheduleBuilder</span><span class="o">.</span><span class="na">simpleSchedule</span><span class="o">().</span><span class="na">withIntervalInSeconds</span><span class="o">(</span><span class="n">1</span><span class="o">).</span><span class="na">repeatForever</span><span class="o">())</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">scheduleJob</span><span class="o">(</span><span class="n">jobDetail</span><span class="o">,</span><span class="n">trigger</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//            scheduler.shutdown();
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SchedulerException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Slf4j</span>
</span></span><span class="line"><span class="cl"><span class="nd">@NoArgsConstructor</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SayHello</span> <span class="kd">implements</span> <span class="n">Job</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="n">JobExecutionContext</span> <span class="n">context</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JobExecutionException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getJobDetail</span><span class="o">();</span><span class="c1">//å¾contextä¸­ç²å–å±¬æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">JobKey</span> <span class="n">key</span> <span class="o">=</span> <span class="n">jobDetail</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">Class</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Job</span><span class="o">&gt;</span> <span class="n">jobClass</span> <span class="o">=</span> <span class="n">jobDetail</span><span class="o">.</span><span class="na">getJobClass</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">String</span> <span class="n">description</span> <span class="o">=</span> <span class="n">jobDetail</span><span class="o">.</span><span class="na">getDescription</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">JobDataMap</span> <span class="n">jobDataMap</span> <span class="o">=</span> <span class="n">jobDetail</span><span class="o">.</span><span class="na">getJobDataMap</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">jobDataMap</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">jobDataMap</span><span class="o">.</span><span class="na">getIntValue</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&#34;\nJobKey : {},\n JobClass : {},\n JobDesc : {},\n username : {},\n age : {}&#34;</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">key</span><span class="o">,</span> <span class="n">jobClass</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="n">description</span><span class="o">,</span> <span class="n">username</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="scheduler">Scheduler</h3>
<p>ç”Ÿå‘½é€±æœŸç”±ScheduleFactoryå»ºç«‹é–‹å§‹ï¼Œå‘¼å«shutdownæ–¹æ³•çµæŸã€‚</p>
<p>ç•¶Schdulerå»ºç«‹ï¼Œä»»ä½•é—œæ–¼Schdulingç›¸é—œçš„äº‹æƒ…ï¼Œéƒ½ç”±å®ƒæ§åˆ¶</p>
<ul>
<li>æ–°å¢</li>
<li>åˆªé™¤</li>
<li>åˆ—å‡ºæ‰€æœ‰Job</li>
<li>æš«åœè§¸ç™¼å™¨</li>
</ul>
<p><strong>åœ¨Startä¹‹å‰ä¸æœƒåšä»»ä½•äº‹æƒ…</strong></p>
<h3 id="job">Job</h3>
<p>ä½ å¸Œæœ›è¢«æ’ç¨‹å™¨æ’ç¨‹çš„ä»»å‹™å…ƒä»¶ä»‹é¢ï¼Œå®šç¾©å¦‚ä½•åŸ·è¡Œï¼Œæ˜¯æ­£åœ¨åŸ·è¡Œçš„ä½œæ¥­ä¾‹é …ï¼Œä¸€å€‹Jobå¯ä»¥å»ºç«‹å¤šå€‹JobDetailï¼Œæ“æœ‰ä¸åŒçš„JobDataMapã€‚æœ¬èº«implementäº†Jobé¡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">graph TD;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Job ---&gt; JodDetail1 &amp; JodDetail2 &amp; JodDetail3 &amp; JodDetail...
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SendEmail</span> <span class="kd">implements</span> <span class="n">Job</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="n">JobExecutionContext</span> <span class="n">jobExecutionContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JobExecutionException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;SendEmail&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ç•¶Jobçš„è§¸ç™¼å™¨è§¸ç™¼æ™‚ï¼Œæ’ç¨‹ç¨‹å¼çš„å·¥ä½œåŸ·è¡Œå°‡å‘¼å«excute()æ–¹æ³•</li>
<li>è©²æ–¹æ³•æ¥æ”¶ä¸€å€‹<code>JobExcutionContext</code>ç‰©ä»¶ï¼Œç‚ºJobæä¾›äº†è±å¯Œçš„åŸ·è¡Œæ™‚ç’°å¢ƒï¼Œæ¯”å¦‚<code>schduler</code>,<code>trigger</code>,<code>jobDataMap</code>,<code>job</code>,<code>calender</code>,<code>time</code></li>
</ul>
<blockquote>
<p>ä½•è¬‚Context(ä¸Šä¸‹æ–‡)</p>
<p>å¯ä»¥ç†è§£ç‚ºç’°å¢ƒã€å®¹å™¨çš„æ„æ€æœƒæ¯”ä¸Šä¸‹æ–‡æ›´å…·é«”ä¸€é»ï¼Œå®ƒæä¾›äº†ä¸€å€‹ç¨‹å¼ä¸­å…¨åŸŸæ€§çš„è³‡è¨Šã€‚</p>
</blockquote>
<h3 id="jobdetail">JobDetail</h3>
<p>ç”¨æ–¼å®šç¾©Jobçš„å„ç¨®å±¬æ€§ã€å„ç¨®ä»»å‹™ï¼Œé‚„å¯ä»¥ç”¨ä¾†ç‚ºJobå„²å­˜ç‹€æ…‹è³‡è¨Šçš„JobDataMapï¼Œæ˜¯å°‡JobåŠ å…¥scheduleræ™‚ï¼Œæ‰€éœ€è¦å‰µå»ºçš„ä¸€å€‹ç‰©ä»¶ï¼Œå®ƒåŒ…å«äº†å„ç¨®å±¬æ€§è¨­ç½®ï¼Œä»¥åŠç”¨æ–¼å­˜å–jobå¯¦ä¾‹ç‹€æ…‹è¨Šæ¯çš„JobDataMapï¼Œåœ¨å‰µå»ºJobDetailæ™‚ï¼Œéœ€è¦å°‡æ¬²åŸ·è¡Œçš„é¡åå‚³éçµ¦JobDetailï¼Œé€™æ¨£scheduleå°±çŸ¥é“è¦åŸ·è¡Œä½•ç¨®é¡å‹çš„jobã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">JobDetail</span> <span class="n">jobDetail</span><span class="o">=</span><span class="n">JobBulider</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">Job</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">bulid</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jobdatamap">JobDataMap</h3>
<p>å¯¦ä½œMapä»‹é¢ï¼Œå› æ­¤å…·æœ‰Key-Valueï¼Œå„²å­˜å¯åºåˆ—åŒ–è³‡æ–™ï¼Œä¾›Jobåœ¨åŸ·è¡Œæ™‚ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨<code>usingJobData(key,value)</code>åœ¨å»ºæ§‹JobDetailçš„æ™‚å€™å‚³å…¥è³‡æ–™ï¼Œä½¿ç”¨JobDetail.getDataMap()ç²å–Mapã€‚å¯ä»¥å†é€éjobDataMapå–å‡ºè£¡é¢çš„æ•¸æ“š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"> <span class="n">JobDetail</span> <span class="n">job</span> <span class="o">=</span> <span class="n">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">HelloJob</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"> 		                  <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;helloJob&#34;</span><span class="o">,</span> <span class="s">&#34;hello&#34;</span><span class="o">)</span><span class="c1">//çµ¦jobå‘½åä¸¦åˆ†çµ„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> 		                  <span class="o">.</span><span class="na">usingJobData</span><span class="o">(</span><span class="s">&#34;jobdd&#34;</span><span class="o">,</span> <span class="s">&#34;hello job&#34;</span><span class="o">)</span><span class="c1">//é€šéJobBuilderçš„usingJobDataæ–¹æ³•çµ¦JobDataMapä¸­å¡å…¥æ•¸æ“š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> 		                  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloJob</span> <span class="kd">implements</span> <span class="n">Job</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="n">JobExecutionContext</span> <span class="n">context</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JobExecutionException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">getJobDetail</span><span class="o">().</span><span class="na">getKey</span><span class="o">());</span><span class="c1">// JobDetailçš„keyåˆä»–çš„nameå’Œgroupçµ„æˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">getTrigger</span><span class="o">().</span><span class="na">getKey</span><span class="o">());</span><span class="c1">// Triggerçš„keyåˆä»–çš„nameå’Œgroupçµ„æˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">getJobDetail</span><span class="o">().</span><span class="na">getJobDataMap</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;jobdd&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">		<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;hello,quartz&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœƒè¼¸å‡º</p>
<p>`hello.helloJob</p>
<p>hello.helloTrigger</p>
<p>hello job</p>
<p>hello, quartz</p>
<h3 id="trigger">Trigger</h3>
<p>è§¸ç™¼ä»»å‹™åŸ·è¡Œï¼Œè§¸ç™¼å™¨å¯èƒ½å…·æœ‰èˆ‡Jobæœ‰é—œçš„JobDataMapï¼Œä»¥ä¾¿å°‡è§¸ç™¼å™¨è§¸ç™¼çš„å¼•æ•¸å‚³éçµ¦Jobï¼ŒQuartzæœ¬èº«æä¾›äº†å¹¾ç¨®è§¸ç™¼å™¨<code>SimpleTrigger</code>å’Œ<code>CronTrigger</code>æ˜¯æœ€å¸¸ç”¨åˆ°çš„ã€‚</p>
<h4 id="simpletriger"><strong>SimpleTriger</strong></h4>
<p>ç”¨æ–¼ä¸€æ¬¡æ€§åŸ·è¡Œä½œæ¥­æˆ–éœ€è¦åœ¨çµ¦å®šçš„æ™‚é–“è§¸ç™¼ä¸€å€‹ä½œæ¥­ä¸¦é‡è¤‡åŸ·è¡ŒNæ¬¡ï¼Œä¸”å…©æ¬¡åŸ·è¡Œæ™‚é–“æœ‰Delayã€‚ç”¨åœ¨å…·é«”çš„æ™‚é–“é»ï¼Œä¸¦å·²æŒ‡å®šçš„é–“éš”æ™‚é–“é‡è¤‡åŸ·è¡Œè‹¥å¹²æ¬¡ï¼Œå®ƒåŒ…å«äº†å¹¾ç¨®å±¬æ€§ï¼š</p>
<ol>
<li>é–‹å§‹æ™‚é–“</li>
<li>çµæŸæ™‚é–“</li>
<li>é‡è¤‡æ¬¡æ•¸</li>
<li>é‡è¤‡é–“éš”</li>
</ol>
<p>é‡‹ä¾‹ä¸€ï¼šç«‹åˆ»è§¸ç™¼ä¸€æ¬¡ï¼Œç„¶å¾Œåœæ­¢</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">  <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">Trigger</span> <span class="n">trigger1</span> <span class="o">=</span> <span class="n">TriggerBuilder</span><span class="o">.</span><span class="na">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger1&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">startAt</span><span class="o">(</span><span class="n">date</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‡‹ä¾‹äºŒï¼šæŒ‡å®šæ™‚é–“è§¸ç™¼ï¼Œæ¯éš”åç§’åŸ·è¡Œä¸€æ¬¡ï¼Œé‡è¤‡10æ¬¡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"> <span class="n">trigger</span> <span class="o">=</span> <span class="n">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger3&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">startAt</span><span class="o">(</span><span class="n">myTimeToStartFiring</span><span class="o">)</span>  <span class="c1">// if a start time is not given (if this line were omitted), &#34;now&#34; is implied
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">simpleSchedule</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">withIntervalInSeconds</span><span class="o">(</span><span class="n">10</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">withRepeatCount</span><span class="o">(</span><span class="n">10</span><span class="o">))</span> <span class="c1">// note that 10 repeats will give a total of 11 firings
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">forJob</span><span class="o">(</span><span class="n">myJob</span><span class="o">)</span> <span class="c1">// identify job with handle to its JobDetail itself                   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‡‹ä¾‹ä¸‰ï¼š5åˆ†é˜ä»¥å¾Œé–‹å§‹è§¸ç™¼ï¼Œåƒ…åŸ·è¡Œä¸€æ¬¡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"> <span class="n">trigger</span> <span class="o">=</span> <span class="o">(</span><span class="n">SimpleTrigger</span><span class="o">)</span> <span class="n">newTrigger</span><span class="o">()</span> 
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger5&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">startAt</span><span class="o">(</span><span class="n">futureDate</span><span class="o">(</span><span class="n">5</span><span class="o">,</span> <span class="n">IntervalUnit</span><span class="o">.</span><span class="na">MINUTE</span><span class="o">))</span> <span class="c1">// use DateBuilder to create a date in the future
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">forJob</span><span class="o">(</span><span class="n">myJobKey</span><span class="o">)</span> <span class="c1">// identify job with its JobKey
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‡‹ä¾‹å››ï¼šç«‹å³è§¸ç™¼ï¼Œæ¯å€‹5åˆ†é˜åŸ·è¡Œä¸€æ¬¡ï¼Œç›´åˆ°22:00ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">trigger</span> <span class="o">=</span> <span class="n">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger7&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">simpleSchedule</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">withIntervalInMinutes</span><span class="o">(</span><span class="n">5</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">repeatForever</span><span class="o">())</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">endAt</span><span class="o">(</span><span class="n">dateOf</span><span class="o">(</span><span class="n">22</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">0</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‡‹ä¾‹äº”ï¼šåœ¨ä¸‹ä¸€å°æ™‚æ•´é»è§¸ç™¼ï¼Œæ¯å€‹2å°æ™‚åŸ·è¡Œä¸€æ¬¡ï¼Œä¸€ç›´é‡è¤‡ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">  <span class="n">trigger</span> <span class="o">=</span> <span class="n">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">        <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger8&#34;</span><span class="o">)</span> <span class="c1">// because group is not specified, &#34;trigger8&#34; will be in the default group
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">startAt</span><span class="o">(</span><span class="n">evenHourDate</span><span class="o">(</span><span class="kc">null</span><span class="o">))</span> <span class="c1">// get the next even-hour (minutes and seconds zero (&#34;00:00&#34;))
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">simpleSchedule</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">withIntervalInHours</span><span class="o">(</span><span class="n">2</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">repeatForever</span><span class="o">())</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// note that in this example, &#39;forJob(..)&#39; is not called which is valid 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// if the trigger is passed to the scheduler along with the job  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">scheduler</span><span class="o">.</span><span class="na">scheduleJob</span><span class="o">(</span><span class="n">trigger</span><span class="o">,</span> <span class="n">job</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="crontrigger"><strong>CronTrigger</strong></h4>
<p>å¸Œæœ›ä»¥æ—¥æœŸä½œç‚ºè§¸ç™¼ä»»å‹™çš„æ¿æ©Ÿï¼Œå°±ç”¨CronTrigerï¼Œ<strong>å¯¦å‹™ä¸Šæ¯”è¼ƒå¸¸ç”¨é€™å€‹</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="n">CronTrigger</span> <span class="n">trigger2</span> <span class="o">=</span> <span class="n">TriggerBuilder</span><span class="o">.</span><span class="na">newTrigger</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger3&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">CronScheduleBuilder</span><span class="o">.</span><span class="na">cronSchedule</span><span class="o">(</span><span class="s">&#34;0/2 * * * * ?&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.how2java</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl"><span class="kn">import static</span> <span class="nn">org.quartz.CronScheduleBuilder.cronSchedule</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import static</span> <span class="nn">org.quartz.JobBuilder.newJob</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import static</span> <span class="nn">org.quartz.TriggerBuilder.newTrigger</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import static</span> <span class="nn">org.quartz.SimpleScheduleBuilder.simpleSchedule</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.quartz.CronTrigger</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.quartz.DateBuilder</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.quartz.JobDetail</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.quartz.Scheduler</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.quartz.SimpleTrigger</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.quartz.impl.StdSchedulerFactory</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestQuartz</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Scheduler</span> <span class="n">scheduler</span> <span class="o">=</span> <span class="n">StdSchedulerFactory</span><span class="o">.</span><span class="na">getDefaultScheduler</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">            <span class="n">Date</span> <span class="n">startTime</span> <span class="o">=</span> <span class="n">DateBuilder</span><span class="o">.</span><span class="na">nextGivenSecondDate</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">8</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">            <span class="n">JobDetail</span> <span class="n">job</span> <span class="o">=</span> <span class="n">newJob</span><span class="o">(</span><span class="n">MailJob</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;mailJob&#34;</span><span class="o">,</span> <span class="s">&#34;mailGroup&#34;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">            <span class="n">CronTrigger</span> <span class="n">trigger</span> <span class="o">=</span> <span class="n">newTrigger</span><span class="o">().</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;trigger1&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">).</span><span class="na">withSchedule</span><span class="o">(</span><span class="n">cronSchedule</span><span class="o">(</span><span class="s">&#34;0/2 * * * * ?&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">            <span class="c1">// schedule it to run!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">Date</span> <span class="n">ft</span> <span class="o">=</span> <span class="n">scheduler</span><span class="o">.</span><span class="na">scheduleJob</span><span class="o">(</span><span class="n">job</span><span class="o">,</span> <span class="n">trigger</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">             
</span></span><span class="line"><span class="cl">            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;ä½¿ç”¨çš„Cronè¡¨è¾¾å¼æ˜¯ï¼š&#34;</span><span class="o">+</span><span class="n">trigger</span><span class="o">.</span><span class="na">getCronExpression</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="c1">//            System.out.printf(&#34;%s è¿™ä¸ªä»»åŠ¡ä¼šåœ¨ %s å‡†æ—¶å¼€å§‹è¿è¡Œï¼Œç´¯è®¡è¿è¡Œ%dæ¬¡ï¼Œé—´éš”æ—¶é—´æ˜¯%dæ¯«ç§’%n&#34;, job.getKey(), ft.toLocaleString(), trigger.getRepeatCount()+1, trigger.getRepeatInterval());
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">               
</span></span><span class="line"><span class="cl">            <span class="c1">//ç­‰å¾…200ç§’ï¼Œè®©å‰é¢çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œäº†ä¹‹åï¼Œå†å…³é—­è°ƒåº¦å™¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="n">200000</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">scheduler</span><span class="o">.</span><span class="na">shutdown</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jobbulider">JobBulider</h3>
<p>ç”¨ä¾†å»ºç«‹<a class="link" href="#JobDetail" >JobDetail</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"> <span class="n">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="n">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">æŸå€‹ç¹¼æ‰¿äº†Jobçš„é¡</span><span class="o">)...</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     <span class="n">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="n">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">SayHello</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">&#34;job1&#34;</span><span class="o">,</span> <span class="s">&#34;group1&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">usingJobData</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">,</span> <span class="s">&#34;Hoxton&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">usingJobData</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="s">&#34;20&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">withDescription</span><span class="o">(</span><span class="s">&#34;desc-demo&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>TriggerBulider</p>
<p>ç”¨æ–¼å»ºç«‹<a class="link" href="#Trigger" >Trigger</a></p>
<h3 id="identity">Identity</h3>
<p>ç•¶Jobå’ŒTrggeråœ¨Quartzæ’ç¨‹ç¨‹å¼ä¸­è¨»å†Šæ™‚ï¼Œæœƒç²å¾—æ¨™ç¤ºéµï¼Œ<code>JobKey</code>å’Œ<code>TriggerKey</code>ç½®å…¥groupä¸­ï¼Œæ˜“æ–¼çµ„ç¹”ç®¡ç†ï¼Œå…¶ä¸­nameèˆ‡groupå¿…é ˆ<strong>å”¯ä¸€</strong></p>
<h3 id="ç‚ºä½•è¦å°‡jobå’Œtriggeråˆ†é–‹ä¾†">ç‚ºä½•è¦å°‡Jobå’ŒTriggeråˆ†é–‹ä¾†?</h3>
<blockquote>
<p>While developing Quartz, we decided that it made sense to create a separation between the schedule and the work to be performed on that schedule. This has (in our opinion) many benefits.</p>
<p>For example, Jobs can be created and stored in the job scheduler independent of a trigger, and many triggers can be associated with the same job. Another benefit of this loose-coupling is the ability to configure jobs that remain in the scheduler after their associated triggers have expired, so that that it can be rescheduled later, without having to re-define it. It also allows you to modify or replace a trigger without having to re-define its associated job.</p>
</blockquote>
<h2 id="jobèˆ‡jobdetailçš„ä¸€äº›èªªæ˜">Jobèˆ‡JobDetailçš„ä¸€äº›èªªæ˜</h2>
<ul>
<li>Jobæ˜¯æ­£åœ¨åŸ·è¡Œçš„ä½œæ¥­ï¼ŒJobDetailå‰‡æ˜¯ä½œæ¥­çš„å®šç¾©</li>
<li>ä¸€å€‹Jobå¯ä»¥å‰µå»ºå¤šå€‹JobDetailï¼Œæ“æœ‰ä¸åŒçš„JobDataMap</li>
</ul>
<p>èˆ‰ä¾‹ä¾†èªªï¼Œä»Šå¤©å¯«äº†ä¸€å€‹å®šæ™‚å¯„é€ä¿¡ä»¶çš„Jobï¼Œå«åšSendEmailJobï¼Œæˆ‘å€‘å¸Œæœ›é€™å€‹Jobå¯ä»¥å¯„çµ¦å®¢æˆ¶ï¼Œç„¶å¾Œåœ¨ccçµ¦ä½ çš„ä¸»ç®¡ï¼Œæ‰€ä»¥éœ€è¦å‰µå»ºå…©å€‹ä¸åŒçš„JobDetailï¼Œæ¯”å¦‚èªªSendEmailToClientã€SendEmailToAdministorï¼Œä¸¦é€éJobDataMapç¶å®šåƒæ•¸å‚³éè‡³JobDetailä¸­ï¼Œé€™å…©å€‹JobDetailæ“æœ‰å„è‡ªç¨ç«‹çš„JobDataMapï¼Œå¯¦ç¾èµ·ä¾†æœƒæ›´éˆæ´»ã€‚</p>
<h1 id="åƒè€ƒ">åƒè€ƒ</h1>
<p><a class="link" href="http://www.quartz-scheduler.org/documentation/quartz-2.3.0/quick-start.html"  target="_blank" rel="noopener"
    >å®˜æ–¹æ–‡æª”</a></p>
<p><a class="link" href="https://iter01.com/575275.html"  target="_blank" rel="noopener"
    >ä»»å‹™æ’ç¨‹æ¡†æ¶Quartzå¿«é€Ÿå…¥é–€</a></p>
<p><a class="link" href="https://www.1ju.org/quartz/index"  target="_blank" rel="noopener"
    >Quartzæ•™å­¸åŸºç¤</a></p>
<p><a class="link" href="https://www.796t.com/content/1545519797.html"  target="_blank" rel="noopener"
    >è§¸ç™¼å™¨è©³ç´°å®šç¾©</a></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E6%8E%92%E7%A8%8B%E5%99%A8/">æ’ç¨‹å™¨</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <div id="gitalk-container"></div>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"
/>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: "bf152013e92e48c1495f",
        clientSecret: "bed32f8438cb1e00d8628d9b6d148003bb4bf25d",
        repo: "comment",
        owner: "Hoxton019030",
        admin: ["Hoxton019030"],
        distractionFreeMode: false, 
        id: md5(location.pathname), 
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>



    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 Hoxton
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.14.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#æ­¥é©Ÿ">æ­¥é©Ÿ</a></li>
    <li><a href="#cronè¡¨é”å¼ä¸ƒå­è¡¨é”å¼">Cronè¡¨é”å¼(ä¸ƒå­è¡¨é”å¼)</a></li>
  </ol>

  <ol>
    <li>
      <ol>
        <li><a href="#åº•å±¤æ•¸æ“šçµæ§‹--å †">åº•å±¤æ•¸æ“šçµæ§‹- å †</a>
          <ol>
            <li><a href="#ä»‹ç´¹">ä»‹ç´¹</a></li>
            <li><a href="#å¦‚ä½•æ’å…¥å…ƒç´ ">å¦‚ä½•æ’å…¥å…ƒç´ </a></li>
            <li><a href="#å¦‚ä½•åˆªé™¤å…ƒç´ ">å¦‚ä½•åˆªé™¤å…ƒç´ </a></li>
          </ol>
        </li>
        <li><a href="#æ™‚é–“è¼ªç®—æ³•time-wheel">æ™‚é–“è¼ªç®—æ³•(Time Wheel)</a>
          <ol>
            <li><a href="#round-å‹çš„æ™‚é–“è¼ª">round å‹çš„æ™‚é–“è¼ª</a></li>
            <li><a href="#åˆ†å±¤æ™‚é–“è¼ª">åˆ†å±¤æ™‚é–“è¼ª</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#cronè¡¨é”å¼ä¸ƒå­è¡¨é”å¼-1">Cronè¡¨é”å¼(ä¸ƒå­è¡¨é”å¼)</a></li>
    <li><a href="#é‡è¦apiåŠæ¦‚å¿µ">é‡è¦APIåŠæ¦‚å¿µ</a>
      <ol>
        <li><a href="#scheduler">Scheduler</a></li>
        <li><a href="#job">Job</a></li>
        <li><a href="#jobdetail">JobDetail</a></li>
        <li><a href="#jobdatamap">JobDataMap</a></li>
        <li><a href="#trigger">Trigger</a>
          <ol>
            <li><a href="#simpletriger"><strong>SimpleTriger</strong></a></li>
            <li><a href="#crontrigger"><strong>CronTrigger</strong></a></li>
          </ol>
        </li>
        <li><a href="#jobbulider">JobBulider</a></li>
        <li><a href="#identity">Identity</a></li>
        <li><a href="#ç‚ºä½•è¦å°‡jobå’Œtriggeråˆ†é–‹ä¾†">ç‚ºä½•è¦å°‡Jobå’ŒTriggeråˆ†é–‹ä¾†?</a></li>
      </ol>
    </li>
    <li><a href="#jobèˆ‡jobdetailçš„ä¸€äº›èªªæ˜">Jobèˆ‡JobDetailçš„ä¸€äº›èªªæ˜</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
